const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/73287a0b-enyn7xafqi9o6wft.js","assets/2340486e-n0khdanno9uzbccp.js","assets/1a7ebd5f-ihenykhpblfwilpu.js","assets/conversation-small-dnpfu486.css","assets/1bc04b52-fpt5v9z5ojct3gqr.js","assets/8b143a86-lf50n19swe2cw5w3.js","assets/61aaacec-lh4nacrn8ovjq4ex.js","assets/c4ec2cfc-oxipur3rr6slawv0.js","assets/b3eff28a-c3p9gu0t8pl2hzhw.js","assets/2ad2fb76-jftjyra769i02kmx.js","assets/bceae1cc-ceyf1wwees3sw7k3.js","assets/c982bafe-mh63y4ahpni3eifx.js","assets/c09d86e5-blvmd2dajnvlo9us.js","assets/6ffe46c3-fwh6b5py55uynt3e.js","assets/83a5e40a-ckfcmsepmeig5bqz.js","assets/a848d420-f7hvhcxlsvg8kfb8.js","assets/d7dabe88-d8jpeb93swb415oo.js","assets/0d45f5fd-lad8yx56mqsdspc9.js","assets/silk-hq-lutwos9z.css","assets/f4e264a1-iziopvi4k74gq70s.js","assets/604d4c3d-edk1z1un3e93kfkg.js","assets/7517017f-c0ls495fz2t1hbyy.js","assets/47ed0b35-ig7nq5gldsqwv2by.js","assets/2b4d81ac-hgcczs5nmix22daz.js","assets/1f6a562c-hpfivm77mvvpyn6n.js","assets/f5472ced-exfoemtrplgloywm.js","assets/84c3034a-jhamqw910kaeew40.js","assets/7b86a0e0-o9ulx1g662t1lbeq.js","assets/f5bc645b-cxx49dw9aagg86gv.js","assets/30e3807e-dqlxoh26ipb28lix.js","assets/80ab0d7a-jo7lhu3qht1mtmd5.js","assets/cad56d82-fp4fnd1qdk98lp18.js","assets/2fff009c-ofkk8jvxuk3u4l1y.js","assets/af10592d-cqddqqcqznd39vnh.js","assets/798c2cf5-cu8nfxo3kcnpmdre.js","assets/cc42a47b-gmm9aakzu23s914r.js","assets/d5b1e6b6-fu6z4f88eyvramv2.js","assets/1bc04b52-jbvp2k2yd8ul63oq.js","assets/1bc04b52-kjqi8i9f3vubqnfc.js","assets/1bc04b52-hu1bt0oauegdhua6.js","assets/1bc04b52-h1em0bjkpkjv8ykw.js","assets/1bc04b52-fhkffvy342us9wxq.js","assets/1bc04b52-k3wdhrv7c928nig1.js","assets/a5ed804e-lfc3cs1iyz4hch09.js","assets/ef31551c-dniedd1w1fn6v6az.js","assets/fe412fcc-frh84vi90vz35k18.js","assets/0fd78e4f-cac7muhma6x0r5uw.js","assets/eac2baa9-c76nsuozyll50a0n.js","assets/36f1c3de-lkr5xrvmpuvzf7qx.js","assets/9ed9a415-dm4br15ut09gdl61.js","assets/b81d67c1-g85xaexv7seu9n1r.js","assets/b9ebfa06-o5t8gt8380co00ia.js","assets/929b8f98-bi5zibmx55zmngs7.js","assets/28938d3c-ne58pdayq54airr8.js","assets/db62250d-eyec17b70eqxu45z.js","assets/089c718c-clpuzb1fnoaty06o.js","assets/84e8f385-egf9uxe7ipj6bm36.js","assets/4851d730-geaonsoqecx1g2or.js","assets/679fc303-kl7c6054usfnqmd4.js","assets/378f37b1-k97n0y6ba9c9h39c.js","assets/ed836a35-b0tuygth4wutqabp.js","assets/38b1cb71-fnjhlozqiksn04j6.js","assets/49a063ae-kj0u7p5h72awixyz.js","assets/5122872a-ja7fjggykjyt2byp.js","assets/e3552ca3-kr4so56yuka2qp6j.js","assets/c816d342-cejq7oiokeakldbz.js","assets/1bc04b52-xt98zj1xgahnmc03.js","assets/c8503b70-o7k06ddllfj07hvl.js","assets/f43ce1f0-jm4pjxw80zfrvlj8.js","assets/8799acd7-kxz8a74cj5qu3b6m.js","assets/14069429-obrilc69xjuz43sb.js","assets/45f779e8-hkoko0085bfkg67s.js","assets/ff93d687-pchiyhmze2fplye2.js","assets/7bf8f0d7-lokt72lp8yrsgfow.js","assets/feff6cd4-g709k4k1w9cn5o7i.js","assets/7b77c61b-ml1zx32lwn0k5p89.js","assets/65d684aa-l2xwpeqc5xma9diw.js","assets/83e88bf5-is2zruznwrup2dz1.js","assets/356eccf2-egaddlpjaklc8sb7.js","assets/5f98de63-kl42nz1ujdqed71w.js","assets/ca8ef9be-b3cf3jgf5o1gpckm.js","assets/7018830a-jdah8y3irh8hst4z.js","assets/5ced9fb2-gonyds8rmatp5mgp.js","assets/6fd89734-giv8iyxlbs1t0fd6.js","assets/e8eebcb1-glwrnqcopmoo6yxb.js","assets/ac5dd3e8-pe3gotr981ye4uf4.js","assets/1bc04b52-emja6bpoehwcct3m.js","assets/64d46afb-iej0cupg2dqkmejt.js","assets/c0e725d7-h370k1wse4qy92bx.js","assets/82244417-i494fep75hvc6l8y.js","assets/a7a937ee-ezqw2i11iedtzbra.js","assets/b7bb170e-mfdwg6jdtgip2o8h.js","assets/8563df09-bp4sqgu3bj8ktgnv.js","assets/b533a235-mu706o9ft0380zlh.js","assets/639f3965-nshd1ua0lf8zyqno.js","assets/a8d66c03-k0h3l2dnfg0grmil.js","assets/1d317354-eitz0ezto9eq23mt.js","assets/1bc04b52-h3moqxxwumotj8ui.js","assets/8a10ee4a-mtgblzjux6n4ilrb.js","assets/17eb3c01-bgiydv0ttxni6dav.js","assets/22724723-mq5oosbthk49i7b4.js","assets/b8bdca63-ifw0g2lzxd8qs946.js","assets/bab22af5-f15bqbexylbm7a3h.js","assets/c7cf66a1-gs7vgkhvy6d8dd2s.js","assets/a7c981c9-c3x8l1hx7zhmdpnj.js","assets/2478e8be-nzej33eon34w6jmn.js","assets/c50694f1-k0ucwkifl7pk6btu.js","assets/1bc04b52-e722cq7x70uf2ela.js","assets/1bc04b52-ejh0m4idynv2xgp8.js","assets/1bc04b52-gl5z8d62n822jb7m.js","assets/931fef96-npmemdt9t06w8yqy.js","assets/fb7431ec-eyfo169q82w7okmp.js","assets/52878ea3-ioe7kiws6mdf258w.js","assets/af9954cd-n34r7z6rdq0ldomr.js","assets/a78f4c52-cw7jzavtuf7x7wvs.js","assets/64696494-o6c5oajkrzkue30b.js","assets/16d1c905-dr9kvinvs53n9t17.js","assets/4b303e9e-j4t54vnx5tc5zz5q.js","assets/25de328f-jjnjhtdt1jkryrzu.js","assets/7bce51e5-d3urq6cpyoxry80a.js","assets/df4a2937-nsmatvmw5ipx6za1.js","assets/5eec0dc4-k9otd6tvpibl4qch.js","assets/5240f773-bxj24o5fpmgw64u8.js","assets/f92d18c6-le3glknggtlx4r29.js","assets/605b091d-ifqjdw7ydae262j8.js","assets/2461949a-mplwdwg1d2dt4uq2.js","assets/d9c77c9b-hqpuu9rx0iur5qte.js","assets/b288024a-g4xp6qpr02pwb25w.js","assets/b353a040-f7un0lfbptploan3.js","assets/c60851bc-kol2dtp32h6sskpp.js","assets/cb241c69-i821wmgnmew42dzc.js","assets/13566e24-o171otureokvu516.js","assets/dd464bfa-d2tlt8ni783lkgao.js"])))=>i.map(i=>d[i]);
var aM=Object.freeze,cM=Object.defineProperty,See=Object.defineProperties;var Tee=Object.getOwnPropertyDescriptors;var a_=Object.getOwnPropertySymbols;var lM=Object.prototype.hasOwnProperty,uM=Object.prototype.propertyIsEnumerable;var yC=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),dM=e=>{throw TypeError(e)};var SC=(e,t,n)=>t in e?cM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))lM.call(t,n)&&SC(e,n,t[n]);if(a_)for(var n of a_(t))uM.call(t,n)&&SC(e,n,t[n]);return e},P=(e,t)=>See(e,Tee(t));var B=(e,t)=>{var n={};for(var r in e)lM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&a_)for(var r of a_(e))t.indexOf(r)<0&&uM.call(e,r)&&(n[r]=e[r]);return n};var R=(e,t,n)=>SC(e,typeof t!="symbol"?t+"":t,n),TC=(e,t,n)=>t.has(e)||dM("Cannot "+n);var te=(e,t,n)=>(TC(e,t,"read from private field"),n?n.call(e):t.get(e)),Ct=(e,t,n)=>t.has(e)?dM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Lt=(e,t,n,r)=>(TC(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),It=(e,t,n)=>(TC(e,t,"access private method"),n);var $i=(e,t)=>aM(cM(e,"raw",{value:aM(t||e.slice())}));var Uo=function(e,t){this[0]=e,this[1]=t},c_=(e,t,n)=>{var r=(o,a,c,l)=>{try{var u=n[o](a),d=(a=u.value)instanceof Uo,f=u.done;Promise.resolve(d?a[0]:a).then(h=>d?r(o==="return"?o:"next",a[1]?{done:h.done,value:h.value}:h,c,l):c({value:h,done:f})).catch(h=>r("throw",h,c,l))}catch(h){l(h)}},s=o=>i[o]=a=>new Promise((c,l)=>r(o,a,c,l)),i={};return n=n.apply(e,t),i[yC("asyncIterator")]=()=>i,s("next"),s("throw"),s("return"),i};var fM=(e,t,n)=>(t=e[yC("asyncIterator")])?t.call(e):(e=e[yC("iterator")](),t={},n=(r,s)=>(s=e[r])&&(t[r]=i=>new Promise((o,a,c)=>(i=s.call(e,i),c=i.done,Promise.resolve(i.value).then(l=>o({value:l,done:c}),a)))),n("next"),n("return"),t);import{r as T,c as j,j as g,i as mn,B as Dn,C as Xn,D as Oee,E as bee,Q as Aee,G as HP,k as sv,_ as ne,I as Nee,J as GH,K as Iee,H as Ft,v as nr,f as jt,y as nu,d as Rt,m as dn,n as al,q as fn,b as vt,A as lf,a as tn,u as Fn,t as id,M as xt,L as $P,$ as Pee,z as jH,N as WP,e as nn,s as wee,l as BH,O as HH,w as $H,h as bo,P as Ree,o as Wm,R as xee,g as Mee,S as Yo,T as WH,U as kee,V as Lee,W as qH,X as Dee,Y as Uee,Z as Fee,a0 as Gee,a1 as jee,a2 as Bee,a3 as Hee,a4 as $ee,a5 as Wee,a6 as qee}from"./2340486e-n0khdanno9uzbccp.js";var xu,yr,Oc,Jo;const hc=class hc{constructor(){Ct(this,yr);Ct(this,Oc,new Map);Ct(this,Jo,[])}static get instance(){return te(hc,xu)||Lt(hc,xu,new hc),te(hc,xu)}setLogger(t){if(te(this,yr))throw new Error("Logger already set");Lt(this,yr,t);for(const[n,{time:r,onlyLogFirst:s,serialTimingGroup:i}]of te(this,Oc).entries())s?te(this,yr).addFirstTiming(n,{time:r,serialTimingGroup:i}):te(this,yr).addTiming(n,{time:r,serialTimingGroup:i});te(this,Oc).clear();for(const{error:n,context:r}of te(this,Jo))te(this,yr).addError(n,r);Lt(this,Jo,[])}addTiming(t,{time:n,serialTimingGroup:r}={}){te(this,yr)?te(this,yr).addTiming(t,{time:n,serialTimingGroup:r}):te(this,Oc).set(t,{time:n!=null?n:Date.now(),onlyLogFirst:!1,serialTimingGroup:r})}addFirstTiming(t,{time:n,serialTimingGroup:r}={}){te(this,yr)?te(this,yr).addFirstTiming(t,{time:n,serialTimingGroup:r}):te(this,Oc).set(t,{time:n!=null?n:Date.now(),onlyLogFirst:!0,serialTimingGroup:r})}addError(t,n){te(this,yr)?te(this,yr).addError(t,n):(te(this,Jo).push({error:t,context:n}),te(this,Jo).length>10&&(console.warn("LazyLogger: too many errors"),te(this,Jo).shift()))}};xu=new WeakMap,yr=new WeakMap,Oc=new WeakMap,Jo=new WeakMap,Ct(hc,xu);let EN=hc;function Ao(e){const t=new WeakMap;return function(n){if(t.has(n))return t.get(n);{const r=e(n);return t.set(n,r),r}}}function Vee(e){const t=new WeakMap;return function(n,r){let s=t.get(n);if(s||(s=new WeakMap,t.set(n,s)),s.has(r))return s.get(r);{const i=e(n,r);return s.set(r,i),i}}}function Gs(e){let t;return()=>(t!=null?t:t={value:e()}).value}function h9e(e,t){const n=new Map,r=t==null?void 0:t.limit;return s=>{const i=n.get(s);if(i)return i.value;const o=e(s);if(n.set(s,{value:o}),n.size>r){const[a]=n.keys();a!==void 0&&n.delete(a)}return o}}function zee(e,t){var n;return e instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,e,t)),e}function dr(e,t="<unknown>"){if(e==null)throw zee(new Error("".concat(t,": unexpected nullish value: ").concat(JSON.stringify(e))),dr);return e}var VH=(e=>(e.FreeSearchHoldout="fsh",e.AnonSearchHoldout="ash",e.NoAuthEnableFileUploads="naefu",e.AnonGizmoChatEnabled="agce",e.NoAuthEnableConversationHandoff="naech",e))(VH||{});let Yee=Gs(()=>{var t;const e=(t=document.getElementById("client-bootstrap"))==null?void 0:t.textContent;if(e)return JSON.parse(e);if(window.CLIENT_BOOTSTRAP)return window.CLIENT_BOOTSTRAP;throw new Error("missing client-bootstrap script")});function pt(){return dr(Yee(),"missing clientBootstrap")}function Kee(){return pt()}function Jee(){return{}}let Xee=Jee();function Qee(){return Xee}function iv(e){return function(n){const r=Symbol(void 0);return s=>{if(!s)throw new Error("Attempted to access scoped value without a ".concat(e,"."));const i=s;if(r in i){const o=i[r];if(o===hM)throw new Error("[".concat(e,"] Dependency cycle during scoped value initialization."));if(o instanceof Error)throw o;return o}try{i[r]=hM;const o=n(s);return i[r]=o,o}catch(o){const a=o instanceof Error?o:new Error("[".concat(e,"] Failed to initialize scoped value: ")+o,{cause:o});throw i[r]=a,a}}}}function ot(e){const t=qP(e);return(n=cl())=>t(n)}const qP=iv("SessionContext"),hM=Symbol();function cl(){return Qee()}function ri(){return cl()}const Zee=T.createContext(void 0),ete=e=>{"use forget";const t=j.c(3),{sessionContext:n,children:r}=e;let s;return t[0]!==r||t[1]!==n?(s=g.jsx(Zee.Provider,{value:n,children:r}),t[0]=r,t[1]=n,t[2]=s):s=t[2],s},tte=/\b(iPhone|iPad|iPod)\b/i,nte=/\bAndroid\b/i,rte=/(?:^|[;\s])wv(?:$|[;\s])/i,ste=/(?:^|[;\s])Version\/\d+(?:\.\d+)*/i;function wr(){return navigator.userAgent}function p9e(){const e=wr().trim();return!e||tte.test(e)||!nte.test(e)?!1:!!(rte.test(e)||ste.test(e))}function VP(){return/iPad|iPhone|iPod/.test(wr())}function ov(){return/Android/.test(wr())}function ite(){return VP()&&wr().includes("CriOS")}function ll(){return VP()||ov()||ite()}function CN(){return/^((?!chrome|android).)*safari/i.test(wr())}function _9e(){return ov()&&wr().includes("Chrome")}function ote(){return wr().includes("Mac OS X")}function zP(){return VP()||ote()}function m9e(){return wr().includes("Windows_NT")}function g9e(){return wr().includes("Chrome/")&&!/Android|iPhone|iPad/i.test(wr())}function v9e(){return wr().includes("Firefox")}function YP(){const e=wr();return/iPad/.test(e)||ov()&&!/Mobile/.test(e)||/Tablet/.test(e)}const ate=["; wv","webview","fbav","fb_iab","fban","instagram","line/","kakaotalk","snapchat","tiktok"];function cte(){const e=wr(),t=/iPhone|iPad|iPod/.test(e),n=/Android/.test(e),r=t&&!/Safari/.test(e),s=n&&/Version\/\d+\.\d+/.test(e),i=ate.some(o=>e.toLocaleLowerCase().includes(o));return r||s||i}function lte(){return ll()&&!YP()}function zH(){return ll()||YP()}function KP(){return!zH()}const ute=/^ChatGPT.+Macintosh;.+ Chrome\/([\d.]+) .*$/;let l_;function _n(){return l_!=null||(l_=dte(wr())),l_}function dte(e){return ute.test(e)}const fte=["Fetch is aborted","Load failed","Script error.","Failed to execute 'insertBefore' on 'Node'","ResizeObserver loop completed with undelivered notifications.","Object Not Found Matching Id","Object.hasOwn is not a function"],hte=100,pM=1e3,u_=[];function _M(e,t){const n=e.findIndex(r=>r<=t);return n===-1?e.length:n}const pte=e=>{var s;if((s=e.stack)!=null&&s.includes("-extension://")||e.source==="console"||fte.some(i=>{var o;return(o=e==null?void 0:e.message)==null?void 0:o.includes(i)})||e.type==="RequestError")return!0;const t=Date.now(),n=t-1e3*60;if(_M(u_,n)>=hte)return!0;const r=t-1e3*60*60*24;return _M(u_,r)>=pM?!0:(u_.unshift(t),u_.splice(pM),!1)};function YH(){return location.origin==="https://chatgpt.com"||!1||!1}function _te(){return _n()?"mini-web":"chatgpt-web"}const d_=typeof window>"u"?void 0:window.DesktopHostGateway,it=(d_==null?void 0:d_.getVersion())===1?d_:void 0,av=it!==void 0,KH=av||!1;function E9e(e){if(e===void 0)return;const t=/^ChatGPT\/([\d.]+) \(([^)]+)\) Electron\/([\d.]+) Chrome\/([\d.]+)$/,n=e.match(t);if(n)return n[1]}class Mt extends Error{constructor(n,r,s,i,o){var c,l,u,d;const a=typeof s.error=="string"&&s.error||typeof s.detail=="string"&&s.detail||((c=s.detail)==null?void 0:c.message)||((l=s.detail)==null?void 0:l.description)||((d=(u=s.detail)==null?void 0:u.error)==null?void 0:d.message)||gte;super(a);R(this,"name","RequestError");R(this,"detail");R(this,"jsonError");this.url=n,this.status=r,this.json=s,this.requestId=i,this.rawError=o,this.detail=s.detail,this.jsonError=s.error,this.rawError=o}static createWithErrorMessage(n,r,s,i,o,a){const c=a?{code:a,message:s}:void 0;return new Mt(n,r==="client"?400:500,S({error:s},c?{detail:c}:{}),i,o)}get code(){var n,r,s,i,o,a,c,l,u;return(u=(a=(s=(n=this.detail)==null?void 0:n.code)!=null?s:(r=this.jsonError)==null?void 0:r.code)!=null?a:(o=(i=this.jsonError)==null?void 0:i.error)==null?void 0:o.code)!=null?u:(l=(c=this.detail)==null?void 0:c.error)==null?void 0:l.code}isClientError(){return this.status>=400&&this.status<500}isServerError(){return this.status>=500}}class Gt extends Error{constructor(n,r,s){super("".concat(n,": ").concat(r));R(this,"name","UserFileError");R(this,"code");R(this,"extra");this.code=r,this.extra=s}}const mte="If this issue persists please contact us through our help center at help.openai.com.",JH="If this issue persists please contact us through our help center at [help.openai.com](https://help.openai.com/).",gte="Something went wrong. ".concat(mte),C9e="Something went wrong while generating the response. ".concat(JH),vte="A network error occurred. Please check your connection and try again. ".concat(JH),y9e=mn({id:"errors.network.reconnecting_fallback",defaultMessage:"Streaming interrupted. Waiting for the complete message..."});function cv(e){if(e instanceof Mt&&typeof e.message=="string"&&e.message)return e.message}var Ete=(e=>(e.HistoryDisabledConversationNotFound="history_disabled_conversation_not_found",e.ModelCapExceeded="model_cap_exceeded",e.MissingLastCompletion="missing_last_completion",e.InterruptionServerError="interruption_server_error",e))(Ete||{}),Cte=(e=>(e.NetworkError="network_error",e.NetworkErrorWithReconnection="network_error_with_reconnection",e))(Cte||{});function S9e(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Something went wrong")}function yte(e){return e instanceof Error&&e.name==="AbortError"}function Ste(e){if(typeof navigator<"u"&&!navigator.onLine)return!0;if(e instanceof Error){const t=e.message.toLowerCase();if(t.includes("failed to fetch")||t.includes("networkerror when attempting to fetch resource")||t.includes("network")||t.includes("load failed")||t.includes("failed to resolve")||t.includes("no done event received")||t.includes("dns")||/\b(enotfound|eai_again|eaddrinfo|econnrefused|econnreset|etimedout)\b/.test(t))return!0;if(t.includes("something went wrong while generating the response")||t.includes("aborted")||t.includes("no available models")||t.includes("starting a new chat")||t.includes("too many concurrent requests")||t.includes("message you submitted was too long")||t.includes("hit your limit")||t.includes("maximum length")||t.includes("rate limit exceeded")||t.includes("limit of messages")||t.includes("unusual activity")||t.includes("input too large")||t.includes("conversation key not found")||t.includes("authentication token is expired")||t.includes("conversation is stale"))return!1;if(e instanceof TypeError)return!0}return!1}function T9e(e){return e instanceof Mt?{error_category:"request_error",error_status:e.status,error_code:e.code,error_name:e.name,error_request_id:e.requestId,error_is_client_error:e.isClientError(),error_is_server_error:e.isServerError()}:yte(e)?{error_category:"abort_error",error_name:e.name}:Ste(e)?{error_category:"network_error",error_name:e instanceof Error?e.name:void 0}:e instanceof Error?{error_category:"unknown_error",error_name:e.name}:e===void 0?{error_category:"none"}:{error_category:"unknown_error",error_name:typeof e}}function mM(...e){try{return new URL(...e)}catch(t){return null}}function wf(e){const t=new URL(e);return t.searchParams.has("q")&&t.searchParams.set("q","<redacted>"),t.searchParams.has("login_hint")&&t.searchParams.set("login_hint","<redacted>"),t.toString()}const f_=(e,t,n={})=>{var s;const r=S({level:e,message:String(t)},n);t instanceof Error&&(r.error=t),r.error instanceof Error&&(r.error=(s=r.error.stack)!=null?s:String(r.error));try{console[e](r)}catch(i){fo.error({level:"error",message:"Error stringifying log object."+(typeof r.message=="string"?" Message: ".concat(r.message):"")})}},fo={info:(...e)=>f_("info",...e),error:(...e)=>f_("error",...e),warn:(...e)=>f_("warn",...e),debug:(...e)=>f_("debug",...e)};function gM(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function Tte(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let OC;function Ote(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=Tte();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(OC||(OC={postTask:gM,yield:()=>gM(()=>{})}),OC)}class bte{constructor(){R(this,"scheduler")}setScheduler(){this.scheduler||(this.scheduler=Ote())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const XH=new bte,Ate="client-nb0qtYlZuy2tCMN5s5ncnuIBCJncjRViT0IzFm7GqST";let QH="development";QH="production";const Nte=QH;var Wa={},xl={},h_={},vM;function Ite(){if(vM)return h_;vM=1,Object.defineProperty(h_,"__esModule",{value:!0});const e=Dn();let t=class{constructor(r){this._sdkKey=r,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(r,s){var i,o;if(!r)return!1;const a=(0,e._typedJsonParse)(r.data,"has_updates","EvaluationResponse");return a==null?!1:(this._source=r.source,(a==null?void 0:a.has_updates)!==!0||((i=a.time)!==null&&i!==void 0?i:0)<this._lcut||(this._rawValues=r.data,this._lcut=a.time,this._receivedAt=r.receivedAt,this._values=a,this._bootstrapMetadata=this._extractBootstrapMetadata(r.source,a),r.source&&a.user&&this._setWarningState(s,a),e.SDKFlags.setFlags(this._sdkKey,(o=a.sdk_flags)!==null&&o!==void 0?o:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.feature_gates,r)}getConfig(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.dynamic_configs,r)}getConfigList(){var r;return!((r=this._values)===null||r===void 0)&&r.dynamic_configs?Object.values(this._values.dynamic_configs).map(s=>s.name):[]}getLayer(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.layer_configs,r)}getParamStore(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.param_stores,r)}getSource(){return this._source}getExposureMapping(){var r;return(r=this._values)===null||r===void 0?void 0:r.exposures}_extractBootstrapMetadata(r,s){if(r!=="Bootstrap")return null;const i={};return s.user&&(i.user=s.user),s.sdkInfo&&(i.generatorSDKInfo=s.sdkInfo),i.lcut=s.time,i}_getDetailedStoreResult(r,s){let i=null;return r&&(i=r[s]?r[s]:r[(0,e._DJB2)(s)]),{result:i,details:this._getDetails(i==null)}}_setWarningState(r,s){var i,o;const a=e.StableID.get(this._sdkKey);if(((i=r.customIDs)===null||i===void 0?void 0:i.stableID)!==a&&(!((o=r.customIDs)===null||o===void 0)&&o.stableID||a)){this._warnings.add("StableIDMismatch");return}if("user"in s){const c=s.user,l=Object.assign(Object.assign({},r),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,e._getFullUserHash)(l)!==(0,e._getFullUserHash)(c)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const r={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(r.warnings=Array.from(this._warnings)),r}_getDetails(r){var s,i;const o=this.getCurrentSourceDetails();let a=o.reason;const c=(s=o.warnings)!==null&&s!==void 0?s:[];if(this._source==="Bootstrap"&&c.length>0&&(a=a+c[0]),a!=="Uninitialized"&&a!=="NoValues"){const u=r?"Unrecognized":"Recognized";a="".concat(a,":").concat(u)}const l=this._source==="Bootstrap"&&(i=this._bootstrapMetadata)!==null&&i!==void 0?i:void 0;return l&&(o.bootstrapMetadata=l),Object.assign(Object.assign({},o),{reason:a})}};return h_.default=t,h_}var Ml={},jd={},EM;function Pte(){if(EM)return jd;EM=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd._resolveDeltasResponse=void 0;const e=Dn(),t=2;function n(o,a){const c=(0,e._typedJsonParse)(a,"checksum","DeltasEvaluationResponse");if(!c)return{hadBadDeltaChecksum:!0};const l=r(o,c),u=s(l),d=(0,e._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},t);return d===c.checksumV2?JSON.stringify(u):{hadBadDeltaChecksum:!0,badChecksum:d,badMergedConfigs:u,badFullResponse:c.deltas_full_response}}jd._resolveDeltasResponse=n;function r(o,a){return Object.assign(Object.assign(Object.assign({},o),a),{feature_gates:Object.assign(Object.assign({},o.feature_gates),a.feature_gates),layer_configs:Object.assign(Object.assign({},o.layer_configs),a.layer_configs),dynamic_configs:Object.assign(Object.assign({},o.dynamic_configs),a.dynamic_configs)})}function s(o){const a=o;return i(o.deleted_gates,a.feature_gates),delete a.deleted_gates,i(o.deleted_configs,a.dynamic_configs),delete a.deleted_configs,i(o.deleted_layers,a.layer_configs),delete a.deleted_layers,a}function i(o,a){o==null||o.forEach(c=>{delete a[c]})}return jd}var CM;function ZH(){if(CM)return Ml;CM=1;var e=Ml&&Ml.__awaiter||function(s,i,o,a){function c(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(p){try{h(a.next(p))}catch(_){u(_)}}function f(p){try{h(a.throw(p))}catch(_){u(_)}}function h(p){p.done?l(p.value):c(p.value).then(d,f)}h((a=a.apply(s,i||[])).next())})};Object.defineProperty(Ml,"__esModule",{value:!0});const t=Dn(),n=Pte();class r extends t.NetworkCore{constructor(i,o){super(i,o);const a=i==null?void 0:i.networkConfig;this._option=i,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,a==null?void 0:a.initializeUrl,a==null?void 0:a.api,a==null?void 0:a.initializeFallbackUrls)}fetchEvaluations(i,o,a,c,l){return e(this,void 0,void 0,function*(){var u,d,f,h,p,_;const m=o?(0,t._typedJsonParse)(o,"has_updates","InitializeResponse"):null;let v={user:c,hash:(f=(d=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||d===void 0?void 0:d.initializeHashAlgorithm)!==null&&f!==void 0?f:"djb2",deltasResponseRequested:!1,full_checksum:null};if(m!=null&&m.has_updates){const E=(m==null?void 0:m.hash_used)!==((_=(p=(h=this._option)===null||h===void 0?void 0:h.networkConfig)===null||p===void 0?void 0:p.initializeHashAlgorithm)!==null&&_!==void 0?_:"djb2");v=Object.assign(Object.assign({},v),{sinceTime:l&&!E?m.time:0,previousDerivedFields:"derived_fields"in m&&l?m.derived_fields:{},deltasResponseRequested:!0,full_checksum:m.full_checksum,partialUserMatchSinceTime:E?0:m.time})}return this._fetchEvaluations(i,m,v,a)})}_fetchEvaluations(i,o,a,c){return e(this,void 0,void 0,function*(){var l,u;const d=yield this.post({sdkKey:i,urlConfig:this._initializeUrlConfig,data:a,retries:2,isStatsigEncodable:!0,priority:c});if((d==null?void 0:d.code)===204)return'{"has_updates": false}';if((d==null?void 0:d.code)!==200)return(l=d==null?void 0:d.body)!==null&&l!==void 0?l:null;if((o==null?void 0:o.has_updates)!==!0||((u=d.body)===null||u===void 0?void 0:u.includes('"is_delta":true'))!==!0||a.deltasResponseRequested!==!0)return d.body;const f=(0,n._resolveDeltasResponse)(o,d.body);return typeof f=="string"?f:this._fetchEvaluations(i,o,Object.assign(Object.assign(Object.assign({},a),f),{deltasResponseRequested:!1}),c)})}}return Ml.default=r,Ml}var Bd={},yM;function wte(){if(yM)return Bd;yM=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd._makeParamStoreGetter=void 0;const e=Dn(),t={disableExposureLog:!0};function n(u){return u==null||u.disableExposureLog===!1}function r(u,d){return d!=null&&!(0,e._isTypeMatch)(u,d)}function s(u,d){return u.value}function i(u,d,f){return u.getFeatureGate(d.gate_name,n(f)?void 0:t).value?d.pass_value:d.fail_value}function o(u,d,f,h){const _=u.getDynamicConfig(d.config_name,n(h)?void 0:t).get(d.param_name);return r(_,f)?f:_}function a(u,d,f,h){const _=u.getExperiment(d.experiment_name,n(h)?void 0:t).get(d.param_name);return r(_,f)?f:_}function c(u,d,f,h){const _=u.getLayer(d.layer_name,n(h)?void 0:t).get(d.param_name);return r(_,f)?f:_}function l(u,d,f){return(h,p)=>{if(d==null)return p;const _=d[h];if(_==null||p!=null&&(0,e._typeOf)(p)!==_.param_type)return p;switch(_.ref_type){case"static":return s(_);case"gate":return i(u,_,f);case"dynamic_config":return o(u,_,p,f);case"experiment":return a(u,_,p,f);case"layer":return c(u,_,p,f);default:return p}}}return Bd._makeParamStoreGetter=l,Bd}var qa={},SM;function Rte(){if(SM)return qa;SM=1;var e=qa&&qa.__awaiter||function(s,i,o,a){function c(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(p){try{h(a.next(p))}catch(_){u(_)}}function f(p){try{h(a.throw(p))}catch(_){u(_)}}function h(p){p.done?l(p.value):c(p.value).then(d,f)}h((a=a.apply(s,i||[])).next())})};Object.defineProperty(qa,"__esModule",{value:!0}),qa.StatsigEvaluationsDataAdapter=void 0;const t=Dn(),n=ZH();let r=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(i,o,a){super.attach(i,o,a),a!==null&&a instanceof n.default?this._network=a:this._network=new n.default(o!=null?o:{})}getDataAsync(i,o,a){return this._getDataAsyncImpl(i,(0,t._normalizeUser)(o,this._options),a)}prefetchData(i,o){return this._prefetchDataImpl(i,o)}setData(i){const o=(0,t._typedJsonParse)(i,"has_updates","data");o&&"user"in o?super.setData(i,o.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(i,o){super.setData(i,o)}_fetchFromNetwork(i,o,a,c){return e(this,void 0,void 0,function*(){var l;const u=yield(l=this._network)===null||l===void 0?void 0:l.fetchEvaluations(this._getSdkKey(),i,a==null?void 0:a.priority,o,c);return u!=null?u:null})}_getCacheKey(i){var o;const a=(0,t._getStorageKey)(this._getSdkKey(),i,(o=this._options)===null||o===void 0?void 0:o.customUserCacheKeyFunc);return"".concat(t.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(a)}_isCachedResultValidFor204(i,o){return i.fullUserHash!=null&&i.fullUserHash===(0,t._getFullUserHash)(o)}};return qa.StatsigEvaluationsDataAdapter=r,qa}var TM;function xte(){if(TM)return xl;TM=1;var e=xl&&xl.__awaiter||function(a,c,l,u){function d(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(v){try{m(u.next(v))}catch(E){h(E)}}function _(v){try{m(u.throw(v))}catch(E){h(E)}}function m(v){v.done?f(v.value):d(v.value).then(p,_)}m((u=u.apply(a,c||[])).next())})};Object.defineProperty(xl,"__esModule",{value:!0});const t=Dn(),n=Ite(),r=ZH(),s=wte(),i=Rte();let o=class yN extends t.StatsigClientBase{static instance(c){const l=(0,t._getStatsigGlobal)().instance(c);return l instanceof yN?l:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new yN(c!=null?c:"",{}))}constructor(c,l,u=null){var d,f;t.SDKType._setClientType(c,"javascript-client");const h=new r.default(u,_=>{this.$emt(_)});super(c,(d=u==null?void 0:u.dataAdapter)!==null&&d!==void 0?d:new i.StatsigEvaluationsDataAdapter,h,u),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(t.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(c),this._network=h,this._user=this._configureUser(l,u),this._sdkInstanceID=(0,t.getUUID)();const p=(f=u==null?void 0:u.plugins)!==null&&f!==void 0?f:[];for(const _ of p)_.bind(this)}initializeSync(c){var l;return this.loadingStatus!=="Uninitialized"?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(l=this._store.getWarnings())!==null&&l!==void 0?l:[]]):(this._logger.start(),this.updateUserSync(this._user,c))}initializeAsync(c){return e(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(c),this._initializePromise)})}updateUserSync(c,l){const u=performance.now();try{return this._updateUserSyncImpl(c,l,u)}catch(d){const f=d instanceof Error?d:new Error(String(d));return this._createErrorUpdateDetails(f,u)}}_updateUserSyncImpl(c,l,u){var d;const f=[...(d=this._store.getWarnings())!==null&&d!==void 0?d:[]];this._resetForUser(c);const h=this.dataAdapter.getDataSync(this._user);h==null&&f.push("NoCachedValues"),this._store.setValues(h,this._user),this._finalizeUpdate(h);const p=l==null?void 0:l.disableBackgroundCacheRefresh;return p===!0||p==null&&(h==null?void 0:h.source)==="Bootstrap"?(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f):(this._runPostUpdate(h!=null?h:null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f))}updateUserAsync(c,l){return e(this,void 0,void 0,function*(){const u=performance.now();try{return yield this._updateUserAsyncImpl(c,l)}catch(d){const f=d instanceof Error?d:new Error(String(d));return this._createErrorUpdateDetails(f,u)}})}_updateUserAsyncImpl(c,l){return e(this,void 0,void 0,function*(){this._resetForUser(c);const u=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let d=this.dataAdapter.getDataSync(u);if(this._store.setValues(d,this._user),this._setStatus("Loading",d),d=yield this.dataAdapter.getDataAsync(d,u,l),u!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let f=!1;d!=null&&(t.Diagnostics._markInitProcessStart(this._sdkKey),f=this._store.setValues(d,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:f})),this._finalizeUpdate(d),f||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,f,this._store.getCurrentSourceDetails());const h=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(f,this._store.getSource(),h,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(c,l){return this.getFeatureGate(c,l).value}logEvent(c,l,u){const d=typeof c=="string"?{eventName:c,value:l,metadata:u}:c;this.$emt({name:"log_event_called",event:d}),this._logger.enqueue(Object.assign(Object.assign({},d),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(c){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:c}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(c){return e(this,void 0,void 0,function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,c)})}_createErrorUpdateDetails(c,l){var u;return(0,t.createUpdateDetails)(!1,this._store.getSource(),performance.now()-l,c,null,[...(u=this._store.getWarnings())!==null&&u!==void 0?u:[]])}_finalizeUpdate(c){this._store.finalize(),this._setStatus("Ready",c)}_runPostUpdate(c,l){this.dataAdapter.getDataAsync(c,l,{priority:"low"}).catch(u=>{t.Log.error("An error occurred after update.",u)})}_resetForUser(c){this._logger.reset(),this._store.reset(),this._user=this._configureUser(c,this._options)}_configureUser(c,l){var u,d,f;const h=(0,t._normalizeUser)(c,l),p=(u=h.customIDs)===null||u===void 0?void 0:u.stableID;if(p){const _=(f=(d=this.storageProvider).isReadyResolver)===null||f===void 0?void 0:f.call(d);_?_.then(()=>t.StableID.setOverride(p,this._sdkKey),()=>t.StableID.setOverride(p,this._sdkKey)):t.StableID.setOverride(p,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(h.analyticsOnlyMetadata=Object.assign(Object.assign({},h.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),h}_getFeatureGateImpl(c,l){var u,d;const{result:f,details:h}=this._store.getGate(c),p=(0,t._makeFeatureGate)(c,h,f),_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getGateOverride)===null||d===void 0?void 0:d.call(u,p,this._user,l),m=_!=null?_:p;return this._enqueueExposure(c,(0,t._createGateExposure)(this._user,m,this._store.getExposureMapping()),l),this.$emt({name:"gate_evaluation",gate:m}),m}_getDynamicConfigImpl(c,l){var u,d;const{result:f,details:h}=this._store.getConfig(c),p=(0,t._makeDynamicConfig)(c,h,f),_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getDynamicConfigOverride)===null||d===void 0?void 0:d.call(u,p,this._user,l),m=_!=null?_:p;return this._enqueueExposure(c,(0,t._createConfigExposure)(this._user,m,this._store.getExposureMapping()),l),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:m}),m}_getExperimentImpl(c,l){var u,d,f,h;const{result:p,details:_}=this._store.getConfig(c),m=(0,t._makeExperiment)(c,_,p);m.__evaluation!=null&&(m.__evaluation.secondary_exposures=(0,t._mapExposures)((d=(u=m.__evaluation)===null||u===void 0?void 0:u.secondary_exposures)!==null&&d!==void 0?d:[],this._store.getExposureMapping()));const v=(h=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getExperimentOverride)===null||h===void 0?void 0:h.call(f,m,this._user,l),E=v!=null?v:m;return this._enqueueExposure(c,(0,t._createConfigExposure)(this._user,E,this._store.getExposureMapping()),l),this.$emt({name:"experiment_evaluation",experiment:E}),E}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(c,l){var u,d,f;const{result:h,details:p}=this._store.getLayer(c),_=(0,t._makeLayer)(c,p,h),m=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getLayerOverride)===null||d===void 0?void 0:d.call(u,_,this._user,l);l!=null&&l.disableExposureLog&&this._logger.incrementNonExposureCount(c);const v=(0,t._mergeOverride)(_,m,(f=m==null?void 0:m.__value)!==null&&f!==void 0?f:_.__value,E=>{l!=null&&l.disableExposureLog||this._enqueueExposure(c,(0,t._createLayerParameterExposure)(this._user,v,E,this._store.getExposureMapping()),l)});return this.$emt({name:"layer_evaluation",layer:v}),v}_getParameterStoreImpl(c,l){var u,d;const{result:f,details:h}=this._store.getParamStore(c);this._logger.incrementNonExposureCount(c);const p={name:c,details:h,__configuration:f,get:(0,s._makeParamStoreGetter)(this,f,l)},_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getParamStoreOverride)===null||d===void 0?void 0:d.call(u,p,l);return _!=null&&(p.__configuration=_.config,p.details=_.details,p.get=(0,s._makeParamStoreGetter)(this,_.config,l)),p}};return xl.default=o,xl}var OM;function Mte(){return OM||(OM=1,(function(e){var t=Wa&&Wa.__createBinding||(Object.create?(function(o,a,c,l){l===void 0&&(l=c);var u=Object.getOwnPropertyDescriptor(a,c);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,l,u)}):(function(o,a,c,l){l===void 0&&(l=c),o[l]=a[c]})),n=Wa&&Wa.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const r=Dn(),s=xte();e.StatsigClient=s.default,n(Dn(),e);const i=Object.assign((0,r._getStatsigGlobal)(),{StatsigClient:s.default});e.default=i})(Wa)),Wa}var JP=Mte(),Va={},za={},bM;function kte(){if(bM)return za;bM=1;var e=za&&za.__awaiter||function(o,a,c,l){function u(d){return d instanceof c?d:new c(function(f){f(d)})}return new(c||(c=Promise))(function(d,f){function h(m){try{_(l.next(m))}catch(v){f(v)}}function p(m){try{_(l.throw(m))}catch(v){f(v)}}function _(m){m.done?d(m.value):u(m.value).then(h,p)}_((l=l.apply(o,a||[])).next())})};Object.defineProperty(za,"__esModule",{value:!0}),za.LocalOverrideAdapter=void 0;const t=Dn(),n="LocalOverride:Recognized";function r(){return{gate:{},dynamicConfig:{},experiment:{},layer:{}}}function s(o,a){return{gate:Object.assign({},o.gate,a.gate),dynamicConfig:Object.assign({},o.dynamicConfig,a.dynamicConfig),experiment:Object.assign({},o.experiment,a.experiment),layer:Object.assign({},o.layer,a.layer)}}let i=class{constructor(a){this._overrides=r(),this._sdkKey=a!=null?a:null}_getLocalOverridesStorageKey(a){return"statsig.local-overrides.".concat((0,t._getStorageKey)(a))}loadFromStorage(){return e(this,void 0,void 0,function*(){if(this._sdkKey==null)return;t.Storage.isReady()||(yield t.Storage.isReadyResolver());const a=this._getLocalOverridesStorageKey(this._sdkKey),c=t.Storage.getItem(a),l=c?(0,t._typedJsonParse)(c,"gate","LocalOverrideAdapter overrides"):null,u=this._hasInMemoryOverrides();l&&(this._overrides=u?s(l,this._overrides):l),u&&this._saveOverridesToStorage()})}_saveOverridesToStorage(){if(this._sdkKey==null||!t.Storage.isReady())return;const a=this._getLocalOverridesStorageKey(this._sdkKey);t.Storage.setItem(a,JSON.stringify(this._overrides))}overrideGate(a,c){this._overrides.gate[a]=c,this._overrides.gate[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}_warnIfStorageNotReady(){t.Storage.isReady()||t.Log.warn("Storage is not ready. Override removal may not persist.")}removeGateOverride(a){this._warnIfStorageNotReady(),delete this._overrides.gate[a],delete this._overrides.gate[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getGateOverride(a,c){var l;const u=(l=this._overrides.gate[a.name])!==null&&l!==void 0?l:this._overrides.gate[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,details:Object.assign(Object.assign({},a.details),{reason:n})})}overrideDynamicConfig(a,c){this._overrides.dynamicConfig[a]=c,this._overrides.dynamicConfig[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeDynamicConfigOverride(a){this._warnIfStorageNotReady(),delete this._overrides.dynamicConfig[a],delete this._overrides.dynamicConfig[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getDynamicConfigOverride(a,c){return this._getConfigOverride(a,this._overrides.dynamicConfig)}overrideExperiment(a,c){this._overrides.experiment[a]=c,this._overrides.experiment[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeExperimentOverride(a){this._warnIfStorageNotReady(),delete this._overrides.experiment[a],delete this._overrides.experiment[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getExperimentOverride(a,c){return this._getConfigOverride(a,this._overrides.experiment)}overrideLayer(a,c){this._overrides.layer[a]=c,this._overrides.layer[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeLayerOverride(a){this._warnIfStorageNotReady(),delete this._overrides.layer[a],delete this._overrides.layer[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getAllOverrides(){return JSON.parse(JSON.stringify(this._overrides))}removeAllOverrides(){this._warnIfStorageNotReady(),this._overrides=r(),this._saveOverridesToStorage()}getLayerOverride(a,c){var l;const u=(l=this._overrides.layer[a.name])!==null&&l!==void 0?l:this._overrides.layer[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{__value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_getConfigOverride(a,c){var l;const u=(l=c[a.name])!==null&&l!==void 0?l:c[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_hasInMemoryOverrides(){return Object.keys(this._overrides.gate).length>0||Object.keys(this._overrides.dynamicConfig).length>0||Object.keys(this._overrides.experiment).length>0||Object.keys(this._overrides.layer).length>0}};return za.LocalOverrideAdapter=i,za}var AM;function Lte(){return AM||(AM=1,(function(e){var t=Va&&Va.__createBinding||(Object.create?(function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}):(function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]})),n=Va&&Va.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(kte(),e)})(Va)),Va}var Dte=Lte(),bC={},Wi={},Hd={},NM;function qh(){return NM||(NM=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.AutoCaptureEventName=void 0,Hd.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}),Hd}var $d={},AC={},IM;function od(){return IM||(IM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapFunctionWithRestore=e.throttle=e._sanitizeString=e._getAnchorNodeInHierarchy=e._getSafeTimezoneOffset=e._getSafeTimezone=e._getSafeNetworkInformation=e._registerEventHandler=e._getSanitizedPageUrl=e._getSafeUrlString=e._getSafeUrl=e._shouldLogEvent=e._getTargetNode=e._stripEmptyValues=e.interactiveElements=void 0;const t=Dn(),n="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",r=new RegExp("^(?:".concat(n,")$")),s="\\d{3}-?\\d{2}-?\\d{4}",i=new RegExp("^(".concat(s,")$"));e.interactiveElements=["button","a","input","select","textarea","form","select","label"];function o(y){return Object.fromEntries(Object.entries(y).filter(([O,A])=>A!=null&&A!==""&&A!==void 0))}e._stripEmptyValues=o;function a(y){if(!y)return null;let O=y.target||y.srcElement;return!O||!(O instanceof Element)?null:(O.nodeType===3&&(O=O.parentNode||null),O)}e._getTargetNode=a;function c(y,O,A=!1){if(!y||!O||O.nodeType!==1)return!1;const N=O.tagName.toLowerCase(),I=y.type.toLowerCase();if(O.classList.contains("statsig-no-capture"))return!1;if(A)return!0;switch(N){case"html":return!1;case"form":return["submit"].indexOf(I)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(I)>=0;default:if(I==="click"){const M=window.getComputedStyle(O);if(M&&M.getPropertyValue("cursor")==="pointer"||e.interactiveElements.includes(N)||O.getAttribute("contenteditable")==="true"||m(O))return!0}return!1}}e._shouldLogEvent=c;function l(){var y,O,A;const N=(A=(O=(y=(0,t._getWindowSafe)())===null||y===void 0?void 0:y.location)===null||O===void 0?void 0:O.href)!==null&&A!==void 0?A:"";let I;try{I=new URL(N)}catch(w){I=new URL("error:")}return I}e._getSafeUrl=l;function u(){const y=l().toString();return y.startsWith("error:")?"":y}e._getSafeUrlString=u;function d(){return(0,t._getCurrentPageUrlSafe)()||""}e._getSanitizedPageUrl=d;function f(y,O,A){!y||!y.addEventListener||y.addEventListener(O,A,!0)}e._registerEventHandler=f;function h(){const y=(0,t._getWindowSafe)();if(!y||!y.navigator)return null;const O=y.navigator.connection;return O||null}e._getSafeNetworkInformation=h;function p(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(y){return null}}e._getSafeTimezone=p;function _(){try{return new Date().getTimezoneOffset()}catch(y){return null}}e._getSafeTimezoneOffset=_;function m(y){if(!y)return null;let O=y;for(;O;){const A=O.tagName.toLowerCase();if(["body","document"].includes(A))return null;if(O.tagName.toLowerCase()==="a")return O;O=O.parentElement}return null}e._getAnchorNodeInHierarchy=m;function v(y){return y?y.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(O=>E(O)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null}e._sanitizeString=v;function E(y){return!(r.test((y||"").replace(/[- ]/g,""))||i.test((y||"").replace(/[- ]/g,"")))}function b(y,O){let A=0;return function(...N){const I=Date.now();I-A>=O&&(A=I,y(...N))}}e.throttle=b;function C(y,O,A){const N=y[O];if(typeof N!="function")return()=>{};try{const I=A(N);return Object.defineProperty(I,"__statsig_original__",{enumerable:!1,value:N}),y[O]=I,()=>{y[O]=N}}catch(I){return()=>{}}}e.wrapFunctionWithRestore=C})(AC)),AC}var Ya={},PM;function Ute(){if(PM)return Ya;PM=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya._getStackTrace=Ya._safeStringify=void 0;function e(a,c){return a.length<=c?a:a.slice(0,c)+"..."}function t(a,c,l,u){try{return r(a,c,l)?o(a,u):e(typeof a=="string"?a:typeof a=="object"&&a!==null?JSON.stringify(a):String(a),u)}catch(d){return e("[Unserializable]",u)}}Ya._safeStringify=t;function n(){var a,c;try{return(c=(a=new Error().stack)===null||a===void 0?void 0:a.split("\n").slice(2))!==null&&c!==void 0?c:[]}catch(l){return[]}}Ya._getStackTrace=n;function r(a,c,l){return!!(s(a)&&(Object.keys(a).length>c||i(a,l))||typeof a=="function")}function s(a){return Object.prototype.toString.call(a)==="[object Object]"}function i(a,c){return c<=0?!0:typeof a!="object"||a===null?!1:Object.keys(a).some(l=>i(a[l],c-1))}function o(a,c){return e(a.toString(),c)}return Ya}var Rs={},wM;function XP(){if(wM)return Rs;wM=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs._getPossibleFirstTouchMetadata=Rs._getNetworkInfo=Rs._gatherAllMetadata=Rs._gatherCommonMetadata=void 0;const e=Dn(),t=od();function n(c){var l,u,d,f,h,p,_,m;const v=(0,e._getDocumentSafe)(),E=(0,e._getWindowSafe)();return(0,t._stripEmptyValues)(Object.assign({title:v==null?void 0:v.title,current_url:(l=E==null?void 0:E.location)===null||l===void 0?void 0:l.href,user_agent:!((u=E==null?void 0:E.navigator)===null||u===void 0)&&u.userAgent&&((f=(d=E==null?void 0:E.navigator)===null||d===void 0?void 0:d.userAgent)===null||f===void 0?void 0:f.length)>200?E.navigator.userAgent.substring(0,200):(h=E==null?void 0:E.navigator)===null||h===void 0?void 0:h.userAgent,locale:(p=E==null?void 0:E.navigator)===null||p===void 0?void 0:p.language,hostname:c.hostname,pathname:c.pathname,screen_width:(_=E==null?void 0:E.screen)===null||_===void 0?void 0:_.width,screen_height:(m=E==null?void 0:E.screen)===null||m===void 0?void 0:m.height,viewport_width:E==null?void 0:E.innerWidth,viewport_height:E==null?void 0:E.innerHeight,viewport:"".concat(E==null?void 0:E.innerWidth,"x").concat(E==null?void 0:E.innerHeight),timestamp:Date.now(),timezone:(0,t._getSafeTimezone)(),timezone_offset:(0,t._getSafeTimezoneOffset)()},s()))}Rs._gatherCommonMetadata=n;function r(c){const l=(0,e._getDocumentSafe)(),u=(0,e._getWindowSafe)();if(!l||!u)return{};const d=o(l),f=n(c),h=a(c),p={};return c.searchParams.forEach((_,m)=>{p[m]=_}),Object.assign(Object.assign({},f),(0,t._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},d),h),p)))}Rs._gatherAllMetadata=r;function s(){const c=(0,t._getSafeNetworkInformation)(),l={};return(c==null?void 0:c.effectiveType)!==void 0&&(l.effective_connection_type=c.effectiveType),(c==null?void 0:c.rtt)!==void 0&&(l.rtt_ms=c.rtt),(c==null?void 0:c.downlink)!==void 0&&(l.downlink_mbps=c.downlink,l.downlink_kbps=c.downlink*1e3),(c==null?void 0:c.saveData)!==void 0&&(l.save_data=c.saveData),l}Rs._getNetworkInfo=s;function i(c){const l=(0,e._getDocumentSafe)(),u=(0,e._getWindowSafe)();if(!l||!u)return{};const d=o(l),f=a(c),h=(0,t._stripEmptyValues)(Object.assign(Object.assign({},d),f)),p={};for(const[_,m]of Object.entries(h))p["$s_".concat(_)]=m;return p}Rs._getPossibleFirstTouchMetadata=i;function o(c){const l=(c==null?void 0:c.referrer)||"";if(!l)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{const u=new URL(l),d=u.hostname,f=["google","bing","yahoo","duckduckgo","baidu"].find(p=>d.includes(p+"."))||"",h=u.searchParams.get(f==="yahoo"?"p":"q")||"";return{referrer:l,referrer_domain:u.hostname,referrer_path:u.pathname,searchEngine:f,searchQuery:h}}catch(u){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function a(c){const l=c.searchParams,u={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(f=>{const h=l.get(f);h&&(u[f]=h)}),u}return Rs}var RM;function Fte(){if(RM)return $d;RM=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.ConsoleLogManager=void 0;const e=Dn(),t=qh(),n=od(),r=Ute(),s=XP(),i={trace:10,debug:20,log:30,info:30,warn:40,error:50},o=10,a=10,c=500;let l=class{constructor(d,f,h){var p,_,m,v;this._enqueueFn=d,this._errorBoundary=f,this._options=h,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=(p=this._options.logLevel)!==null&&p!==void 0?p:"info",this._maxKeys=(_=this._options.maxKeys)!==null&&_!==void 0?_:o,this._maxDepth=(m=this._options.maxDepth)!==null&&m!==void 0?m:a,this._maxStringLength=(v=this._options.maxStringLength)!==null&&v!==void 0?v:c}startTracking(){try{if(this._isTracking||!this._options.enabled||!(0,e._getWindowSafe)())return;this._patchConsole(),this._isTracking=!0}catch(d){e.Log.error("Error starting console log tracking",d),this._errorBoundary.logError("autoCapture:ConsoleLogManager",d)}}stopTracking(){this._isTracking&&(this._restoreFns.forEach(d=>d()),this._restoreFns=[],this._isTracking=!1)}_patchConsole(){Object.entries(i).forEach(([d,f])=>{if(f<i[this._logLevel]||!console[d])return;const h=console[d].bind(console);let p=!1;const _=(0,n.wrapFunctionWithRestore)(console,d,m=>(...v)=>{if(m(...v),!p){p=!0;try{const E=v.map(C=>(0,r._safeStringify)(C,this._maxKeys,this._maxDepth,this._maxStringLength)),b=(0,r._getStackTrace)();this._enqueueConsoleLog(d,E,b)}catch(E){h("console observer error:",E,...v),this._errorBoundary.logError("autoCapture:ConsoleLogManager",E)}finally{p=!1}}});this._restoreFns.push(_)})}_enqueueConsoleLog(d,f,h){if(!this._shouldLog())return;const p=Object.assign({status:d==="log"?"info":d,log_level:d,payload:f,trace:h,timestamp:Date.now(),source:this.__source},(0,s._gatherAllMetadata)((0,n._getSafeUrl)()));this._enqueueFn(t.AutoCaptureEventName.CONSOLE_LOG,f.join(" "),p)}_shouldLog(){return!this._options.sampleRate||typeof this._options.sampleRate!="number"||this._options.sampleRate<=0||this._options.sampleRate>=1?!0:Math.random()<this._options.sampleRate}};return $d.ConsoleLogManager=l,$d}var NC={},qi={},xM;function e$(){if(xM)return qi;xM=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi._getMetadataFromElement=qi._gatherCopyEventData=qi._gatherEventData=void 0;const e=Dn(),t=od(),n=1e3,r=100,s=50;function i(y){const O=(0,t._getSanitizedPageUrl)()||"",A=y.tagName.toLowerCase();if(a(y))return{value:O,metadata:_(y)};const N={};N.tagName=A;const I=m(y);Object.assign(N,I),A==="form"&&Object.assign(N,c(y)),A==="input"&&Object.assign(N,l(y));const w=(0,t._getAnchorNodeInHierarchy)(y);return w&&Object.assign(N,u(w)),(A==="button"||w)&&Object.assign(N,d(w||y)),p(N)&&(N.isOutbound="true"),{value:O,metadata:N}}qi._gatherEventData=i;function o(y){var O,A;const N=(A=(O=(0,e._getWindowSafe)())===null||O===void 0?void 0:O.getSelection())===null||A===void 0?void 0:A.toString(),I={};I.selectedText=(0,t._sanitizeString)(N);const w=y.type||"clipboard";return I.clipType=w,I}qi._gatherCopyEventData=o;function a(y){return y.tagName.toLowerCase()==="input"&&["button","checkbox","submit","reset"].includes(y.getAttribute("type")||"")||y.tagName.toLowerCase()==="textarea"||y.tagName.toLowerCase()==="select"||y.getAttribute("contenteditable")==="true"}function c(y){var O;const A={};return A.action=y.getAttribute("action"),A.method=(O=y.getAttribute("method"))!==null&&O!==void 0?O:"GET",A.formName=y.getAttribute("name"),A.formId=y.getAttribute("id"),A}function l(y){const O={};return O.content=y.value,O.inputName=y.getAttribute("name"),O}function u(y){const O={};return O.href=y.getAttribute("href"),O}function d(y){const O={};O.content=(y.textContent||"").trim();const A=f(y);return Object.assign(O,A),O}function f(y){const O={};if(!y)return O;const A=y==null?void 0:y.dataset;if(!A)return O;for(const N in A)O["data-".concat(N)]=A[N]||"";return O}function h(y,O){return y?y.length>O?y.substring(0,O)+"...":y:null}function p(y){var O;if(Array.isArray(y.classList)&&(!((O=y.classList)===null||O===void 0)&&O.includes("statsig-ctr-capture")))return!0;const A=y.href;if(A)try{const N=(0,t._getSafeUrl)(),I=new URL(A);return N.host!==I.host}catch(N){return!1}return!1}function _(y){const O={};return O.class=v(h(y.getAttribute("class"),n)||""),O.id=h(y.getAttribute("id"),n),O.ariaLabel=h(y.getAttribute("aria-label"),n),O.name=h(y.getAttribute("name"),n),O}function m(y){const O={},A=_(y);Object.assign(O,A);const N=Array.from(y.classList);return O.classList=N.length>0?N.slice(0,r):null,O.selector=C(y),O}qi._getMetadataFromElement=m;function v(y){return y.replace(/\s+/g," ").trim()}function E(y){let O=y.nextElementSibling;for(;O;){if(O.tagName===y.tagName)return!0;O=O.nextElementSibling}return!1}function b(y){const O=y.tagName.toLowerCase();if(y.id)return"#".concat(y.id);let A=O;if(y.className&&typeof y.className=="string"){const I=y.className.trim().split(/\s+/);I.length>0&&I[0]!==""&&(A+="."+I.join("."))}const N=y.parentElement;if(N&&N.children.length>1){let I=1,w=1,M=y.previousElementSibling;for(;M;)I++,M.tagName===y.tagName&&w++,M=M.previousElementSibling;A+=":nth-child(".concat(I,")"),(w>1||E(y))&&(A+=":nth-of-type(".concat(w,")"))}return A}function C(y){if(!y)return"";if(!y.parentNode){const I=y.tagName.toLowerCase();if(y.id)return"#".concat(y.id);let w=I;if(y.className&&typeof y.className=="string"){const M=y.className.trim().split(/\s+/);M.length>0&&M[0]!==""&&(w+="."+M.join("."))}return w}const O=[];let A=y,N=0;for(;A&&A.nodeType===Node.ELEMENT_NODE&&N<s;){const I=b(A);if(O.unshift(I),A.id||(A=A.parentElement,A&&A.tagName.toLowerCase()==="body"))break;N++}return O.join(" > ")}return qi}var MM;function Gte(){return MM||(MM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeadClickConfig=void 0;const t=Dn(),n=qh(),r=od(),s=e$(),i=XP();e.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750};class o{constructor(c,l){this._enqueueFn=c,this._errorBoundary=l,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=e.DeadClickConfig,this._handleScroll=(0,r.throttle)(()=>{const u=Date.now();this._clicks.forEach(d=>{d.scrollDelayMs||(d.scrollDelayMs=u-d.timestamp)})},50)}startTracking(){try{const c=(0,t._getWindowSafe)();if(!c)return;c.addEventListener("click",l=>this._handleClick(l),{capture:!0}),c.addEventListener("scroll",()=>this._handleScroll(),{capture:!0,passive:!0}),c.addEventListener("selectionchange",()=>this._handleSelectionChange()),this._setupMutationObserver()}catch(c){t.Log.error("Error starting dead click tracking",c),this._errorBoundary.logError("autoCapture:DeadClickManager",c)}}_handleClick(c){var l,u;const d=c.target;if(!d)return;const f={timestamp:Date.now(),eventTarget:d};r.interactiveElements.includes((l=d==null?void 0:d.tagName)===null||l===void 0?void 0:l.toLowerCase())||this._clicks.push(f),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(u=(0,t._getWindowSafe)())===null||u===void 0?void 0:u.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_handleSelectionChange(){this._lastSelectionChangeTime=Date.now()}_setupMutationObserver(){const c=(0,t._getDocumentSafe)();c&&(this._observer=new MutationObserver(()=>{this._lastMutationTime=Date.now()}),this._observer.observe(c.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}_checkForDeadClick(){var c;if(!this._clicks.length)return;clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;const l=this._clicks;this._clicks=[];for(const u of l){this._updateClickDelayMs(u);const d=u.scrollDelayMs!=null&&u.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,f=u.selectionChangeDelayMs!=null&&u.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,h=u.mutationDelayMs!=null&&u.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(d||f||h)continue;const p=u.scrollDelayMs!=null&&u.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,_=u.selectionChangeDelayMs!=null&&u.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,m=u.mutationDelayMs!=null&&u.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,v=u.absoluteDelayMs!=null&&u.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;p||_||m||v?this._logDeadClick(u,{scrollTimeout:p,selectionChangeTimeout:_,mutationTimeout:m,absoluteTimeout:v}):u.absoluteDelayMs!=null&&u.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(u)}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(c=(0,t._getWindowSafe)())===null||c===void 0?void 0:c.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_logDeadClick(c,l){const{value:u,metadata:d}=(0,s._gatherEventData)(c.eventTarget);u&&this._enqueueFn(n.AutoCaptureEventName.DEAD_CLICK,u,Object.assign(Object.assign(Object.assign(Object.assign({},d),l),(0,i._gatherCommonMetadata)((0,r._getSafeUrl)())),{scrollDelayMs:c.scrollDelayMs,selectionChangeDelayMs:c.selectionChangeDelayMs,mutationDelayMs:c.mutationDelayMs,absoluteDelayMs:c.absoluteDelayMs}))}_updateClickDelayMs(c){!c.mutationDelayMs&&this._lastMutationTime>0&&c.timestamp<=this._lastMutationTime&&(c.mutationDelayMs=Date.now()-this._lastMutationTime),!c.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&c.timestamp<=this._lastSelectionChangeTime&&(c.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),c.absoluteDelayMs=Date.now()-c.timestamp}}e.default=o})(NC)),NC}var Wd={},kM;function jte(){if(kM)return Wd;kM=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.EngagementManager=void 0;const e=Dn(),t=6e5;let n=class{constructor(){this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._meaningfulEngagementOccurred=!1,this._initializeScrollTracking()}_initializeScrollTracking(){const s=(0,e._getWindowSafe)();s&&(s.addEventListener("scroll",()=>this._handleScroll()),s.addEventListener("scrollend",()=>this._handleScroll()),s.addEventListener("resize",()=>this._handleScroll()))}_handleScroll(){const s=(0,e._getWindowSafe)(),i=(0,e._getDocumentSafe)();if(!s||!i)return;const o=i.body.scrollHeight,a=s.scrollY||i.documentElement.scrollTop||0,c=s.innerHeight;this._lastScrollY=a,this._maxScrollY=Math.max(this._maxScrollY,a);const l=Math.min(100,Math.round((a+c)/o*100));this._lastScrollPercentage=l,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,l),this.bumpInactiveTimer()}getScrollMetrics(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}getPageViewLength(){return Date.now()-this._lastPageViewTime}setLastPageViewTime(s){this._lastPageViewTime=s}startInactivityTracking(s){this._onInactivityCallback=s}bumpInactiveTimer(){const s=(0,e._getWindowSafe)();s&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=s.setTimeout(()=>{this._onInactivityCallback&&this._onInactivityCallback()},t))}setMeaningfulEngagementOccurred(s){this._meaningfulEngagementOccurred=s}getPageViewEndMetadata(){const s=Object.assign(Object.assign({},this.getScrollMetrics()),{pageViewLength:this.getPageViewLength(),meaningfulEngagementOccurred:this._meaningfulEngagementOccurred});return this.setMeaningfulEngagementOccurred(!1),s}};return Wd.EngagementManager=n,Wd}var p_={},LM;function Bte(){if(LM)return p_;LM=1,Object.defineProperty(p_,"__esModule",{value:!0});const e=30,t=1e3,n=3;let r=class{constructor(){this._clicks=[]}isRageClick(i,o,a){this._clicks=this._clicks.filter(l=>a-l.timestamp<t);const c=l=>{const u=i-l.x,d=o-l.y;return Math.abs(u)+Math.abs(d)<=e};return this._clicks.length>0&&!c(this._clicks[this._clicks.length-1])&&(this._clicks=[]),this._clicks.push({x:i,y:o,timestamp:a}),this._clicks.length>=n}};return p_.default=r,p_}var qd={},uf={exports:{}},Hte=uf.exports,DM;function $te(){return DM||(DM=1,(function(e,t){(function(n,r){r(t)})(Hte,(function(n){let r=-1;const s=$=>{addEventListener("pageshow",(W=>{W.persisted&&(r=W.timeStamp,$(W))}),!0)},i=($,W,ee,J)=>{let Z,ye;return me=>{W.value>=0&&(me||J)&&(ye=W.value-(Z!=null?Z:0),(ye||Z===void 0)&&(Z=W.value,W.delta=ye,W.rating=((Ie,Ce)=>Ie>Ce[1]?"poor":Ie>Ce[0]?"needs-improvement":"good")(W.value,ee),$(W)))}},o=$=>{requestAnimationFrame((()=>requestAnimationFrame((()=>$()))))},a=()=>{const $=performance.getEntriesByType("navigation")[0];if($&&$.responseStart>0&&$.responseStart<performance.now())return $},c=()=>{var W;const $=a();return(W=$==null?void 0:$.activationStart)!=null?W:0},l=($,W=-1)=>{const ee=a();let J="navigate";return r>=0?J="back-forward-cache":ee&&(document.prerendering||c()>0?J="prerender":document.wasDiscarded?J="restore":ee.type&&(J=ee.type.replace(/_/g,"-"))),{name:$,value:W,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:J}},u=new WeakMap;function d($,W){return u.get($)||u.set($,new W),u.get($)}class f{constructor(){R(this,"t");R(this,"i",0);R(this,"o",[])}h(W){var Z;if(W.hadRecentInput)return;const ee=this.o[0],J=this.o.at(-1);this.i&&ee&&J&&W.startTime-J.startTime<1e3&&W.startTime-ee.startTime<5e3?(this.i+=W.value,this.o.push(W)):(this.i=W.value,this.o=[W]),(Z=this.t)==null||Z.call(this,W)}}const h=($,W,ee={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes($)){const J=new PerformanceObserver((Z=>{Promise.resolve().then((()=>{W(Z.getEntries())}))}));return J.observe(S({type:$,buffered:!0},ee)),J}}catch(J){}},p=$=>{let W=!1;return()=>{W||($(),W=!0)}};let _=-1;const m=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,v=$=>{document.visibilityState==="hidden"&&_>-1&&(_=$.type==="visibilitychange"?$.timeStamp:0,b())},E=()=>{addEventListener("visibilitychange",v,!0),addEventListener("prerenderingchange",v,!0)},b=()=>{removeEventListener("visibilitychange",v,!0),removeEventListener("prerenderingchange",v,!0)},C=()=>{var $;if(_<0){const W=c(),ee=document.prerendering||($=globalThis.performance.getEntriesByType("visibility-state").filter((J=>J.name==="hidden"&&J.startTime>W))[0])==null?void 0:$.startTime;_=ee!=null?ee:m(),E(),s((()=>{setTimeout((()=>{_=m(),E()}))}))}return{get firstHiddenTime(){return _}}},y=$=>{document.prerendering?addEventListener("prerenderingchange",(()=>$()),!0):$()},O=[1800,3e3],A=($,W={})=>{y((()=>{const ee=C();let J,Z=l("FCP");const ye=h("paint",(me=>{for(const Ie of me)Ie.name==="first-contentful-paint"&&(ye.disconnect(),Ie.startTime<ee.firstHiddenTime&&(Z.value=Math.max(Ie.startTime-c(),0),Z.entries.push(Ie),J(!0)))}));ye&&(J=i($,Z,O,W.reportAllChanges),s((me=>{Z=l("FCP"),J=i($,Z,O,W.reportAllChanges),o((()=>{Z.value=performance.now()-me.timeStamp,J(!0)}))})))}))},N=[.1,.25];let I=0,w=1/0,M=0;const k=$=>{for(const W of $)W.interactionId&&(w=Math.min(w,W.interactionId),M=Math.max(M,W.interactionId),I=M?(M-w)/7+1:0)};let D;const L=()=>{var $;return D?I:($=performance.interactionCount)!=null?$:0},G=()=>{"interactionCount"in performance||D||(D=h("event",k,{type:"event",buffered:!0,durationThreshold:0}))};let K=0;class V{constructor(){R(this,"u",[]);R(this,"l",new Map);R(this,"m");R(this,"p")}v(){K=L(),this.u.length=0,this.l.clear()}T(){const W=Math.min(this.u.length-1,Math.floor((L()-K)/50));return this.u[W]}h(W){var Z,ye;if((Z=this.m)==null||Z.call(this,W),!W.interactionId&&W.entryType!=="first-input")return;const ee=this.u.at(-1);let J=this.l.get(W.interactionId);if(J||this.u.length<10||W.duration>ee.P){if(J?W.duration>J.P?(J.entries=[W],J.P=W.duration):W.duration===J.P&&W.startTime===J.entries[0].startTime&&J.entries.push(W):(J={id:W.interactionId,entries:[W],P:W.duration},this.l.set(J.id,J),this.u.push(J)),this.u.sort(((me,Ie)=>Ie.P-me.P)),this.u.length>10){const me=this.u.splice(10);for(const Ie of me)this.l.delete(Ie.id)}(ye=this.p)==null||ye.call(this,J)}}}const Y=$=>{const W=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?$():($=p($),document.addEventListener("visibilitychange",$,{once:!0}),W((()=>{$(),document.removeEventListener("visibilitychange",$)})))},Q=[200,500];class z{constructor(){R(this,"m")}h(W){var ee;(ee=this.m)==null||ee.call(this,W)}}const F=[2500,4e3],Te=[800,1800],fe=$=>{document.prerendering?y((()=>fe($))):document.readyState!=="complete"?addEventListener("load",(()=>fe($)),!0):setTimeout($)};n.CLSThresholds=N,n.FCPThresholds=O,n.INPThresholds=Q,n.LCPThresholds=F,n.TTFBThresholds=Te,n.onCLS=($,W={})=>{A(p((()=>{let ee,J=l("CLS",0);const Z=d(W,f),ye=Ie=>{for(const Ce of Ie)Z.h(Ce);Z.i>J.value&&(J.value=Z.i,J.entries=Z.o,ee())},me=h("layout-shift",ye);me&&(ee=i($,J,N,W.reportAllChanges),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(ye(me.takeRecords()),ee(!0))})),s((()=>{Z.i=0,J=l("CLS",0),ee=i($,J,N,W.reportAllChanges),o((()=>ee()))})),setTimeout(ee))})))},n.onFCP=A,n.onINP=($,W={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&y((()=>{var Ie;G();let ee,J=l("INP");const Z=d(W,V),ye=Ce=>{Y((()=>{for(const ke of Ce)Z.h(ke);const Me=Z.T();Me&&Me.P!==J.value&&(J.value=Me.P,J.entries=Me.entries,ee())}))},me=h("event",ye,{durationThreshold:(Ie=W.durationThreshold)!=null?Ie:40});ee=i($,J,Q,W.reportAllChanges),me&&(me.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(ye(me.takeRecords()),ee(!0))})),s((()=>{Z.v(),J=l("INP"),ee=i($,J,Q,W.reportAllChanges)})))}))},n.onLCP=($,W={})=>{y((()=>{const ee=C();let J,Z=l("LCP");const ye=d(W,z),me=Ce=>{W.reportAllChanges||(Ce=Ce.slice(-1));for(const Me of Ce)ye.h(Me),Me.startTime<ee.firstHiddenTime&&(Z.value=Math.max(Me.startTime-c(),0),Z.entries=[Me],J())},Ie=h("largest-contentful-paint",me);if(Ie){J=i($,Z,F,W.reportAllChanges);const Ce=p((()=>{me(Ie.takeRecords()),Ie.disconnect(),J(!0)}));for(const Me of["keydown","click","visibilitychange"])addEventListener(Me,(()=>Y(Ce)),{capture:!0,once:!0});s((Me=>{Z=l("LCP"),J=i($,Z,F,W.reportAllChanges),o((()=>{Z.value=performance.now()-Me.timeStamp,J(!0)}))}))}}))},n.onTTFB=($,W={})=>{let ee=l("TTFB"),J=i($,ee,Te,W.reportAllChanges);fe((()=>{const Z=a();Z&&(ee.value=Math.max(Z.responseStart-c(),0),ee.entries=[Z],J(!0),s((()=>{ee=l("TTFB",0),J=i($,ee,Te,W.reportAllChanges),J(!0)})))}))}}))})(uf,uf.exports)),uf.exports}var UM;function Wte(){if(UM)return qd;UM=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.WebVitalsManager=void 0;const e=$te(),t=Dn(),n=qh(),r=od(),s=["CLS","FCP","INP","LCP","TTFB"];let i=class{constructor(a,c){this._enqueueFn=a,this._errorBoundary=c,this._isInitialized=!1,this._metricEvent={url:(0,r._getSafeUrlString)(),sanitizedUrl:(0,r._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}startTracking(){var a,c;try{if(this._isInitialized)return;const l=(c=(a=(0,t._getWindowSafe)())===null||a===void 0?void 0:a.location)===null||c===void 0?void 0:c.protocol;if(l!=="https:"&&l!=="http:")return;(0,e.onCLS)(u=>this._handleMetric(u)),(0,e.onFCP)(u=>this._handleMetric(u)),(0,e.onINP)(u=>this._handleMetric(u)),(0,e.onLCP)(u=>this._handleMetric(u)),(0,e.onTTFB)(u=>this._handleMetric(u)),this._isInitialized=!0}catch(l){t.Log.error("Error starting web vitals tracking",l),this._errorBoundary.logError("autoCapture:WebVitalsManager",l)}}_handleMetric(a){if(this._metricEvent.firstMetricTimestamp===void 0&&(this._metricEvent.firstMetricTimestamp=Date.now()),a===void 0||(a==null?void 0:a.name)===void 0)return;const c=(0,r._getSafeUrlString)();if(c===""||!s.includes(a.name))return;c!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=c);const l=a;this._metricEvent.metrics.push({name:l.name,value:l.value,delta:l.delta,id:l.id}),this._metricEvent.metrics.length===s.length&&this._enqueueWebVitalsAutoCaptureEvent()}_enqueueWebVitalsAutoCaptureEvent(){if(this._metricEvent.url===""||this._metricEvent.metrics.length===0)return;const a={};this._metricEvent.metrics.forEach(c=>{const l=c.name.toLowerCase();a["".concat(l,"_value")]=c.value,a["".concat(l,"_delta")]=c.delta,a["".concat(l,"_id")]=c.id}),this._enqueueFn(n.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},a),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,r._getSafeUrlString)(),sanitizedUrl:(0,r._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}};return qd.WebVitalsManager=i,qd}var FM;function qte(){if(FM)return Wi;FM=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.AutoCapture=Wi.runStatsigAutoCapture=Wi.StatsigAutoCapturePlugin=void 0;const e=Dn(),t=qh(),n=Fte(),r=Gte(),s=jte(),i=Bte(),o=Wte(),a=od(),c=e$(),l=XP(),u={submit:t.AutoCaptureEventName.FORM_SUBMIT,click:t.AutoCaptureEventName.CLICK,copy:t.AutoCaptureEventName.COPY,cut:t.AutoCaptureEventName.COPY};class d{constructor(_){this._options=_,this.__plugin="auto-capture"}bind(_){f(_,this._options)}}Wi.StatsigAutoCapturePlugin=d;function f(p,_){var m;const{sdkKey:v}=p.getContext();if(!(0,e._isServerEnv)()){const b=(m=(0,e._getStatsigGlobal)().acInstances)!==null&&m!==void 0?m:{};if(b[v])return b[v]}return new h(p,_)}Wi.runStatsigAutoCapture=f;let h=class{constructor(_,m){var v,E,b,C;this._client=_,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;const{sdkKey:y,errorBoundary:O,values:A}=_.getContext();this._options=m,this._disabledEvents=(E=(v=A==null?void 0:A.auto_capture_settings)===null||v===void 0?void 0:v.disabled_events)!==null&&E!==void 0?E:{},this._errorBoundary=O,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",()=>{var I,w;const M=this._client.getContext().values;this._disabledEvents=(w=(I=M==null?void 0:M.auto_capture_settings)===null||I===void 0?void 0:I.disabled_events)!==null&&w!==void 0?w:this._disabledEvents}),this._engagementManager=new s.EngagementManager,this._rageClickManager=new i.default,this._webVitalsManager=new o.WebVitalsManager(this._enqueueAutoCapture.bind(this),O),this._deadClickManager=new r.default(this._enqueueAutoCapture.bind(this),O),this._consoleLogManager=new n.ConsoleLogManager(this._enqueueAutoCapture.bind(this),O,(b=m==null?void 0:m.consoleLogAutoCaptureSettings)!==null&&b!==void 0?b:{enabled:!1}),this._eventFilterFunc=m==null?void 0:m.eventFilterFunc;const N=(0,e._getDocumentSafe)();if(!(0,e._isServerEnv)()){__STATSIG__=(0,e._getStatsigGlobal)();const I=(C=__STATSIG__.acInstances)!==null&&C!==void 0?C:{};I[y]=this,__STATSIG__.acInstances=I}if((N==null?void 0:N.readyState)==="loading"){N.addEventListener("DOMContentLoaded",()=>this._initialize());return}this._initialize()}_addEventHandlers(){const _=(0,e._getWindowSafe)(),m=(0,e._getDocumentSafe)();if(!_||!m)return;const v=(E,b=!0)=>{var C;const y=E||((C=(0,e._getWindowSafe)())===null||C===void 0?void 0:C.event);this._autoLogEvent(y),b&&this._engagementManager.bumpInactiveTimer(),y.type==="click"&&y instanceof MouseEvent&&this._rageClickManager.isRageClick(y.clientX,y.clientY,Date.now())&&this._logRageClick(y)};(0,a._registerEventHandler)(m,"click",E=>v(E)),(0,a._registerEventHandler)(m,"submit",E=>v(E)),(0,a._registerEventHandler)(m,"copy",E=>v(E)),(0,a._registerEventHandler)(m,"cut",E=>v(E)),(0,a._registerEventHandler)(_,"error",E=>v(E,!1)),(0,a._registerEventHandler)(_,"pagehide",()=>this._tryLogPageViewEnd()),(0,a._registerEventHandler)(_,"beforeunload",()=>this._tryLogPageViewEnd())}_addPageViewTracking(){const _=(0,e._getWindowSafe)(),m=(0,e._getDocumentSafe)();!_||!m||((0,a._registerEventHandler)(_,"popstate",()=>this._tryLogPageView("popstate")),window.history.pushState=new Proxy(window.history.pushState,{apply:(v,E,[b,C,y])=>{v.apply(E,[b,C,y]),this._tryLogPageView("pushstate")}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(v,E,[b,C,y])=>{v.apply(E,[b,C,y]),this._tryLogPageView("replacestate")}}),this._tryLogPageView())}_autoLogEvent(_){var m,v,E,b;const C=(m=_.type)===null||m===void 0?void 0:m.toLowerCase();if(C==="error"&&_ instanceof ErrorEvent){this._logError(_);return}const y=(0,a._getTargetNode)(_);if(!y)return;const O=u[C];if(!O)return;const A=O===t.AutoCaptureEventName.COPY;if(!(0,a._shouldLogEvent)(_,y,A))return;const N={};if(A){const k=(E=(v=(0,e._getWindowSafe)())===null||v===void 0?void 0:v.getSelection())===null||E===void 0?void 0:E.toString();if(!k)return;!((b=this._options)===null||b===void 0)&&b.captureCopyText&&(N.selectedText=(0,a._sanitizeString)(k));const D=_.type||"clipboard";N.clipType=D}const{value:I,metadata:w}=(0,c._gatherEventData)(y);w.isOutbound&&this._engagementManager.setMeaningfulEngagementOccurred(!0),Object.assign(N,w);const M=(0,l._gatherAllMetadata)((0,a._getSafeUrl)());this._enqueueAutoCapture(O,I,Object.assign(Object.assign({},M),N))}_initialize(){this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(()=>this._tryLogPageViewEnd(!0)),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(_){const m=(_==null?void 0:_.error)||{};let v=m;if(typeof m=="object")try{v=JSON.stringify(m)}catch(E){v=typeof(m==null?void 0:m.toString)=="function"?m.toString():"Unknown Error"}this._enqueueAutoCapture(t.AutoCaptureEventName.ERROR,_.message,{message:_.message,filename:_.filename,lineno:_.lineno,colno:_.colno,error_str:v})}_logSessionStart(){const _=this._getSessionFromClient();try{if(!this._isNewSession(_))return;this._enqueueAutoCapture(t.AutoCaptureEventName.SESSION_START,(0,a._getSanitizedPageUrl)(),Object.assign({sessionID:_.data.sessionID},(0,l._gatherAllMetadata)((0,a._getSafeUrl)())),{flushImmediately:!0})}catch(m){this._errorBoundary.logError("AC::logSession",m)}}_tryLogPageView(_){const m=(0,a._getSafeUrl)(),v=this._previousLoggedPageViewUrl;if(v&&m.pathname===v.pathname)return;this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;const E=(0,l._gatherAllMetadata)(m);_&&(E.navigation_type=_),this._previousLoggedPageViewUrl&&(E.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(t.AutoCaptureEventName.PAGE_VIEW,(0,a._getSanitizedPageUrl)(),E,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=m,this._engagementManager.bumpInactiveTimer()}_tryLogPageViewEnd(_=!1){this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(t.AutoCaptureEventName.PAGE_VIEW_END,(0,a._getSanitizedPageUrl)(),Object.assign(Object.assign({},this._engagementManager.getPageViewEndMetadata()),{dueToInactivity:_}),{flushImmediately:!0}))}_logRageClick(_){if(!(0,a._shouldLogEvent)(_,_.target))return;const{value:m,metadata:v}=(0,c._gatherEventData)(_.target);this._enqueueAutoCapture(t.AutoCaptureEventName.RAGE_CLICK,m,Object.assign(Object.assign({x:_.clientX,y:_.clientY,timestamp:Date.now()},(0,l._gatherAllMetadata)((0,a._getSafeUrl)())),v))}_logPerformance(){const _=(0,e._getWindowSafe)();!_||!_.performance||typeof(_==null?void 0:_.performance)>"u"||typeof _.performance.getEntriesByType!="function"||typeof _.performance.getEntriesByName!="function"||setTimeout(()=>{const m={},v=_.performance.getEntriesByType("navigation");if(v&&v.length>0&&v[0]instanceof PerformanceNavigationTiming){const b=v[0];m.load_time_ms=b.duration,m.dom_interactive_time_ms=b.domInteractive-b.startTime,m.redirect_count=b.redirectCount,m.transfer_bytes=b.transferSize}const E=_.performance.getEntriesByName("first-contentful-paint");E&&E.length>0&&E[0]instanceof PerformancePaintTiming&&(m.first_contentful_paint_time_ms=E[0].startTime),this._enqueueAutoCapture(t.AutoCaptureEventName.PERFORMANCE,(0,a._getSanitizedPageUrl)(),Object.assign(Object.assign({},m),(0,l._getNetworkInfo)()))},1)}_enqueueAutoCapture(_,m,v,E){var b,C,y;if(!m)return;const O=_.slice(14);if(this._disabledEvents[_]||this._disabledEvents[O])return;const A=this._getSessionFromClient();try{const N=Object.assign({sessionID:A.data.sessionID,page_url:(y=(C=(b=(0,e._getWindowSafe)())===null||b===void 0?void 0:b.location)===null||C===void 0?void 0:C.href)!==null&&y!==void 0?y:""},v);E!=null&&E.addNewSessionMetadata&&(N.isNewSession=String(this._isNewSession(A)));const I={eventName:_,value:m,metadata:N};if(this._eventFilterFunc&&!this._eventFilterFunc(I))return;this._client.logEvent(I),E!=null&&E.flushImmediately&&this._flushImmediately()}catch(N){this._errorBoundary.logError("AC::enqueue",N)}}_updateClientWithPossibleFirstTouchMetadata(){const _=this._client;_._possibleFirstTouchMetadata=(0,l._getPossibleFirstTouchMetadata)((0,a._getSafeUrl)()),Object.keys(_._possibleFirstTouchMetadata).length>0&&(_._user=Object.assign(Object.assign({},_._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},_._possibleFirstTouchMetadata),_._user.analyticsOnlyMetadata)}))}_flushImmediately(){this._client.flush().catch(_=>{e.Log.error(_)})}_isNewSession(_){return Math.abs(_.data.startTime-Date.now())<1e3}_getSessionFromClient(){return this._client.getContext().session}static getAllMetadata(){return(0,l._gatherAllMetadata)((0,a._getSafeUrl)())}};return Wi.AutoCapture=h,Wi}var GM;function Vte(){return GM||(GM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigAutoCapturePlugin=e.runStatsigAutoCapture=e.AutoCapture=e.AutoCaptureEventName=void 0;const t=Dn(),n=qte();Object.defineProperty(e,"AutoCapture",{enumerable:!0,get:function(){return n.AutoCapture}}),Object.defineProperty(e,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return n.StatsigAutoCapturePlugin}}),Object.defineProperty(e,"runStatsigAutoCapture",{enumerable:!0,get:function(){return n.runStatsigAutoCapture}});var r=qh();Object.defineProperty(e,"AutoCaptureEventName",{enumerable:!0,get:function(){return r.AutoCaptureEventName}});const s=Object.assign((0,t._getStatsigGlobal)(),{AutoCapture:n.AutoCapture,runStatsigAutoCapture:n.runStatsigAutoCapture,StatsigAutoCapturePlugin:n.StatsigAutoCapturePlugin});e.default=s})(bC)),bC}Vte();function SN(e,t,n){return si().logEvent(e,t,n)}function Pe(e,t){return si().checkGate(e,t)}function ln(e,t){return si().getDynamicConfig(e,t)}function jM(e,t){return si().getExperiment(e,t)}function ut(e,t){return si().getLayer(e,t)}function zte(e,t){var s;const n=si(e),r=n.getContext().user;n.updateUserSync(P(S({},r),{custom:S(S({},(s=r.custom)!=null?s:{}),t)}))}async function Xr(e=1e3){await Promise.race([si().flush(),new Promise(t=>setTimeout(t,e))])}const Yte=ot(()=>new Dte.LocalOverrideAdapter),Kte=e=>{var n,r,s;const t={};return typeof((n=e==null?void 0:e.custom)==null?void 0:n.auth_status)=="string"&&(t.auth_status=e.custom.auth_status),typeof(e==null?void 0:e.locale)=="string"&&(t.browser_locale=e.locale),typeof((r=e==null?void 0:e.custom)==null?void 0:r.container_build_number)=="string"&&(t.container_build_number=e.custom.container_build_number),typeof((s=e==null?void 0:e.custom)==null?void 0:s.container_build_version)=="string"&&(t.container_build_version=e.custom.container_build_version),t};class Jte extends JP.StatsigClient{constructor(){super(...arguments);R(this,"commonMetadata",{})}logEvent(n,r,s){var o;const i=S(S({},this.commonMetadata),typeof n=="string"?s:n.metadata);super.logEvent(typeof n=="string"?n:n.eventName,typeof n=="string"?r:(o=n.value)!=null?o:void 0,i)}}const si=ot(()=>{const e=pt(),t=Yte(),n=new Jte(Ate,e.statsigPayload.user,{environment:{tier:Nte},networkConfig:{api:"https://ab.chatgpt.com/v1",preventAllNetworkTraffic:!1},loggingBufferMaxSize:100,disableLogging:!1,disableStorage:!1,overrideAdapter:t,logEventCompressionMode:JP.LogEventCompressionMode.Forced});return n.commonMetadata=Kte(e.statsigPayload.user),n.dataAdapter.setData(JSON.stringify(e.statsigPayload)),n.initializeSync(),n});function Vd(){return si()}const On={logEvent:(e,t,n)=>{XH.postTask(()=>{Vd().logEvent(e,t!=null?t:void 0,n)},{priority:"background"})},checkGate:e=>Vd().checkGate(e),getUser:()=>Vd().getContext().user,getLayerValue(e){var t;return(t=Vd().getLayer(e.layerName,{disableExposureLog:!e.shouldLogExposure}).get(e.key))!=null?t:e.defaultValue},checkGateWithExposureLoggingDisabled:e=>Vd().checkGate(e,{disableExposureLog:!0})},QP="chatgpt.com/ces",ZP="https",Xte="".concat(ZP,"://").concat(QP);var ew={},cn=(e=>(e[e.Required=0]="Required",e[e.SendIfAvailable=1]="SendIfAvailable",e[e.Anonymous=2]="Anonymous",e))(cn||{}),AH;const Qe=(AH=ew.VITE_SHARED_API_URL)!=null?AH:"https://chatgpt.com/backend-api";var NH;const tw=(NH=ew.VITE_SHARED_ANON_API_URL)!=null?NH:"https://chatgpt.com/backend-anon";var IH;const om=(IH=ew.VITE_PUBLIC_API_URL)!=null?IH:"https://chatgpt.com/public-api",Qte="v4-2023-04-27",x9e={IT:"Italy",KR:"South Korea"},Zte={AD:"Andorra",AI:"Anguilla",AL:"Albania",AT:"Austria",AW:"Aruba",AX:"land Islands",BE:"Belgium",BG:"Bulgaria",BL:"Saint Barthlemy",BM:"Bermuda",BQ:"Caribbean Netherlands",BR:"Brazil",BV:"Bouvet Island",CA:"Canada",CH:"Switzerland",CO:"Colombia",CW:"Curaao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",EC:"Ecuador",EE:"Estonia",ES:"Spain",FI:"Finland",FK:"Falkland Islands",FO:"Faroe Islands",FR:"France",GB:"United Kingdom",GF:"French Guiana",GG:"Guernsey",GI:"Gibraltar",GL:"Greenland",GP:"Guadeloupe",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",HR:"Croatia",HU:"Hungary",IC:"Canary Islands",ID:"Indonesia",IE:"Ireland",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IS:"Iceland",IT:"Italy",JE:"Jersey",JP:"Japan",KR:"South Korea",KY:"Cayman Islands",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MK:"North Macedonia",MQ:"Martinique",MS:"Montserrat",MT:"Malta",MX:"Mexico",NC:"New Caledonia",NL:"Netherlands",NO:"Norway",PF:"French Polynesia",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PT:"Portugal",RE:"Reunion",RO:"Romania",RS:"Serbia",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SM:"San Marino",SX:"Sint Maarten",TC:"Turks and Caicos Islands",TF:"French Southern Territories",TH:"Thailand",VA:"Vatican City",VG:"British Virgin Islands",VN:"Vietnam",WF:"Wallis and Futuna",YT:"Mayotte",ZA:"South Africa"},t$=[/^https:\/\/ab\.chatgpt\.com\//,e=>e.startsWith(Xte),e=>{const t=[Qe,tw],n=[/^\/sentinel\//];for(const r of t)if(e.startsWith(r)){const s=e.slice(r.length);return n.some(i=>i.test(s))}return!1}];var eo,Fh,Gh,jh,Bh,bc;class ene{constructor(){Ct(this,eo,!1);Ct(this,Fh,new Set);Ct(this,Gh,new Set);Ct(this,jh,new Map);Ct(this,Bh,!1);Ct(this,bc,new Map);R(this,"addAction",(t,n)=>{te(this,eo)||(console.error("Should not call addAction before initialize"),this.initialize()),Xn.addAction(t,n)})}initialize(t){var n;if(!te(this,eo)){{const r=av?(n=it==null?void 0:it.getTelemetryConfig)==null?void 0:n.call(it):void 0,s=r!==void 0?r.datadogService:"chatgpt-web",i=1;Xn.init(S(P(S({applicationId:"fd6e06b8-4825-4fbb-8db4-2a243f92c4bc",clientToken:"pub1f79f8ac903a5872ae5f53026d20a77c",site:"datadoghq.com",service:s,env:"prod",version:"f700ea221d7179d2ee3ed2b022f6972f77a5a7a1"},document.documentElement.dataset.jsp?{profilingSampleRate:100}:{}),{sessionSampleRate:i,sessionReplaySampleRate:0,trackUserInteractions:!1,defaultPrivacyLevel:Oee.MASK_USER_INPUT,beforeSend:a=>{if(a.type==="error"&&pte(a.error))return!1;if(a.view.url=wf(a.view.url),a.type==="resource"){const c=mM(a.resource.url);if(c!=null&&(c.hostname==="ab.chatgpt.com"||c.pathname.startsWith("/ces/")))return!1;a.resource.url=wf(a.resource.url)}return a.type==="error"&&a.error.resource&&(a.error.resource.url=wf(a.error.resource.url)),!0},allowedTrackingOrigins:[/chatgpt\.com/],allowedTracingUrls:[{match:a=>{const c=mM(a);if(c==null)return!1;const{hostname:l,pathname:u}=c;return!(!["openai.com","chatgpt.com"].some(f=>l.endsWith(f))||l==="ab.chatgpt.com"||u.startsWith("/ces/")||u.startsWith("/healthcheck"))},propagatorTypes:["datadog"]}],traceSampleRate:i,excludedActivityUrls:t$}),t));const o=pt();Xn.setGlobalContextProperty("cluster",o.cluster),Xn.setGlobalContextProperty("track","stable"),r!==void 0&&Xn.setGlobalContextProperty("is_electron_desktop_app",!0),Xn.setGlobalContextProperty("is_authenticated",!1)}Lt(this,eo,!0),EN.instance.setLogger(this)}}get viewId(){var t,n;return(n=(t=Xn.getInternalContext())==null?void 0:t.view)==null?void 0:n.id}get sessionId(){var t;return(t=Xn.getInternalContext())==null?void 0:t.session_id}addError(t,n){if(console.error(t,n),te(this,eo)||(console.error("Should not call addError before initialize"),this.initialize()),t instanceof Mt)return;const r=typeof t=="string"?new Error(t):t;te(this,Bh)||(On.logEvent("session_has_datadog_error"),Lt(this,Bh,!0)),Xn.addError(r,n)}addTiming(t,{time:n,serialTimingGroup:r}={}){const s=n!=null?n:Date.now(),i=s-performance.timeOrigin;if(performance.mark(t,{startTime:Math.max(0,i)}),r){te(this,bc).has(r)||te(this,bc).set(r,0);const o=te(this,bc).get(r);performance.measure(t,{start:o,end:i}),te(this,bc).set(r,i)}return te(this,jh).set(t,s),te(this,eo)||(console.error("Should not call addTiming before initialize"),this.initialize()),Xn.addTiming(t,n),n}addFirstTiming(t,{time:n,serialTimingGroup:r}={}){if(!te(this,Fh).has(t))return te(this,Fh).add(t),this.addTiming(t,{time:n,serialTimingGroup:r})}addDurationVital(t,n,r){Xn.addDurationVital(t,{startTime:n,duration:r})}addFirstDurationVital(t,n,r){te(this,Gh).has(t)||(te(this,Gh).add(t),this.addDurationVital(t,n,r))}getTimings(){return te(this,jh)}setUser(t,n){var s,i,o;Xn.setGlobalContextProperty("is_authenticated",!0);const r={id:t.id,account_plan_type:(s=n==null?void 0:n.planType)!=null?s:"none",workspace_id:n==null?void 0:n.id,residency_region:(i=n==null?void 0:n.residencyRegion)!=null?i:"none",compute_residency:(o=n==null?void 0:n.computeResidency)!=null?o:"none"};te(this,eo)||(console.error("Should not call setUser before initialize"),this.initialize()),Xn.setUser(r)}setNoAuthUser(){Xn.setUser({account_plan_type:"none"})}addFeatureFlagEvaluation(t,n){Xn.addFeatureFlagEvaluation(t,n)}}eo=new WeakMap,Fh=new WeakMap,Gh=new WeakMap,jh=new WeakMap,Bh=new WeakMap,bc=new WeakMap;const q=new ene,tne=Object.freeze(Object.defineProperty({__proto__:null,DatadogLogger:q},Symbol.toStringTag,{value:"Module"})),n$=3480*1e3,nne=n$;function rne(e){return e}const lv=bee,sne=()=>({defaultOptions:{queries:{gcTime:nne,staleTime:n$,retry:!1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,networkMode:"always",queryKeyHashFn:lv,throwOnError:(e,t)=>{if(!(e instanceof Mt||e instanceof Gt))try{q.addError(e,{queryKey:t.queryKey.map(String).join(","),queryHash:t.queryHash})}catch(n){console.error(n)}return!1}},hydrate:{deserializeData:rne}}}),BM=new Set,HM=new WeakMap,$M=e=>{let t=HM.get(e);return t==null&&(t=new Map,HM.set(e,t)),t},ine=(e,t)=>{const n=$M(t),r=n.get(e);if(r)return r;const s=(i,...o)=>{var c,l;const a=(l=(c=window.__REACT_QUERY_CACHE__)==null?void 0:c[e])==null?void 0:l.promise;return!BM.has(e)&&a!=null?(BM.add(e),a.then(u=>{var f;const d=u;return i.pageParam!=null&&Array.isArray(d.pageParams)&&d.pageParams.includes(i.pageParam)&&((f=d.pages)==null?void 0:f[i.pageParam])!=null?d.pages[i.pageParam]:d}).catch(()=>t(i,...o))):t(i,...o)};return $M(s).set(e,s),n.set(e,s),s};class one extends Aee{defaultQueryOptions(t){var r;const n=super.defaultQueryOptions(t);if(t._defaulted)return n;if(typeof n.queryFn=="function"&&n.queryKey){const s=(r=n.queryHash)!=null?r:lv(n.queryKey);n.queryFn=ine(s,n.queryFn)}return n}}function ane(){return new one(sne())}const en=ot(e=>ane()),am=T.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!am)throw new Error("Missing react shared internals. Check version.");function uv(){const e=am==null?void 0:am.H;return e!=null&&e.useState!==e.useReducer}function nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var cne={};function dv(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:cne}var r$=Object.assign,qm=Object.getOwnPropertyDescriptor,Ai=Object.defineProperty,Vh=Object.prototype,TN=[];Object.freeze(TN);var nw={};Object.freeze(nw);var lne=typeof Proxy<"u",une=Object.toString();function s$(){lne||nt("Proxy not available")}function i$(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ru=function(){};function Qr(e){return typeof e=="function"}function Bc(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function fv(e){return e!==null&&typeof e=="object"}function ho(e){if(!fv(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===une}function o$(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function zh(e,t,n){Ai(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function a$(e,t,n){Ai(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Aa(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return fv(r)&&r[n]===!0}}function ad(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function dne(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function no(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var c$=typeof Object.getOwnPropertySymbols<"u";function fne(e){var t=Object.keys(e);if(!c$)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Vh.propertyIsEnumerable.call(e,r)})):t}var Du=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:c$?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function l$(e){return e===null?null:typeof e=="object"?""+e:e}function io(e,t){return Vh.hasOwnProperty.call(e,t)}var hne=Object.getOwnPropertyDescriptors||function(t){var n={};return Du(t).forEach(function(r){n[r]=qm(t,r)}),n};function Hr(e,t){return!!(e&t)}function $r(e,t,n){return n?e|=t:e&=~t,e}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mne(r.key),r)}}function cd(e,t,n){return t&&pne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function su(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=gne(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(null,arguments)}function u$(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ON(e,t)}function _ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(e){if(typeof e=="string")return WM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WM(e,t):void 0}}var yi=Symbol("mobx-stored-annotations");function Hs(e){function t(n,r){if(Kh(r))return e.decorate_20223_(n,r);Yh(n,r,e)}return Object.assign(t,e)}function Yh(e,t,n){io(e,yi)||zh(e,yi,_a({},e[yi])),Ane(n)||(e[yi][t]=n)}function vne(e){return io(e,yi)||zh(e,yi,_a({},e[yi])),e[yi]}function Kh(e){return typeof e=="object"&&typeof e.kind=="string"}var Ue=Symbol("mobx administration"),Na=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=gt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return I$(this)},t.reportChanged=function(){Or(),P$(this),br()},t.toString=function(){return this.name_},cd(e,[{key:"isBeingObserved",get:function(){return Hr(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=$r(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Hr(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=$r(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Hr(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=$r(this.flags_,e.diffValueMask_,r===1)}}])})();Na.isBeingObservedMask_=1;Na.isPendingUnobservationMask_=2;Na.diffValueMask_=4;var rw=Aa("Atom",Na);function hv(e,t,n){t===void 0&&(t=ru),n===void 0&&(n=ru);var r=new Na(e);return t!==ru&&F$(r,t),n!==ru&&aw(r,n),r}function Ene(e,t){return e===t}function Cne(e,t){return hw(e,t)}function yne(e,t){return hw(e,t,1)}function Sne(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Hc={identity:Ene,structural:Cne,default:Sne,shallow:yne};function $c(e,t,n){return yv(e)?e:Array.isArray(e)?Sn.array(e,{name:n}):ho(e)?Sn.object(e,void 0,{name:n}):ad(e)?Sn.map(e,{name:n}):no(e)?Sn.set(e,{name:n}):typeof e=="function"&&!Fu(e)&&!Gu(e)?o$(e)?qc(e):Uu(n,e):e}function Tne(e,t,n){if(e==null||qn(e)||Rr(e)||Vn(e)||Tn(e))return e;if(Array.isArray(e))return Sn.array(e,{name:n,deep:!1});if(ho(e))return Sn.object(e,void 0,{name:n,deep:!1});if(ad(e))return Sn.map(e,{name:n,deep:!1});if(no(e))return Sn.set(e,{name:n,deep:!1})}function pv(e){return e}function One(e,t){return hw(e,t)?t:e}var d$="override",bne=Hs({annotationType_:d$,make_:Nne,extend_:Ine,decorate_20223_:Pne});function Ane(e){return e.annotationType_===d$}function Nne(e,t){return 0}function Ine(e,t,n,r){nt("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function Pne(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function Jh(e,t){return{annotationType_:e,options_:t,make_:wne,extend_:Rne,decorate_20223_:xne}}function wne(e,t,n,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Fu(n.value))return 1;var i=f$(e,this,t,n,!1);return Ai(r,t,i),2}function Rne(e,t,n,r){var s=f$(e,this,t,n);return e.defineProperty_(t,s,r)}function xne(e,t){var n=t.kind,r=t.name,s=t.addInitializer,i=this,o=function(l){var u,d,f,h;return ma((u=(d=i.options_)==null?void 0:d.name)!=null?u:r.toString(),l,(f=(h=i.options_)==null?void 0:h.autoAction)!=null?f:!1)};if(n=="field")return function(c){var l,u=c;return Fu(u)||(u=o(u)),(l=i.options_)!=null&&l.bound&&(u=u.bind(this),u.isMobxAction=!0),u};if(n=="method"){var a;return Fu(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&s(function(){var c=this,l=c[r].bind(c);l.isMobxAction=!0,c[r]=l}),e}nt("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+("\n'"+i.annotationType_+"' can only be used on properties with a function value."))}function Mne(e,t,n,r){t.annotationType_,r.value}function f$(e,t,n,r,s){var i,o,a,c,l,u,d;s===void 0&&(s=ue.safeDescriptors),Mne(e,t,n,r);var f=r.value;if((i=t.options_)!=null&&i.bound){var h;f=f.bind((h=e.proxy_)!=null?h:e.target_)}return{value:ma((o=(a=t.options_)==null?void 0:a.name)!=null?o:n.toString(),f,(c=(l=t.options_)==null?void 0:l.autoAction)!=null?c:!1,(u=t.options_)!=null&&u.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function h$(e,t){return{annotationType_:e,options_:t,make_:kne,extend_:Lne,decorate_20223_:Dne}}function kne(e,t,n,r){var s;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!io(e.target_,t)||!Gu(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Gu(n.value))return 1;var i=p$(e,this,t,n,!1,!1);return Ai(r,t,i),2}function Lne(e,t,n,r){var s,i=p$(e,this,t,n,(s=this.options_)==null?void 0:s.bound);return e.defineProperty_(t,i,r)}function Dne(e,t){var n,r=t.name,s=t.addInitializer;return Gu(e)||(e=qc(e)),(n=this.options_)!=null&&n.bound&&s(function(){var i=this,o=i[r].bind(i);o.isMobXFlow=!0,i[r]=o}),e}function Une(e,t,n,r){t.annotationType_,r.value}function p$(e,t,n,r,s,i){i===void 0&&(i=ue.safeDescriptors),Une(e,t,n,r);var o=r.value;if(Gu(o)||(o=qc(o)),s){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function sw(e,t){return{annotationType_:e,options_:t,make_:Fne,extend_:Gne,decorate_20223_:jne}}function Fne(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Gne(e,t,n,r){return Bne(e,this,t,n),e.defineComputedProperty_(t,_a({},this.options_,{get:n.get,set:n.set}),r)}function jne(e,t){var n=this,r=t.name,s=t.addInitializer;return s(function(){var i=dl(this)[Ue],o=_a({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),i.values_.set(r,new Vs(o))}),function(){return this[Ue].getObservablePropValue_(r)}}function Bne(e,t,n,r){t.annotationType_,r.get}function _v(e,t){return{annotationType_:e,options_:t,make_:Hne,extend_:$ne,decorate_20223_:Wne}}function Hne(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function $ne(e,t,n,r){var s,i;return qne(e,this),e.defineObservableProperty_(t,n.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:$c,r)}function Wne(e,t){var n=this,r=t.kind,s=t.name,i=new WeakSet;function o(a,c){var l,u,d=dl(a)[Ue],f=new ua(c,(l=(u=n.options_)==null?void 0:u.enhancer)!=null?l:$c,"ObservableObject."+s.toString(),!1);d.values_.set(s,f),i.add(a)}if(r=="accessor")return{get:function(){return i.has(this)||o(this,e.get.call(this)),this[Ue].getObservablePropValue_(s)},set:function(c){return i.has(this)||o(this,c),this[Ue].setObservablePropValue_(s,c)},init:function(c){return i.has(this)||o(this,c),c}}}function qne(e,t,n,r){t.annotationType_}var Vne="true",zne=_$();function _$(e){return{annotationType_:Vne,options_:e,make_:Yne,extend_:Kne,decorate_20223_:Jne}}function Yne(e,t,n,r){var s,i;if(n.get)return ld.make_(e,t,n,r);if(n.set){var o=ma(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:ue.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(Ai(r,t,{configurable:!0,set:o}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(o$(n.value)){var c,l=(c=this.options_)!=null&&c.autoBind?qc.bound:qc;return l.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?Uu.bound:Uu;return u.make_(e,t,n,r)}var d=((s=this.options_)==null?void 0:s.deep)===!1?Sn.ref:Sn;if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function Kne(e,t,n,r){var s,i;if(n.get)return ld.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:ue.safeDescriptors?e.isPlainObject_:!0,set:ma(t.toString(),n.set)},r);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var o;n.value=n.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?Sn.ref:Sn;return a.extend_(e,t,n,r)}function Jne(e,t){nt("'"+this.annotationType_+"' cannot be used as a decorator")}var Xne="observable",Qne="observable.ref",Zne="observable.shallow",ere="observable.struct",m$={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(m$);function __(e){return e||m$}var bN=_v(Xne),tre=_v(Qne,{enhancer:pv}),nre=_v(Zne,{enhancer:Tne}),rre=_v(ere,{enhancer:One}),g$=Hs(bN);function m_(e){return e.deep===!0?$c:e.deep===!1?pv:ire(e.defaultDecorator)}function sre(e){var t;return e?(t=e.defaultDecorator)!=null?t:_$(e):void 0}function ire(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:$c}function v$(e,t,n){if(Kh(t))return bN.decorate_20223_(e,t);if(Bc(t)){Yh(e,t,bN);return}return yv(e)?e:ho(e)?Sn.object(e,t,n):Array.isArray(e)?Sn.array(e,t):ad(e)?Sn.map(e,t):no(e)?Sn.set(e,t):typeof e=="object"&&e!==null?e:Sn.box(e,t)}r$(v$,g$);var ore={box:function(t,n){var r=__(n);return new ua(t,m_(r),r.name,!0,r.equals)},array:function(t,n){var r=__(n);return(ue.useProxies===!1||r.proxy===!1?Sse:fse)(t,m_(r),r.name)},map:function(t,n){var r=__(n);return new uw(t,m_(r),r.name)},set:function(t,n){var r=__(n);return new dw(t,m_(r),r.name)},object:function(t,n,r){return Ia(function(){return cw(ue.useProxies===!1||(r==null?void 0:r.proxy)===!1?dl({},r):cse({},r),t,n)})},ref:Hs(tre),shallow:Hs(nre),deep:g$,struct:Hs(rre)},Sn=r$(v$,ore),E$="computed",are="computed.struct",AN=sw(E$),cre=sw(are,{equals:Hc.structural}),ld=function(t,n){if(Kh(n))return AN.decorate_20223_(t,n);if(Bc(n))return Yh(t,n,AN);if(ho(t))return Hs(sw(E$,t));var r=ho(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Vs(r)};Object.assign(ld,AN);ld.struct=Hs(cre);var qM,VM,Vm=0,lre=1,ure=(qM=(VM=qm(function(){},"name"))==null?void 0:VM.configurable)!=null?qM:!1,zM={value:"action",configurable:!0,writable:!1,enumerable:!1};function ma(e,t,n,r){n===void 0&&(n=!1);function s(){return C$(e,n,t,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return t.toString()},ure&&(zM.value=e,Ai(s,"name",zM)),s}function C$(e,t,n,r,s){var i=y$(e,t);try{return n.apply(r,s)}catch(o){throw i.error_=o,o}finally{S$(i)}}function y$(e,t,n,r){var s=!1,i=0,o=ue.trackingDerivation,a=!t||!o;Or();var c=ue.allowStateChanges;a&&(ul(),c=mv(!0));var l=vv(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:c,prevAllowStateReads_:l,notifySpy_:s,startTime_:i,actionId_:lre++,parentActionId_:Vm};return Vm=u.actionId_,u}function S$(e){Vm!==e.actionId_&&nt(30),Vm=e.parentActionId_,e.error_!==void 0&&(ue.suppressReactionErrors=!0),gv(e.prevAllowStateChanges_),Cu(e.prevAllowStateReads_),br(),e.runAsAction_&&oo(e.prevDerivation_),ue.suppressReactionErrors=!1}function iw(e,t){var n=mv(e);try{return t()}finally{gv(n)}}function mv(e){var t=ue.allowStateChanges;return ue.allowStateChanges=e,t}function gv(e){ue.allowStateChanges=e}var ua=(function(e){function t(r,s,i,o,a){var c;return i===void 0&&(i="ObservableValue"),a===void 0&&(a=Hc.default),c=e.call(this,i)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=s,c.name_=i,c.equals=a,c.value_=s(r,void 0,i),c}u$(t,e);var n=t.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==ue.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(_s(this)){var i=ms(this,{object:this,type:Ni,newValue:s});if(!i)return ue.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?ue.UNCHANGED:s},n.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),$s(this)&&Ws(this,{type:Ni,object:this,newValue:s,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return Qh(this,s)},n.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:Ni,newValue:this.value_,oldValue:void 0}),Zh(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return l$(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(Na),ow=Aa("ObservableValue",ua),Vs=(function(){function e(n){this.dependenciesState_=gt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=gt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ym(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=zm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||nt(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=ma("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Hc.structural:Hc.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){yre(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&nt(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)NN(this)&&(this.warnAboutUntrackedRead_(),Or(),this.value_=this.computeValue_(!1),br());else if(I$(this),NN(this)){var r=ue.trackingContext;this.keepAlive_&&!r&&(ue.trackingContext=this),this.trackAndCompute()&&Cre(this),ue.trackingContext=r}var s=this.value_;if(cm(s))throw s.cause;return s},t.set=function(r){if(this.setter_){this.isRunningSetter&&nt(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else nt(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===gt.NOT_TRACKING_,i=this.computeValue_(!0),o=s||cm(r)||cm(i)||!this.equals_(r,i);return o&&(this.value_=i),o},t.computeValue_=function(r){this.isComputing=!0;var s=mv(!1),i;if(r)i=T$(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(o){i=new Ym(o)}return gv(s),this.isComputing=!1,i},t.suspend_=function(){this.keepAlive_||(IN(this),this.value_=void 0)},t.observe_=function(r,s){var i=this,o=!0,a=void 0;return Ev(function(){var c=i.get();if(!o||s){var l=ul();r({observableKind:"computed",debugObjectName:i.name_,type:Ni,object:i,newValue:c,oldValue:a}),oo(l)}o=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return l$(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},cd(e,[{key:"isComputing",get:function(){return Hr(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=$r(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Hr(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=$r(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Hr(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=$r(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Hr(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=$r(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Hr(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=$r(this.flags_,e.diffValueMask_,r===1)}}])})();Vs.isComputingMask_=1;Vs.isRunningSetterMask_=2;Vs.isBeingObservedMask_=4;Vs.isPendingUnobservationMask_=8;Vs.diffValueMask_=16;var Wc=Aa("ComputedValue",Vs),gt;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(gt||(gt={}));var zm;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(zm||(zm={}));var Ym=function(t){this.cause=void 0,this.cause=t};function cm(e){return e instanceof Ym}function NN(e){switch(e.dependenciesState_){case gt.UP_TO_DATE_:return!1;case gt.NOT_TRACKING_:case gt.STALE_:return!0;case gt.POSSIBLY_STALE_:{for(var t=vv(!0),n=ul(),r=e.observing_,s=r.length,i=0;i<s;i++){var o=r[i];if(Wc(o)){if(ue.disableErrorBoundaries)o.get();else try{o.get()}catch(a){return oo(n),Cu(t),!0}if(e.dependenciesState_===gt.STALE_)return oo(n),Cu(t),!0}}return O$(e),oo(n),Cu(t),!1}}}function dre(){return ue.trackingDerivation!==null}function T$(e,t,n){var r=vv(!0);O$(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++ue.runId;var s=ue.trackingDerivation;ue.trackingDerivation=e,ue.inBatch++;var i;if(ue.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(o){i=new Ym(o)}return ue.inBatch--,ue.trackingDerivation=s,fre(e),Cu(r),i}function fre(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=gt.UP_TO_DATE_,s=0,i=e.unboundDepsCount_,o=0;o<i;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,s!==o&&(n[s]=a),s++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=s,e.newObserving_=null,i=t.length;i--;){var c=t[i];c.diffValue===0&&A$(c,e),c.diffValue=0}for(;s--;){var l=n[s];l.diffValue===1&&(l.diffValue=0,Ere(l,e))}r!==gt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function IN(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)A$(t[n],e);e.dependenciesState_=gt.NOT_TRACKING_}function Xh(e){var t=ul();try{return e()}finally{oo(t)}}function ul(){var e=ue.trackingDerivation;return ue.trackingDerivation=null,e}function oo(e){ue.trackingDerivation=e}function vv(e){var t=ue.allowStateReads;return ue.allowStateReads=e,t}function Cu(e){ue.allowStateReads=e}function O$(e){if(e.dependenciesState_!==gt.UP_TO_DATE_){e.dependenciesState_=gt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=gt.UP_TO_DATE_}}var hre=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Rf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},lm=!0,b$=!1,ue=(function(){var e=dv();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(lm=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Rf().version&&(lm=!1),lm?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Rf):(setTimeout(function(){b$||nt(35)},1),new Rf)})();function pre(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&nt(36),b$=!0,lm){var e=dv();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),ue=new Rf}}function _re(){return ue}function mre(){var e=new Rf;for(var t in e)hre.indexOf(t)===-1&&(ue[t]=e[t]);ue.allowStateChanges=!ue.enforceActions}function gre(e){return e.observers_&&e.observers_.size>0}function vre(e){return e.observers_}function Ere(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function A$(e,t){e.observers_.delete(t),e.observers_.size===0&&N$(e)}function N$(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,ue.pendingUnobservations.push(e))}function Or(){ue.inBatch++}function br(){if(--ue.inBatch===0){w$();for(var e=ue.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Vs&&n.suspend_())}ue.pendingUnobservations=[]}}function I$(e){var t=ue.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&ue.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&ue.inBatch>0&&N$(e),!1)}function P$(e){e.lowestObserverState_!==gt.STALE_&&(e.lowestObserverState_=gt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===gt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=gt.STALE_}))}function Cre(e){e.lowestObserverState_!==gt.STALE_&&(e.lowestObserverState_=gt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===gt.POSSIBLY_STALE_?t.dependenciesState_=gt.STALE_:t.dependenciesState_===gt.UP_TO_DATE_&&(e.lowestObserverState_=gt.UP_TO_DATE_)}))}function yre(e){e.lowestObserverState_===gt.UP_TO_DATE_&&(e.lowestObserverState_=gt.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===gt.UP_TO_DATE_&&(t.dependenciesState_=gt.POSSIBLY_STALE_,t.onBecomeStale_())}))}var zs=(function(){function e(n,r,s,i){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=gt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=zm.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),w$())},t.runReaction_=function(){if(!this.isDisposed){Or(),this.isScheduled=!1;var r=ue.trackingContext;if(ue.trackingContext=this,NN(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}ue.trackingContext=r,br()}},t.track=function(r){if(!this.isDisposed){Or(),this.isRunning=!0;var s=ue.trackingContext;ue.trackingContext=this;var i=T$(this,r,void 0);ue.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&IN(this),cm(i)&&this.reportExceptionInDerivation_(i.cause),br()}},t.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ue.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(i,r),ue.globalReactionErrorHandlers.forEach(function(o){return o(r,s)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Or(),IN(this),br()))},t.getDisposer_=function(r){var s=this,i=function o(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[Ue]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},cd(e,[{key:"isDisposed",get:function(){return Hr(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=$r(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Hr(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=$r(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Hr(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=$r(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Hr(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=$r(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Hr(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=$r(this.flags_,e.diffValueMask_,r===1)}}])})();zs.isDisposedMask_=1;zs.isScheduledMask_=2;zs.isTrackPendingMask_=4;zs.isRunningMask_=8;zs.diffValueMask_=16;function Sre(e){return ue.globalReactionErrorHandlers.push(e),function(){var t=ue.globalReactionErrorHandlers.indexOf(e);t>=0&&ue.globalReactionErrorHandlers.splice(t,1)}}var Tre=100,PN=function(t){return t()};function w$(){ue.inBatch>0||ue.isRunningReactions||PN(Ore)}function Ore(){ue.isRunningReactions=!0;for(var e=ue.pendingReactions,t=0;e.length>0;){++t===Tre&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,s=n.length;r<s;r++)n[r].runReaction_()}ue.isRunningReactions=!1}var Km=Aa("Reaction",zs);function bre(e){var t=PN;PN=function(r){return e(function(){return t(r)})}}function xf(){return!1}function R$(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var x$="action",Are="action.bound",M$="autoAction",Nre="autoAction.bound",k$="<unnamed action>",wN=Jh(x$),Ire=Jh(Are,{bound:!0}),RN=Jh(M$,{autoAction:!0}),Pre=Jh(Nre,{autoAction:!0,bound:!0});function L$(e){var t=function(r,s){if(Qr(r))return ma(r.name||k$,r,e);if(Qr(s))return ma(r,s,e);if(Kh(s))return(e?RN:wN).decorate_20223_(r,s);if(Bc(s))return Yh(r,s,e?RN:wN);if(Bc(r))return Hs(Jh(e?M$:x$,{name:r,autoAction:e}))};return t}var Zo=L$(!1);Object.assign(Zo,wN);var Uu=L$(!0);Object.assign(Uu,RN);Zo.bound=Hs(Ire);Uu.bound=Hs(Pre);function Jm(e){return C$(e.name||k$,!1,e,this,void 0)}function Fu(e){return Qr(e)&&e.isMobxAction===!0}function Ev(e,t){var n,r,s,i;t===void 0&&(t=nw);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new zs(o,function(){this.track(d)},t.onError,t.requiresObservable);else{var l=D$(t),u=!1;c=new zs(o,function(){u||(u=!0,l(function(){u=!1,c.isDisposed||c.track(d)}))},t.onError,t.requiresObservable)}function d(){e(c)}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((i=t)==null?void 0:i.signal)}var wre=function(t){return t()};function D$(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:wre}function U$(e,t,n){var r,s,i;n===void 0&&(n=nw);var o=(r=n.name)!=null?r:"Reaction",a=Zo(o,n.onError?Rre(n.onError,t):t),c=!n.scheduler&&!n.delay,l=D$(n),u=!0,d=!1,f,h=n.compareStructural?Hc.structural:n.equals||Hc.default,p=new zs(o,function(){u||c?_():d||(d=!0,l(_))},n.onError,n.requiresObservable);function _(){if(d=!1,!p.isDisposed){var m=!1,v=f;p.track(function(){var E=iw(!1,function(){return e(p)});m=u||!h(f,E),f=E}),(u&&n.fireImmediately||!u&&m)&&a(f,v,p),u=!1}}return(s=n)!=null&&(s=s.signal)!=null&&s.aborted||p.schedule_(),p.getDisposer_((i=n)==null?void 0:i.signal)}function Rre(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var xre="onBO",Mre="onBUO";function F$(e,t,n){return G$(xre,e,t,n)}function aw(e,t,n){return G$(Mre,e,t,n)}function G$(e,t,n,r){var s=typeof r=="function"?po(t,n):po(t),i=Qr(r)?r:n,o=e+"L";return s[o]?s[o].add(i):s[o]=new Set([i]),function(){var a=s[o];a&&(a.delete(i),a.size===0&&delete s[o])}}var kre="never",g_="always",Lre="observed";function j$(e){e.isolateGlobalState===!0&&pre();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(ue.useProxies=t===g_?!0:t===kre?!1:typeof Proxy<"u"),t==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var r=n===g_?g_:n===Lre;ue.enforceActions=r,ue.allowStateChanges=!(r===!0||r===g_)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in e&&(ue[s]=!!e[s])}),ue.allowStateReads=!ue.observableRequiresReaction,e.reactionScheduler&&bre(e.reactionScheduler)}function cw(e,t,n,r){var s=hne(t);return Ia(function(){var i=dl(e,r)[Ue];Du(s).forEach(function(o){i.extend_(o,s[o],n&&o in n?n[o]:!0)})}),e}function Dre(e,t){return B$(po(e,t))}function B$(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Fre(e.observing_).map(B$)),t}function Ure(e,t){return H$(po(e,t))}function H$(e){var t={name:e.name_};return gre(e)&&(t.observers=Array.from(vre(e)).map(H$)),t}function Fre(e){return Array.from(new Set(e))}var Gre=0;function Cv(){this.message="FLOW_CANCELLED"}Cv.prototype=Object.create(Error.prototype);function jre(e){return e instanceof Cv}var IC=h$("flow"),Bre=h$("flow.bound",{bound:!0}),qc=Object.assign(function(t,n){if(Kh(n))return IC.decorate_20223_(t,n);if(Bc(n))return Yh(t,n,IC);var r=t,s=r.name||"<unnamed flow>",i=function(){var a=this,c=arguments,l=++Gre,u=Zo(s+" - runid: "+l+" - init",r).apply(a,c),d,f=void 0,h=new Promise(function(p,_){var m=0;d=_;function v(C){f=void 0;var y;try{y=Zo(s+" - runid: "+l+" - yield "+m++,u.next).call(u,C)}catch(O){return _(O)}b(y)}function E(C){f=void 0;var y;try{y=Zo(s+" - runid: "+l+" - yield "+m++,u.throw).call(u,C)}catch(O){return _(O)}b(y)}function b(C){if(Qr(C==null?void 0:C.then)){C.then(b,_);return}return C.done?p(C.value):(f=Promise.resolve(C.value),f.then(v,E))}v(void 0)});return h.cancel=Zo(s+" - runid: "+l+" - cancel",function(){try{f&&YM(f);var p=u.return(void 0),_=Promise.resolve(p.value);_.then(ru,ru),YM(_),d(new Cv)}catch(m){d(m)}}),h};return i.isMobXFlow=!0,i},IC);qc.bound=Hs(Bre);function YM(e){Qr(e.cancel)&&e.cancel()}function Hre(e){return e}function Gu(e){return(e==null?void 0:e.isMobXFlow)===!0}function $re(e,t,n){var r;return Vn(e)||Rr(e)||ow(e)?r=_o(e):qn(e)&&(r=_o(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function Wre(e,t,n){return Qr(n)?Vre(e,t,n):qre(e,t)}function qre(e,t){return _o(e).intercept_(t)}function Vre(e,t,n){return _o(e,t).intercept_(n)}function $$(e,t){if(t===void 0)return Wc(e);if(qn(e)===!1||!e[Ue].values_.has(t))return!1;var n=po(e,t);return Wc(n)}function zre(e){return $$(e)}function Yre(e,t){return $$(e,t)}function W$(e,t){return e?t!==void 0?qn(e)?e[Ue].values_.has(t):!1:qn(e)||!!e[Ue]||rw(e)||Km(e)||Wc(e):!1}function yv(e){return W$(e)}function Kre(e,t){return W$(e,t)}function th(e){if(qn(e))return e[Ue].keys_();if(Vn(e)||Tn(e))return Array.from(e.keys());if(Rr(e))return e.map(function(t,n){return n});nt(5)}function Jre(e){if(qn(e))return th(e).map(function(t){return e[t]});if(Vn(e))return th(e).map(function(t){return e.get(t)});if(Tn(e))return Array.from(e.values());if(Rr(e))return e.slice();nt(6)}function Xre(e){if(qn(e))return th(e).map(function(t){return[t,e[t]]});if(Vn(e))return th(e).map(function(t){return[t,e.get(t)]});if(Tn(e))return Array.from(e.entries());if(Rr(e))return e.map(function(t,n){return[n,t]});nt(7)}function q$(e,t,n){if(arguments.length===2&&!Tn(e)){Or();var r=t;try{for(var s in r)q$(e,s,r[s])}finally{br()}return}qn(e)?e[Ue].set_(t,n):Vn(e)?e.set(t,n):Tn(e)?e.add(t):Rr(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&nt("Invalid index: '"+t+"'"),Or(),t>=e.length&&(e.length=t+1),e[t]=n,br()):nt(8)}function Qre(e,t){qn(e)?e[Ue].delete_(t):Vn(e)||Tn(e)?e.delete(t):Rr(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):nt(9)}function V$(e,t){if(qn(e))return e[Ue].has_(t);if(Vn(e))return e.has(t);if(Tn(e))return e.has(t);if(Rr(e))return t>=0&&t<e.length;nt(10)}function Zre(e,t){if(V$(e,t)){if(qn(e))return e[Ue].get_(t);if(Vn(e))return e.get(t);if(Rr(e))return e[t];nt(11)}}function ese(e,t,n){if(qn(e))return e[Ue].defineProperty_(t,n);nt(39)}function z$(e){if(qn(e))return e[Ue].ownKeys_();nt(38)}function tse(e,t,n,r){return Qr(n)?rse(e,t,n,r):nse(e,t,n)}function nse(e,t,n){return _o(e).observe_(t,n)}function rse(e,t,n,r){return _o(e,t).observe_(n,r)}function v_(e,t,n){return e.set(t,n),n}function Yl(e,t){if(e==null||typeof e!="object"||e instanceof Date||!yv(e))return e;if(ow(e)||Wc(e))return Yl(e.get(),t);if(t.has(e))return t.get(e);if(Rr(e)){var n=v_(t,e,new Array(e.length));return e.forEach(function(o,a){n[a]=Yl(o,t)}),n}if(Tn(e)){var r=v_(t,e,new Set);return e.forEach(function(o){r.add(Yl(o,t))}),r}if(Vn(e)){var s=v_(t,e,new Map);return e.forEach(function(o,a){s.set(a,Yl(o,t))}),s}else{var i=v_(t,e,{});return z$(e).forEach(function(o){Vh.propertyIsEnumerable.call(e,o)&&(i[o]=Yl(e[o],t))}),i}}function sse(e,t){return Yl(e,new Map)}function ise(){}function gi(e,t){t===void 0&&(t=void 0),Or();try{return e.apply(t)}finally{br()}}function xN(e,t,n){return arguments.length===1||t&&typeof t=="object"?ose(e,t):Y$(e,t,n||{})}function Y$(e,t,n){var r;if(typeof n.timeout=="number"){var s=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!o[Ue].isDisposed)if(o(),n.onError)n.onError(s);else throw s},n.timeout)}n.name="When";var i=ma("When-effect",t),o=Ev(function(a){var c=iw(!1,e);c&&(a.dispose(),r&&clearTimeout(r),i())},n);return o}function ose(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,s,i=new Promise(function(o,a){var c,l=Y$(e,o,_a({},t,{onError:a}));r=function(){l(),a(new Error("WHEN_CANCELLED"))},s=function(){l(),a(new Error("WHEN_ABORTED"))},t==null||(c=t.signal)==null||c.addEventListener==null||c.addEventListener("abort",s)}).finally(function(){var o;return t==null||(o=t.signal)==null||o.removeEventListener==null?void 0:o.removeEventListener("abort",s)});return i.cancel=r,i}function kl(e){return e[Ue]}var ase={has:function(t,n){return kl(t).has_(n)},get:function(t,n){return kl(t).get_(n)},set:function(t,n,r){var s;return Bc(n)?(s=kl(t).set_(n,r,!0))!=null?s:!0:!1},deleteProperty:function(t,n){var r;return Bc(n)?(r=kl(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var s;return(s=kl(t).defineProperty_(n,r))!=null?s:!0},ownKeys:function(t){return kl(t).ownKeys_()},preventExtensions:function(t){nt(13)}};function cse(e,t){var n,r;return s$(),e=dl(e,t),(r=(n=e[Ue]).proxy_)!=null?r:n.proxy_=new Proxy(e,ase)}function _s(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Qh(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),i$(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ms(e,t){var n=ul();try{for(var r=[].concat(e.interceptors_||[]),s=0,i=r.length;s<i&&(t=r[s](t),t&&!t.type&&nt(14),!!t);s++);return t}finally{oo(n)}}function $s(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Zh(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),i$(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Ws(e,t){var n=ul(),r=e.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](t);oo(n)}}function K$(e,t,n){return Ia(function(){var r,s=dl(e,n)[Ue];(r=t)!=null||(t=vne(e)),Du(t).forEach(function(i){return s.make_(i,t[i])})}),e}var PC=Symbol("mobx-keys");function lse(e,t,n){return ho(e)?cw(e,e,t,n):(Ia(function(){var r=dl(e,n)[Ue];if(!e[PC]){var s=Object.getPrototypeOf(e),i=new Set([].concat(Du(e),Du(s)));i.delete("constructor"),i.delete(Ue),zh(s,PC,i)}e[PC].forEach(function(o){return r.make_(o,t&&o in t?t[o]:!0)})}),e)}var KM="splice",Ni="update",use=1e4,dse={get:function(t,n){var r=t[Ue];return n===Ue?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):io(Xm,n)?Xm[n]:t[n]},set:function(t,n,r){var s=t[Ue];return n==="length"&&s.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:s.set_(parseInt(n),r),!0},preventExtensions:function(){nt(15)}},lw=(function(){function e(n,r,s,i){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new Na(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Qh(this,r)},t.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Zh(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&nt("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),o=0;o<r-s;o++)i[o]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},t.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&nt(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&e6(r+s+1)},t.spliceWithArray_=function(r,s,i){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?s=a-r:s==null?s=0:s=Math.max(0,Math.min(s,a-r)),i===void 0&&(i=TN),_s(this)){var c=ms(this,{object:this.proxy_,type:KM,index:r,removedCount:s,added:i});if(!c)return TN;s=c.removedCount,i=c.added}if(i=i.length===0?i:i.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var l=i.length-s;this.updateArrayLength_(a,l)}var u=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,s,i){if(i.length<use){var o;return(o=this.values_).splice.apply(o,[r,s].concat(i))}else{var a=this.values_.slice(r,r+s),c=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var l=0;l<i.length;l++)this.values_[r+l]=i[l];for(var u=0;u<c.length;u++)this.values_[r+i.length+u]=c[u];return a}},t.notifyArrayChildUpdate_=function(r,s,i){var o=!this.owned_&&xf(),a=$s(this),c=a||o?{observableKind:"array",object:this.proxy_,type:Ni,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),a&&Ws(this,c)},t.notifyArraySplice_=function(r,s,i){var o=!this.owned_&&xf(),a=$s(this),c=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:KM,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),a&&Ws(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&nt(17,r,i.length),r<i.length){this.atom_;var o=i[r];if(_s(this)){var a=ms(this,{type:Ni,object:this.proxy_,index:r,newValue:s});if(!a)return;s=a.newValue}s=this.enhancer_(s,o);var c=s!==o;c&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,o))}else{for(var l=new Array(r+1-i.length),u=0;u<l.length-1;u++)l[u]=void 0;l[l.length-1]=s,this.spliceWithArray_(i.length,0,l)}},e})();function fse(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),s$(),Ia(function(){var s=new lw(n,t,r,!1);a$(s.values_,Ue,s);var i=new Proxy(s.values_,dse);return s.proxy_=i,e&&e.length&&s.spliceWithArray_(0,0,e),i})}var Xm={clear:function(){return this.splice(0)},replace:function(t){var n=this[Ue];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var o=this[Ue];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,s)},spliceWithArray:function(t,n,r){return this[Ue].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Ue],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Ue].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Ue],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ue.trackingDerivation&&nt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&nt(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Ue],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Bt("at",ts);Bt("concat",ts);Bt("flat",ts);Bt("includes",ts);Bt("indexOf",ts);Bt("join",ts);Bt("lastIndexOf",ts);Bt("slice",ts);Bt("toString",ts);Bt("toLocaleString",ts);Bt("toSorted",ts);Bt("toSpliced",ts);Bt("with",ts);Bt("every",ii);Bt("filter",ii);Bt("find",ii);Bt("findIndex",ii);Bt("findLast",ii);Bt("findLastIndex",ii);Bt("flatMap",ii);Bt("forEach",ii);Bt("map",ii);Bt("some",ii);Bt("toReversed",ii);Bt("reduce",J$);Bt("reduceRight",J$);function Bt(e,t){typeof Array.prototype[e]=="function"&&(Xm[e]=t(e))}function ts(e){return function(){var t=this[Ue];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ii(e){return function(t,n){var r=this,s=this[Ue];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[e](function(o,a){return t.call(n,o,a,r)})}}function J$(e){return function(){var t=this,n=this[Ue];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(i,o,a){return s(i,o,a,t)},r[e].apply(r,arguments)}}var hse=Aa("ObservableArrayAdministration",lw);function Rr(e){return fv(e)&&hse(e[Ue])}var pse={},ea="add",Qm="delete",uw=(function(){function e(n,r,s){var i=this;r===void 0&&(r=$c),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ue]=pse,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,Qr(Map)||nt(18),Ia(function(){i.keysAtom_=hv("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,n&&i.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var s=this;if(!ue.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var o=i=new ua(this.has_(r),pv,"ObservableMap.key?",!1);this.hasMap_.set(r,o),aw(o,function(){return s.hasMap_.delete(r)})}return i.get()},t.set=function(r,s){var i=this.has_(r);if(_s(this)){var o=ms(this,{type:i?Ni:ea,object:this,newValue:s,name:r});if(!o)return this;s=o.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},t.delete=function(r){var s=this;if(this.keysAtom_,_s(this)){var i=ms(this,{type:Qm,object:this,name:r});if(!i)return!1}if(this.has_(r)){var o=xf(),a=$s(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:Qm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return gi(function(){var l;s.keysAtom_.reportChanged(),(l=s.hasMap_.get(r))==null||l.setNewValue_(!1);var u=s.data_.get(r);u.setNewValue_(void 0),s.data_.delete(r)}),a&&Ws(this,c),!0}return!1},t.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==ue.UNCHANGED){var o=xf(),a=$s(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:Ni,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),a&&Ws(this,c)}},t.addValue_=function(r,s){var i=this;this.keysAtom_,gi(function(){var l,u=new ua(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,u),s=u.value_,(l=i.hasMap_.get(r))==null||l.setNewValue_(!0),i.keysAtom_.reportChanged()});var o=xf(),a=$s(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:ea,object:this,name:r,newValue:s}:null;a&&Ws(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,s=this.keys();return JM({next:function(){var o=s.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:r.get(c)}}})},t.entries=function(){var r=this,s=this.keys();return JM({next:function(){var o=s.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,s){for(var i=su(this),o;!(o=i()).done;){var a=o.value,c=a[0],l=a[1];r.call(s,l,c,this)}},t.merge=function(r){var s=this;return Vn(r)&&(r=new Map(r)),gi(function(){ho(r)?fne(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var o=i[0],a=i[1];return s.set(o,a)}):ad(r)?(dne(r)||nt(19,r),r.forEach(function(i,o){return s.set(o,i)})):r!=null&&nt(20,r)}),this},t.clear=function(){var r=this;gi(function(){Xh(function(){for(var s=su(r.keys()),i;!(i=s()).done;){var o=i.value;r.delete(o)}})})},t.replace=function(r){var s=this;return gi(function(){for(var i=_se(r),o=new Map,a=!1,c=su(s.data_.keys()),l;!(l=c()).done;){var u=l.value;if(!i.has(u)){var d=s.delete(u);if(d)a=!0;else{var f=s.data_.get(u);o.set(u,f)}}}for(var h=su(i.entries()),p;!(p=h()).done;){var _=p.value,m=_[0],v=_[1],E=s.data_.has(m);if(s.set(m,v),s.data_.has(m)){var b=s.data_.get(m);o.set(m,b),E||(a=!0)}}if(!a)if(s.data_.size!==o.size)s.keysAtom_.reportChanged();else for(var C=s.data_.keys(),y=o.keys(),O=C.next(),A=y.next();!O.done;){if(O.value!==A.value){s.keysAtom_.reportChanged();break}O=C.next(),A=y.next()}s.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,s){return Zh(this,r)},t.intercept_=function(r){return Qh(this,r)},cd(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),Vn=Aa("ObservableMap",uw);function JM(e){return e[Symbol.toStringTag]="MapIterator",pw(e)}function _se(e){if(ad(e)||Vn(e))return e;if(Array.isArray(e))return new Map(e);if(ho(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return nt(21,e)}var mse={},dw=(function(){function e(n,r,s){var i=this;r===void 0&&(r=$c),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[Ue]=mse,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,Qr(Set)||nt(22),this.enhancer_=function(o,a){return r(o,a,s)},Ia(function(){i.atom_=hv(i.name_),n&&i.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;gi(function(){Xh(function(){for(var s=su(r.data_.values()),i;!(i=s()).done;){var o=i.value;r.delete(o)}})})},t.forEach=function(r,s){for(var i=su(this),o;!(o=i()).done;){var a=o.value;r.call(s,a,a,this)}},t.add=function(r){var s=this;if(this.atom_,_s(this)){var i=ms(this,{type:ea,object:this,newValue:r});if(!i)return this;r=i.newValue}if(!this.has(r)){gi(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var o=!1,a=$s(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:ea,object:this,newValue:r}:null;a&&Ws(this,c)}return this},t.delete=function(r){var s=this;if(_s(this)){var i=ms(this,{type:Qm,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var o=!1,a=$s(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:Qm,object:this,oldValue:r}:null;return gi(function(){s.atom_.reportChanged(),s.data_.delete(r)}),a&&Ws(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return XM({next:function(){var i=r.next(),o=i.value,a=i.done;return a?{value:void 0,done:a}:{value:[o,o],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,s=this.data_.values();return XM({next:function(){var o=s.next(),a=o.value,c=o.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(a),done:c}}})},t.intersection=function(r){if(no(r)&&!Tn(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},t.union=function(r){if(no(r)&&!Tn(r))return r.union(this);var s=new Set(this);return s.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(no(r)&&!Tn(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(no(r)&&!Tn(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},t.replace=function(r){var s=this;return Tn(r)&&(r=new Set(r)),gi(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):no(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&nt("Cannot initialize set from "+r)}),this},t.observe_=function(r,s){return Zh(this,r)},t.intercept_=function(r){return Qh(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},cd(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Tn=Aa("ObservableSet",dw);function XM(e){return e[Symbol.toStringTag]="SetIterator",pw(e)}var QM=Object.create(null),ZM="remove",X$=(function(){function e(n,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=zne),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new Na("ObservableObject.keys"),this.isPlainObject_=ho(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof Vs)return i.set(s),!0;if(_s(this)){var o=ms(this,{type:Ni,object:this.proxy_||this.target_,name:r,newValue:s});if(!o)return null;s=o.newValue}if(s=i.prepareNewValue_(s),s!==ue.UNCHANGED){var a=$s(this),c=!1,l=a||c?{type:Ni,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),a&&Ws(this,l)}return!0},t.get_=function(r){return ue.trackingDerivation&&!io(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,s,i){return i===void 0&&(i=!1),io(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!ue.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new ua(r in this.target_,pv,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},t.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[yi])!=null&&i[r])return;nt(1,s.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==Vh;){var a=qm(o,r);if(a){var c=s.make_(this,r,a,o);if(c===0)return;if(c===1)break}o=Object.getPrototypeOf(o)}tk(this,s,r)}},t.extend_=function(r,s,i,o){if(o===void 0&&(o=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,o);var a=i.extend_(this,r,s,o);return a&&tk(this,i,r),a},t.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Or();var o=this.delete_(r);if(!o)return o;if(_s(this)){var a=ms(this,{object:this.proxy_||this.target_,name:r,type:ea,newValue:s.value});if(!a)return null;var c=a.newValue;s.value!==c&&(s=_a({},s,{value:c}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else Ai(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{br()}return!0},t.defineObservableProperty_=function(r,s,i,o){o===void 0&&(o=!1),this.keysAtom_;try{Or();var a=this.delete_(r);if(!a)return a;if(_s(this)){var c=ms(this,{object:this.proxy_||this.target_,name:r,type:ea,newValue:s});if(!c)return null;s=c.newValue}var l=ek(r),u={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Ai(this.target_,r,u);var d=new ua(s,i,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{br()}return!0},t.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Or();var o=this.delete_(r);if(!o)return o;if(_s(this)){var a=ms(this,{object:this.proxy_||this.target_,name:r,type:ea,newValue:void 0});if(!a)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var c=ek(r),l={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,r,l))return!1}else Ai(this.target_,r,l);this.values_.set(r,new Vs(s)),this.notifyPropertyAddition_(r,void 0)}finally{br()}return!0},t.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!io(this.target_,r))return!0;if(_s(this)){var i=ms(this,{object:this.proxy_||this.target_,name:r,type:ZM});if(!i)return null}try{var o;Or();var a=$s(this),c=!1,l=this.values_.get(r),u=void 0;if(!l&&(a||c)){var d;u=(d=qm(this.target_,r))==null?void 0:d.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(l&&(this.values_.delete(r),l instanceof ua&&(u=l.value_),P$(l)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||c){var f={type:ZM,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:r};a&&Ws(this,f)}}finally{br()}return!0},t.observe_=function(r,s){return Zh(this,r)},t.intercept_=function(r){return Qh(this,r)},t.notifyPropertyAddition_=function(r,s){var i,o=$s(this),a=!1;if(o||a){var c=o||a?{type:ea,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;o&&Ws(this,c)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Du(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function dl(e,t){var n;if(io(e,Ue))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",s=new X$(e,new Map,String(r),sre(t));return zh(e,Ue,s),e}var gse=Aa("ObservableObjectAdministration",X$);function ek(e){return QM[e]||(QM[e]={get:function(){return this[Ue].getObservablePropValue_(e)},set:function(n){return this[Ue].setObservablePropValue_(e,n)}})}function qn(e){return fv(e)?gse(e[Ue]):!1}function tk(e,t,n){var r;(r=e.target_[yi])==null||delete r[n]}var vse=Z$(0),Ese=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),wC=0,Q$=function(){};function Cse(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Cse(Q$,Array.prototype);var fw=(function(e){function t(r,s,i,o){var a;return i===void 0&&(i="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,Ia(function(){var c=new lw(i,s,o,!0);c.proxy_=a,a$(a,Ue,c),r&&r.length&&a.spliceWithArray(0,0,r),Ese&&Object.defineProperty(a,"0",vse)}),a}u$(t,e);var n=t.prototype;return n.concat=function(){this[Ue].atom_.reportObserved();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return Rr(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,s=0;return pw({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},cd(t,[{key:"length",get:function(){return this[Ue].getArrayLength_()},set:function(s){this[Ue].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Q$);Object.entries(Xm).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&zh(fw.prototype,t,n)});function Z$(e){return{enumerable:!1,configurable:!0,get:function(){return this[Ue].get_(e)},set:function(n){this[Ue].set_(e,n)}}}function yse(e){Ai(fw.prototype,""+e,Z$(e))}function e6(e){if(e>wC){for(var t=wC;t<e+100;t++)yse(t);wC=e}}e6(1e3);function Sse(e,t,n){return new fw(e,t,n)}function po(e,t){if(typeof e=="object"&&e!==null){if(Rr(e))return t!==void 0&&nt(23),e[Ue].atom_;if(Tn(e))return e.atom_;if(Vn(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||nt(25,t,Zm(e)),n}if(qn(e)){if(!t)return nt(26);var r=e[Ue].values_.get(t);return r||nt(27,t,Zm(e)),r}if(rw(e)||Wc(e)||Km(e))return e}else if(Qr(e)&&Km(e[Ue]))return e[Ue];nt(28)}function _o(e,t){if(e||nt(29),t!==void 0)return _o(po(e,t));if(rw(e)||Wc(e)||Km(e)||Vn(e)||Tn(e))return e;if(e[Ue])return e[Ue];nt(24,e)}function Zm(e,t){var n;if(t!==void 0)n=po(e,t);else{if(Fu(e))return e.name;qn(e)||Vn(e)||Tn(e)?n=_o(e):n=po(e)}return n.name_}function Ia(e){var t=ul(),n=mv(!0);Or();try{return e()}finally{br(),gv(n),oo(t)}}var nk=Vh.toString;function hw(e,t,n){return n===void 0&&(n=-1),MN(e,t,n)}function MN(e,t,n,r,s){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var o=nk.call(e);if(o!==nk.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=rk(e),t=rk(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(Qr(c)&&c instanceof c&&Qr(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],s=s||[];for(var u=r.length;u--;)if(r[u]===e)return s[u]===t;if(r.push(e),s.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!MN(e[u],t[u],n-1,r,s))return!1}else{var d=Object.keys(e),f=d.length;if(Object.keys(t).length!==f)return!1;for(var h=0;h<f;h++){var p=d[h];if(!(io(t,p)&&MN(e[p],t[p],n-1,r,s)))return!1}}return r.pop(),s.pop(),!0}function rk(e){return Rr(e)?e.slice():ad(e)||Vn(e)||no(e)||Tn(e)?Array.from(e.entries()):e}var sk,Tse=((sk=dv().Iterator)==null?void 0:sk.prototype)||{};function pw(e){return e[Symbol.iterator]=Ose,Object.assign(Object.create(Tse),e)}function Ose(){return this}["Symbol","Map","Set"].forEach(function(e){var t=dv();typeof t[e]>"u"&&nt("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:R$,extras:{getDebugName:Zm},$mobx:Ue});const M9e=Object.freeze(Object.defineProperty({__proto__:null,$mobx:Ue,FlowCancellationError:Cv,ObservableMap:uw,ObservableSet:dw,Reaction:zs,_allowStateChanges:iw,_allowStateChangesInsideComputed:Jm,_allowStateReadsEnd:Cu,_allowStateReadsStart:vv,_autoAction:Uu,_endAction:S$,_getAdministration:_o,_getGlobalState:_re,_interceptReads:$re,_isComputingDerivation:dre,_resetGlobalState:mre,_startAction:y$,action:Zo,autorun:Ev,comparer:Hc,computed:ld,configure:j$,createAtom:hv,defineProperty:ese,entries:Xre,extendObservable:cw,flow:qc,flowResult:Hre,get:Zre,getAtom:po,getDebugName:Zm,getDependencyTree:Dre,getObserverTree:Ure,has:V$,intercept:Wre,isAction:Fu,isBoxedObservable:ow,isComputed:zre,isComputedProp:Yre,isFlow:Gu,isFlowCancellationError:jre,isObservable:yv,isObservableArray:Rr,isObservableMap:Vn,isObservableObject:qn,isObservableProp:Kre,isObservableSet:Tn,keys:th,makeAutoObservable:lse,makeObservable:K$,observable:Sn,observe:tse,onBecomeObserved:F$,onBecomeUnobserved:aw,onReactionError:Sre,override:bne,ownKeys:z$,reaction:U$,remove:Qre,runInAction:Jm,set:q$,spy:R$,toJS:sse,trace:ise,transaction:gi,untracked:Xh,values:Jre,when:xN},Symbol.toStringTag,{value:"Module"}));if(!T.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!K$)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function bse(e){e()}function Ase(e){e||(e=bse),j$({reactionScheduler:e})}var Nse=1e4,Ise=1e4,Pse=(function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Nse),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(i,o){s-i.registeredAt>=r&&(n.finalize(i.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Ise))}}),e})(),wse=typeof FinalizationRegistry<"u"?FinalizationRegistry:Pse,kN=new wse(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),RC={exports:{}},xC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik;function Rse(){if(ik)return xC;ik=1;var e=HP();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),_=p[0].inst,m=p[1];return i(function(){_.value=h,_.getSnapshot=f,c(_)&&m({inst:_})},[d,h,f]),s(function(){return c(_)&&m({inst:_}),d(function(){c(_)&&m({inst:_})})},[d]),o(h),h}function c(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch(p){return!0}}function l(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return xC.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,xC}var ok;function xse(){return ok||(ok=1,RC.exports=Rse()),RC.exports}var k9e=xse(),MC,kC,t6=typeof Symbol=="function"&&Symbol.for;kC=(MC=Object.getOwnPropertyDescriptor(function(){},"name"))===null||MC===void 0?void 0:MC.configurable;t6?Symbol.for("react.forward_ref"):typeof T.forwardRef=="function"&&T.forwardRef(function(e){return null}).$$typeof;t6?Symbol.for("react.memo"):typeof T.memo=="function"&&T.memo(function(e){return null}).$$typeof;var LC;Ase(sv.unstable_batchedUpdates);LC=kN.finalizeAllImmediately;let eg=0;function mo(e){try{return eg++,e()}finally{eg--}}function Mse(){!eg&&uv()&&LN(new Error("[signal] Must read signal with useObserve() or untracked() within React component"))}function kse(){eg&&LN(new Error("[signal] Cannot update signal value directly within useObserve(), memoSignal() or effect()")),uv()&&LN(new Error("[signal] Cannot update signal value directly within React component"))}function LN(e){ne(async()=>{const{DatadogLogger:t}=await Promise.resolve().then(()=>tne);return{DatadogLogger:t}},void 0).then(({DatadogLogger:t})=>t.addError(e))}function n6(e,t){const n=Fse(e),r=Sn.box(n?void 0:e,{deep:!1,name:t==null?void 0:t.name,equals:t==null?void 0:t.equals});let s=n?()=>{s=void 0,r.set(e())}:void 0;const i=()=>(s==null||s(),r.get()),o=t==null?void 0:t.getServerFallback,a=i6(i),c=o?Sv(a,{name:t.name,getServerFallback:o}):a;return c.set=l=>{kse(),Jm(()=>{r==null||r.set(s6(l)?l(Xh(i)):l)})},c}function Sv(e,t){const n=t==null?void 0:t.getServerFallback,r=ld(n?()=>Ov()?n():mo(e):()=>mo(e),{name:t==null?void 0:t.name,equals:t==null?void 0:t.equals});return i6(()=>r.get())}function Lse(e){if(uv())throw new Error("[signal] Cannot run effect directly within React component");let t;const n=Ev(()=>{t==null||t(),t=mo(e)});return()=>{n(),t==null||t()}}function ga(e,t,n){return U$(()=>mo(e),t,{equals:n==null?void 0:n.equals,fireImmediately:n==null?void 0:n.fireImmediately})}function lt(e){return Xh(()=>mo(e))}function Tv(e,t){return typeof t=="function"?xN(()=>mo(e),t):xN(()=>mo(e))}function nh(e){return Jm(e)}function ud(e,t,n){var c;let r,s,i;const o=hv((c=n==null?void 0:n.name)!=null?c:"external",()=>{r=!1,i=t(()=>{var u;if(!r)return;const l=e();((u=n==null?void 0:n.equals)!=null?u:Object.is)(s,l)||(s=l,o.reportChanged())}),s=e(),r=!0},()=>{r=!1,i==null||i()}),a=n==null?void 0:n.getServerFallback;return Sv(()=>a&&Ov()?a():(o.reportObserved()||(s=e()),s),{equals:n==null?void 0:n.equals})}const r6=n6(!0,{name:"isServerRendering"}),Ov=r6;function Dse(){"use forget";const e=j.c(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],T.useLayoutEffect(Use,t)}function Use(){r6.set(!1)}function Fse(e){return typeof e=="function"}function s6(e){return typeof e=="function"}function i6(e){return(()=>(Mse(),e()))}function Gse(e,t){var l;const n=Gs(e),r=t==null?void 0:t.enabled$,s=()=>n().enabled!==!1&&(r==null||lt(r)!==!1),i=Gs(()=>en().defaultQueryOptions(P(S({},n()),{notifyOnChangeProps:["data","error","fetchStatus","status"],experimental_prefetchInRender:!(t!=null&&t.skipPrefetchOnMount),enabled:s()}))),o=Gs(()=>new GH(en(),i())),a=async()=>{if(s())return await en().prefetchQuery(i())},c=Gs(()=>{var u;return!(t!=null&&t.skipPrefetchOnMount)&&s()&&a(),t!=null&&t.getServerData?$se(t.getServerData(),(u=t.serverDataType)!=null?u:"placeholder"):(r==null?void 0:r())===!1?ak():Hse()});return Object.assign(ud(()=>o().getCurrentResult(),u=>{let d;if(r&&n().enabled!==!1){const h=()=>{o().setOptions(P(S({},i()),{enabled:s()}))};h(),d=ga(r,h)}const f=o().subscribe(u);return()=>{d==null||d(),f()}},{name:(l=t==null?void 0:t.name)!=null?l:"reactQuerySignal",equals:o6,getServerFallback:c}),{prefetch:a,refetch(u){return o().getCurrentResult().refetch(u)},if$(u){return u?this():Ov()?ak():Bse(o().getCurrentResult())}})}function jse(e,t){var c;const n=en(),r=Gs(e),s=Gs(()=>{const l=r();return S({notifyOnChangeProps:["data","failureCount","isLoading","error","status","isFetchingNextPage","isFetchNextPageError","hasNextPage","fetchStatus"],refetchOnReconnect:!1,throwOnError:!1,queryHash:JSON.stringify(l.queryKey)},l)}),i=Gs(()=>new Iee(n,s())),o=()=>r().enabled!==!1,a=async()=>{if(o())return await en().prefetchInfiniteQuery(s())};return Object.assign(ud(()=>i().getCurrentResult(),l=>i().subscribe(l),{name:(c=t==null?void 0:t.name)!=null?c:"infiniteReactQuerySignal",equals:o6,getServerFallback:()=>Wse()}),{prefetch:a})}function bv(e){const t=en(),n=new Nee(t,e);return{mutate:async r=>{try{await n.mutate(r)}catch(s){}return n.getCurrentResult()},result$:ud(()=>n.getCurrentResult(),r=>n.subscribe(()=>{r()}))}}function o6(e,t){return e instanceof tg||t instanceof tg?e.data===t.data&&e.error===t.error&&e.status===t.status&&e.fetchStatus===t.fetchStatus:Object.is(e,t)}const Bse=Ao(e=>e.fetchStatus==="idle"&&!e.isLoading&&!e.isFetching&&!e.isStale?e:P(S({},e),{fetchStatus:"idle",isLoading:!1,isFetching:!1,isStale:!1})),a6={data:void 0,error:null,isError:!1,isLoadingError:!1,isPending:!0,isRefetchError:!1,isSuccess:!1,status:"pending"},ak=Gs(()=>_w(a6)),c6=P(S({},a6),{fetchStatus:"fetching",isFetching:!0,isLoading:!0}),Hse=Gs(()=>_w(c6));function $se(e,t){return _w({data:e,error:null,fetchStatus:t==="fresh"?"idle":"fetching",isError:!1,isFetched:t!=="placeholder",isFetching:t!=="fresh",isLoading:!1,isLoadingError:!1,isPending:!1,isPlaceholderData:t==="placeholder",isRefetchError:!1,isRefetching:t==="stale",isStale:t!=="fresh",isSuccess:!0,status:"success"})}function _w(e){return new tg(e)}class tg{constructor(t){R(this,"data");R(this,"dataUpdatedAt",0);R(this,"error",null);R(this,"errorUpdateCount",0);R(this,"errorUpdatedAt",0);R(this,"failureCount",0);R(this,"failureReason",null);R(this,"fetchStatus","idle");R(this,"isError",!1);R(this,"isFetched",!1);R(this,"isFetchedAfterMount",!1);R(this,"isFetching",!1);R(this,"isInitialLoading",!1);R(this,"isLoading",!1);R(this,"isLoadingError",!1);R(this,"isPaused",!1);R(this,"isPending",!1);R(this,"isPlaceholderData",!1);R(this,"isRefetchError",!1);R(this,"isRefetching",!1);R(this,"isStale",!1);R(this,"isSuccess",!1);R(this,"status","pending");Object.assign(this,t)}get promise(){return Promise.reject(new Error("[react-query-signal] Cannot use promise from SSR"))}refetch(){return Promise.reject(new Error("[react-query-signal] Cannot refetch from SSR"))}}function Wse(){return qse(P(S({},c6),{isFetchNextPageError:!1,isFetchPreviousPageError:!1}))}function qse(e){return new Vse(e)}class Vse extends tg{constructor(){super(...arguments);R(this,"hasNextPage",!1);R(this,"hasPreviousPage",!1);R(this,"isFetchNextPageError",!1);R(this,"isFetchingNextPage",!1);R(this,"isFetchPreviousPageError",!1);R(this,"isFetchingPreviousPage",!1)}fetchNextPage(){return Promise.reject(new Error("[react-query-signal] Cannot fetch from SSR"))}fetchPreviousPage(){return Promise.reject(new Error("[react-query-signal] Cannot fetch from SSR"))}}function l6(e,t){return n=>u6(e(n),t)}function u6(e,t=e.length){return new Proxy(((...n)=>e(...n)()),{get(n,r){return(...s)=>{const i=s.slice(0,t),o=s.slice(t),a=e(...i);if(typeof a[r]!="function"){if(o.length>0)throw new Error("signal$.".concat(String(r)," is not a function"));return a[r]}return a[r](...o)}}})}function ck(e){e.reaction=new zs("observer".concat(e.name),()=>{var r,s,i;if(!e.evaluate||!e.reaction){e.stateVersion=Symbol(),(r=e.onStoreChange)==null||r.call(e);return}let t,n;if(e.reaction.track(()=>{try{t=mo(e.evaluate)}catch(o){n=o}}),n!==void 0){e.stateVersion=Symbol(),(s=e.onStoreChange)==null||s.call(e);return}Object.is(t,e.lastValue)||(e.lastValue=t,e.stateVersion=Symbol(),(i=e.onStoreChange)==null||i.call(e))})}function Le(e,t="observed"){"use no forget";const n=Ft.useRef(null);if(!n.current){const o={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,lastValue:void 0,evaluate:null,subscribe(a){return kN.unregister(o),o.onStoreChange=a,o.reaction||(ck(o),o.stateVersion=Symbol()),()=>{var c;o.onStoreChange=null,(c=o.reaction)==null||c.dispose(),o.reaction=null}},getSnapshot(){return o.stateVersion}};n.current=o}const r=n.current;r.reaction||(ck(r),kN.register(n,r,r)),r.evaluate=e,T.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);let s,i;if(r.reaction.track(()=>{try{s=mo(e)}catch(o){i=o}}),r.lastValue=s,i)throw i;return s}const Ts=e=>zse(ot(e));function zse(e){return new Proxy((()=>e()()),{get(t,n){return(...r)=>{const s=e();if(typeof s[n]!="function"){if(r.length>0)throw new Error("signal$.".concat(String(n)," is not a function"));return s[n]}return s[n](...r)}}})}function Yse(e,t){var r;const n=t==null?void 0:t.selector;return ud(n?()=>n(e.getState()):()=>e.getState(),s=>e.subscribe(s),{name:(r=t==null?void 0:t.name)!=null?r:"storeSignal",getServerFallback:n?()=>n(e.getInitialState()):()=>e.getInitialState(),equals:t==null?void 0:t.equals})}function dd(e){return(...t)=>Ts(()=>e(...t))}const X=dd(n6),ie=dd(Sv),fl=dd(ud),ep=dd(Yse),Qt=dd(Gse),Kse=dd(jse);class df extends Error{}df.prototype.name="InvalidTokenError";function Jse(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function Xse(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Jse(t)}catch(n){return atob(t)}}function Qse(e,t){if(typeof e!="string")throw new df("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new df("Invalid token specified: missing part #".concat(n+1));let s;try{s=Xse(r)}catch(i){throw new df("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(i.message,")"))}try{return JSON.parse(s)}catch(i){throw new df("Invalid token specified: invalid json for part #".concat(n+1," (").concat(i.message,")"))}}const Zse="f700ea221d7179d2ee3ed2b022f6972f77a5a7a1",eie="prod",tie="",nie="",fd="".concat(eie,"-").concat(Zse).concat(tie).concat(nie),tp="4323075";var pe=(e=>(e.AgeVerification="oai-av-seen",e.AllowNonessential="oai-allow-ne",e.CookieBannerIgnored="oai-cbi",e.LastVoiceInteraction="oai-lvi",e.DeviceId="oai-did",e.DotcomDeviceId="dotcom-did",e.WaId="oai-wid",e.IpOverride="oai-ip-country",e.GeohashOverride="oai-geohash-override",e.IpCityOverride="oai-ip-city",e.ShowPaymentModal="ui-show-payment-modal",e.TempEnableUnauthedCompliance="temp-oai-compliance",e.Workspace="_account",e.WorkspaceResidencyRegion="_account_residency_region",e.WorkspaceIsFedrampCompliant="_account_is_fedramp",e.AcceptAccountId="_accept_account_id",e.LastLocation="oai-ll",e.HideLoggedOutBanner="hide-logged-out-banner",e.HasLoggedInBefore="oai-hlib",e.PunchOutInfoToken="oai-poit",e.PunchOutRequireLoginInfo="oai-porli",e.SharedConversationId="oai-sh-c-i",e.AuthSessionLoggingId="oai-asli",e.StayOnConversationAfterOnboarding="oai-scao",e.PunchOutRequireAnonToAuthedToken="oai-po-ra2a",e.PunchOutAnonToAuthedEnabled="oai-po-a2a",e.DowngradeAccountEnabled="oai-downgrade-account-enabled",e.DogfoodingAccountType="oai-dogfooding-account-type",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.HasClickedOnTryItFirstLink="oai-tif-20240402",e.IntercomDeviceIdProd="intercom-device-id-dgkjq2bp",e.IntercomDeviceIdDev="intercom-device-id-izw1u7l7",e.DomainMigrationSourceCompleted="oai-dm-src-c-240329",e.DomainMigrationTargetCompleted="oai-dm-tgt-c-240329",e.SignupRedirectUrl="signup_redirect_url",e.DesktopResultsTab="sonic_desktop_results_tab",e.NavigationState="oai-nav-state",e.PreferredLocale="oai-locale",e.InternalSearchSettings="oai-internal-search-settings",e.InternalSidebarApiSettings="oai-internal-sidebar-api-settings",e.LastUsedModel="oai-last-model",e.LastUsedModelConfig="oai-last-model-config",e.IsSpecificModel="oai-is-specific-model",e.ModelStickyForNewChats="oai-model-sticky-for-new-chats",e.GreetingName="oai-gn",e.headlineMessage="oai-hm",e.ConsentAnalytics="oai_consent_analytics",e.ConsentMarketing="oai_consent_marketing",e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.Msclkid="msclkid",e.LastSelectedGithubRepo="oai-last-selected-github-repo",e.ShowInternalModels="oai-show-internal-models",e.SidebarSections="oai-sidebar-sections",e.AccountInfo="oai-client-auth-info",e))(pe||{});const rie=["gclid","fbclid","rdt_cid","ttclid","li_fat_id","msclkid"],sie=["ajs_user_id","ajs_user_traits"],iie={sameSite:"lax"};var Ka={},E_={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var lk;function oie(){if(lk)return E_;lk=1,E_.parse=r,E_.serialize=s;var e=decodeURIComponent,t=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(o,a){if(typeof o!="string")throw new TypeError("argument str must be a string");for(var c={},l=a||{},u=o.split(";"),d=l.decode||e,f=0;f<u.length;f++){var h=u[f],p=h.indexOf("=");if(!(p<0)){var _=h.substring(0,p).trim();if(c[_]==null){var m=h.substring(p+1,h.length).trim();m[0]==='"'&&(m=m.slice(1,-1)),c[_]=i(m,d)}}}return c}function s(o,a,c){var l=c||{},u=l.encode||t;if(typeof u!="function")throw new TypeError("option encode is invalid");if(!n.test(o))throw new TypeError("argument name is invalid");var d=u(a);if(d&&!n.test(d))throw new TypeError("argument val is invalid");var f=o+"="+d;if(l.maxAge!=null){var h=l.maxAge-0;if(isNaN(h)||!isFinite(h))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(h)}if(l.domain){if(!n.test(l.domain))throw new TypeError("option domain is invalid");f+="; Domain="+l.domain}if(l.path){if(!n.test(l.path))throw new TypeError("option path is invalid");f+="; Path="+l.path}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(f+="; HttpOnly"),l.secure&&(f+="; Secure"),l.sameSite){var p=typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite;switch(p){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f}function i(o,a){try{return a(o)}catch(c){return o}}return E_}var uk;function aie(){return uk||(uk=1,(function(e){var t=Ka&&Ka.__assign||function(){return t=Object.assign||function(m){for(var v,E=1,b=arguments.length;E<b;E++){v=arguments[E];for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&(m[C]=v[C])}return m},t.apply(this,arguments)},n=Ka&&Ka.__rest||function(m,v){var E={};for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.indexOf(b)<0&&(E[b]=m[b]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,b=Object.getOwnPropertySymbols(m);C<b.length;C++)v.indexOf(b[C])<0&&Object.prototype.propertyIsEnumerable.call(m,b[C])&&(E[b[C]]=m[b[C]]);return E};Object.defineProperty(e,"__esModule",{value:!0}),e.checkCookies=e.hasCookie=e.removeCookies=e.deleteCookie=e.setCookies=e.setCookie=e.getCookie=e.getCookies=void 0;var r=oie(),s=function(){return typeof window<"u"},i=function(m){if(m==="true")return!0;if(m==="false")return!1;if(m!=="undefined")return m==="null"?null:m},o=function(m){m===void 0&&(m="");try{var v=JSON.stringify(m);return/^[\{\[]/.test(v)?v:m}catch(E){return m}},a=function(m){return m&&m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},c=function(m){var v;if(m&&(v=m.req),!s())return v&&v.cookies?v.cookies:v&&v.headers&&v.headers.cookie?(0,r.parse)(v.headers.cookie):{};for(var E={},b=document.cookie?document.cookie.split("; "):[],C=0,y=b.length;C<y;C++){var O=b[C].split("="),A=O.slice(1).join("="),N=O[0];E[N]=A}return E};e.getCookies=c;var l=function(m,v){var E=(0,e.getCookies)(v),b=E[m];if(b!==void 0)return i(a(b))};e.getCookie=l;var u=function(m,v,E){var b,C,y;if(E){var O=E.req,A=E.res,N=n(E,["req","res"]);C=O,y=A,b=N}var I=(0,r.serialize)(m,o(v),t({path:"/"},b));if(s())document.cookie=I;else if(y&&C){var w=y.getHeader("Set-Cookie");if(Array.isArray(w)||(w=w?[String(w)]:[]),y.setHeader("Set-Cookie",w.concat(I)),C&&C.cookies){var M=C.cookies;v===""?delete M[m]:M[m]=o(v)}if(C&&C.headers&&C.headers.cookie){var M=(0,r.parse)(C.headers.cookie);v===""?delete M[m]:M[m]=o(v),C.headers.cookie=Object.entries(M).reduce(function(D,L){return D.concat("".concat(L[0],"=").concat(L[1],";"))},"")}}};e.setCookie=u;var d=function(m,v,E){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,e.setCookie)(m,v,E)};e.setCookies=d;var f=function(m,v){return(0,e.setCookie)(m,"",t(t({},v),{maxAge:-1}))};e.deleteCookie=f;var h=function(m,v){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,e.deleteCookie)(m,v)};e.removeCookies=h;var p=function(m,v){if(!m)return!1;var E=(0,e.getCookies)(v);return E.hasOwnProperty(m)};e.hasCookie=p;var _=function(m,v){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,e.hasCookie)(m,v)};e.checkCookies=_})(Ka)),Ka}var C_=aie();const DC=".chatgpt.com",d6=window!==window.top,cie=e=>e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);class f6{constructor(){R(this,"allowAnalyticsCookies",!1);R(this,"allowMarketingCookies",!1);d6||(this.synchronizeWithLocalStorage(),setInterval(()=>this.synchronizeWithLocalStorage(),6e4))}setAllowAnalyticsCookies_CLIENT_ONLY(t){this.allowAnalyticsCookies=t,t===!1&&this.clearAnalyticsCookies()}setAllowMarketingCookies_CLIENT_ONLY(t){this.allowMarketingCookies=t,t===!1&&this.clearMarketingCookies()}clearAnalyticsCookies(){for(const t of sie)this.deleteCookie(t)}clearMarketingCookies(){for(const t of rie)this.deleteCookie(t)}synchronizeWithLocalStorage(){[pe.Workspace,pe.WorkspaceResidencyRegion,pe.DeviceId].forEach(n=>{const r=C_.getCookie(n);r!=null?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)})}_getCookie(t){const n=C_.getCookies()[t];return n===void 0?void 0:cie(n)}getCookie(t){return this._getCookie(t)}getBooleanCookie(t){const n=this._getCookie(t);return n==null?void 0:n==="true"}getAnalyticsCookie(t){if(this.allowAnalyticsCookies)return this._getCookie(t);this.deleteCookie(t)}getMarketingCookie(t){if(this.allowMarketingCookies)return this._getCookie(t);this.deleteCookie(t)}_setCookie(t,n,r){C_.setCookie(t,n,S(S({},iie),r))}setCookie(t,n,r){this._setCookie(t,n,r)}setBooleanCookie(t,n,r){this._setCookie(t,n!=null?n?"true":"false":void 0,r)}setAnalyticsCookie(t,n,r){this.allowAnalyticsCookies?this._setCookie(t,n,r):this.deleteCookie(t)}setMarketingCookie(t,n,r){this.allowMarketingCookies?this._setCookie(t,n,r):this.deleteCookie(t)}deleteCookie(t){const n={};C_.deleteCookie(t,n)}}class lie extends f6{getCookie(t){const n=localStorage.getItem(t);return typeof n=="string"?JSON.parse(n):n}setCookie(){}setAnalyticsCookie(){}setMarketingCookie(){}deleteCookie(){}setAllowAnalyticsCookies_CLIENT_ONLY(){}setAllowMarketingCookies_CLIENT_ONLY(){}}const Se=d6?new lie:new f6,uie=3600*24*30*12,die=()=>nr(),fie=e=>typeof e=="string"&&e.length>0,hie=e=>{const t={maxAge:uie};return e.endsWith("openai.com")?t.domain=".openai.com":e.endsWith("chatgpt.com")&&(t.domain=".chatgpt.com"),t};function pie(){var e;return(e=window.location.hostname)!=null?e:void 0}function Zr(e=pie()){const t=Se.getCookie(pe.DeviceId);if(fie(t))return t;const n=die(),r=hie(e);return Se.setCookie(pe.DeviceId,n,r),n}const _ie="OAI-Language",np="OAI-Client-Version",rp="OAI-Device-Id",zt="OAI-Product-Sku",mie="ChatGPT-Account-ID",Av="OAI-Client-Build-Number",gie={},dk=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=(d!=null?d:typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(gie?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,s,c);return c},hl=e=>e?dk(e):dk;var UC={exports:{}},FC={},GC={exports:{}},jC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk;function vie(){if(fk)return jC;fk=1;var e=HP();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),_=p[0].inst,m=p[1];return i(function(){_.value=h,_.getSnapshot=f,c(_)&&m({inst:_})},[d,h,f]),s(function(){return c(_)&&m({inst:_}),d(function(){c(_)&&m({inst:_})})},[d]),o(h),h}function c(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch(p){return!0}}function l(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return jC.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,jC}var hk;function Eie(){return hk||(hk=1,GC.exports=vie()),GC.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk;function Cie(){if(pk)return FC;pk=1;var e=HP(),t=Eie();function n(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return FC.useSyncExternalStoreWithSelector=function(l,u,d,f,h){var p=i(null);if(p.current===null){var _={hasValue:!1,value:null};p.current=_}else _=p.current;p=a(function(){function v(O){if(!E){if(E=!0,b=O,O=f(O),h!==void 0&&_.hasValue){var A=_.value;if(h(A,O))return C=A}return C=O}if(A=C,r(b,O))return A;var N=f(O);return h!==void 0&&h(A,N)?A:(b=O,C=N)}var E=!1,b,C,y=d===void 0?null:d;return[function(){return v(u())},y===null?void 0:function(){return v(y())}]},[u,d,f,h]);var m=s(l,p[0],p[1]);return o(function(){_.hasValue=!0,_.value=m},[m]),c(m),m},FC}var _k;function yie(){return _k||(_k=1,UC.exports=Cie()),UC.exports}var Sie=yie();const h6=jt(Sie),p6={},{useDebugValue:Tie}=Ft,{useSyncExternalStoreWithSelector:Oie}=h6;let mk=!1;const bie=e=>e;function sp(e,t=bie,n){(p6?"production":void 0)!=="production"&&n&&!mk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mk=!0);const r=Oie(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Tie(r),r}const gk=e=>{(p6?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?hl(e):e,n=(r,s)=>sp(t,r,s);return Object.assign(n,t),n},zn=e=>e?gk(e):gk,DN=new Set;function L9e(e){return DN.add(e),()=>DN.delete(e)}async function Aie(){await Promise.all(Array.from(DN).map(async e=>{try{await e()}catch(t){}}))}function D9e(){(async()=>(await Aie(),window.location.href=window.location.origin+"/auth/logout"))()}const ng="auth_session_logging_id";var mw=(e=>(e.OpenAI="openai",e.OpenAIDev="openai-dev",e.Mocked="mocked",e.OpenAISidetron="openai-sidetron",e.OpenAISidetronDev="openai-sidetron-dev",e))(mw||{}),Nie=(e=>(e[e.Auth0=1]="Auth0",e[e.WorkOS=2]="WorkOS",e))(Nie||{});const _6=ot(()=>{const e=pt(),t=e.authStatus==="logged_in"?e.session:null;return hl(()=>({session:t}))});function at(){return pt().authStatus==="logged_in"}function Pa(){return _6().getState().session}function ip(){var e;return(e=Pa())==null?void 0:e.accessToken}async function Iie(e){var t,n,r;try{const s=Date.now(),i=new URL("/api/auth/session",location.origin);i.searchParams.set("refresh","true");for(const[d,f]of Object.entries(e))i.searchParams.set(d,f);const o=Zr();q.addAction("Refreshing access token due to ".concat(e.reason," error."),P(S({},e),{url:location.origin+((t=e.path)!=null?t:""),deviceId:o}));const a=await fetch(i,{headers:{[rp]:o,[np]:fd,[Av]:tp}}),c=await a.json(),u=(Date.now()-s)/1e3;if(a.status!==200&&q.addAction("fetchSession.statusNon200",{status:a.status,reqDuration:u}),Object.keys(c).length)return c.accessToken==null&&c.error==null&&q.addAction("missing_access_token_error",{error:"Missing access token for User: ".concat((n=c.user)==null?void 0:n.id," (").concat(c.accessToken,")")}),c.error==="RefreshAccessTokenError"&&((r=window._oaiHandleSessionExpired)==null||r.call(window,"page load",c.error)),c.error&&q.addAction("fetchSession.error",{error:c.error}),c}catch(s){}return null}async function Pie(e){var t;try{const n=Date.now(),r=new URL("/api/auth/session",location.origin);r.searchParams.set("exchange_workspace_token","true"),r.searchParams.set("workspace_id",e.workspaceId),r.searchParams.set("reason",e.reason);const s=Zr();q.addAction("Exchanging workspace-scoped access token.",{reason:e.reason,workspaceId:e.workspaceId,deviceId:s});const i=await fetch(r,{headers:{[rp]:s,[np]:fd}}),o=await i.json(),c=(Date.now()-n)/1e3;if(i.status!==200&&q.addAction("exchangeWorkspaceTokenSession.statusNon200",{status:i.status,reqDuration:c}),Object.keys(o).length)return o.accessToken==null&&o.error==null&&q.addAction("missing_access_token_error",{error:"Missing access token for User: ".concat((t=o.user)==null?void 0:t.id," (").concat(o.accessToken,")")}),o.error&&q.addAction("exchangeWorkspaceTokenSession.error",{error:o.error}),o}catch(n){q.addError(n,{reason:e.reason,workspaceId:e.workspaceId})}return null}function wie(){return{session:Pa(),isLoading:!1}}function m6(e){return!e||!e.email?!1:e.email.endsWith("@openai.com")}var ju=(e=>(e.LoggedOut="logged_out",e.LoggedIn="logged_in",e))(ju||{});const U9e="https://api.openai.com/mfa",Rie="https://api.openai.com/auth",xie=ot(()=>({pending:null}));function Nv(e){const t=_6(),n=t.getState().session;n&&t.setState({session:P(S({},n),{accessToken:e})})}function Mie(e){var n;const t=xie();return(n=t.pending)!=null||(t.pending=(async()=>{try{q.addAction("access_token_refresh_started",e);const r=await Iie(e);r!=null&&r.accessToken?(q.addAction("access_token_refresh_succeeded",e),Nv(r.accessToken)):q.addAction("access_token_refresh_failed_no_token",S({},e))}catch(r){q.addAction("access_token_refresh_failed",P(S({},e),{error:r}))}finally{t.pending=null}})()),t.pending}async function kie(e,t){const n=await Pie({reason:t.reason,workspaceId:e});n!=null&&n.accessToken&&Nv(n.accessToken)}var Lie=(e=>(e[e.Unspecified=0]="Unspecified",e[e.Password=1]="Password",e[e.Google=2]="Google",e[e.Microsoft=3]="Microsoft",e[e.Apple=4]="Apple",e[e.Samlp=5]="Samlp",e[e.Oidc=6]="Oidc",e))(Lie||{});function Die(e){return e?e.startsWith("google-oauth2|")?2:e.startsWith("auth0|")?1:e.startsWith("apple|")?4:e.startsWith("windowslive|")?3:e.startsWith("samlp|")?5:e.startsWith("oidc|")?6:0:0}function Uie(){var n,r;const e=ip(),t=e?Qse(e):null;return{isSignup:(r=(n=t==null?void 0:t[Rie])==null?void 0:n.is_signup)!=null?r:!1,connectionType:Die(t==null?void 0:t.sub)}}class Fie{constructor(){R(this,"wantsModelSlug$",X(void 0));R(this,"selectedConversationId$",X(void 0));R(this,"wantsNewConversation$",X(!1));R(this,"newConversationGizmoId$",X(void 0));R(this,"prepareConversationDetails");R(this,"attachments");R(this,"whisperContent");R(this,"tabContext");R(this,"requestCompletionId");R(this,"requestCompletionId$",X(void 0));R(this,"requestCompletionAckId");R(this,"requestCompletionAckId$",X(void 0));R(this,"requestCompletion");R(this,"wantsRequestCompletion$",X(!1));R(this,"wantsClearComposer$",X(!1));R(this,"populatePrompt");R(this,"wantsPopulatePrompt$",X(!1));R(this,"context$",X(void 0));R(this,"suggestedActionsEnvelope$",X(void 0));R(this,"contextCollection$",X(void 0));R(this,"sideChatCompletionDetails");R(this,"wantsSideChatCompletion$",X(!1));R(this,"promptOrigin");R(this,"agentSessionMode$",X("signedInAccounts"));R(this,"agentSafeModeHasSeenNux$",X(void 0));R(this,"authSessionContext");R(this,"wantsAuthSessionContext$",X(!1));R(this,"agentRequest");R(this,"wantsHandleAgentRequest$",X(!1));R(this,"sidebarUrlTrayOpen$",X(!0));R(this,"activeTabContextItemIds$",X(null));R(this,"wantsAttachUserFile$",X(!1));R(this,"attachUserFileRequest");R(this,"wantsSetChatTheme$",X(!1));R(this,"chatTheme");R(this,"wantsInitialTab$",X(void 0))}}const No=X(()=>pt().windowStyle),Vt=new Fie,Iv="new_page_view",op="new_page_overlay_view",gw="sidebar_view",hd="ref",rh={name:hd,value:"mini"},g6={name:hd,value:"mini-ntp"},sh={name:hd,value:"mini-sidebar"},Gie=rh;function jie(){No.set(gw)}function Bie(){No.set(Iv)}function Hie(){No.set(op)}const ns=ot(()=>lt(()=>v6()||ap()||pl()));function F9e(e){"use forget";const t=j.c(3),n=ri();let r;return t[0]!==n||t[1]!==e?(r=()=>e(n),t[0]=n,t[1]=e,t[2]=r):r=t[2],Le(r)}function ap(){const e=No();return e==="mainPage"||e===Iv||e===op}function v6(){return cp()?No()===op:!1}function pl(e){const t=No();return t==="sidebar"||t===gw}function G9e(){return ns()?pl()?"atlas_sidechat":ap()?"atlas_ntp":null:null}function $ie(){const e=E6();return e===Iv||cp()&&e===op}function E6(){return pt().windowStyle}function Wie(e){switch(e){case op:return g6.value;case Iv:return rh.value;case"mainPage":return rh.value;case gw:return sh.value;case"sidebar":return sh.value;default:throw new Error("Invalid Aura window style: ".concat(e))}}function C6(e,t){const n=new URLSearchParams(e);return n.set(hd,t),n.toString()}function qie(e,t){const n=e.indexOf("#"),r=e.indexOf("?"),s=Math.min(r===-1?e.length:r,n===-1?e.length:n),i=e.slice(0,s),o=r===-1?"":e.slice(r+1,n===-1?e.length:n),a=n===-1?"":e.slice(n+1),c=C6(o,t);let l=i;return c&&(l+="?".concat(c)),a&&(l+="#".concat(a)),l}function Vie(e,t){var n,r,s;return{pathname:(n=e.pathname)!=null?n:"",search:C6(((r=e.search)!=null?r:"").replace(/^\?/,""),t),hash:((s=e.hash)!=null?s:"").replace(/^#/,"")}}function yu(e){const t=lt(()=>ns()?Wie(No()):void 0);return t?typeof e=="string"?qie(e,t):Vie(e,t):e}function y6(){return ns()&&pt().isContainerOTR===!0}function j9e(){return ap()||$ie()}function B9e(){return Le(()=>y6()?!0:ns()&&!at())}function H9e(){return Pe("71872232")}function $9e(){return Pe("757783264")}function cp(){return O6("use-hybrid-ntp")}function W9e(){return Pe("2892508745")}function S6(){return O6("multi-tab-context")}function q9e(){return S6()}function V9e(){const e=pt().containerBuildNumber;try{return e!==void 0&&BigInt(e)>=BigInt(20251119170220000)}catch(t){return!1}}function T6(){return cp()&&ns()}function z9e(){return ns()?cp()?pl():!0:!1}function O6(e){var t;return((t=pt().containerFlags)==null?void 0:t.includes(e))===!0}class zie extends TypeError{constructor(t,n){let r;const l=t,{message:s,explanation:i}=l,o=B(l,["message","explanation"]),{path:a}=t,c=a.length===0?s:"At path: ".concat(a.join(".")," -- ").concat(s);super(i!=null?i:c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r!=null?r:r=[t,...n()]}}function Yie(e){return lp(e)&&typeof e[Symbol.iterator]=="function"}function lp(e){return typeof e=="object"&&e!=null}function rg(e){return lp(e)&&!Array.isArray(e)}function Vc(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):"".concat(e)}function Kie(e){const{done:t,value:n}=e.next();return t?void 0:n}function Jie(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=n,{refinement:a,message:c="Expected a value of type `".concat(o,"`").concat(a?" with refinement `".concat(a,"`"):"",", but received: `").concat(Vc(r),"`")}=e;return P(S({value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i},e),{message:c})}function*vk(e,t,n,r){Yie(e)||(e=[e]);for(const s of e){const i=Jie(s,t,n,r);i&&(yield i)}}function*b6(e,t,n={}){const{path:r=[],branch:s=[e],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(e=t.coercer(e,a));let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of t.entries(e,a)){const f=b6(u,d,{path:l===void 0?r:[...r,l],branch:l===void 0?s:[...s,u],coerce:i,mask:o,message:n.message});for(const h of f)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(u=h[1],l===void 0?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):lp(e)&&(u!==void 0||l in e)&&(e[l]=u))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}class up{constructor(t){const{type:n,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,l)=>{const u=s(c,l);return vk(u,l,this,c)}:this.validator=()=>[],i?this.refiner=(c,l)=>{const u=i(c,l);return vk(u,l,this,c)}:this.refiner=()=>[]}assert(t,n){return Xie(t,this,n)}create(t,n){return Qie(t,this,n)}is(t){return eoe(t,this)}mask(t,n){return Zie(t,this,n)}validate(t,n={}){return dp(t,this,n)}}function Xie(e,t,n){const r=dp(e,t,{message:n});if(r[0])throw r[0]}function Qie(e,t,n){const r=dp(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Zie(e,t,n){const r=dp(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function eoe(e,t){return!dp(e,t)[0]}function dp(e,t,n={}){const r=b6(e,t,n),s=Kie(r);return s[0]?[new zie(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function vw(e,t){return new up({type:e,schema:null,validator:t})}function Y9e(e){return new up({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: ".concat(Vc(t))}})}function Ek(){return vw("boolean",e=>typeof e=="boolean")}function Ew(e){const t={},n=e.map(r=>Vc(r)).join();for(const r of e)t[r]=r;return new up({type:"enums",schema:t,validator(r){return e.includes(r)||"Expected one of `".concat(n,"`, but received: ").concat(Vc(r))}})}function toe(){return vw("never",()=>!1)}function A6(e){const t=e?Object.keys(e):[],n=toe();return new up({type:"object",schema:e||null,*entries(r){if(e&&lp(r)){const s=new Set(Object.keys(r));for(const i of t)s.delete(i),yield[i,r[i],e[i]];for(const i of s)yield[i,r[i],n]}},validator(r){return rg(r)||"Expected an object, but received: ".concat(Vc(r))},coercer(r,s){if(!rg(r))return r;const i=S({},r);if(s.mask&&e)for(const o in i)e[o]===void 0&&delete i[o];return i}})}function Ck(){return vw("string",e=>typeof e=="string"||"Expected a string, but received: ".concat(Vc(e)))}function K9e(e){const t=Object.keys(e);return new up({type:"type",schema:e,*entries(n){if(lp(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return rg(n)||"Expected an object, but received: ".concat(Vc(n))},coercer(n){return rg(n)?S({},n):n}})}var Ii=(e=>(e.Birthday="birthday",e.Sunshine="sunshine",e.GoldenHour="golden_hour",e.TrainingAllowed="training_allowed",e.ShowExpandedCodeView="show_expanded_code_view",e.VoiceName="voice_name",e.VoiceMainLanguage="voice_main_language",e.VoiceEnabled="voice_enabled",e.MemoryInSearch="memory_in_search",e.VoiceTrainingAllowed="voice_training_allowed",e.VideoTrainingAllowed="video_training_allowed",e.Moonshine="moonshine",e.UserMemoryV2Migrated="user_memory_v2_migrated",e.CodexTrainingAllowed="codex_training_allowed_v2",e.BrowserReferenceWebHistoryInChat="hippo_in_chat_allowed",e.ShowLegacyModels="show_legacy_models",e.HiveReferencedInInternalKnowledge="hive_referenced_in_internal_knowledge",e.ConnectorSearchEnabled="connector_search_enabled",e.DeveloperMode="developer_mode",e.Gift="gift",e.ChatTheme="chat_theme",e.LastUsedModelConfig="last_used_model_config",e.VoiceSpeed="voice_speed",e.EnableRemoteBrowserData="enable_remote_browser_data",e.EnableDeviceCodeAuth="enable_device_code_auth",e.UkdvthEntrypointVisible="ukdvth_entrypoint_visible",e.UkdvthMemoryEnabled="ukdvth_memory_enabled",e.IsMemoryEnabledForTempChat="is_memory_enabled_for_temp_chat",e.H17180rGmail="h17180r_gmail",e.H17180rGoogleCalendar="h17180r_google_calendar",e.H17180rGoogleContacts="h17180r_google_contacts",e.RecordMeetingOnCalendar="record_meeting_on_calendar",e.PreciseLocationEnabledForDevice="precise_location_enabled_for_device",e.PreciseLocationEligible="precise_location_eligible",e.AtlasAdultSearchAllowed="atlas_adult_search_allowed",e.AmphoraLocks="amphora_locks",e.OnboardingFreeTrialUpsellSeen="onboarding_free_trial_upsell_seen",e.BazaarPersonalizationEnabled="bazaar_personalization_enabled",e.BazaarHistoryEnabled="bazaar_history_enabled",e))(Ii||{}),jo=(e=>(e.DEEP_RESEARCH="deep_research",e.WORKSPACE_GPT_CUSTOM_ACTIONS="workspace_gpt_custom_actions",e.WORKSPACE_GPT_APPS="workspace_gpt_apps",e.APP_PAIRING="app_pairing",e.BROWSING="browsing",e.CANVAS="canvas",e.CANVAS_CODE_EXECUTION="canvas_code_execution",e.CANVAS_CODE_NETWORK_ACCESS="canvas_code_network_access",e.DALLE="dalle",e.MEMORY="sunshine",e.LEGACY_MODELS="legacy_models",e.CONTEXT_CONNECTOR_CONFLUENCE="context_connector_confluence",e.CONTEXT_CONNECTOR_GDRIVE="context_connector_gdrive",e.CONTEXT_CONNECTOR_JIRA="context_connector_java",e.CONTEXT_CONNECTOR_NOTION="context_connector_notion",e.CONTEXT_CONNECTOR_O365_PERSONAL="context_connector_o365_personal",e.CONTEXT_CONNECTOR_O365_BUSINESS="context_connector_o365_business",e.CONTEXT_CONNECTOR_SLACK="context_connector_slack",e.CONTEXT_CONNECTOR_GITHUB="context_connector_github",e.CLIENT_APPLICATION_APPLE="client_application_apple",e.CLIENT_APPLICATION_APPLE_MDM_REQUIRED="client_application_apple_mdm_required",e.MEMORY_IN_SEARCH="memory_in_search_2",e.VIDEO_SCREEN_SHARING="video_screen_sharing",e.AURA="aura",e.HIVE="hive",e.HIVE_KNOWLEDGE_RETRIEVAL="hive_knowledge_retrieval",e.ALLOW_CODEX_ACCESS="wham_access",e.ALLOW_CODEX_LOCAL_ACCESS="wham_local_access",e.CODEX_ADMIN="codex_admin",e.CODEX_AGENT_NETWORK_ACCESS="codex_agent_network_access",e.CODEX_DEVICE_CODE_AUTH="codex_device_code_auth",e.CODEX_SLACK_POSTING="codex_slack_posting",e.WORKSPACE_POLICY="workspace_policy",e.PROJECT_SHARING="project_sharing",e.PROJECT_SHARING_GA_OPT_OUT="project_sharing_ga_opt_out",e.AURA_GA_OPT_OUT="aura_ga_opt_out",e.REFERENCE_WEB_HISTORY_IN_CHAT="hippo_in_chat_allowed",e.SHOW_LOGO_IN_HEADER="show_logo_in_header",e.GPT51_GA_OPT_OUT="gpt51_ga_opt_out",e.ENABLE_CONVERSATION_CLASSIFIER="enable_conversation_classifier",e))(jo||{}),noe=(e=>(e.GUEST="chatgptguestplan",e.FREE="chatgptfreeplan",e.GO="chatgptgoplan",e.PLUS="chatgptplusplan",e.PRO="chatgptpro",e.PRO_FREE="chatgptprofreeplan",e.PLUS_FREE="chatgptplusfreeplan",e.SELF_SERVE_BUSINESS="chatgptteamplan",e.ENTERPRISE_CBP_SEAT_USAGE="chatgptbusiness_seat_usage",e.ENTERPRISE_CBP_FLAT="chatgptbusiness_flat",e.HC_SEAT_USAGE="chatgpthc_seat_usage",e.HC_FLAT="chatgpthc_flat",e.FINSERV_SEAT_USAGE="chatgptfinserv_seat_usage",e.FINSERV_FLAT="chatgptfinserv_flat",e.EDUCATION_CBP_FLAT="chatgpteducation_flat",e.FREE_WORKSPACE="chatgptfreeworkspaceplan",e.K12="chatgptk12plan",e.QUORUM="chatgptquorumplan",e.DEPRECATED_ENTERPRISE="chatgptenterpriseplan",e.DEPRECATED_EDU="chatgpteduplan",e))(noe||{}),se=(e=>(e.GUEST="guest",e.FREE="free",e.GO="go",e.PLUS="plus",e.PRO="pro",e.FREE_WORKSPACE="free_workspace",e.SELF_SERVE_BUSINESS="team",e.ENTERPRISE_CBP="business",e.HC="hc",e.FINSERV="finserv",e.EDUCATION_CBP="education",e.QUORUM="quorum",e.DEPRECATED_ENTERPRISE="enterprise",e.DEPRECATED_EDU="edu",e.K12="k12",e))(se||{}),N6=(e=>(e.ANYONE="anyone",e.NO_ONE="no_one",e.WORKSPACE_ONLY="workspace_only",e))(N6||{});const J9e={ALLOW_ALL:"allow_all",ALLOW_SPECIFIC:"allow_specific",ALLOW_NONE:"allow_none"};var roe=(e=>(e.GPT_SHARE_SETTINGS="gpt_share_setting",e.CHAT_SHARE_SETTINGS="chat_share_setting",e))(roe||{}),soe=(e=>(e.WORKSPACE="workspace",e.THIRD_PARTY="third_party",e.UNASSIGNED="unassigned",e))(soe||{}),ff=(e=>(e.WEB="web",e.IOS_APP="ios_app",e.ANDROID_APP="android_app",e.WINDOWS_APP="windows_app",e.MAC_APP="mac_os_app",e.DEFAULT="default",e))(ff||{}),ta=(e=>(e.CodeInterpreter="code_interpreter",e.Multimodal="multimodal",e.Retrieval="retrieval",e.ContextConnector="context_connector",e))(ta||{}),wa=(e=>(e.FREE="free",e.PLUS="plus",e))(wa||{}),Be=(e=>(e.TOOL_USE="tool_use",e.IMAGE="image",e.ATTACHMENT="attachment",e.AUDIO="audio",e.TARGETED_REPLY="targeted_reply",e.CANVAS_SUPPORTED="canvas_supported",e.TOOL_SEARCH="tool_search",e.CUSTOM_INSTRUCTIONS="custom_instructions",e.GIZMO_PROJECT="gizmo_project",e))(Be||{}),Ra=(e=>(e.SHORT_LABEL="short_label",e.TITLE="title",e))(Ra||{}),Su=(e=>(e[e.DEPRECATED_PENDING=1]="DEPRECATED_PENDING",e[e.DEPRECATED_FINISHED=2]="DEPRECATED_FINISHED",e[e.STREAMING=3]="STREAMING",e[e.UNREAD=4]="UNREAD",e[e.REALTIME=5]="REALTIME",e[e.REALTIME_BUSY=6]="REALTIME_BUSY",e[e.REALTIME_BACKGROUND=7]="REALTIME_BACKGROUND",e))(Su||{}),I6=(e=>(e[e.CLIENT=1]="CLIENT",e[e.SERVER=2]="SERVER",e))(I6||{}),Mn=(e=>(e.PERSONAL="personal",e.WORKSPACE="workspace",e))(Mn||{}),Mf=(e=>(e.OWNER="account-owner",e.ADMIN="account-admin",e.ANALYTICS_VIEWER="analytics-viewer",e.STANDARD="standard-user",e))(Mf||{}),ioe=(e=>(e.VERIFIED="verified",e.PENDING="pending",e.EXPIRED="expired",e))(ioe||{}),ooe=(e=>(e.PERCENTAGE="percentage",e.FIXED="fixed",e))(ooe||{}),aoe=(e=>(e.IMMEDIATE="immediate",e.TERM_END="term_end",e.DISCOUNT_END="discount_end",e))(aoe||{}),xn=(e=>(e.AceUpload="ace_upload",e.MyFiles="my_files",e.Multimodal="multimodal",e.Finch="finch",e.ProfilePicture="profile_picture",e.Gizmo="agent",e.DalleAgent="dalle_agent",e.Codex="codex",e.LibraryFiles="library_files",e))(xn||{}),Wr=(e=>(e.Initial="initial",e.FileCreated="file_created",e.FileUploaded="file_uploaded",e.FileProcessed="file_processed",e.RetrievalIndexCreated="retrieval_index_created",e))(Wr||{}),ih=(e=>(e.Success="success",e.Retry="retry",e.Error="error",e))(ih||{}),Tu=(e=>(e.Success="success",e.Failed="failed",e.Processing="processing",e.Skipped="skipped",e))(Tu||{}),Ne=(e=>(e.GDRIVE="gdrive",e.O365="o365",e.O365_PERSONAL="o365_personal",e.O365_BUSINESS="o365_business",e.CONFLUENCE="confluence",e.JIRA="java",e.NOTION_OPEN_CONNECTOR="notion_open_connector",e.SLACK_OPEN_CONNECTOR="slack_open_connector",e))(Ne||{});const x={GDRIVE_ACTION_CONNECTOR:"gdrive_action_connector",GITHUB_CONNECTOR:"github_connector",LINEAR_CONNECTOR:"linear_connector",LINEAR_CODEX_BOT_CONNECTOR:"linear_codex_bot_connector",DROPBOX_CONNECTOR:"dropbox_connector",SHAREPOINT_CONNECTOR:"sharepoint_connector",GCAL_CONNECTOR:"google_calendar_connector",GMAIL_CONNECTOR:"gmail_connector",GOOGLE_CONTACTS_CONNECTOR:"google_contacts_connector",TEAMS_CONNECTOR:"teams_connector",OUTLOOK_CALENDAR_CONNECTOR:"outlook_calendar_connector",OUTLOOK_EMAIL_CONNECTOR:"outlook_email_connector",BOX_CONNECTOR:"box_connector",INTERCOM_CONNECTOR:"intercom_connector",NOTION_CONNECTOR:"notion_connector",HUBSPOT_CONNECTOR:"hubspot_connector",SALESFORCE_CONNECTOR:"salesforce_connector",AHA_CONNECTOR:"aha_connector",ASANA_CONNECTOR:"asana_connector",AZURE_DEVOPS_CONNECTOR:"azure_devops_connector",BASECAMP_CONNECTOR:"basecamp_connector",CLICKUP_CONNECTOR:"clickup_connector",FRONT_CONNECTOR:"front_connector",GITLAB_CONNECTOR:"gitlab_connector",HELP_SCOUT_CONNECTOR:"help_scout_connector",IRONCLAD_CONNECTOR:"ironclad_connector",PIPEDRIVE_CONNECTOR:"pipedrive_connector",SHORTCUT_CONNECTOR:"shortcut_connector",TEAMWORK_CONNECTOR:"teamwork_connector",ZENDESK_CONNECTOR:"zendesk_connector",ZOHO_CONNECTOR:"zoho_connector",ZOHO_DESK_CONNECTOR:"zoho_desk_connector",CANVA_CONNECTOR:"canva_connector",SLACK_CONNECTOR:"slack_connector",SLACK_CODEX_CONNECTOR:"slack_codex_connector",SLACK_CODEX_BOT_CONNECTOR:"slack_codex_bot_connector",SHAREPOINT_ADMIN_CONNECTOR:"sharepoint_admin_connector",TEAMS_ADMIN_CONNECTOR:"teams_admin_connector",CONFLUENCE_CONNECTOR:"confluence_connector",JIRA_CONNECTOR:"jira_connector",JIRA_SERVICEMANAGEMENT_CONNECTOR:"jira_servicemanagement_connector",HEALTHKIT_CONNECTOR:"healthkit_connector",MEDICAL_RECORDS_CONNECTOR:"medical_records_connector"};var Cs=(e=>(e.MCP_CONNECTOR="mcp_connector",e))(Cs||{}),sg=(e=>(e.GDRIVE_SYNC_CONNECTOR="gdrive_sync_connector",e.SLACK_SYNC_CONNECTOR="slack_sync_connector",e))(sg||{}),um=(e=>(e.GCAL_CONNECTOR="gcal_action_connector",e.GMAIL_CONNECTOR="gmail_action_connector",e.GOOGLE_CONTACTS_CONNECTOR="google_contacts_action_connector",e))(um||{}),coe=(e=>(e.PAGE="page",e))(coe||{}),loe=(e=>(e.PAGE="page",e.DATABASE="database",e))(loe||{}),uoe=(e=>(e.MESSAGE="message",e))(uoe||{}),fp=(e=>(e.PYTHON="python",e.RETRIEVAL="retrieval",e.BROWSER="browser",e.CANVAS="canvas",e.FUNCTION="function",e.DALLE="dalle",e.API="api",e.PARALLEL_BROWSE="parallel_browse",e.MEMORY="memory",e.CONTEXT_CONNECTOR="context_connector",e.CONNECTOR="connector",e.JIT_PLUGIN="plugins_prototype",e.IMAGE_GEN="image_gen",e))(fp||{}),doe=(e=>(e.Gizmo="gizmo",e.Project="project",e.ShareableConversation="share_link",e.Conversation="conversation",e.Profile="profile",e.Message="message",e.Post="post",e.CommerceProduct="commerce_product",e.Connector="connector",e.CalpicoRoom="calpico_room",e))(doe||{}),foe=(e=>(e.UserName="user_name",e.UserEmail="user_email",e.EntityName="entity_name",e.EntityUrl="entity_url",e.SampleLongerInput="sample_longer_input",e.SampleUrl="sample_url_input",e.SampleIntInput="sample_int_input",e))(foe||{}),hoe=(e=>(e.FirstParty="1p",e.Calpico="calpico",e.ChatGPTPost="chatgpt_post",e.Commerce="commerce",e.GPTs="gpts",e))(hoe||{});const X9e={shouldnt_have_created:mn({id:"ImageGenFeedback.ShouldNotHaveCreated",defaultMessage:"Shouldn't have created an image"}),dont_like_style:mn({id:"ImageGenFeedback.DontLikeStyle",defaultMessage:"Don't like the style"}),didnt_fully_follow_instructions:mn({id:"ImageGenFeedback.DidntFollowInstructions",defaultMessage:"Didn't fully follow instructions"}),low_quality_or_distorted:mn({id:"ImageGenFeedback.LowQualityOrDistorted",defaultMessage:"Low quality or distorted"}),odd_cropping:mn({id:"ImageGenFeedback.OddCropping",defaultMessage:"Odd cropping"}),inaccurate_editing:mn({id:"ImageGenFeedback.InaccurateEditing",defaultMessage:"Inaccurate editing"}),inaccurate_text_rendering:mn({id:"ImageGenFeedback.InaccurateTextRendering",defaultMessage:"Inaccurate text rendering"}),unsafe_or_problematic:mn({id:"ImageGenFeedback.UnsafeOrProblematic",defaultMessage:"Unsafe or problematic"}),biased:mn({id:"ImageGenFeedback.Biased",defaultMessage:"Biased"}),other:mn({id:"ImageGenFeedback.Other",defaultMessage:"Other"})};var poe=(e=>(e.AUDIO_ISSUES="audio_issues",e.RESPONSE_QUALITY="response_quality",e.INTERRUPTIONS="interruptions",e.TRANSCRIPTION_ISSUES="transcription_issues",e.INAUDIBLE_ISSUES="inaudible_issues",e.OTHER="other",e))(poe||{});const Q9e={audio_issues:mn({id:"VoiceFeedback.AudioIssues",defaultMessage:"Audio issues"}),response_quality:mn({id:"VoiceFeedback.ResponseQuality",defaultMessage:"I didn't like the responses"}),interruptions:mn({id:"VoiceFeedback.Interruptions",defaultMessage:"It interrupted me"}),transcription_issues:mn({id:"VoiceFeedback.TranscriptionIssues",defaultMessage:"It misheard me"}),inaudible_issues:mn({id:"VoiceFeedback.InaudibleIssues",defaultMessage:"It couldn't hear me"}),other:mn({id:"VoiceFeedback.Other",defaultMessage:"Other"})};var _oe=(e=>(e.THUMBS_UP="thumbs_up",e.THUMBS_DOWN="thumbs_down",e))(_oe||{}),moe=(e=>(e.Auto="auto",e.Arabic="ar",e.Bosnian="bs",e.Bulgarian="bg",e.Catalan="ca",e.Chinese="zh",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.English="en",e.Finnish="fi",e.French="fr",e.Galician="gl",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Macedonian="mk",e.Malay="ms",e.Norwegian="no",e.Polish="pl",e.Portuguese="pt",e.Romanian="ro",e.Russian="ru",e.Slovak="sk",e.Spanish="es",e.Tagalog="tl",e.Tamil="ta",e.Thai="th",e.Turkish="tr",e.Swedish="sv",e.Ukrainian="uk",e.Vietnamese="vi",e))(moe||{});const Z9e="warm",eqe=["new_chat","switch_to_standard","ok","upgrade_to_plus","upgrade_to_pro"],BC="account_switch",HC="error",tqe=A6({email:Ck(),token:Ck()});var goe=(e=>(e.InvalidProof="invalid_proof",e.ExternalAccountAlreadyLinked="external_account_already_linked",e.InternalAccountAlreadyLinked="account_already_linked",e.UnsupportedPlatform="unsupported_platform",e.UnsupportedPlanType="unsupported_plan_type",e.SessionExpired="user_session_expired",e))(goe||{});function nqe(e){if(typeof e!="object"||e==null)return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function rqe(e){return e!=null}const voe=(e,t)=>e.includes(t),P6=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},sqe=(e,t=[])=>P6(e,yoe,t),iqe=(e,t=[])=>n=>P6(n,e,t),Eoe=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,Coe=(e,t)=>{const n=Eoe(e),r={};for(const s in t)r[s]=t[s](n==null?void 0:n[s]);return r},oqe=e=>t=>Coe(t,e),yoe=(e,t="")=>typeof e=="object"||e==null?t:String(e),aqe=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},w6=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},UN=(e,t,n=t[0])=>voe(t,e)?e:n,Soe=(e,t=e[0])=>n=>UN(n,e,t),cqe=e=>t=>t===void 0?void 0:e(t),lqe=e=>t=>t==null?null:e(t),Toe=()=>Pe("506294923");function ig(e){switch(e){case"gpt-4o":return Pe("1627380539");default:return!1}}var $C,yk;function R6(){if(yk)return $C;yk=1;var e=typeof nu=="object"&&nu&&nu.Object===Object&&nu;return $C=e,$C}var WC,Sk;function oi(){if(Sk)return WC;Sk=1;var e=R6(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return WC=n,WC}var qC,Tk;function pd(){if(Tk)return qC;Tk=1;var e=oi(),t=e.Symbol;return qC=t,qC}var VC,Ok;function Ooe(){if(Ok)return VC;Ok=1;var e=pd(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,s=e?e.toStringTag:void 0;function i(o){var a=n.call(o,s),c=o[s];try{o[s]=void 0;var l=!0}catch(d){}var u=r.call(o);return l&&(a?o[s]=c:delete o[s]),u}return VC=i,VC}var zC,bk;function boe(){if(bk)return zC;bk=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return zC=n,zC}var YC,Ak;function _d(){if(Ak)return YC;Ak=1;var e=pd(),t=Ooe(),n=boe(),r="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?s:r:i&&i in Object(a)?t(a):n(a)}return YC=o,YC}var KC,Nk;function ai(){if(Nk)return KC;Nk=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return KC=e,KC}var JC,Ik;function x6(){if(Ik)return JC;Ik=1;var e=_d(),t=ai(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(a){if(!t(a))return!1;var c=e(a);return c==r||c==s||c==n||c==i}return JC=o,JC}var XC,Pk;function Aoe(){if(Pk)return XC;Pk=1;var e=oi(),t=e["__core-js_shared__"];return XC=t,XC}var QC,wk;function Noe(){if(wk)return QC;wk=1;var e=Aoe(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return QC=n,QC}var ZC,Rk;function M6(){if(Rk)return ZC;Rk=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch(s){}try{return r+""}catch(s){}}return""}return ZC=n,ZC}var ey,xk;function Ioe(){if(xk)return ey;xk=1;var e=x6(),t=Noe(),n=ai(),r=M6(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,l=a.hasOwnProperty,u=RegExp("^"+c.call(l).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?u:i;return h.test(r(f))}return ey=d,ey}var ty,Mk;function Poe(){if(Mk)return ty;Mk=1;function e(t,n){return t==null?void 0:t[n]}return ty=e,ty}var ny,kk;function _l(){if(kk)return ny;kk=1;var e=Ioe(),t=Poe();function n(r,s){var i=t(r,s);return e(i)?i:void 0}return ny=n,ny}var ry,Lk;function Pv(){if(Lk)return ry;Lk=1;var e=_l(),t=e(Object,"create");return ry=t,ry}var sy,Dk;function woe(){if(Dk)return sy;Dk=1;var e=Pv();function t(){this.__data__=e?e(null):{},this.size=0}return sy=t,sy}var iy,Uk;function Roe(){if(Uk)return iy;Uk=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return iy=e,iy}var oy,Fk;function xoe(){if(Fk)return oy;Fk=1;var e=Pv(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var o=this.__data__;if(e){var a=o[i];return a===t?void 0:a}return r.call(o,i)?o[i]:void 0}return oy=s,oy}var ay,Gk;function Moe(){if(Gk)return ay;Gk=1;var e=Pv(),t=Object.prototype,n=t.hasOwnProperty;function r(s){var i=this.__data__;return e?i[s]!==void 0:n.call(i,s)}return ay=r,ay}var cy,jk;function koe(){if(jk)return cy;jk=1;var e=Pv(),t="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&s===void 0?t:s,this}return cy=n,cy}var ly,Bk;function Loe(){if(Bk)return ly;Bk=1;var e=woe(),t=Roe(),n=xoe(),r=Moe(),s=koe();function i(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,ly=i,ly}var uy,Hk;function Doe(){if(Hk)return uy;Hk=1;function e(){this.__data__=[],this.size=0}return uy=e,uy}var dy,$k;function wv(){if($k)return dy;$k=1;function e(t,n){return t===n||t!==t&&n!==n}return dy=e,dy}var fy,Wk;function Rv(){if(Wk)return fy;Wk=1;var e=wv();function t(n,r){for(var s=n.length;s--;)if(e(n[s][0],r))return s;return-1}return fy=t,fy}var hy,qk;function Uoe(){if(qk)return hy;qk=1;var e=Rv(),t=Array.prototype,n=t.splice;function r(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var a=i.length-1;return o==a?i.pop():n.call(i,o,1),--this.size,!0}return hy=r,hy}var py,Vk;function Foe(){if(Vk)return py;Vk=1;var e=Rv();function t(n){var r=this.__data__,s=e(r,n);return s<0?void 0:r[s][1]}return py=t,py}var _y,zk;function Goe(){if(zk)return _y;zk=1;var e=Rv();function t(n){return e(this.__data__,n)>-1}return _y=t,_y}var my,Yk;function joe(){if(Yk)return my;Yk=1;var e=Rv();function t(n,r){var s=this.__data__,i=e(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return my=t,my}var gy,Kk;function xv(){if(Kk)return gy;Kk=1;var e=Doe(),t=Uoe(),n=Foe(),r=Goe(),s=joe();function i(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,gy=i,gy}var vy,Jk;function Cw(){if(Jk)return vy;Jk=1;var e=_l(),t=oi(),n=e(t,"Map");return vy=n,vy}var Ey,Xk;function Boe(){if(Xk)return Ey;Xk=1;var e=Loe(),t=xv(),n=Cw();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Ey=r,Ey}var Cy,Qk;function Hoe(){if(Qk)return Cy;Qk=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Cy=e,Cy}var yy,Zk;function Mv(){if(Zk)return yy;Zk=1;var e=Hoe();function t(n,r){var s=n.__data__;return e(r)?s[typeof r=="string"?"string":"hash"]:s.map}return yy=t,yy}var Sy,eL;function $oe(){if(eL)return Sy;eL=1;var e=Mv();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Sy=t,Sy}var Ty,tL;function Woe(){if(tL)return Ty;tL=1;var e=Mv();function t(n){return e(this,n).get(n)}return Ty=t,Ty}var Oy,nL;function qoe(){if(nL)return Oy;nL=1;var e=Mv();function t(n){return e(this,n).has(n)}return Oy=t,Oy}var by,rL;function Voe(){if(rL)return by;rL=1;var e=Mv();function t(n,r){var s=e(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return by=t,by}var Ay,sL;function yw(){if(sL)return Ay;sL=1;var e=Boe(),t=$oe(),n=Woe(),r=qoe(),s=Voe();function i(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,Ay=i,Ay}var Ny,iL;function k6(){if(iL)return Ny;iL=1;var e=yw(),t="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,a=s?s.apply(this,o):o[0],c=i.cache;if(c.has(a))return c.get(a);var l=r.apply(this,o);return i.cache=c.set(a,l)||c,l};return i.cache=new(n.Cache||e),i}return n.Cache=e,Ny=n,Ny}var zoe=k6();const kv=jt(zoe),Yoe=L6(qP),ci=Koe(qP);function L6(e){return(t,n=D6)=>{const r=e(s=>kv((...i)=>t(s,...i),n));return(s,...i)=>r(s)(...i)}}function Koe(e){return(t,n=D6)=>{const r=e(i=>kv((...o)=>t(i,...o),n));return u6((i,...o)=>r(i)(...o),t.length)}}function D6(...e){return e.length===1?e[0]:JSON.stringify(e)}const Lv=ot(()=>hl(()=>({modals:[],nextKey:1})));function Os(e,t){Lv().setState(n=>{const r=n.modals.find(s=>s.ModalComponent===e);return r?{modals:[...n.modals.filter(s=>s.ModalComponent!==e),{key:r.key,ModalComponent:e,props:t}]}:{modals:[...n.modals,{key:n.nextKey,ModalComponent:e,props:t}],nextKey:n.nextKey+1}})}function Dv(e){Lv().setState(t=>({modals:t.modals.filter(n=>n.ModalComponent!==e)}))}function uqe(e){return Lv().getState().modals.some(t=>t.ModalComponent===e)}const Joe=T.memo(function({modal:{ModalComponent:t,props:n}}){return g.jsx(t,P(S({},n),{onClose:()=>{var r;(r=n==null?void 0:n.onClose)==null||r.call(n),Dv(t)}}))});function Xoe(){const e=Lv(),t=sp(e,n=>n.modals);return g.jsx(g.Fragment,{children:t.map(n=>g.jsx(Joe,{modal:n},n.key))})}const U6=()=>{},Qoe=()=>U6;function Zoe(e,t=U6){return T.useSyncExternalStore(Qoe,e,t)}function md(){return Zoe(()=>!0,()=>!1)}function eae(){return null}function Yn(e,t){var u;const n=Math.max(0,(u=t==null?void 0:t.numRetries)!=null?u:1),r=d=>new Promise(f=>{setTimeout(f,d)}),s=async()=>{var f;let d;for(let h=0;h<=n;h+=1)try{const p=await e();return"default"in p?p:{default:p}}catch(p){if(d=p,h<n){const _=200*2**h;await r(_)}}return q.addAction("Failed importing dynamic component",{error:d}),{default:(f=t==null?void 0:t.fallback)!=null?f:eae}},i=T.lazy(s),o=t==null?void 0:t.loading;function a(d){const[f]=T.useState(()=>l);return md()?f?g.jsx(f,S({},d)):g.jsx(T.Suspense,{fallback:o==null?null:g.jsx(o,S({},d)),children:g.jsx(i,S({},d))}):o!=null?g.jsx(o,S({},d)):null}let c,l;return a.prefetch=()=>(c!=null||(c=s().then(d=>{l=d.default})),c),a}const tae=Yn(()=>ne(()=>import("./73287a0b-enyn7xafqi9o6wft.js"),__vite__mapDeps([0,1,2,3])).then(e=>e.AllWorkspacesBlockedModal));function nae(e){Os(tae,{userEmail:e})}var rae={};const sae="https://chatgpt.com/backend/se";var PH,wH;const dqe=(wH=(PH=rae.VITE_VZA493Q_SERVICE_URL)!=null?PH:"https://operator.chatgpt.com")!=null?wH:"https://operator.chatgpt.com",Pi="personal",Uv=3600*24*90,fqe=Rt({signUpButtonText:{id:"Kiuf8K",defaultMessage:"Sign up"},logInButtonText:{id:"Yx8BXg",defaultMessage:"Log in"},cancelButtonText:{id:"DR1Cxg",defaultMessage:"Cancel"},continueButtonText:{id:"bT1n8o",defaultMessage:"Continue"},gotItButtonText:{id:"Eomb3Y",defaultMessage:"Got it"},stayLoggedOut:{id:"JpuO4U",defaultMessage:"Stay logged out"},somethingWentWrong:{id:"SJ1B8J",defaultMessage:"Something went wrong. Please try again later"},getGo:{id:"2tqf87",defaultMessage:"Get Go"},getPlus:{id:"nPUS9f",defaultMessage:"Get Plus"},getPro:{id:"MC/MAr",defaultMessage:"Get Pro"},getBusiness:{id:"V3AJYL",defaultMessage:"Get Business"},tryPlus:{id:"lhUk0N",defaultMessage:"Try Plus"},tryBusiness:{id:"D5Q+Xo",defaultMessage:"Try Business"},tryGo:{id:"OkPnQG",defaultMessage:"Try Go"},upgradeToPlus:{id:"LIJKv1",defaultMessage:"Upgrade to Plus"},upgradeToPro:{id:"U92S4K",defaultMessage:"Upgrade to Pro"},upgradeToGo:{id:"xbeQTB",defaultMessage:"Upgrade to Go"},joinGo:{id:"w4EEKa",defaultMessage:"Join Go"},joinPlus:{id:"HmtUzT",defaultMessage:"Join Plus"},joinPro:{id:"Ehp9lH",defaultMessage:"Join Pro"},unlockGo:{id:"C3xzfi",defaultMessage:"Unlock Go"},unlockPlus:{id:"W3hk8e",defaultMessage:"Unlock Plus"},unlockPro:{id:"TXstaY",defaultMessage:"Unlock Pro"},longCtaPlus:{id:"kp6hSg",defaultMessage:"Get better, faster answers"},longCtaPro:{id:"SEKq+P",defaultMessage:"Unlock all of ChatGPT"},upgradeYourPlan:{id:"aWGaHN",defaultMessage:"Upgrade your plan"},upgradePlan:{id:"N8cHz1",defaultMessage:"Upgrade plan"},upgrade:{id:"0CZNA2",defaultMessage:"Upgrade"},upgradeForFree:{id:"HPb9TH",defaultMessage:"Upgrade for free"},featureProjectsTasksCustomGPTs:{id:"pricing.plusRedesign.feature.projectsTasksCustomGPTs",defaultMessage:"Projects, tasks, custom GPTs"},maybeLater:{id:"common-message.maybeLater",defaultMessage:"Maybe later"},dismissUpgradeReminder:{id:"common-message.dismissUpgradeReminder",defaultMessage:"Dismiss upgrade reminder"},confirm:{id:"common-message.confirm",defaultMessage:"Confirm"},cancel:{id:"common-message.cancel",defaultMessage:"Cancel"},tryPlusTrial:{id:"common-message.tryPlusFree",defaultMessage:"Try Plus free"},chatGPT:{id:"common-message.chatGPT",defaultMessage:"ChatGPT"},connect:{id:"common-message.connect",defaultMessage:"Connect"},notApplicable:{id:"common-message.notApplicable",defaultMessage:"N/A"},contactSales:{id:"common-message.contactSales",defaultMessage:"Contact Sales"},close:{id:"common-message.close",defaultMessage:"Close"},back:{id:"common-message.back",defaultMessage:"Back"},delete:{id:"common-message.delete",defaultMessage:"Delete"},specialOffer:{id:"pricingPlanConstants.specialOffer",defaultMessage:"SPECIAL OFFER"},title:{id:"meta.title",defaultMessage:"ChatGPT | Smart, Fast & Free AI Chat"},planNameGo:{id:"common-message.planNameGo",defaultMessage:"Go"},planNamePlus:{id:"common-message.planNamePlus",defaultMessage:"Plus"},planNamePro:{id:"common-message.planNamePro",defaultMessage:"Pro"},planNameBusiness:{id:"common-message.planNameBusiness",defaultMessage:"Business"}});var iae=(e=>(e.APPLE="apple",e))(iae||{});const oae="gpt-4o",hqe=oae;var aae=(e=>(e.NoAuthPlan="ifpazk",e))(aae||{}),cae=(e=>(e.Go="zkl",e.Plus="ioaj",e.Pro="1k0d2",e.Business="oicnw",e))(cae||{});function pqe(){const e=ut("3233347819").get("is_login_modal_phase2_enabled",!1);return Xr().catch(()=>{}),e&&!ll()}function _qe(){const e=ut("3233347819").get("is_plain_login_page_enabled",!1);return Xr().catch(()=>{}),e}function lae(){const e=ut("3233347819").get("is_google_one_tap_non_home_page_only",!1);return Xr().catch(()=>{}),e}function uae(){const e=ut("3233347819").get("is_google_one_tap_new_user_only",!1);return Xr().catch(()=>{}),e}function Iy(){const e=ut("3233347819").get("is_google_one_tap_auto_login_enabled",!1);return Xr().catch(()=>{}),e}function mqe(){const e=ut("3233347819").get("is_login_modal_backdrop_clickable",!1);return Xr().catch(()=>{}),e}function dae(){const e=ut("2118136551").get("is_sidetron_noauth_enabled",!1);return Xr().catch(()=>{}),e}var F6=(e=>(e.control="control",e.ssoCollapsed="sso-collapsed",e.ssoUpCollapsed="sso-up-collapsed",e))(F6||{});function gqe(){const e=ut("3233347819").get("login_page_variation","control");return Xr().catch(()=>{}),gae(e)?e:"control"}function fae(){const e=Fv();return e==="oneTap"||e==="oneTapThenLoginModal"||e==="loginModalAndOneTap"}function hae(){const e=Fv();return e==="loginModal"||e==="loginModalThenOneTap"||e==="loginModalAndOneTap"}function pae(){return Fv()==="oneTapThenLoginModal"}function _ae(){return Fv()==="loginModalThenOneTap"}function mae(e){return Object.values(G6).includes(e)}function gae(e){return Object.values(F6).includes(e)}var G6=(e=>(e.loginModal="loginModal",e.oneTap="oneTap",e.oneTapThenLoginModal="oneTapThenLoginModal",e.loginModalThenOneTap="loginModalThenOneTap",e.loginModalAndOneTap="loginModalAndOneTap",e))(G6||{});function Fv(){const e=ut("3233347819").get("google_one_tap_home_page_variation","loginModal");return Xr().catch(()=>{}),mae(e)?e:"loginModal"}const Kl=X("unknown");function vae(){"use forget";return Le(Eae)}function Eae(){return Kl()}const j6=X(null,{name:"noAuthLoginModalOpen",getServerFallback:()=>null}),FN=X(!1,{name:"noAuthLoginModalHasShown",getServerFallback:()=>!1}),Cae=X(null,{name:"noAuthWelcomeBackModalOpen",getServerFallback:()=>null}),yae=X(!1,{name:"noAuthWelcomeBackModalHasShown",getServerFallback:()=>!1}),Sae=X(!1);function Sw(e){var t;return(t=e==null?void 0:e.startsWith("referrals"))!=null?t:!1}function vqe(){const{hash:e}=dn(),t=Sw(e.slice(1)),[n]=al(),r=n.get("program");return{isOpen:t,program:r}}function Eqe(){const{hash:e}=dn(),t=Sw(e.slice(1)),[n]=al(),r=n.get("code");return{isOpen:t,referralCode:r}}function Tae(){const{hash:e}=dn();return Sw(e.slice(1))}const Oae=T.createContext({postWithProfile:null,setIsReportModalOpen:e=>{}});function bae(){"use forget";const e=T.useContext(Oae);return!!(e!=null&&e.postWithProfile)}pe.IntercomDeviceIdProd;function B6(){return Nae()}function Aae(){const e=Se.getCookie(pe.AccountInfo);if(!e)return!1;try{return JSON.parse(e).loggedInWithGoogleOneTap===!0}catch(t){return!1}}function Nae(){var e;return(e=Se.getBooleanCookie(pe.HasLoggedInBefore))!=null?e:!1}const H6="has-dismissed-login-modal",Iae="slm",Cqe=()=>{"use forget";const e=j.c(16),[t,n]=T.useState(xae),r=Tae();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=at(),e[0]=s):s=e[0];const i=!s;let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=B6(),e[1]=o):o=e[1];const a=o,c=bae(),l=vae();let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=_n(),e[2]=u):u=e[2];const d=u;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{n(!0),sessionStorage.setItem(H6,"true")},e[3]=f):f=e[3];const h=f;let p;e[4]!==t||e[5]!==c||e[6]!==r||e[7]!==l?(p=i&&!t&&a&&!r&&!c&&!d&&!W6()&&$6()&&(hae()||l==="not_shown"&&pae()),e[4]=t,e[5]=c,e[6]=r,e[7]=l,e[8]=p):p=e[8];const _=p,m=Le(Mae);let v,E;if(e[9]!==m||e[10]!==_?(v=()=>{j6.set(_),_&&FN.set(!0),m&&FN.set(!0)},E=[_,m],e[9]=m,e[10]=_,e[11]=v,e[12]=E):(v=e[11],E=e[12]),T.useEffect(v,E),m){let C;return e[13]===Symbol.for("react.memo_cache_sentinel")?(C={isOpen:!1},e[13]=C):C=e[13],C}let b;return e[14]!==_?(b={isOpen:_,onClose:h},e[14]=_,e[15]=b):b=e[15],b},$6=()=>ll()?Pae():wae(),Pae=()=>ut("3233347819").get("enable_login_modal_for_mobile",!1),wae=()=>ut("3233347819").get("is_no_auth_login_modal_enabled",!1),yqe=()=>ut("3233347819").get("is_login_modal_spinner_enabled",!1),W6=()=>document.referrer===""?!1:new URL(document.referrer).pathname.startsWith("/auth/logout"),Rae=()=>location.pathname.startsWith("/auth/logout");function xae(){return new URLSearchParams(window.location.search).has(Iae)||sessionStorage.getItem(H6)!=null}function Mae(){return Sae()}var q6=(e=>(e.GPT_3_5="gpt3.5",e.GPT_4="gpt4",e.GPT_4o="gpt4o",e.HIDDEN="hidden",e))(q6||{});const Tw="WEB:",Sqe="".concat(Tw,":DUMMY");var kae=(e=>(e.Next="next",e.Variant="variant",e.Continue="continue",e))(kae||{}),we=(e=>(e.Root="root",e.User="user",e.Assistant="assistant",e.System="system",e.Critic="critic",e.Tool="tool",e.Developer="developer",e))(we||{}),Ys=(e=>(e.PrimaryAssistant="primary_assistant",e.GizmoInteraction="gizmo_interaction",e.GizmoMagicCreate="gizmo_magic_create",e.GizmoTest="gizmo_test",e.FlyingCircusCustomization="flying_circus_customization",e))(Ys||{});const st={Web:"web",Cloud:"cloud",GitHub:"github",GoogleDrive:"google_drive",GoogleCalendar:"google_calendar",Gmail:"gmail",GoogleContacts:"google_contacts",Dropbox:"dropbox",Linear:"linear",Sharepoint:"sharepoint",Teams:"teams",OutlookEmail:"outlook_email",OutlookCalendar:"outlook_calendar",Box:"box",Intercom:"intercom",Hubspot:"hubspot",Salesforce:"salesforce",Aha:"aha",Asana:"asana",AzureDevOps:"azure_devops",Basecamp:"basecamp",Clickup:"clickup",Front:"front",Gitlab:"gitlab",HelpScout:"help_scout",Ironclad:"ironclad",Pipedrive:"pipedrive",Shortcut:"shortcut",Teamwork:"teamwork",Zendesk:"zendesk",Zoho:"zoho",ZohoDesk:"zoho_desk",Canva:"canva",Notion:"notion",Slack:"slack",Confluence:"confluence",Jira:"jira",JiraServiceManagement:"jira_servicemanagement",Healthkit:"healthkit"};var Lae=(e=>(e.None="none",e.OAuth="oauth",e.ServiceHTTP="service_http",e))(Lae||{}),Dae=(e=>(e.CONVERSATION="conversation",e.REGENERATE="regenerate",e))(Dae||{}),Uae=(e=>(e.UNSUPPORTED_ATTACHMENT="unsupported_attachment",e.UNSUPPORTED_AUDIO="unsupported_audio",e.UNSUPPORTED_IMAGE="unsupported_image",e.UNSUPPORTED_TOOL_USE="unsupported_tool_use",e.UNSUPPORTED_GIZMO="unsupported_gizmo",e.UNSUPPORTED_CUSTOM_INSTRUCTIONS="unsupported_custom_instructions",e.UNSUPPORTED_TEMPORARY_CHAT="unsupported_temporary_chat",e.UNSUPPORTED_CANVAS="unsupported_canvas",e))(Uae||{}),Fae=(e=>(e.RATE_LIMIT="rate_limit",e))(Fae||{}),V6=(e=>(e.USER_VISIBLE_TOKEN="user_visible_token",e.COT_TOKEN="cot_token",e.NAVLINK_TOKEN="navlink_token",e))(V6||{}),z6=(e=>(e.First="first",e))(z6||{}),je=(e=>(e.Text="text",e.MultimodalText="multimodal_text",e.StructuredThoughts="thoughts",e.ReasoningRecap="reasoning_recap",e.TetherBrowsingCode="tether_browsing_code",e.Code="code",e.ExecutionOutput="execution_output",e.SystemError="system_error",e.SystemMessage="system_message",e.SystemContent="system_content",e.DeveloperContent="developer_content",e.TetherBrowsingDisplay="tether_browsing_display",e.TetherQuote="tether_quote",e.UserEditableContext="user_editable_context",e.ModelEditableContext="model_editable_context",e.SonicWebpage="sonic_webpage",e.ComputerOutput="computer_output",e.Error="error",e.SuperWidget="super_widget",e.CitableCodeOutput="citable_code_output",e))(je||{}),Pn=(e=>(e.Audio="audio",e.AudioAssetPointer="audio_asset_pointer",e.ImageAssetPointer="image_asset_pointer",e.Image="image",e.AudioTranscription="audio_transcription",e.RealTimeUserAudioVideoAssetPointer="real_time_user_audio_video_asset_pointer",e.SimpleImageAssetPointer="simple_image_asset_pointer",e.ArbitraryAssetPointer="arbitrary_asset_pointer",e.VideoAssetPointer="video_asset_pointer",e))(Pn||{}),oh=(e=>(e.Picker="Picker",e.Link="Link",e))(oh||{}),Nr=(e=>(e.SEND="send",e.GIZMO_TAG="gizmo_tag",e.FILE_UPLOAD="file_upload",e.PASTE_TEXT_TO_FILE="paste_text_to_file",e.REASON="reason",e.DEEP_RESEARCH="deep_research",e.IMAGE_GEN="image_gen",e.WHAM="wham",e.ODYSSEY="odyssey",e))(Nr||{}),Gae=(e=>(e.AUTHENTICATE="authenticate",e.AUTHENTICATE_SECONDARY="authenticate_secondary",e.NEW_CHAT="new_chat",e.DEEP_RESEARCH_IN_CONTEXT_UPSELL="deep_research_in_context_upsell",e.TRY_CODEX="try_codex",e.TRY_TATERTOT="try_tatertot",e.NOTIFY_ADMIN_FOR_CREDITS="notify_admin_for_credits",e.ADD_CREDITS="add_credits",e.CONNECT_CONNECTOR="connect_connector",e.UPGRADE_TO_GO="upgrade_to_go",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.GET_BUSINESS="get_business",e.GET_BUSINESS_TRIAL="get_business_trial",e.GET_PLUS_TRIAL="get_plus_trial",e))(Gae||{}),Ow=(e=>(e.DEEP_RESEARCH="deep_research",e.ODYSSEY="odyssey",e))(Ow||{}),jae=(e=>(e.VIEW="view",e.CLICK="click",e.DISMISS="dismiss",e))(jae||{}),Bae=(e=>(e.FILE_UPLOAD="file_upload",e.PHOTO_UPLOAD="photo_upload",e.AUTHENTICATE_LOGIN="authenticate_login",e.AUTHENTICATE_SIGNUP="authenticate_signup",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.SYSTEM_HINT="system_hint",e.DISMISS="dismiss",e.GET_GO="get_go",e.GET_TEAM="get_team",e.INVITE_TEAM_MEMBERS="invite_team_members",e.OPEN_URL="open_url",e.OPEN_LOCAL_URL="open_local_url",e.COPY_TO_CLIPBOARD="copy_to_clipboard",e.SHARE_CONVERSATION="share_conversation",e.UPDATE_MODEL_PICKER="update_model_picker",e.CREATE_PROMPT="create_prompt",e.UPDATE_PERSONALITY_TRAIT="update_personality_trait",e.DROPDOWN="dropdown",e.REGENERATE="regenerate",e.OPEN_CONNECTORS_ONBOARDING_MODAL="open_connectors_onboarding_modal",e.OPEN_CLAIM_BUSINESS_WORKSPACE_MODAL="open_claim_business_workspace_modal",e))(Bae||{}),Hae=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.COPY="copy",e.DROPDOWN="dropdown",e))(Hae||{}),$ae=(e=>(e.DEFAULT="default",e.COMPOSER="composer",e))($ae||{}),Wae=(e=>(e.DISMISS_ON_SEND="dismiss_on_send",e.PERSISTENT="persistent",e))(Wae||{}),GN=(e=>(e.SystemHint="systemHint",e.EcosystemMention="ecosystemMention",e))(GN||{});function Tqe(e){return"start_index"in e?{startIndex:e.start_index,endIndex:e.end_index,symbol:e.symbol}:e}var qae=(e=>(e.InstantQuery="instant_query",e.ComposerSearch="composer_search",e.UrlSearch="url_search",e))(qae||{}),Vae=(e=>(e.ONLY_ME="only_me",e.OPENAI="openai",e.EXTERNAL="external",e))(Vae||{}),zae=(e=>(e.RiskyDomainNotWatching="risky_domain_not_watching",e.UserInterrupted="user_interrupted",e.MaliciousInstructionDetected="malicious_instruction_detected",e.ModerationBlocked="moderation_blocked",e.Unknown="unknown",e))(zae||{}),Yae=(e=>(e.ToolWeb="tool:web",e.Onboarding="onboarding",e.AppPairing="tool:app-pairing",e.IPL="campaign:ipl",e))(Yae||{}),Y6=(e=>(e.Search="search",e.Canvas="canvas",e.ImageGen="image_gen_tool_enabled",e))(Y6||{}),K6=(e=>(e.Search="search",e.Click="click",e.MultiClick="mclick",e.Lookup="lookup",e.OpenUrl="open_url",e.Open="open",e.Quote="quote",e.QuoteFull="quote_full",e.QuoteLines="quote_lines",e.Back="back",e.Scroll="scroll",e.Spinner="spinner",e))(K6||{}),Kae=(e=>(e.Bing="bing",e.Fortis="fortis",e))(Kae||{}),Jae=(e=>(e.Starting="starting",e.Running="running",e.Done="done",e.Timeout="timeout",e.Error="error",e.Cancelled="cancelled",e))(Jae||{}),Xae=(e=>(e.AUTO="auto",e.GPT5="gpt-5",e.GPT5_PRO="gpt-5-pro",e))(Xae||{}),xr=(e=>(e.AUTO="auto",e.ON="reasoning",e.OFF="none",e.PRO="pro",e))(xr||{});const Qae="~oai~s1~";function Zae(e){let t=2166136261;for(let n=0,r=e.length;n<r;n++){const s=e.charCodeAt(n);t=Math.imul(t^s&255,16777619),t=Math.imul(t^s&65280,16777619)}return t>>>0}function na(e,t){if(typeof e!="number")throw new Error("Unexpected: ".concat(e));return t!=null&&e===ece(t)}const oL={};function ece(e){var t;return(t=oL[e])!=null?t:oL[e]=Zae(Qae+e)}const Oqe="n7jupd",J6="-0dy553y",tce=1338619165;function X6(e){return na(tce,e+J6)}const nce=3675352570;function bqe(e){return na(nce,e+J6)}var rce=(e=>(e[e.Setup=0]="Setup",e[e.Random=1]="Random",e[e.Animation=2]="Animation",e[e.Done=3]="Done",e[e.Thinking=4]="Thinking",e[e.KAUR1BR5=5]="KAUR1BR5",e[e.Research=6]="Research",e[e.Autoswitch=7]="Autoswitch",e))(rce||{});const Gv="agent",ce={Search:"search",Think:"reason",Research:"research",Canvas:"canvas",Picture:"picture",PictureV2:"picture_v2",Video:"video",Slurm:"slurm",ApiTool:"api_tool",Pineapple:"pineapple",Moonshine:"moonshine",Tatertot:"tatertot",Agent:"agent",Glaux:"glaux",WebHistory:"hippo"},bw="synthetic_connector";function Ou(e){return e===bw||Si(e)}function Q6(e){return Si(e)||ace(e)?!0:Object.values(ce).includes(e)}function sce(e){return Q6(e)?e:oce[e]}const ice="study",oce={connectors:ce.Slurm,image:ce.PictureV2,think:ce.Think,[ice]:ce.Tatertot,"company-knowledge":ce.Glaux};function Si(e){return typeof e=="string"&&e.startsWith("connector:")}function ace(e){return typeof e=="string"&&e.startsWith("context_scope:")}function jv(e){return"connector:".concat(e)}function Aqe(e){return"context_scope:".concat(e)}function Nqe(e){if(Si(e))return Aw(e)}function Aw(e){return e.split("connector:")[1]}var Z6=Symbol.for("immer-nothing"),aL=Symbol.for("immer-draftable"),At=Symbol.for("immer-state");function gs(e,...t){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Bu=Object.getPrototypeOf;function Hu(e){return!!e&&!!e[At]}function go(e){var t;return e?eW(e)||Array.isArray(e)||!!e[aL]||!!((t=e.constructor)!=null&&t[aL])||Hv(e)||$v(e):!1}var cce=Object.prototype.constructor.toString();function eW(e){if(!e||typeof e!="object")return!1;const t=Bu(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===cce}function $u(e,t){Bv(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Bv(e){const t=e[At];return t?t.type_:Array.isArray(e)?1:Hv(e)?2:$v(e)?3:0}function jN(e,t){return Bv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tW(e,t,n){const r=Bv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function lce(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hv(e){return e instanceof Map}function $v(e){return e instanceof Set}function wn(e){return e.copy_||e.base_}function BN(e,t){if(Hv(e))return new Map(e);if($v(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&eW(e))return Bu(e)?S({},e):Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[At];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const i=r[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Bu(e),n)}function Nw(e,t=!1){return Wv(e)||Hu(e)||!go(e)||(Bv(e)>1&&(e.set=e.add=e.clear=e.delete=uce),Object.freeze(e),t&&$u(e,(n,r)=>Nw(r,!0))),e}function uce(){gs(2)}function Wv(e){return Object.isFrozen(e)}var HN={};function zc(e){const t=HN[e];return t||gs(0,e),t}function dce(e,t){HN[e]||(HN[e]=t)}var ah;function og(){return ah}function fce(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cL(e,t){t&&(zc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $N(e){WN(e),e.drafts_.forEach(hce),e.drafts_=null}function WN(e){e===ah&&(ah=e.parent_)}function lL(e){return ah=fce(ah,e)}function hce(e){const t=e[At];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[At].modified_&&($N(t),gs(4)),go(e)&&(e=ag(t,e),t.parent_||cg(t,e)),t.patches_&&zc("Patches").generateReplacementPatches_(n[At].base_,e,t.patches_,t.inversePatches_)):e=ag(t,n,[]),$N(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Z6?e:void 0}function ag(e,t,n){if(Wv(t))return t;const r=t[At];if(!r)return $u(t,(s,i)=>dL(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return cg(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),$u(i,(a,c)=>dL(e,r,s,a,c,n,o)),cg(e,s,!1),n&&e.patches_&&zc("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function dL(e,t,n,r,s,i,o){if(Hu(s)){const a=i&&t&&t.type_!==3&&!jN(t.assigned_,r)?i.concat(r):void 0,c=ag(e,s,a);if(tW(n,r,c),Hu(c))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(go(s)&&!Wv(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ag(e,s),(!t||!t.scope_.parent_)&&cg(e,s)}}function cg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nw(t,n)}function pce(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:og(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=Iw;n&&(s=[r],i=ch);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var Iw={get(e,t){if(t===At)return e;const n=wn(e);if(!jN(n,t))return _ce(e,n,t);const r=n[t];return e.finalized_||!go(r)?r:r===Py(e.base_,t)?(wy(e),e.copy_[t]=lh(r,e)):r},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,n){const r=nW(wn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Py(wn(e),t),i=s==null?void 0:s[At];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(lce(n,s)&&(n!==void 0||jN(e.base_,t)))return!0;wy(e),Ji(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Py(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,wy(e),Ji(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=wn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){gs(11)},getPrototypeOf(e){return Bu(e.base_)},setPrototypeOf(){gs(12)}},ch={};$u(Iw,(e,t)=>{ch[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ch.deleteProperty=function(e,t){return ch.set.call(this,e,t,void 0)};ch.set=function(e,t,n){return Iw.set.call(this,e[0],t,n,e[0])};function Py(e,t){const n=e[At];return(n?wn(n):e)[t]}function _ce(e,t,n){var s;const r=nW(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function nW(e,t){if(!(t in e))return;let n=Bu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bu(n)}}function Ji(e){e.modified_||(e.modified_=!0,e.parent_&&Ji(e.parent_))}function wy(e){e.copy_||(e.copy_=BN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(c=i,...l){return o.produce(c,u=>n.call(this,u,...l))}}typeof n!="function"&&gs(6),r!==void 0&&typeof r!="function"&&gs(7);let s;if(go(t)){const i=lL(this),o=lh(t,void 0);let a=!0;try{s=n(o),a=!1}finally{a?$N(i):WN(i)}return cL(i,r),uL(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===Z6&&(s=void 0),this.autoFreeze_&&Nw(s,!0),r){const i=[],o=[];zc("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else gs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let r,s;return[this.produce(t,n,(o,a)=>{r=o,s=a}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){go(e)||gs(8),Hu(e)&&(e=gce(e));const t=lL(this),n=lh(e,void 0);return n[At].isManual_=!0,WN(t),n}finishDraft(e,t){const n=e&&e[At];(!n||!n.isManual_)&&gs(9);const{scope_:r}=n;return cL(r,t),uL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=zc("Patches").applyPatches_;return Hu(e)?r(e,t):this.produce(e,s=>r(s,t))}};function lh(e,t){const n=Hv(e)?zc("MapSet").proxyMap_(e,t):$v(e)?zc("MapSet").proxySet_(e,t):pce(e,t);return(t?t.scope_:og()).drafts_.push(n),n}function gce(e){return Hu(e)||gs(10,e),rW(e)}function rW(e){if(!go(e)||Wv(e))return e;const t=e[At];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=BN(e,t.scope_.immer_.useStrictShallowCopy_)}else n=BN(e,!0);return $u(n,(r,s)=>{tW(n,r,rW(s))}),t&&(t.finalized_=!1),n}function vce(){class e extends Map{constructor(c,l){super(),this[At]={type_:2,parent_:l,scope_:l?l.scope_:og(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return wn(this[At]).size}has(c){return wn(this[At]).has(c)}set(c,l){const u=this[At];return o(u),(!wn(u).has(c)||wn(u).get(c)!==l)&&(n(u),Ji(u),u.assigned_.set(c,!0),u.copy_.set(c,l),u.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const l=this[At];return o(l),n(l),Ji(l),l.base_.has(c)?l.assigned_.set(c,!1):l.assigned_.delete(c),l.copy_.delete(c),!0}clear(){const c=this[At];o(c),wn(c).size&&(n(c),Ji(c),c.assigned_=new Map,$u(c.base_,l=>{c.assigned_.set(l,!1)}),c.copy_.clear())}forEach(c,l){const u=this[At];wn(u).forEach((d,f,h)=>{c.call(l,this.get(f),f,this)})}get(c){const l=this[At];o(l);const u=wn(l).get(c);if(l.finalized_||!go(u)||u!==l.base_.get(c))return u;const d=lh(u,l);return n(l),l.copy_.set(c,d),d}keys(){return wn(this[At]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const l=c.next();return l.done?l:{done:!1,value:this.get(l.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const l=c.next();if(l.done)return l;const u=this.get(l.value);return{done:!1,value:[l.value,u]}}}}[Symbol.iterator](){return this.entries()}}function t(a,c){return new e(a,c)}function n(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class r extends Set{constructor(c,l){super(),this[At]={type_:3,parent_:l,scope_:l?l.scope_:og(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return wn(this[At]).size}has(c){const l=this[At];return o(l),l.copy_?!!(l.copy_.has(c)||l.drafts_.has(c)&&l.copy_.has(l.drafts_.get(c))):l.base_.has(c)}add(c){const l=this[At];return o(l),this.has(c)||(i(l),Ji(l),l.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const l=this[At];return o(l),i(l),Ji(l),l.copy_.delete(c)||(l.drafts_.has(c)?l.copy_.delete(l.drafts_.get(c)):!1)}clear(){const c=this[At];o(c),wn(c).size&&(i(c),Ji(c),c.copy_.clear())}values(){const c=this[At];return o(c),i(c),c.copy_.values()}entries(){const c=this[At];return o(c),i(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,l){const u=this.values();let d=u.next();for(;!d.done;)c.call(l,d.value,d.value,this),d=u.next()}}function s(a,c){return new r(a,c)}function i(a){a.copy_||(a.copy_=new Set,a.base_.forEach(c=>{if(go(c)){const l=lh(c,a);a.drafts_.set(c,l),a.copy_.add(l)}else a.copy_.add(c)}))}function o(a){a.revoked_&&gs(3,JSON.stringify(wn(a)))}dce("MapSet",{proxyMap_:t,proxySet_:s})}var es=new mce,Sr=es.produce;es.produceWithPatches.bind(es);es.setAutoFreeze.bind(es);es.setUseStrictShallowCopy.bind(es);es.applyPatches.bind(es);es.createDraft.bind(es);es.finishDraft.bind(es);const Ece=e=>(t,n,r)=>(r.setState=(s,i,...o)=>{const a=typeof s=="function"?Sr(s):s;return t(a,i,...o)},e(r.setState,n,r)),xa=Ece,Cce={bannerInfo:null,modelLimits:[],blockedFeatures:[],isInitialLoad:!0,limitsProgress:[]},zr=zn(xa(()=>S({},Cce))),Pw={[ce.Research]:Nr.DEEP_RESEARCH,[ce.PictureV2]:Nr.IMAGE_GEN,[ce.Think]:Nr.REASON};Pw[Gv]=Nr.ODYSSEY;const Iqe=e=>{var t;return X6(e)?Nr.ODYSSEY:(t=Pw[e])!=null?t:null},Pqe=e=>{for(const[t,n]of Object.entries(Pw))if(n===e)return t;return null},yce={[ce.Research]:Ow.DEEP_RESEARCH};function Sce(e){var t;return X6(e)?Ow.ODYSSEY:(t=yce[e])!=null?t:null}function ki(e){return new Date(e.resets_after)>new Date}const wqe=e=>{var r,s;const t=((s=(r=e.model_limits)==null?void 0:r.filter(ki))!=null?s:[]).map(i=>i.model_slug),n=new Set(zr.getState().modelLimits.filter(ki).map(i=>i.model_slug));return t.length!==n.size||!t.every(i=>n.has(i))},Tce={updateDetails:({banner_info:e,model_limits:t,blocked_features:n,limits_progress:r})=>{zr.setState(s=>{s.bannerInfo=e,s.isInitialLoad=!1,s.blockedFeatures=s.blockedFeatures.concat(n).filter(ki),s.modelLimits=s.modelLimits.concat(t!=null?t:[]).filter(ki),s.limitsProgress=r!=null?r:[]})},dismissBanner:()=>{zr.setState(e=>{e.bannerInfo=null})},reset:()=>{zr.setState(e=>{e.blockedFeatures=[],e.bannerInfo=null})}};function Rqe(){return zr(({bannerInfo:e})=>{const{resets_after:t}=e!=null?e:{};return!e||t!=null&&!ki({resets_after:t})?null:e})}function qv(e){return zr(({blockedFeatures:t})=>{if(!e)return null;const n=t.find(({name:r})=>r===e);return n&&ki(n)?n:null})}function Oce(){return qv(Nr.SEND)}function xqe(){return!!Oce()}function Mqe(){return qv(Nr.FILE_UPLOAD)}function kqe(){return qv(Nr.GIZMO_TAG)}function Lqe(){return qv(Nr.DEEP_RESEARCH)}function Dqe(){return zr(({modelLimits:t})=>t).filter(ki)}const bce=ep(zr,{selector:e=>e.modelLimits.filter(ki)});function Ace(e){return zr(({limitsProgress:n})=>n).filter(n=>e(P(S({},n),{bySystemHint:r=>n.feature_name===Sce(r)})))[0]}function Uqe(){return zr(({blockedFeatures:t})=>t).filter(ki)}const Nce=zn(()=>null),Ice=zn(()=>null);var sW=(e=>(e.UnexpectedSSOLogin="unexpected_sso_login",e.SSOMismatch="sso_mismatch",e.RequireSSOLogin="require_sso_login",e))(sW||{});const Pce=Object.freeze(new Set(Object.values(sW)));function wce(e){return e?Pce.has(e):!1}const Rce=zn(()=>null),xce="temporary-chat",Mce="anon-mode";function va(e,t){for(const[n,r]of Object.entries(t))n.indexOf("Capture",n.length-7)!==-1?e.addEventListener(n.slice(0,-7),r,{capture:!0}):e.addEventListener(n,r);return()=>{for(const[n,r]of Object.entries(t))n.indexOf("Capture",n.length-7)!==-1?e.removeEventListener(n.slice(0,-7),r,{capture:!0}):e.removeEventListener(n,r)}}function Fqe(e,t){for(const[n,r]of Object.entries(t))e.on(n,r);return()=>{for(const[n,r]of Object.entries(t))e.off(n,r)}}const Ll=window.localStorage;var un=(e=>(e.HasAnyProjects="oai/apps/hasAnyProjects",e.RecentImages="oai/apps/recentImages",e.RecentUploads="oai/apps/recentUploads",e.Theme="theme",e.NextAuth="nextauth.message",e.IsNoAuthChatTrainingEnabled="oai/apps/isNoAuthChatTrainingEnabled",e.ComposerMenuSheetBounced="oai/apps/composerMenuBounced",e.IsNavigationCollapsed="UiState.isNavigationCollapsed.1",e.IsHistoryCollapsed="UiState.isOnlyShowingRecents.1",e.ChatThreadFlyoutState="UiState.chatThreadFlyoutState",e.IsGptListCollapsed="UiState.isGptListCollapsed",e.LastUsedModel="oai/apps/lastModelUsed",e.EnabledPlugins="oai/enabledPluginIds",e.HasSeenNewChatModal="oai/apps/hasSeenNewChatModal",e.HasSeenMeetChatGptModal="oai/apps/hasSeenMeetChatGptModal",e.HasSeenDoNotRememberToggleCoachmark="oai/apps/hasSeenDoNotRememberToggleCoachmark",e.HasSignedUpForPlusUpgradeWaitlistV1="oai/apps/HasSignedUpForPlusUpgradeWaitlist",e.HasSignedUpForPlusUpgradeWaitlistV2="oai/apps/HasSignedUpForPlusUpgradeWaitlistV2",e.HasSignedUpForTeamUpgradeWaitlistV1="oai/apps/HasSignedUpForTeamUpgradeWaitlist",e.HasSignedUpForTeamUpgradeWaitlistV2="oai/apps/HasSignedUpForTeamUpgradeWaitlistV2",e.HasDismissedUpgradeInviteModal="oai/apps/hasDismissedUpgradeInviteModal",e.GizmoEditorTab="oai/apps/gizmoEditorTab",e.GizmoDiscoveryLocale="oai/apps/gizmoDiscoveryLocale",e.NoAuthRateLimitState="oai/apps/noAuthRateLimitState",e.RestoreMessageAfterOauthRedirect="oai/apps/restoreMessageAfterOauthRedirect",e.HasSeenAdaInteractiveChart="oai/apps/hasSeenAdaInteractiveChart",e.HasSeenAdaInteractiveTable="oai/apps/hasSeenAdaInteractiveTable",e.SearchSettings="oai/apps/searchSettings",e.NoAuthBannerDisclaimerClientThreadId="oai/apps/noAuthBannerDisclaimerClientThreadId",e.NoAuthHasAcceptedFooterDisclaimer="oai/apps/noAuthHasAcceptedFooterDisclaimer",e.NoAuthUserMessageCount="oai/apps/noAuthUserMessageCount",e.HasSeenNoAuthImagegenNux="oai/apps/hasSeenNoAuthImagegenNux",e.LoggedInUserMessageCount="oai/apps/loggedInUserMessageCount",e.NoAuthHasDismissedSoftRateLimitModal="oai/apps/noAuthHasDismissedSoftRateLimitModal",e.NoAuthSoftRateLimitModalLastShownAt="oai/apps/noAuthSoftRateLimitModalLastShownAt",e.NoAuthSoftRateLimitModalSessionCounter="oai/apps/noAuthSoftRateLimitModalSessionCounter",e.NoAuthHasSeenGpt4oModal="oai/apps/noAuthHasSeenGpt4oModal",e.MemoryFullBannerDismissed="oai/apps/memoryFullBannerDismissed",e.MemoryFullBannerDismissedTimestamp="oai/apps/memoryFullBannerDismissedTimestamp",e.MemoryAlmostFullBannerDismissed="oai/apps/memoryAlmostFullBannerDismissed",e.MemoryAlmostFullBannerDismissedTimestamp="oai/apps/memoryAlmostFullBannerDismissedTimestamp",e.IndepthFeedbackDismissedAt="oai/apps/indepthFeedbackDismissedAt",e.AdvancedVoiceOnMobileAnnouncementCount="oai/apps/oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.CheckoutFrom="oai/apps/checkout_from",e.CreditCheckoutRedirectPath="oai/apps/creditCheckoutRedirectPath",e.HasConfirmedCanvasCodeExecution="oai/apps/hasConfirmedCanvasCodeExecution",e.CODE_EXECUTION_DOMAIN_ALLOW_LIST="oai/apps/codeExecutionDomainAllowlistWithTTL",e.TasksHasSeenProjectDisclaimerBanner="oai/apps/tasksHasSeenProjectDisclaimerBanner",e.ExpandSummarizedCoT="oai/apps/ExpandSummarizedCoT",e.PromoCode="oai/apps/promoCode",e.LastPageLoadDate="oai/apps/lastPageLoadDate",e.NoAuthMadlibsModalState="oai/apps/noAuthMadlibsModalState",e.d2dee219="oai/apps/d2dee219",e.ReferralCode="oai/apps/referralCode",e.LastFeedLoad="oai/apps/2dc5214a",e.VoiceLastUsed="oai/apps/voiceLastUsed",e.ModelCustomConfig="oai/modelCustomConfig",e.CanvasWidth="oai/apps/canmoreSidebarWidth",e.ConnectorsOnboarding="oai/apps/connectors/glauxOnboarding",e.CalendarAddPreference="oai/apps/calendarAddPreference",e.ChatThemeOverride="oai/apps/chatThemeOverride",e.ChatTheme="oai/apps/chatTheme",e.ChatThemeCustomWorkspace="oai/apps/chatThemeCustomWorkspace",e.ConversationDrafts="oai/apps/conversationDrafts",e.DebugSettings="oai/apps/debugSettings",e.InternalModels="oai/apps/enableIIM",e.WorkspacePolicyViewed="oai/apps/workspacePolicyViewed",e.LastOpenedPulseId="oai/apps/lastOpenedPulseId",e.HasSeenPulseOnboarding="oai/apps/hasSeenPulseOnboarding",e.HasSeenPulseOnboardingModal="oai/apps/hasSeenPulseOnboardingModal",e.HasDismissedPulseAnnouncementBanner="oai/apps/hasDismissedPulseAnnouncementBanner",e.FirstSeenPulseAnnouncementBannerAt="oai/apps/firstSeenPulseAnnouncementBannerAt",e.LastSeenPulseAnnouncementBannerAt="oai/apps/lastSeenPulseAnnouncementBannerAt",e.PulseAnnouncementBannerImpressions="oai/apps/pulseAnnouncementBannerImpressions",e.HasDismissedCocoonAnnouncementBanner="oai/apps/hasDismissedCocoonAnnouncementBanner",e.FirstSeenCocoonAnnouncementBannerAt="oai/apps/firstSeenCocoonAnnouncementBannerAt",e.LastSeenCocoonAnnouncementBannerAt="oai/apps/lastSeenCocoonAnnouncementBannerAt",e.CocoonBannerAnnouncementImpressions="oai/apps/cocoonBannerAnnouncementImpressions",e.GlauxUsePromptOverride="oai/apps/glauxUsePromptOverride",e.GlauxPromptOverride="oai/apps/glauxPromptOverride",e.GlauxJuiceScore="oai/apps/glauxJuiceScore",e.LastEnvironment="oai/apps/l1239dk1/a3f4b29d",e.PromptDraft="oai/apps/l1239dk1/c7e2d18f",e.ProposedTasks="oai/apps/l1239dk1/8fa94c1e",e.ReactQueryDevtoolsVisible="oai/apps/l1239dk1/3e2d18f",e.WhamForcedRateLimitRemaining="oai/apps/l1239dk1/49292001",e.WhamChangelogClickedDate="oai/apps/l1239dk1/4b7d9e2f",e.WhamRepoDownloadDurations="oai/apps/l1239dk1/9182cd99",e.WhamRepoLastBranchById="oai/apps/l1239dk1/4b9f42ce",e.WhamRepoRecentBranchesById="oai/apps/l1239dk1/a7c41ef0",e.WhamBestOfN="oai/apps/l1239dk1/109b6e28",e.WhamImageSnapshot="oai/apps/l1239dk1/4kdf92l2",e.WhamShowFullDiff="oai/apps/l1239dk1/7a8d45ff",e.WhamPreferredEditor="oai/apps/l1239dk1/e2b7ab3c",e.WhamCodexOnboardingState="oai/apps/l1239dk1/codexOnboardingState",e.WhamLastRepositoryId="oai/apps/l1239dk1/7f2c4aa2",e.WhamShowDevOnboardingOverrides="oai/apps/l1239dk1/showDevOnboardingOverrides",e.WhamCodexOnboardingStateOverride="oai/apps/l1239dk1/codexOnboardingStateOverride",e.WhamTaskPageContentWidth="oai/apps/wham-task-page-content-left-width",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.MessageFollowupsStoreState="oai/apps/messageFollowupsStoreState",e.JumpToShade="jump-to-shade",e.HasManuallyClosedLanguageUpsellBanner="oai/apps/hasManuallyClosedLanguageUpsellBanner",e.PluginsAuthRedirect="oai/apps/plugins/authRedirect",e.SelectedSources="oai/apps/connectors/selectedSources",e.SelectedGithubRepos="oai/apps/connectors/selectedGithubRepos",e.ConnectorOAuthFlowType="oai/apps/connectors/oauthFlowType",e.ConnectorUpgradeToSyncRequest="oai/apps/connectors/upgradeToSyncRequest",e.SubscriptionFailedBanner="oai/apps/subscriptionFailedBanner",e.HasDismissedTeamsNoAuthUpsell="oai/apps/hasDismissedTeamsNoAuthUpsell",e.FinchAdminNotified="oai/apps/finchAdminNotified",e.GetTeamPillDismissed="oai/apps/getTeamPillDismissed",e.CARecommendedPromptsUpsell="oai/apps/caRecommendedPromptsUpsell",e.ChinookStartupInfo="oai/apps/chinookStartupInfo",e.ConnectorsDismissableBannerUpsell="oai/apps/connectorsDismissableBannerUpsell",e.ConnectorsExternalNuxBannerDismissed="oai/apps/connectorsExternalNuxBannerDismissed",e.K12InviteBannerDismissed="oai/apps/k12InviteBannerDismissed",e.ModelSlugStatsOverride="oai/apps/modelSlugStatsOverride",e.ShortcutLinks="oai/apps/shortcutLinks",e.HomeDiscoveryDismissed="oai/apps/homeDiscoveryDismissed",e.AppDirectoryVisited="oai/apps/appDirectoryVisited",e.O3MiniHighInContextUpsellBanner="oai/apps/o3MiniHighInContextUpsellBanner",e.TatertotInContextUpsellBannerV2="oai/apps/tatertotInContextUpsellBannerV2",e.ImageGenProgressUpsellV2="oai/apps/imageGenProgressUpsellV2",e.ImageGenV2PromoBannerState="oai/apps/imageGenV2PromoBannerState",e.HasDismissedMobileAppUpsellBanner="oai/apps/hasDismissedMobileAppUpsellBanner",e.HasDismissedMoodengUpsellBanner="oai/apps/hasDismissedMoodengUpsellBanner",e.LastSeenPlusUpsellBannerAt="oai/apps/lastSeenPlusUpsellBannerAt",e.HasDismissedOnboardingSidebarEntry="oai/apps/hasDismissedOnboardingSidebarEntry",e.NewUserOnboardingFlowState="oai/apps/newUserOnboardingFlowState",e.ThreadHeaderUpgradePillDismissals="oai/apps/threadHeaderUpgradePillDismissals",e.ThreadHeaderUpgradePillPricingBounceAt="oai/apps/threadHeaderUpgradePillPricingBounceAt",e.PlusFreeTrialCountdownStart="oai/apps/plusFreeTrialCountdownStart",e.TeamFreeTrialCountdownStart="oai/apps/teamFreeTrialCountdownStart",e.PendingSurveySpec="oai/apps/pendingSurveySpec",e.WorkspaceDiscoveryInfo="oai/apps/workspaceDiscoveryInfo",e.WorkspaceDiscoveryRenamePromptInfo="oai/apps/workspaceDiscoveryRenamePromptInfo",e.HasDismissedAuraAnnouncementBanner="oai/apps/hasDismissedAuraAnnouncementBanner",e.FirstSeenAuraAnnouncementBannerAt="oai/apps/firstSeenAuraAnnouncementBannerAt",e.LastSeenAuraAnnouncementBannerAt="oai/apps/lastSeenAuraAnnouncementBannerAt",e.AuraAnnouncementBannerImpressions="oai/apps/auraAnnouncementBannerImpressions",e.HideWritingBlockFeedback="oai/apps/hideWritingBlockFeedback",e.ResumeTokenStore="RESUME_TOKEN_STORE_KEY",e.HiddenMathBlockTypes="oai/apps/hiddenMathBlockTypes",e.SeparateMode="oai/apps/voiceSeparateMode",e.BazaarOnboardingImpressionCount="oai/apps/bazaarOnboardingImpressions",e))(un||{});class kn{static setItem(t,n,r){if(!Ll)return;const s=dm(t,r);try{Ll.setItem(s,JSON.stringify(n))}catch(i){q.addError(i)}}static getItem(t,n){if(!Ll)return null;try{const r=dm(t,n),s=Ll.getItem(r);return typeof s=="string"?JSON.parse(s):s}catch(r){return null}}static removeItem(t,n){if(Ll){const r=dm(t,n);return Ll.removeItem(r)}}}function dm(e,t){let n=e;return t!==void 0&&(t.userId!=null&&(n+="/".concat(t.userId)),t.workspaceId!=null&&(n+="/".concat(t.workspaceId))),n}function ww(e,t,n){let r;const s=()=>{const a=kn.getItem(e);return a==null?t():n!=null&&n.coerceStoredValue?n.coerceStoredValue(a):a},o=ud(s,a=>(r=a,va(window,{storage:({key:c})=>{c===e&&a()}})),{name:"localStorage:".concat(e),getServerFallback:t});return o.set=a=>{kn.setItem(e,s6(a)?a(s()):a),r==null||r()},o}function Rw(){return new URL(window.location.href)}const kce=ww(un.IsNoAuthChatTrainingEnabled,()=>Dce(),{coerceStoredValue:w6}),Vv=X(()=>Rw().searchParams.has(xce)),Gqe=X(()=>Rw().searchParams.has(Mce)),Lce=()=>Vv()||!at()&&!kce();function jqe(){return Le(()=>Vv())}function Dce(){return Pe("1656345175")}const fL=100,uh=zn()(xa(()=>{var e;return(e=kn.getItem(un.ConversationDrafts))!=null?e:{drafts:[],userId:null}})),xw=e=>{uh.setState(e),kn.setItem(un.ConversationDrafts,e)},Mw=e=>e!=null?e:"null_thread",Bqe=(e,t,n)=>{const r=Mw(e);let i=uh.getState().userId===n?uh.getState().drafts:[];const o=i.findIndex(c=>c.id===r),a={id:r,content:t,timestamp:Date.now()};o!==-1?i[o]=a:i.push(a),i.length>fL&&(i=i.sort((c,l)=>l.timestamp-c.timestamp).slice(0,fL)),xw({drafts:i,userId:n})};function Uce(e){var t;if(jce(e)){const n=lt(e.serverId$);return(t=Fce(n))==null?void 0:t.content}}const Fce=e=>{const t=Mw(e);return uh.getState().drafts.find(n=>n.id===t)},Hqe=e=>{const t=Mw(e),n=uh.getState().drafts.filter(r=>r.id!==t);xw({drafts:n,userId:null})},Gce=()=>{xw({drafts:[],userId:null})};function jce(e){return lt(()=>e!=null&&!pl()&&!lt(()=>Vv()))}function Bce(e,t,n){if(n)return t!=null?t:void 0;if(!e)return;const r=e.trim();if(!r)return;const s=r.split(/\s+/);if(s.length===0)return;const i=s[0];return i.indexOf("@")!==-1||/^\d+$/.test(i)?void 0:i.replace(/[^a-zA-Z-]+/g,"")}function $qe(e,t,n){var o,a;const r=Bce(t==null?void 0:t.name,t==null?void 0:t.first_name,n);let s="";e&&("object"in e&&e.object==="user_system_message_detail"?s=e.name_user_message:s=(o=e.nameUserMessage)!=null?o:"");const i=s.trim();return((a=e==null?void 0:e.enabled)==null||a)&&i?i:r}function Hce(){Se.deleteCookie(pe.GreetingName)}const iu="@@",kw=[],lg=new Map;function Dl(e,t,n,r){if(lg.has(e)||e==="Ref")throw new Error("Already registered pickler ".concat(e));const s={key:e,test:t,pickle:n,unpickle:r};lg.set(e,s),kw.push(s)}function iW(){const e=[],t=new Map;return function(n,r){for(;e.length&&e[e.length-1][0]!==this;){const i=e.pop()[1];typeof i=="object"&&i!=null&&t.set(i,t.size)}const s=this[n];if(typeof s=="object"&&s!=null){const i=t.get(s);if(i!=null)return{[iu]:"Ref","":i}}for(const i of kw)if(i.test(s)){const o={[iu]:i.key,"":i.pickle(s)};return e.push([o,s]),o}if(typeof r=="object"&&r!=null){if(iu in r)throw new Error("Unexpected ".concat(iu," property"));e.push([r,s])}return r}}function $ce(){const e=[];return function(t,n){if(typeof n!="object"||n==null)return n;if(iu in n){const{[iu]:r,"":s}=n;if(r==="Ref")return e[s];const i=lg.get(r);if(!i)throw Error("Unknown pickle key ".concat(r));if(n=i.unpickle(s),typeof n!="object"||n==null)return n}return e.push(n),n}}function Wce(){kw.length=0,lg.clear(),Dl("Map",e=>e instanceof Map,e=>[...e.entries()],e=>new Map(e)),Dl("Set",e=>e instanceof Set,e=>[...e.keys()],e=>new Set(e)),Dl("Date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),Dl("RegExp",e=>e instanceof RegExp,e=>[e.source,e.flags],([e,t])=>new RegExp(e,t)),Dl("Number",e=>typeof e=="number"&&(Object.is(e,-0)||!isFinite(e)||isNaN(e)),e=>Object.is(e,-0)?"-0":String(e),e=>Number(e)),Dl("BigInt",e=>typeof e=="bigint",e=>String(e),e=>BigInt(e))}Wce();function qce(e){if(e==null)return null;const t=pt();return t.authStatus!==ju.LoggedIn?null:{workspaceId:e,userId:t.user.id}}function Lw(e,t){const n=qce(e);return n==null?null:"cache/".concat(n.userId,"/").concat(n.workspaceId,"/").concat(t)}const Vce=1e3*60*60*24;function zce(e,t,n){const r=Lw(e,t);if(r==null)return;const s=localStorage.getItem(r);if(s!=null)try{const{value:i,timestamp:o,version:a,used:c}=JSON.parse(s,$ce());if(a!==n||Date.now()-o>Vce){localStorage.removeItem(r);return}return{localStorageKey:r,value:i,version:a,used:typeof c=="number"?c:0}}catch(i){return}}const Ry={};function Yce(e,t,n){if(e==null)return;if(t in Ry)return Ry[t];const r=zce(e,t,n);if(q.addAction("localStorageCache.".concat(t),{cacheVersion:n,wasPresent:r!=null}),Ry[t]=r==null?void 0:r.value,r!=null)return r.used+1>=4?localStorage.removeItem(r.localStorageKey):localStorage.setItem(r.localStorageKey,JSON.stringify({timestamp:Date.now(),value:r.value,version:r.version,used:r.used+1},iW())),r.value}function Kce(e,t,n,r){const s=Lw(e,t);if(s!=null)try{localStorage.setItem(s,JSON.stringify({value:n,timestamp:Date.now(),version:r},iW()))}catch(i){q.addError(i)}}function Jce(e,t){const n=Lw(e,t);n!=null&&localStorage.removeItem(n)}function oW(){for(const e of Object.keys(localStorage))e.startsWith("cache/")&&localStorage.removeItem(e)}const Xce="session",aW="refresh";let kf;typeof window<"u"&&window.BroadcastChannel!==void 0&&(kf=new window.BroadcastChannel(Xce),kf.onmessage=e=>{e.data===aW&&(document.hidden?window.addEventListener("visibilitychange",()=>{document.hidden||(window.location.href="/")}):setTimeout(()=>{window.location.href="/"},300))});function Qce(){kf==null||kf.postMessage(aW)}function Zce(){Qce(),oW(),Gce(),Hce(),Se.deleteCookie(pe.LastUsedModel),Se.deleteCookie(pe.LastUsedModelConfig)}function Dw(e){Zce(),window.location.href=e!=null?e:"/?refresh_account=true"}const hL=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},hp="en-US",Wqe=["am","ar","bg-BG","bn-BD","bs-BA","ca-ES","cs-CZ","da-DK","de-DE","el-GR","en-US","es-419","es-ES","et-EE","fi-FI","fr-CA","fr-FR","gu-IN","hi-IN","hr-HR","hu-HU","hy-AM","id-ID","is-IS","it-IT","ja-JP","ka-GE","kk","kn-IN","ko-KR","lt","lv-LV","mk-MK","ml","mn","mr-IN","ms-MY","my-MM","nb-NO","nl-NL","pa","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","so-SO","sq-AL","sr-RS","sv-SE","sw-TZ","ta-IN","te-IN","th-TH","tl","tr-TR","uk-UA","ur","vi-VN","zh-CN","zh-HK","zh-TW"],ele=["es-419","fr-FR","zh-TW"],qqe={am:"",ar:"","bg-BG":"","bn-BD":"","bs-BA":"bosanski","ca-ES":"catal","cs-CZ":"etina","da-DK":"dansk","de-DE":"Deutsch","el-GR":"","en-US":"English (US)","es-419":"espaol (Latinoamrica)","es-ES":"espaol (Espaa)","et-EE":"eesti","fi-FI":"suomi","fr-CA":"franais (Canada)","fr-FR":"franais (France)","gu-IN":"","hi-IN":"","hr-HR":"hrvatski","hu-HU":"magyar","hy-AM":"","id-ID":"Indonesia","is-IS":"slenska","it-IT":"italiano","ja-JP":"","ka-GE":"",kk:" ","kn-IN":"","ko-KR":"",lt:"lietuvi","lv-LV":"latvieu","mk-MK":"",ml:"",mn:"","mr-IN":"","ms-MY":"Bahasa Melayu","my-MM":"","nb-NO":"norsk bokml","nl-NL":"Nederlands",pa:"","pl-PL":"polski","pt-BR":"portugus (Brasil)","pt-PT":"portugus (Portugal)","ro-RO":"romn","ru-RU":"","sk-SK":"slovenina","sl-SI":"slovenina","so-SO":"Soomaali","sq-AL":"shqip","sr-RS":"","sv-SE":"svenska","sw-TZ":"Kiswahili","ta-IN":"","te-IN":"","th-TH":"",tl:"Tagalog","tr-TR":"Trke","uk-UA":"",ur:"","vi-VN":"Ting Vit","zh-CN":"","zh-HK":"","zh-TW":""};function tle(){return Array.from(new Set(Object.values(hf)))}const hf={am:"am",ar:"ar",bg:"bg-BG","bg-bg":"bg-BG",bn:"bn-BD","bn-bd":"bn-BD",bs:"bs-BA","bs-ba":"bs-BA",ca:"ca-ES","ca-es":"ca-ES",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",el:"el-GR","el-gr":"el-GR",en:"en-US","en-us":"en-US",es:"es-ES","es-es":"es-ES","es-419":"es-419","es-ar":"es-419","es-bo":"es-419","es-br":"es-419","es-bz":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419","es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-jp":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419",et:"et-EE","et-ee":"et-EE",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-ca":"fr-CA","fr-fr":"fr-FR",gu:"gu-IN","gu-in":"gu-IN",hi:"hi-IN","hi-in":"hi-IN",hr:"hr-HR","hr-hr":"hr-HR",hu:"hu-HU","hu-hu":"hu-HU",hy:"hy-AM","hy-am":"hy-AM",id:"id-ID","id-id":"id-ID",is:"is-IS","is-is":"is-IS",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ka:"ka-GE","ka-ge":"ka-GE",kk:"kk",kn:"kn-IN","kn-in":"kn-IN",ko:"ko-KR","ko-kr":"ko-KR",lt:"lt",lv:"lv-LV","lv-lv":"lv-LV",mk:"mk-MK","mk-mk":"mk-MK",ml:"ml",mn:"mn",mr:"mr-IN","mr-in":"mr-IN",ms:"ms-MY","ms-my":"ms-MY",my:"my-MM","my-mm":"my-MM",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL","nl-nl":"nl-NL",pa:"pa",pl:"pl-PL","pl-pl":"pl-PL",pt:"pt-BR","pt-br":"pt-BR","pt-pt":"pt-PT","pt-ao":"pt-PT","pt-ch":"pt-PT","pt-cv":"pt-PT","pt-fr":"pt-PT","pt-gq":"pt-PT","pt-gw":"pt-PT","pt-lu":"pt-PT","pt-mo":"pt-PT","pt-mz":"pt-PT","pt-st":"pt-PT","pt-tl":"pt-PT",ro:"ro-RO","ro-ro":"ro-RO",ru:"ru-RU","ru-ru":"ru-RU",sk:"sk-SK","sk-sk":"sk-SK",sl:"sl-SI","sl-si":"sl-SI",so:"so-SO","so-so":"so-SO",sq:"sq-AL","sq-al":"sq-AL",sr:"sr-RS","sr-rs":"sr-RS",sv:"sv-SE","sv-se":"sv-SE",sw:"sw-TZ","sw-tz":"sw-TZ",ta:"ta-IN","ta-in":"ta-IN",te:"te-IN","te-in":"te-IN",th:"th-TH","th-th":"th-TH",tl:"tl","fil-ph":"tl",tr:"tr-TR","tr-tr":"tr-TR",uk:"uk-UA","uk-ua":"uk-UA",ur:"ur",vi:"vi-VN","vi-vn":"vi-VN",zh:"zh-CN","zh-cn":"zh-CN","zh-hans":"zh-CN","zh-hans-cn":"zh-CN","zh-tw":"zh-TW","zh-hant":"zh-TW","zh-hant-tw":"zh-TW","zh-hk":"zh-HK","zh-hant-hk":"zh-HK"},cW=new Set(["ar"]);function zv(e){const t=e.replace("_","-").toLowerCase();if(t in hf)return hf[t];const n=t.split("-");for(let r=n.length-1;r>=1;r--){const s=n.slice(0,r).join("-");if(s in hf)return hf[s]}return null}const Lf={};function lW(e){return ele.includes(e)}async function nle(e,t){return e===hp?Lf:(await(lW(e)&&t?hL(Object.assign({"./locales-mt/es-419.json":()=>ne(()=>import("./c1f39884-giyeuzxkj67hvdvl.js"),[]),"./locales-mt/fr-FR.json":()=>ne(()=>import("./c3652167-cjuy13m6nk3qketf.js"),[]),"./locales-mt/zh-TW.json":()=>ne(()=>import("./bc333d49-fms3t0cnytsw7o5n.js"),[])}),"./locales-mt/".concat(e,".json"),3):hL(Object.assign({"./locales/am.json":()=>ne(()=>import("./f06e7da7-kpnpnqqa20eo3igu.js"),[]),"./locales/ar.json":()=>ne(()=>import("./cc96b982-jj5qp8s7m7afh2xv.js"),[]),"./locales/bg-BG.json":()=>ne(()=>import("./ab3e38f7-ime2jalvv0v7qzft.js"),[]),"./locales/bn-BD.json":()=>ne(()=>import("./191e4a75-dt5afuhzasnfu8q8.js"),[]),"./locales/bs-BA.json":()=>ne(()=>import("./8c4063b8-e1uqnc3o3wrt78l8.js"),[]),"./locales/ca-ES.json":()=>ne(()=>import("./cd8f896b-n4zfckfbd5h8g6uk.js"),[]),"./locales/cs-CZ.json":()=>ne(()=>import("./73a04a15-nj1c0csbodqp2l44.js"),[]),"./locales/da-DK.json":()=>ne(()=>import("./0cdc4758-c5060q6do9ea6s1h.js"),[]),"./locales/de-DE.json":()=>ne(()=>import("./b85d0ea8-emnc2dw42azvlf49.js"),[]),"./locales/el-GR.json":()=>ne(()=>import("./a2bba8f0-l7pnrrw8ad7wtvjm.js"),[]),"./locales/es-419.json":()=>ne(()=>import("./eb816479-hwhopret7xf6b3me.js"),[]),"./locales/es-ES.json":()=>ne(()=>import("./79388dbf-bfivn2rgizfta1g9.js"),[]),"./locales/et-EE.json":()=>ne(()=>import("./a02b49e3-c460me215l1ovvk8.js"),[]),"./locales/fi-FI.json":()=>ne(()=>import("./a160f49b-bt8bgs4rq9yl6hoi.js"),[]),"./locales/fr-CA.json":()=>ne(()=>import("./d32e8876-hdkj9hd0un0z4iia.js"),[]),"./locales/fr-FR.json":()=>ne(()=>import("./21eece21-ghs6pi1992sn20w0.js"),[]),"./locales/gu-IN.json":()=>ne(()=>import("./6c983147-mjw60xtwhogni6nc.js"),[]),"./locales/he-IL.json":()=>ne(()=>import("./3b9d1fb5-ive7lec6agtid78g.js"),[]),"./locales/hi-IN.json":()=>ne(()=>import("./f77409d6-fvqojoqg0e2xihtj.js"),[]),"./locales/hr-HR.json":()=>ne(()=>import("./16fc0d2e-goynn9rh741ijw6s.js"),[]),"./locales/hu-HU.json":()=>ne(()=>import("./4ea9654d-oklv8ytw4m1pst1e.js"),[]),"./locales/hy-AM.json":()=>ne(()=>import("./294eb990-n0715exhojk2btfc.js"),[]),"./locales/id-ID.json":()=>ne(()=>import("./abb64f59-hueuhulpeuqcazqz.js"),[]),"./locales/is-IS.json":()=>ne(()=>import("./bafe5251-b9gkzmkyqbaqkglk.js"),[]),"./locales/it-IT.json":()=>ne(()=>import("./80271b66-iuhdhv4x3ord37mn.js"),[]),"./locales/ja-JP.json":()=>ne(()=>import("./7aaae702-jah9y4hatbmqr6vw.js"),[]),"./locales/ka-GE.json":()=>ne(()=>import("./abbb4567-ney9q398rmpd9wv4.js"),[]),"./locales/kk.json":()=>ne(()=>import("./43fce23c-fyen163tfhw0ye4e.js"),[]),"./locales/kn-IN.json":()=>ne(()=>import("./787aba3d-hxrrbhrw2yicldqu.js"),[]),"./locales/ko-KR.json":()=>ne(()=>import("./04f8add6-ablj5w4ipcc5ytso.js"),[]),"./locales/lt.json":()=>ne(()=>import("./40dcba7d-c8f2ae67mov0ayav.js"),[]),"./locales/lv-LV.json":()=>ne(()=>import("./3a72d42c-d9jztpxv2nciimjg.js"),[]),"./locales/mk-MK.json":()=>ne(()=>import("./95495a52-f1nwmv8ymxq0xjgr.js"),[]),"./locales/ml.json":()=>ne(()=>import("./61bd3514-m34bmfog4jjv3ypb.js"),[]),"./locales/mn.json":()=>ne(()=>import("./5fd5fbda-m1fyuj5otd1u066c.js"),[]),"./locales/mr-IN.json":()=>ne(()=>import("./bcb7f14a-n6mihdu2olyolpcw.js"),[]),"./locales/ms-MY.json":()=>ne(()=>import("./2a113ce2-mzae2a2d5qe79og2.js"),[]),"./locales/my-MM.json":()=>ne(()=>import("./f7973b0b-fie6mqo33s0m6mgr.js"),[]),"./locales/nb-NO.json":()=>ne(()=>import("./db45e12f-mg06lmbup75rodlh.js"),[]),"./locales/nl-NL.json":()=>ne(()=>import("./e3391cea-o5emdycsvjyyr82o.js"),[]),"./locales/pa.json":()=>ne(()=>import("./4c9de036-o1409vm7g9o6gbjs.js"),[]),"./locales/pl-PL.json":()=>ne(()=>import("./ae12f998-kak3i2fnp0d2vg7c.js"),[]),"./locales/pt-BR.json":()=>ne(()=>import("./c0680e6f-o1fzubkysmrj5sa1.js"),[]),"./locales/pt-PT.json":()=>ne(()=>import("./90513922-co4n3s6fl61gsgmd.js"),[]),"./locales/ro-RO.json":()=>ne(()=>import("./c1d9ce6a-g0h7x4z24omiqtoj.js"),[]),"./locales/ru-RU.json":()=>ne(()=>import("./7b8a0b97-nsf7ces5glbv2ith.js"),[]),"./locales/sk-SK.json":()=>ne(()=>import("./f94865a0-k8twy2xwmzp5owg5.js"),[]),"./locales/sl-SI.json":()=>ne(()=>import("./89a16e18-nz3idg6nixqjqbrl.js"),[]),"./locales/so-SO.json":()=>ne(()=>import("./bc37073d-gxifkhv19vmkbeu1.js"),[]),"./locales/sq-AL.json":()=>ne(()=>import("./5161a5b6-ksbax1un0s68pgqp.js"),[]),"./locales/sr-RS.json":()=>ne(()=>import("./1a0ededb-o5t984nxvyexmtiz.js"),[]),"./locales/sv-SE.json":()=>ne(()=>import("./34462fcd-kx1mzg69qzykc4pp.js"),[]),"./locales/sw-TZ.json":()=>ne(()=>import("./857f1ef0-h52v65c20cznb2jw.js"),[]),"./locales/ta-IN.json":()=>ne(()=>import("./4a176050-jdry5htuvam04yue.js"),[]),"./locales/te-IN.json":()=>ne(()=>import("./fd3ddb67-bi8fmz7bip4f40wy.js"),[]),"./locales/th-TH.json":()=>ne(()=>import("./8d612f6d-hcgcilgamsm9ru32.js"),[]),"./locales/tl.json":()=>ne(()=>import("./73b7bc0b-iyxigcwwunw08gvl.js"),[]),"./locales/tr-TR.json":()=>ne(()=>import("./39fd6f54-d4c3xf6zs4nzruh6.js"),[]),"./locales/uk-UA.json":()=>ne(()=>import("./644bbe0a-innsbm10qm71zqb0.js"),[]),"./locales/ur.json":()=>ne(()=>import("./26921fa6-bhpvtjwjwyi7jyzj.js"),[]),"./locales/vi-VN.json":()=>ne(()=>import("./7fe23920-l0kfcox9b1rvztht.js"),[]),"./locales/zh-CN.json":()=>ne(()=>import("./04a8820c-dgawst9ord3de5ny.js"),[]),"./locales/zh-HK.json":()=>ne(()=>import("./f4110c9d-mxf693jykxek16na.js"),[]),"./locales/zh-TW.json":()=>ne(()=>import("./e7453131-jzxhoktssiark8d5.js"),[])}),"./locales/".concat(e,".json"),3))).default}const rle=365*24*60*60,Vqe=e=>{e==null?Se.deleteCookie(pe.PreferredLocale):Se.setCookie(pe.PreferredLocale,e,{maxAge:rle}),window.location.reload()},zqe=()=>{const e=Se.getCookie(pe.PreferredLocale);return e!=null?zv(e):null};function sle(){var e;return(e=pt().locale)!=null?e:hp}function uW(){const e=Zr();return{[_ie]:sle(),[rp]:e,[np]:fd,[Av]:tp}}class Yv extends Error{constructor(){super(...arguments);R(this,"name","ClientRequestMismatchedAuthError")}}function Kv(e={}){var s;const t=(s=e.accessToken)!=null?s:ile(),n=uW();if(t==null){if(e.isAuthOptional===!0)return n;throw new Yv("No access token when trying to use AuthHeader")}n.Authorization="Bearer ".concat(t);const r=Se.getCookie(pe.Workspace);return typeof r=="string"&&r!==Pi&&(n[mie]=encodeURIComponent(r)),n}function ile(){return ip()}function ole(e,t="fetch"){var o,a,c;e.url.includes("/aip");const n=e.detail,r=n==null?void 0:n.conversation_detail_metadata;if(r&&Tce.updateDetails(r),e.code==="request_account_access"&&Ice.setState({accountName:n==null?void 0:n.account_name,ownerEmail:n==null?void 0:n.owner_email,userEmail:n==null?void 0:n.user_email,accountId:n==null?void 0:n.account_id,hasActiveRequest:n==null?void 0:n.has_active_request,workspacePlanType:n==null?void 0:n.workspace_plan_type}),e.code==="all_accounts_blocked"&&nae(n==null?void 0:n.user_email),wce(e.code)&&Rce.setState({accountName:n==null?void 0:n.account_name,errorCode:e.code}),e.code==="trigger_account_transfer"){Nce.setState({destinationWorkspaceId:n==null?void 0:n.workspace_id,destinationWorkspaceName:n==null?void 0:n.workspace_name,destinationWorkspaceProfilePictureUrl:n==null?void 0:n.workspace_profile_picture_url,destinationWorkspacePlanType:n==null?void 0:n.workspace_plan_type});return}if(e.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}const s=e.code==="sa_server_service_me_error_status"&&e.status===401,i=()=>(()=>{if(W6()||Rae())return!1;const l=ut("3283840244").get("is_token_revoked_handled",!1);return Xr().catch(()=>{}),l})();if((e.code==="expired_session_key"||e.code==="token_expired"||e.code==="token_invalidated"||e.code==="token_revoked"&&i()||((a=(o=e.jsonError)==null?void 0:o.error)==null?void 0:a.code)==="token_invalidated"||s)&&(q.addAction("Token expired",{url:e.url,error:n}),typeof window<"u"&&((c=window._oaiHandleSessionExpired)==null||c.call(window,t,JSON.stringify(n)))),e.code==="invalid_account_id_header"&&typeof Se.getCookie(pe.Workspace)=="string"){Se.deleteCookie(pe.Workspace),Se.deleteCookie(pe.WorkspaceIsFedrampCompliant),Dw();return}}function ale(e){var t;q.addAction("RequestError",{url:e.url,message:e.message,status:e.status,json:e.json,requestId:e.requestId,deviceId:Zr(),rawErrorMessage:(t=e.rawError)==null?void 0:t.message})}function cle(e,t){return e.replace(/\{([^}]+)\}/g,(n,r)=>encodeURIComponent(t[r].toString()))}function lle(e){if(!e)return"";const t=new URLSearchParams;for(const[r,s]of Object.entries(e))if(Array.isArray(s))for(const i of s)t.append(r,i.toString());else s!=null&&t.append(r,s.toString());const n=t.toString();return n.length===0?"":"?".concat(n)}function dW({method:e,body:t,authOption:n,accessToken:r,additionalHeaders:s,referrer:i,referrerPolicy:o,signal:a,credentials:c}){return{method:e==null?void 0:e.toUpperCase(),body:t,credentials:c||"include",referrer:i,referrerPolicy:o,signal:a,headers:S(S(S(S({},n===cn.Anonymous?uW():Kv({isAuthOptional:n===cn.SendIfAvailable,accessToken:r})),t!=null&&!(t instanceof FormData||t instanceof File)?{"Content-Type":"application/json"}:null),t!=null&&t instanceof File?{"Content-Type":"application/octet-stream"}:null),s)}}function ule(e){return(t,n,r)=>{const s=(i,o)=>{if(i>=e.length)return n(o);const a=e[i];return a(o,c=>s(i+1,c),r)};return s(0,t)}}function fW(e,t){const n=ule(e);return(r,s)=>n(r,t,s)}async function hW(e,t){var r,s;let n=await t(e.clone());if(n.status===401){const o=await n.clone().json(),a=(r=n.headers.get("X-Request-Id"))!=null?r:void 0;if(new Mt(e.url,n.status,o,a,new Error(JSON.stringify(o))).code==="token_expired"){const l=Zr();await Mie({reason:"token_expired",method:(s=e.method)!=null?s:"GET",path:new URL(e.url,location.origin).pathname});const u=Kv(),d=e.clone();for(const[f,h]of Object.entries(u))d.headers.set(f,h);n=await t(d),n.status===200?q.addAction("Request succeeded after refresh.",{url:e.url,deviceId:l}):q.addAction("Request failed after refresh.",{url:e.url,deviceId:l,status:n.status})}}return n}async function pW(e,t){var r,s;let n;try{n=await t(e)}catch(i){throw i instanceof Error?Mt.createWithErrorMessage(e.url,"server",i.message,void 0,i):i}if(n.status>=400){const i=await n.text();let o;try{o=JSON.parse(i)}catch(l){o={detail:{code:"not_json_response",text:i==null?void 0:i.substring(0,1e3)}}}const a=(s=(r=n.headers.get("X-Request-Id"))!=null?r:n.headers.get("cf-ray"))!=null?s:void 0,c=new Mt(e.url,n.status,o,a,new Error(JSON.stringify(o)));throw ole(c),ale(c),c}return n}var Mu,Hh,nv,_W;class Uw{constructor(t){Ct(this,nv);Ct(this,Mu);Ct(this,Hh);const{baseUrl:n}=t;Lt(this,Hh,typeof n=="string"?()=>n:n)}baseUrl(t,n){return te(this,Hh).call(this,t,n)}async fetch(t,n={},r){const s=await te(this,nv,_W).call(this,t,r);return n.skipJsonTransform?s:s.status===204?{}:s.json()}request(t,n,r){const s=r!=null&&r.parameters&&"query"in r.parameters?r.parameters.query:void 0,i=r!=null&&r.parameters&&"path"in r.parameters&&r.parameters.path?r.parameters.path:{},o=cle(n,i),a=lle(s),c=r&&"requestBody"in r?r.requestBody:void 0,l=c===void 0?void 0:typeof FormData<"u"&&c instanceof FormData||typeof File<"u"&&c instanceof File?c:JSON.stringify(c),u=dW(P(S({},r),{method:t,body:l})),d="".concat(this.baseUrl(u,n)).concat(o).concat(a),f=new globalThis.Request(d,u);return this.fetch(f,r)}safeGet(t,...n){return this.request("get",t,n[0])}safePost(t,...n){return this.request("post",t,n[0])}safeDelete(t,...n){return this.request("delete",t,n[0])}safePatch(t,...n){return this.request("patch",t,n[0])}safePut(t,...n){return this.request("put",t,n[0])}streamedJsonPost(t,n){return c_(this,null,function*(){n.skipJsonTransform=!0;const r=yield new Uo(this.request("post",t,n));if(!r.body)return;const s=r.body.getReader(),i=new TextDecoder;let o="";for(;;){const{value:a,done:c}=yield new Uo(s.read());a&&(o+=i.decode(a,{stream:!0}));let l;for(;(l=o.indexOf("\n"))!==-1;){const u=o.slice(0,l).trim();if(o=o.slice(l+1),u.length!==0)try{yield JSON.parse(u)}catch(d){o=u+"\n"+o;break}}if(c){const u=o.trim();u&&(yield JSON.parse(u));return}}})}}Mu=new WeakMap,Hh=new WeakMap,nv=new WeakSet,_W=function(){return te(this,Mu)||Lt(this,Mu,fW([pW,hW],fetch)),te(this,Mu)};function dle(e,t){const n={[Qe]:tw};if(t.headers.Authorization)return e;for(const[r,s]of Object.entries(n))if(e.startsWith(r))return e.replace(r,s);return e}var ku,rv,mW;class fle{constructor(){Ct(this,rv);Ct(this,ku)}async fetch(t,n={}){n.params&&(t+="?"+new URLSearchParams(n.params).toString());const r=dW(n),s=await te(this,rv,mW).call(this,new globalThis.Request(dle(t,r),r));return n.skipJsonTransform?s:s.status===204?{}:s.json()}get(t,n={}){return this.fetch(t,n)}post(t,n,r={}){return this.fetch(t,P(S({},r),{method:"post",body:n instanceof FormData?n:JSON.stringify(n)}))}streamedJsonPost(s,i){return c_(this,arguments,function*(t,n,r={}){const a=(yield new Uo(this.fetch(t,P(S({},r),{method:"post",body:JSON.stringify(n),skipJsonTransform:!0})))).body;if(!a)return;const c=a.getReader(),l=new TextDecoder;let u=!1,d="";for(;!u;){const f=yield new Uo(c.read());if(u=f.done,u&&f.value==null)break;const h=d+l.decode(f.value,{stream:!0});d="";const p=h.split("\n").filter(_=>!!_.trim());for(let _=0;_<p.length;_++)try{yield JSON.parse(p[_])}catch(m){d=p[_];break}}d.length>0&&(yield JSON.parse(d))})}streamedSsePost(s,i){return c_(this,arguments,function*(t,n,r={}){const a=(yield new Uo(this.fetch(t,P(S({},r),{method:"post",body:JSON.stringify(n),skipJsonTransform:!0,additionalHeaders:S({Accept:"text/event-stream"},r.additionalHeaders)})))).body;if(!a)return;const c=a.getReader(),l=new TextDecoder;let u="";for(;;){const{value:d,done:f}=yield new Uo(c.read());d&&(u+=l.decode(d,{stream:!0})),u=u.replace(/\r\n/g,"\n");let h;for(;(h=u.indexOf("\n\n"))!==-1;){const p=u.slice(0,h);u=u.slice(h+2);const _=[];for(const v of p.split("\n"))v.startsWith(":")||v.startsWith("data:")&&_.push(v.slice(5).trimStart());const m=_.join("\n").trim();if(m){if(m==="[DONE]")return;try{yield JSON.parse(m)}catch(v){}}}if(f){const p=u.trim();if(p.startsWith("data:")){const _=p.split("\n").filter(m=>m.startsWith("data:")).map(m=>m.slice(5).trimStart()).join("\n").trim();if(_&&_!=="[DONE]")try{yield JSON.parse(_)}catch(m){}}return}}})}}ku=new WeakMap,rv=new WeakSet,mW=function(){return te(this,ku)||Lt(this,ku,fW([pW,hW],fetch)),te(this,ku)};const H=new Uw({baseUrl(e,t){return!!e.headers.Authorization?Qe:tw}}),hle=new Uw({baseUrl:om});new Uw({baseUrl:sae});const tt=new fle;var qN=(e=>(e[e.DEV=0]="DEV",e[e.INTERNAL=1]="INTERNAL",e))(qN||{});function gW(e){return e.map(t=>{var n,r,s,i,o,a,c,l,u,d,f,h;return{name:t.name,description:t.description,actionLabel:(n=t.action_label)!=null?n:void 0,shortLabel:(r=t.short_label)!=null?r:void 0,logo:t.logo,systemHint:t.system_hint,aliases:(s=t.aliases)!=null?s:[],requiredFeatures:(i=t.required_features)!=null?i:[],requiredModels:(o=t.required_models)!=null?o:[],requiredConversationModes:(a=t.required_conversation_modes)!=null?a:[],composerBarButtonInfo:t.composer_bar_button_info?{announcementKey:t.composer_bar_button_info.announcement_key,disabledText:t.composer_bar_button_info.disabled_text,nuxTitle:t.composer_bar_button_info.nux_title,nuxDescription:t.composer_bar_button_info.nux_description,tooltipText:t.composer_bar_button_info.tooltip_text,rateLimitReachedText:(c=t.composer_bar_button_info.rate_limit_reached_text)!=null?c:void 0}:void 0,suggestedPrompt:t.suggested_prompt?{theme:t.suggested_prompt.theme,title:t.suggested_prompt.title,subtitle:t.suggested_prompt.subtitle,sortOrder:t.suggested_prompt.sort_order,badge:(l=t.suggested_prompt.badge)!=null?l:void 0}:void 0,allowInTemporaryChat:t.allow_in_temporary_chat,disableTinting:(u=t.disable_tinting)!=null?u:!1,persistBetweenMessages:!!t.persist_between_messages,regexMatches:(d=t.regex_matches)!=null?d:void 0,isAuto:t.is_auto,category:t.category,requiresOptIn:!!t.requires_opt_in,isConnector:!!t.is_connector,keywordInvocations:(f=t.keyword_invocations)!=null?f:[],hideFromInitialSelection:!!t.hide_from_initial_selection,badgeText:(h=t.badge_text)!=null?h:void 0,isDangerous:!!t.is_dangerous,mutuallyExclusive:!!t.mutually_exclusive,canConnect:!!t.can_connect,isConnected:!!t.is_connected}})}const Wu=kv(e=>fn({queryKey:["system-hints",e],queryFn:async()=>{const t=await H.safeGet("/system_hints",{authOption:cn.SendIfAvailable,parameters:{query:{mode:e}}});return q.addFirstTiming("load.systemHints.".concat(e)),gW(t.system_hints)},staleTime:1/0})),VN=e=>e!=null?e:null,ple=(e,t)=>JSON.stringify([e,VN(t)]),vW=kv((e,t)=>fn({queryKey:["system-hints",e,VN(t)],queryFn:async()=>{const n=VN(t),r={mode:e};n&&(r.gizmo_id=n);const s=await H.safeGet("/system_hints",{authOption:cn.SendIfAvailable,parameters:{query:r}});return q.addFirstTiming("load.systemHints.".concat(e).concat(n?".".concat(n):"")),gW(s.system_hints)},staleTime:1/0}),ple),EW=Qt(()=>Wu("basic")),CW=Qt(()=>Wu("connectors")),_le=ci((e,t)=>Qt(()=>vW("basic",t))),mle=ci((e,t)=>Qt(()=>vW("connectors",t))),gle=Object.prototype.toString;function vle(e,t){try{return e instanceof t}catch(n){return!1}}function Ele(e){switch(gle.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return vle(e,Error)}}const pL={componentStack:null,error:null};function Cle(e,t){const n=new WeakMap;function r(s,i){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,i);s.cause=i}}r(e,t)}const yle=["The node to be removed is not a child of this node","The object can not be found here."];function Sle(e){return yle.some(t=>{var n;return(n=e.message)==null?void 0:n.includes(t)})}class pp extends T.Component{constructor(n){super(n);R(this,"state");R(this,"resetErrorBoundary",()=>{const{onReset:n}=this.props,{error:r,componentStack:s}=this.state;n&&n(r,s!=null?s:""),this.setState(pL)});this.state=pL}componentDidCatch(n,{componentStack:r}){if(Ele(n)){const s=new Error(n.message);s.name="React ErrorBoundary ".concat(s.name),s.stack=r!=null?r:"",Cle(n,s)}if(!Sle(n)&&(this.props.logRequestErrors===!0||!(n instanceof Mt))){const s=new Error(n.message);s.name="ReactRenderingError",s.stack=r!=null?r:"",s.cause=n,q.addError(s,{error_boundary:this.props.name})}oW(),this.props.onError&&this.props.onError(n,r!=null?r:""),this.setState({error:n,componentStack:r})}render(){var i;const{fallback:n,children:r}=this.props,s=this.state;if(s.error){let o=null;return typeof n=="function"?o=n({error:s.error,componentStack:(i=s.componentStack)!=null?i:"",resetError:this.resetErrorBoundary}):o=n,T.isValidElement(o)?o:null}return typeof r=="function"?r():r}}const _t="/cdn/assets/sprites-core-mr1omm3f.svg",Ee=(e,t,n,r,s)=>{function i(o){"use forget";const a=j.c(4),l=o["aria-label"]!=null||o["aria-labelledby"]!=null?void 0:"true";let u;a[0]===Symbol.for("react.memo_cache_sentinel")?(u=g.jsx("use",{href:e+"#"+t,fill:"currentColor"}),a[0]=u):u=a[0];let d;return a[1]!==o||a[2]!==l?(d=g.jsx("svg",P(S({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,"aria-hidden":l,"data-rtl-flip":s?"":void 0},o),{children:u})),a[1]=o,a[2]=l,a[3]=d):d=a[3],d}return i},Tle=Ee(_t,"23ce94",16,16);function yW(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=yW(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function oe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=yW(e))&&(r&&(r+=" "),r+=t);return r}var pn=(e=>(e.info="info",e.neutral="neutral",e.success="success",e.successNeutral="successNeutral",e.warning="warning",e.danger="danger",e))(pn||{});const Ole=Rt({closeButtonLabel:{id:"Alert.closeButtonLabel",defaultMessage:"Close"}}),ble=Ft.memo(function(t){const n=vt(),{className:r,intent:s="info",fullWidth:i,children:o,icon:a,onRemove:c,testId:l}=t,u=oe({"px-3 py-2 rounded-lg inline-flex flex-row border pointer-events-auto gap-2":!0,flex:i,"popover shadow-lg bg-token-main-surface-primary text-token-text-secondary dark:border-black/20":s===pn.neutral||s===pn.info,"border-green-600 bg-green-600 text-white":s===pn.success,"border-orange-500 text-white bg-orange-500":s===pn.warning,"border-red-500 text-white bg-red-500":s===pn.danger,"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white":s===pn.successNeutral},r);return g.jsxs("div",{className:u,role:"alert","data-testid":l,children:[a!=null&&g.jsx("div",{className:"mt-1 shrink-0 grow-0",children:g.jsx(a,{className:"icon-sm"})}),g.jsx("div",{className:"flex-1 justify-center gap-2",children:typeof o=="string"?g.jsx("div",{className:"font-semibold",children:o}):o}),c?g.jsx("div",{className:"flex shrink-0 grow-0",children:g.jsx("button",{onClick:c,"aria-label":n.formatMessage(Ole.closeButtonLabel),className:"hover:opacity-80",children:g.jsx(Tle,{className:"icon-sm"})})}):null]})}),_L=Ee(_t,"a4763e",20,20),dh=Ee(_t,"bc9381",20,20);function mL(){return mL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mL.apply(null,arguments)}function Ale(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zN(e,t){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},zN(e,t)}function Nle(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zN(e,t)}var xy={exports:{}},My,gL;function Ile(){if(gL)return My;gL=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return My=e,My}var ky,vL;function Ple(){if(vL)return ky;vL=1;var e=Ile();function t(){}function n(){}return n.resetWarningCache=t,ky=function(){function r(o,a,c,l,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},ky}var EL;function wle(){return EL||(EL=1,xy.exports=Ple()()),xy.exports}var Rle=wle();const Yqe=jt(Rle),CL={disabled:!1},SW=Ft.createContext(null);var xle=function(t){return t.scrollTop},pf="unmounted",nc="exited",rc="entering",Jl="entered",YN="exiting",Ma=(function(e){Nle(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?a?(c=nc,i.appearStatus=rc):c=Jl:r.unmountOnExit||r.mountOnEnter?c=pf:c=nc,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===pf?{status:nc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==rc&&o!==Jl&&(i=rc):(o===rc||o===Jl)&&(i=YN)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===rc){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:lf.findDOMNode(this);o&&xle(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nc&&this.setState({status:pf})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,c=this.props.nodeRef?[a]:[lf.findDOMNode(this),a],l=c[0],u=c[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!s&&!o||CL.disabled){this.safeSetState({status:Jl},function(){i.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:rc},function(){i.props.onEntering(l,u),i.onTransitionEnd(f,function(){i.safeSetState({status:Jl},function(){i.props.onEntered(l,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:lf.findDOMNode(this);if(!i||CL.disabled){this.safeSetState({status:nc},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:YN},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:nc},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:lf.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],u=c[1];this.props.addEndListener(l,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===pf)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=Ale(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ft.createElement(SW.Provider,{value:null},typeof o=="function"?o(s,a):Ft.cloneElement(Ft.Children.only(o),a))},t})(Ft.Component);Ma.contextType=SW;function Ul(){}Ma.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ul,onEntering:Ul,onEntered:Ul,onExit:Ul,onExiting:Ul,onExited:Ul};Ma.UNMOUNTED=pf;Ma.EXITED=nc;Ma.ENTERING=rc;Ma.ENTERED=Jl;Ma.EXITING=YN;function Kqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mle(e){const t=T.useRef(null);return T.useInsertionEffect(()=>{t.current=e},[e]),T.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const kle={liveRegionAssertive:"",liveRegionPolite:""},y_=zn()(()=>S({},kle));let Ly,Dy;const Lle={setLiveRegionAssertive:e=>{window.clearTimeout(Ly),y_.setState({liveRegionAssertive:e}),Ly=window.setTimeout(()=>{y_.setState({liveRegionAssertive:""}),Ly=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(Dy),y_.setState({liveRegionPolite:e}),Dy=window.setTimeout(()=>{y_.setState({liveRegionPolite:""}),Dy=void 0},5e3)}},Dle={[pn.success]:_L,[pn.successNeutral]:_L,[pn.warning]:dh,[pn.danger]:dh};function Ule(e,t,n){let r,s;try{switch(n.intent){case pn.success:s={defaultMessage:"Success",description:"Prefix for success toast announcements",id:"toast.success"};break;case pn.warning:s={defaultMessage:"Warning",description:"Prefix for warning toast announcements",id:"toast.warning"};break;case pn.danger:s={defaultMessage:"Error",description:"Prefix for error toast announcements",id:"toast.error"};break;default:s=void 0}s?r=e.formatMessage({id:"SieQiR",defaultMessage:"{prefix}: {message}"},{prefix:e.formatMessage(s),message:typeof t=="string"?t:e.formatMessage(t)}):r=e.formatMessage({id:"opr5Yt",defaultMessage:"{message}"},{message:typeof t=="string"?t:e.formatMessage(t)}),Lle.setLiveRegionPolite(r)}catch(i){q.addError(i)}}const Fle=({zIndex:e,duration:t,onRemove:n,intent:r=pn.info,title:s,description:i,hasCloseButton:o,isShown:a=!0,testId:c})=>{"use no forget";const[l,u]=T.useState(0),[d,f]=T.useState(a),h=T.useRef(null),p=T.useRef(null),_=()=>{p.current&&(clearTimeout(p.current),p.current=null)};function m(){n==null||n(),_(),f(!1)}const v=()=>{t&&(p.current=setTimeout(()=>{n==null||n(),_(),f(!1)},t*1e3))},E=Mle(()=>v());T.useEffect(()=>(E(),()=>{_()}),[d]);const b=()=>{_()},C=()=>{v()},y=A=>{if(A===null)return;const{height:N}=A.getBoundingClientRect();u(N)},O=vt();return T.useEffect(()=>{Ule(O,s,{intent:r})},[O,s,r]),g.jsx(Ma,{appear:!0,unmountOnExit:!0,timeout:240,in:d,onExited:n,nodeRef:h,children:A=>{var N;return g.jsx("div",{ref:h,"data-state":A,className:"toast-root",onMouseEnter:b,onMouseLeave:C,style:{height:l,zIndex:e,marginBottom:d?0:-l},children:g.jsx("div",{ref:y,className:"w-full p-1 text-center md:w-auto md:text-justify",children:g.jsxs(ble,{icon:(N=Dle[r])!=null?N:void 0,intent:r,onRemove:o?()=>m():void 0,testId:c,children:[g.jsx("div",{className:oe("text-start whitespace-pre-wrap",{"font-semibold":i!=null&&i!==""}),children:typeof s=="string"?s:O.formatMessage(s)}),i&&g.jsx("div",{className:"line-clamp-3 text-start",children:i})]})})})}})},yL="_sli";function TW(){const e=sessionStorage.getItem(yL);if(e)return e;const t=nr();return sessionStorage.setItem(yL,t),t}function Fw(){return Se.getCookie(pe.PunchOutInfoToken)}function Jqe(){return Fw()!=null}const Gle="chatgpt.com/ces",jle="https",Ble="".concat(jle,"://").concat(Gle);function KN(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n.key]=n.value,t),{}):e}var ft=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.CODEX="Wham",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e.GOLDEN_HOUR="golden_hour",e.CUSTOMIZE_CHATGPT="customize_chatgpt",e.WEB_SANDBOX="web_sandbox",e.ECOSYSTEM="ecosystem",e.CANVAS="canvas",e.COT_SUMMARIZER="cot_summarizer",e.CLASSMATES="classmates",e.REFERRALS="referrals",e.STUDENTS="students",e.TEACHERS="teachers",e.TEAMS="teams",e.WEBSOCKET="ws",e.TATERTOT="tatertot",e.PROJECTS="projects",e.WRITING_BLOCKS="writing_blocks",e.CODE_BLOCKS="code_blocks",e.MATH_BLOCKS="math_blocks",e.ATLAS="aura,",e.PULSE="pulse",e.COCOON="cocoon",e.SEGMENT="segment",e.POTION="potion",e.JOBS="jobs",e))(ft||{});class SL{constructor(){R(this,"counterMap",new Map);R(this,"histMap",new Map)}}class Hle{constructor(){R(this,"metrics",new SL);R(this,"postUrl","".concat(Ble,"/statsc/flush"));R(this,"postInterval",3e4);R(this,"maxPostErrors",10);R(this,"isScheduled",!1);R(this,"numMetricPostErrors",0);R(this,"numLostMetrics",0);R(this,"flushDisabled",!1)}count(t,n,r={},s=1){r=KN(r);const i=this.makeKey(t,n,r);var o=this.metrics.counterMap;const a=o.get(i);a?a.value+=s:o.set(i,{namespace:t,metric:n,tags:r,value:s}),this.scheduleIfNeeded()}hist(t,n,r={},s){r=KN(r);const i=this.makeKey(t,n,r);var o=this.metrics.histMap;const a=o.get(i);a?a.values.push(s):o.set(i,{namespace:t,metric:n,tags:r,values:[s]}),this.scheduleIfNeeded()}makeKey(t,n,r){const s=Object.entries(r).map(([i,o])=>"".concat(i,"=").concat(o)).sort().join(",");return"".concat(t,":").concat(n,":").concat(s)}scheduleIfNeeded(){this.isScheduled||this.flushDisabled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new SL;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:{},value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:{},value:this.numLostMetrics}));const s={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},i=JSON.stringify(s);try{await tt.post(this.postUrl,s,{authOption:cn.Anonymous}),this.numMetricPostErrors=0}catch(o){o instanceof Mt||q.addError(o,{json:i}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(q.addAction("Exceeded maximum number of post errors (".concat(this.maxPostErrors,"). Dropping ").concat(this.numLostMetrics," metrics.")),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const mt=new Hle,Xqe=Object.freeze(Object.defineProperty({__proto__:null,Namespace:ft,convertTagsToKV:KN,statsc:mt},Symbol.toStringTag,{value:"Module"})),Qqe={$type:"protobuf_analytics_events.v1.AardvarkConnectGithubClicked"},Zqe={$type:"protobuf_analytics_events.v1.AardvarkFiltersApplied"},e7e={$type:"protobuf_analytics_events.v1.AardvarkFiltersCleared"},t7e={$type:"protobuf_analytics_events.v1.AardvarkFindingOpened"},n7e={$type:"protobuf_analytics_events.v1.AardvarkScanConfigurationSaved"};var OW=(e=>(e.ACCESS_FLOW_CONNECTION_TYPE_UNSPECIFIED="ACCESS_FLOW_CONNECTION_TYPE_UNSPECIFIED",e.ACCESS_FLOW_CONNECTION_TYPE_PASSWORD="ACCESS_FLOW_CONNECTION_TYPE_PASSWORD",e.ACCESS_FLOW_CONNECTION_TYPE_GOOGLE="ACCESS_FLOW_CONNECTION_TYPE_GOOGLE",e.ACCESS_FLOW_CONNECTION_TYPE_MICROSOFT="ACCESS_FLOW_CONNECTION_TYPE_MICROSOFT",e.ACCESS_FLOW_CONNECTION_TYPE_APPLE="ACCESS_FLOW_CONNECTION_TYPE_APPLE",e.ACCESS_FLOW_CONNECTION_TYPE_SAMLP="ACCESS_FLOW_CONNECTION_TYPE_SAMLP",e.ACCESS_FLOW_CONNECTION_TYPE_OIDC="ACCESS_FLOW_CONNECTION_TYPE_OIDC",e.ACCESS_FLOW_CONNECTION_TYPE_SSO="ACCESS_FLOW_CONNECTION_TYPE_SSO",e.UNRECOGNIZED="UNRECOGNIZED",e))(OW||{}),gd=(e=>(e.ACCESS_FLOW_ENTRY_ACTION_TYPE_UNSPECIFIED="ACCESS_FLOW_ENTRY_ACTION_TYPE_UNSPECIFIED",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP="ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_CONTINUE_WITH_SOCIAL="ACCESS_FLOW_ENTRY_ACTION_TYPE_CONTINUE_WITH_SOCIAL",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN="ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOG_BACK_IN_MODAL_AUTO_SHOWN="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOG_BACK_IN_MODAL_AUTO_SHOWN",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_PAGE_LOADED="ACCESS_FLOW_ENTRY_ACTION_TYPE_PAGE_LOADED",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_EXPIRED_SESSION_MODAL_SHOWN="ACCESS_FLOW_ENTRY_ACTION_TYPE_EXPIRED_SESSION_MODAL_SHOWN",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_ONE_TAP_PROMPT_SHOWN="ACCESS_FLOW_ENTRY_ACTION_TYPE_ONE_TAP_PROMPT_SHOWN",e.UNRECOGNIZED="UNRECOGNIZED",e))(gd||{}),ug=(e=>(e.ACCESS_FLOW_ENTRY_POINT_UNSPECIFIED="ACCESS_FLOW_ENTRY_POINT_UNSPECIFIED",e.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL="ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL",e.ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL="ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_FULL_SCREEN="ACCESS_FLOW_ENTRY_POINT_MOBILE_FULL_SCREEN",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_BOTTOM_SHEET="ACCESS_FLOW_ENTRY_POINT_MOBILE_BOTTOM_SHEET",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PAGE="ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PAGE",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PASSWORD_PAGE="ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PASSWORD_PAGE",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_ANONYMOUS_SIDE_BAR="ACCESS_FLOW_ENTRY_POINT_MOBILE_ANONYMOUS_SIDE_BAR",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_TEMPLATE="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_TEMPLATE",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_PROGRESS_BANNER_GPT_5="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_PROGRESS_BANNER_GPT_5",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_IMAGE_GEN="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_IMAGE_GEN",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_SEND="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_SEND",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO_TAG="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO_TAG",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_DALLE="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_DALLE",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_ADAVANCED_DATA_ANALYSIS="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_ADAVANCED_DATA_ANALYSIS",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_4O="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_4O",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_5_AUTO="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_5_AUTO",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_UPGRADE_TO_GO_UPSELL="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_UPGRADE_TO_GO_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PLUS_UPSELL="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PLUS_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PRO_UPSELL="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PRO_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_NEW_CHAT_MODAL="ACCESS_FLOW_ENTRY_POINT_NEW_CHAT_MODAL",e.ACCESS_FLOW_ENTRY_POINT_SIDEBAR_BOTTOM_UNIT="ACCESS_FLOW_ENTRY_POINT_SIDEBAR_BOTTOM_UNIT",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_CHAT_STAGE_HEADER="ACCESS_FLOW_ENTRY_POINT_MOBILE_CHAT_STAGE_HEADER",e.ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER="ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER",e.ACCESS_FLOW_ENTRY_POINT_LOGIN_PAGE="ACCESS_FLOW_ENTRY_POINT_LOGIN_PAGE",e.ACCESS_FLOW_ENTRY_POINT_SIGNUP_PAGE="ACCESS_FLOW_ENTRY_POINT_SIGNUP_PAGE",e.ACCESS_FLOW_ENTRY_POINT_LOGIN_OR_SIGNUP_PAGE="ACCESS_FLOW_ENTRY_POINT_LOGIN_OR_SIGNUP_PAGE",e.ACCESS_FLOW_ENTRY_POINT_LOGIN_PASSWORD_PAGE="ACCESS_FLOW_ENTRY_POINT_LOGIN_PASSWORD_PAGE",e.ACCESS_FLOW_ENTRY_POINT_SSO_SELECTION_PAGE="ACCESS_FLOW_ENTRY_POINT_SSO_SELECTION_PAGE",e.ACCESS_FLOW_ENTRY_POINT_START_PAGE="ACCESS_FLOW_ENTRY_POINT_START_PAGE",e.ACCESS_FLOW_ENTRY_POINT_FILE_PICKER_RATE_LIMIT_TOOLTIP="ACCESS_FLOW_ENTRY_POINT_FILE_PICKER_RATE_LIMIT_TOOLTIP",e.ACCESS_FLOW_ENTRY_POINT_FILE_UPLOAD_RATE_LIMIT_TOAST="ACCESS_FLOW_ENTRY_POINT_FILE_UPLOAD_RATE_LIMIT_TOAST",e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIGNUP_BANNER="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIGNUP_BANNER",e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_LOGIN_BANNER="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_LOGIN_BANNER",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PLAN_UPSELL_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PLAN_UPSELL_MODAL",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PROMO_REDEMPTION_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PROMO_REDEMPTION_MODAL",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_IMAGEGEN_NUX_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_IMAGEGEN_NUX_MODAL",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_SOFT_RATE_LIMIT_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_SOFT_RATE_LIMIT_MODAL",e.ACCESS_FLOW_ENTRY_POINT_VOICE_PICKER_PAGE="ACCESS_FLOW_ENTRY_POINT_VOICE_PICKER_PAGE",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PUNCH_OUT_SIGN_IN_AS_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PUNCH_OUT_SIGN_IN_AS_MODAL",e.ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GPT4_UPSELL="ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GPT4_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GO_UPSELL="ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GO_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL="ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_ADD_FILES="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_ADD_FILES",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_PICTURE_V2="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_PICTURE_V2",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_GPT_5="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_GPT_5",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_RESEARCH="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_RESEARCH",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_REASON="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_REASON",e.ACCESS_FLOW_ENTRY_POINT_COMPOSER_PLUS_LOGGED_OUT_UPSELL="ACCESS_FLOW_ENTRY_POINT_COMPOSER_PLUS_LOGGED_OUT_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIDEBAR="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIDEBAR",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_ATTACH="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_ATTACH",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_MODEL_SWITCHER="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_MODEL_SWITCHER",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_DISPATCH_TO_WEB="ACCESS_FLOW_ENTRY_POINT_MOBILE_DISPATCH_TO_WEB",e.ACCESS_FLOW_ENTRY_POINT_MFA_SETTING="ACCESS_FLOW_ENTRY_POINT_MFA_SETTING",e.ACCESS_FLOW_ENTRY_POINT_RETRIGGER_SSO="ACCESS_FLOW_ENTRY_POINT_RETRIGGER_SSO",e.ACCESS_FLOW_ENTRY_POINT_ATLAS_LOGIN_WINDOW="ACCESS_FLOW_ENTRY_POINT_ATLAS_LOGIN_WINDOW",e.ACCESS_FLOW_ENTRY_POINT_NOFACE_LOGIN_VIEW="ACCESS_FLOW_ENTRY_POINT_NOFACE_LOGIN_VIEW",e.ACCESS_FLOW_ENTRY_POINT_NOFACE_LEGACY_LOGIN_VIEW="ACCESS_FLOW_ENTRY_POINT_NOFACE_LEGACY_LOGIN_VIEW",e.ACCESS_FLOW_ENTRY_POINT_AUTH_LOGIN_PAGE="ACCESS_FLOW_ENTRY_POINT_AUTH_LOGIN_PAGE",e.ACCESS_FLOW_ENTRY_POINT_EXPIRED_SESSION_MODAL="ACCESS_FLOW_ENTRY_POINT_EXPIRED_SESSION_MODAL",e.ACCESS_FLOW_ENTRY_POINT_AUTH_EXPIRED_SESSION_MODAL="ACCESS_FLOW_ENTRY_POINT_AUTH_EXPIRED_SESSION_MODAL",e.ACCESS_FLOW_ENTRY_POINT_ONE_TAP_PROMPT="ACCESS_FLOW_ENTRY_POINT_ONE_TAP_PROMPT",e.ACCESS_FLOW_ENTRY_POINT_CONTINUE_REGISTRATION_DEEPLINK="ACCESS_FLOW_ENTRY_POINT_CONTINUE_REGISTRATION_DEEPLINK",e.UNRECOGNIZED="UNRECOGNIZED",e))(ug||{}),bW=(e=>(e.ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED="ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_SSO="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_SSO",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_PASSWORD="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_PASSWORD",e.ACCESS_FLOW_USER_ACTION_TYPE_PREVIOUS_STEP="ACCESS_FLOW_USER_ACTION_TYPE_PREVIOUS_STEP",e.ACCESS_FLOW_USER_ACTION_TYPE_EDIT_USERNAME="ACCESS_FLOW_USER_ACTION_TYPE_EDIT_USERNAME",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT="ACCESS_FLOW_USER_ACTION_TYPE_EXIT",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_BUTTON_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_BUTTON_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_RESEND="ACCESS_FLOW_USER_ACTION_TYPE_RESEND",e.ACCESS_FLOW_USER_ACTION_TYPE_INPUT="ACCESS_FLOW_USER_ACTION_TYPE_INPUT",e.ACCESS_FLOW_USER_ACTION_TYPE_AUTOFILL="ACCESS_FLOW_USER_ACTION_TYPE_AUTOFILL",e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL",e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE",e.ACCESS_FLOW_USER_ACTION_TYPE_FORGOT_PASSWORD="ACCESS_FLOW_USER_ACTION_TYPE_FORGOT_PASSWORD",e.ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_OTP_DEEPLINK="ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_OTP_DEEPLINK",e.ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_MFA_DEEPLINK="ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_MFA_DEEPLINK",e.ACCESS_FLOW_USER_ACTION_TYPE_COPY_RECOVERY_CODE="ACCESS_FLOW_USER_ACTION_TYPE_COPY_RECOVERY_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_TOTP_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_TOTP_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_SMS_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_SMS_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_EMAIL_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_EMAIL_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_RECOVERY_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_RECOVERY_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PUSH_AUTH_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PUSH_AUTH_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_UNKNOWN_FACTOR="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_UNKNOWN_FACTOR",e.ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_INSTEAD_LINK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_INSTEAD_LINK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_INSTEAD_LINK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_INSTEAD_LINK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_TERMS_OF_USE_CLICK="ACCESS_FLOW_USER_ACTION_TYPE_TERMS_OF_USE_CLICK",e.ACCESS_FLOW_USER_ACTION_TYPE_PRIVACY_POLICY_CLICK="ACCESS_FLOW_USER_ACTION_TYPE_PRIVACY_POLICY_CLICK",e.ACCESS_FLOW_USER_ACTION_TYPE_WORDMARK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_WORDMARK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_SEND_EMAIL_OTP="ACCESS_FLOW_USER_ACTION_TYPE_SEND_EMAIL_OTP",e.ACCESS_FLOW_USER_ACTION_TYPE_CANCEL_WEB_FLOW="ACCESS_FLOW_USER_ACTION_TYPE_CANCEL_WEB_FLOW",e.ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_WITH_ONE_TIME_CODE="ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_WITH_ONE_TIME_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_WITH_ONE_TIME_CODE="ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_WITH_ONE_TIME_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_BACK_TO_LOGIN="ACCESS_FLOW_USER_ACTION_TYPE_BACK_TO_LOGIN",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PASSKEY="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PASSKEY",e.ACCESS_FLOW_USER_ACTION_TYPE_ACQUIRE_AUTOFILL_CREDENTIALS="ACCESS_FLOW_USER_ACTION_TYPE_ACQUIRE_AUTOFILL_CREDENTIALS",e.ACCESS_FLOW_USER_ACTION_TYPE_STORE_AUTOFILL_CREDENTIALS="ACCESS_FLOW_USER_ACTION_TYPE_STORE_AUTOFILL_CREDENTIALS",e.ACCESS_FLOW_USER_ACTION_TYPE_NATIVE_FOREGROUND="ACCESS_FLOW_USER_ACTION_TYPE_NATIVE_FOREGROUND",e.ACCESS_FLOW_USER_ACTION_TYPE_NATIVE_BACKGROUND="ACCESS_FLOW_USER_ACTION_TYPE_NATIVE_BACKGROUND",e.ACCESS_FLOW_USER_ACTION_TYPE_REMOVE_SAVED_ACCOUNT_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_REMOVE_SAVED_ACCOUNT_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_GENERIC_LOGIN_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_GENERIC_LOGIN_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_TRY_ANOTHER_WAY_FROM_PASSKEY="ACCESS_FLOW_USER_ACTION_TYPE_TRY_ANOTHER_WAY_FROM_PASSKEY",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_ESCAPE_KEY_PRESSED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_ESCAPE_KEY_PRESSED",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_LINK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_LINK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_BACKDROP_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_BACKDROP_CLICKED",e.UNRECOGNIZED="UNRECOGNIZED",e))(bW||{}),$le=(e=>(e.ACCESS_FLOW_FIELD_UNSPECIFIED="ACCESS_FLOW_FIELD_UNSPECIFIED",e.ACCESS_FLOW_FIELD_EMAIL="ACCESS_FLOW_FIELD_EMAIL",e.ACCESS_FLOW_FIELD_PHONE="ACCESS_FLOW_FIELD_PHONE",e.ACCESS_FLOW_FIELD_COUNTRY_CODE="ACCESS_FLOW_FIELD_COUNTRY_CODE",e.ACCESS_FLOW_FIELD_PASSWORD="ACCESS_FLOW_FIELD_PASSWORD",e.ACCESS_FLOW_FIELD_OTP="ACCESS_FLOW_FIELD_OTP",e.ACCESS_FLOW_FIELD_NAME="ACCESS_FLOW_FIELD_NAME",e.ACCESS_FLOW_FIELD_BIRTHDAY="ACCESS_FLOW_FIELD_BIRTHDAY",e.ACCESS_FLOW_FIELD_CONFIRM_PASSWORD="ACCESS_FLOW_FIELD_CONFIRM_PASSWORD",e.UNRECOGNIZED="UNRECOGNIZED",e))($le||{}),AW=(e=>(e.ACCESS_FLOW_PAGE_TYPE_UNSPECIFIED="ACCESS_FLOW_PAGE_TYPE_UNSPECIFIED",e.ACCESS_FLOW_PAGE_TYPE_ABOUT_YOU="ACCESS_FLOW_PAGE_TYPE_ABOUT_YOU",e.ACCESS_FLOW_PAGE_TYPE_ADD_EMAIL="ACCESS_FLOW_PAGE_TYPE_ADD_EMAIL",e.ACCESS_FLOW_PAGE_TYPE_APPLE_INTELLIGENCE_START="ACCESS_FLOW_PAGE_TYPE_APPLE_INTELLIGENCE_START",e.ACCESS_FLOW_PAGE_TYPE_CONTACT_VERIFICATION="ACCESS_FLOW_PAGE_TYPE_CONTACT_VERIFICATION",e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER",e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER_QUEUED="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER_QUEUED",e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_PASSWORD="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_PASSWORD",e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_START="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_START",e.ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_SEND="ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_SEND",e.ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_VERIFICATION="ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_VERIFICATION",e.ACCESS_FLOW_PAGE_TYPE_ERROR="ACCESS_FLOW_PAGE_TYPE_ERROR",e.ACCESS_FLOW_PAGE_TYPE_EXTERNAL_URL="ACCESS_FLOW_PAGE_TYPE_EXTERNAL_URL",e.ACCESS_FLOW_PAGE_TYPE_IDENTITY_VERIFICATION="ACCESS_FLOW_PAGE_TYPE_IDENTITY_VERIFICATION",e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL",e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL",e.ACCESS_FLOW_PAGE_TYPE_LOGIN_OR_SIGNUP_START="ACCESS_FLOW_PAGE_TYPE_LOGIN_OR_SIGNUP_START",e.ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSWORD="ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSWORD",e.ACCESS_FLOW_PAGE_TYPE_LOGIN_START="ACCESS_FLOW_PAGE_TYPE_LOGIN_START",e.ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE="ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE",e.ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE_SELECTION="ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE_SELECTION",e.ACCESS_FLOW_PAGE_TYPE_MFA_ENROLL="ACCESS_FLOW_PAGE_TYPE_MFA_ENROLL",e.ACCESS_FLOW_PAGE_TYPE_PHONE_OTP_SEND="ACCESS_FLOW_PAGE_TYPE_PHONE_OTP_SEND",e.ACCESS_FLOW_PAGE_TYPE_PUSH_AUTH_VERIFICATION="ACCESS_FLOW_PAGE_TYPE_PUSH_AUTH_VERIFICATION",e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_START="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_START",e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_NEW_PASSWORD="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_NEW_PASSWORD",e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_SUCCESS="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_SUCCESS",e.ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_CONSENT="ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_CONSENT",e.ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_ORG="ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_ORG",e.ACCESS_FLOW_PAGE_TYPE_SSO="ACCESS_FLOW_PAGE_TYPE_SSO",e.ACCESS_FLOW_PAGE_TYPE_TOKEN_EXCHANGE="ACCESS_FLOW_PAGE_TYPE_TOKEN_EXCHANGE",e.ACCESS_FLOW_PAGE_TYPE_WORKSPACE="ACCESS_FLOW_PAGE_TYPE_WORKSPACE",e.ACCESS_FLOW_PAGE_TYPE_END="ACCESS_FLOW_PAGE_TYPE_END",e.ACCESS_FLOW_PAGE_TYPE_MOBILE_LEGACY_FINISH_ONBOARDING="ACCESS_FLOW_PAGE_TYPE_MOBILE_LEGACY_FINISH_ONBOARDING",e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_PAGE="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_PAGE",e.ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSKEY="ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSKEY",e.ACCESS_FLOW_PAGE_TYPE_EMAIL_ROLLBACK_CONFIRM="ACCESS_FLOW_PAGE_TYPE_EMAIL_ROLLBACK_CONFIRM",e.UNRECOGNIZED="UNRECOGNIZED",e))(AW||{}),Wle=(e=>(e.ACCESS_FLOW_VALIDATION_TYPE_UNSPECIFIED="ACCESS_FLOW_VALIDATION_TYPE_UNSPECIFIED",e.ACCESS_FLOW_VALIDATION_TYPE_BACKEND_API="ACCESS_FLOW_VALIDATION_TYPE_BACKEND_API",e.ACCESS_FLOW_VALIDATION_TYPE_CLIENT="ACCESS_FLOW_VALIDATION_TYPE_CLIENT",e.UNRECOGNIZED="UNRECOGNIZED",e))(Wle||{}),qle=(e=>(e.ACCESS_LOGOUT_ACTION_LOCATION_UNSPECIFIED="ACCESS_LOGOUT_ACTION_LOCATION_UNSPECIFIED",e.ACCESS_LOGOUT_ACTION_LOCATION_SSO_CATCH_ALL_MODAL="ACCESS_LOGOUT_ACTION_LOCATION_SSO_CATCH_ALL_MODAL",e.ACCESS_LOGOUT_ACTION_LOCATION_INVALID_ACCOUNT_MODAL="ACCESS_LOGOUT_ACTION_LOCATION_INVALID_ACCOUNT_MODAL",e.ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN="ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN",e.ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_ALL="ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_ALL",e.ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_THIS_DEVICE="ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_THIS_DEVICE",e.ACCESS_LOGOUT_ACTION_LOCATION_QUIET_HOURS_BLOCK_MODAL="ACCESS_LOGOUT_ACTION_LOCATION_QUIET_HOURS_BLOCK_MODAL",e.ACCESS_LOGOUT_ACTION_LOCATION_DISALLOWED_BUILD_MODAL="ACCESS_LOGOUT_ACTION_LOCATION_DISALLOWED_BUILD_MODAL",e.ACCESS_LOGOUT_ACTION_LOCATION_ACCOUNT_ERROR_VIEW="ACCESS_LOGOUT_ACTION_LOCATION_ACCOUNT_ERROR_VIEW",e.ACCESS_LOGOUT_ACTION_LOCATION_ACCOUNT_DELETION_REQUIRED_LOGIN_CONFIRMATION_DIALOG="ACCESS_LOGOUT_ACTION_LOCATION_ACCOUNT_DELETION_REQUIRED_LOGIN_CONFIRMATION_DIALOG",e.ACCESS_LOGOUT_ACTION_LOCATION_BACKEND_ENVIRONMENT_CHANGE_ALERT="ACCESS_LOGOUT_ACTION_LOCATION_BACKEND_ENVIRONMENT_CHANGE_ALERT",e.ACCESS_LOGOUT_ACTION_LOCATION_ONBOARDING_FLOW="ACCESS_LOGOUT_ACTION_LOCATION_ONBOARDING_FLOW",e.ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_SCREENS="ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_SCREENS",e.ACCESS_LOGOUT_ACTION_LOCATION_CONTINUE_CONVERSATION_SIGN_OUT_PROMPT="ACCESS_LOGOUT_ACTION_LOCATION_CONTINUE_CONVERSATION_SIGN_OUT_PROMPT",e.ACCESS_LOGOUT_ACTION_LOCATION_NO_AUTH_TO_SIGNUP="ACCESS_LOGOUT_ACTION_LOCATION_NO_AUTH_TO_SIGNUP",e.ACCESS_LOGOUT_ACTION_LOCATION_ACCOUNT_DELETION_SUCCESS_ALERT="ACCESS_LOGOUT_ACTION_LOCATION_ACCOUNT_DELETION_SUCCESS_ALERT",e.ACCESS_LOGOUT_ACTION_LOCATION_ACCOUNT_SWITCHER_MENU="ACCESS_LOGOUT_ACTION_LOCATION_ACCOUNT_SWITCHER_MENU",e.UNRECOGNIZED="UNRECOGNIZED",e))(qle||{}),NW=(e=>(e.ACCESS_LOGOUT_TYPE_UNSPECIFIED="ACCESS_LOGOUT_TYPE_UNSPECIFIED",e.ACCESS_LOGOUT_TYPE_USER_INITIATED="ACCESS_LOGOUT_TYPE_USER_INITIATED",e.ACCESS_LOGOUT_TYPE_SYSTEM_FORCED_LOGOUT="ACCESS_LOGOUT_TYPE_SYSTEM_FORCED_LOGOUT",e.UNRECOGNIZED="UNRECOGNIZED",e))(NW||{}),Vle=(e=>(e.ACCESS_FLOW_TYPE_UNSPECIFIED="ACCESS_FLOW_TYPE_UNSPECIFIED",e.ACCESS_FLOW_TYPE_LOGIN="ACCESS_FLOW_TYPE_LOGIN",e.ACCESS_FLOW_TYPE_SIGNUP="ACCESS_FLOW_TYPE_SIGNUP",e.UNRECOGNIZED="UNRECOGNIZED",e))(Vle||{});const _p={$type:"protobuf_analytics_events.v1.AccessFlowEntry"},IW={$type:"protobuf_analytics_events.v1.AccessFlowUserAction"},r7e={$type:"protobuf_analytics_events.v1.AccessFlowPageLoad"},s7e={$type:"protobuf_analytics_events.v1.AccessFlowValidationError"},zle={$type:"protobuf_analytics_events.v1.AccessLogoutAction"},i7e={$type:"protobuf_analytics_events.v1.AccessFlowSuccess"};var Yle=(e=>(e.ATLAS_NAVLINKS_SOURCE_UNSPECIFIED="ATLAS_NAVLINKS_SOURCE_UNSPECIFIED",e.ATLAS_NAVLINKS_SOURCE_CHAT_CAROUSEL="ATLAS_NAVLINKS_SOURCE_CHAT_CAROUSEL",e.ATLAS_NAVLINKS_SOURCE_CHAT_LIST="ATLAS_NAVLINKS_SOURCE_CHAT_LIST",e.ATLAS_NAVLINKS_SOURCE_SEARCH_TAB="ATLAS_NAVLINKS_SOURCE_SEARCH_TAB",e.UNRECOGNIZED="UNRECOGNIZED",e))(Yle||{}),Kle=(e=>(e.ATLAS_NAVLINKS_ACTION_STEP_UNSPECIFIED="ATLAS_NAVLINKS_ACTION_STEP_UNSPECIFIED",e.ATLAS_NAVLINKS_ACTION_STEP_SHOW="ATLAS_NAVLINKS_ACTION_STEP_SHOW",e.ATLAS_NAVLINKS_ACTION_STEP_CLICK="ATLAS_NAVLINKS_ACTION_STEP_CLICK",e.ATLAS_NAVLINKS_ACTION_STEP_SEE_MORE="ATLAS_NAVLINKS_ACTION_STEP_SEE_MORE",e.UNRECOGNIZED="UNRECOGNIZED",e))(Kle||{}),Jle=(e=>(e.ATLAS_SUPER_WIDGET_TAB_UNSPECIFIED="ATLAS_SUPER_WIDGET_TAB_UNSPECIFIED",e.ATLAS_SUPER_WIDGET_TAB_HOME="ATLAS_SUPER_WIDGET_TAB_HOME",e.ATLAS_SUPER_WIDGET_TAB_SEARCH="ATLAS_SUPER_WIDGET_TAB_SEARCH",e.ATLAS_SUPER_WIDGET_TAB_IMAGES="ATLAS_SUPER_WIDGET_TAB_IMAGES",e.ATLAS_SUPER_WIDGET_TAB_VIDEOS="ATLAS_SUPER_WIDGET_TAB_VIDEOS",e.ATLAS_SUPER_WIDGET_TAB_NEWS="ATLAS_SUPER_WIDGET_TAB_NEWS",e.UNRECOGNIZED="UNRECOGNIZED",e))(Jle||{}),Xle=(e=>(e.ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_UNSPECIFIED="ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_UNSPECIFIED",e.ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_SHOW="ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_SHOW",e.ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_CLICK="ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_CLICK",e.UNRECOGNIZED="UNRECOGNIZED",e))(Xle||{}),Qle=(e=>(e.ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_UNSPECIFIED="ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_UNSPECIFIED",e.ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_SHOW="ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_SHOW",e.ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_CLICK="ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_CLICK",e.UNRECOGNIZED="UNRECOGNIZED",e))(Qle||{}),Zle=(e=>(e.ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_UNSPECIFIED="ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_UNSPECIFIED",e.ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_SHOW="ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_SHOW",e.ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_TOGGLE="ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_TOGGLE",e.UNRECOGNIZED="UNRECOGNIZED",e))(Zle||{});const o7e={$type:"protobuf_analytics_events.v1.AtlasNavlinksAction"},a7e={$type:"protobuf_analytics_events.v1.AtlasClickSuperWidgetTab"},c7e={$type:"protobuf_analytics_events.v1.AtlasSuperWidgetResultsAction"},l7e={$type:"protobuf_analytics_events.v1.AtlasGoogleSearchItAction"},u7e={$type:"protobuf_analytics_events.v1.AtlasSafeSearchToggleAction"};var eue=(e=>(e.GROUP_CHATS_INVITE_ACTIONS_STEP_UNSPECIFIED="GROUP_CHATS_INVITE_ACTIONS_STEP_UNSPECIFIED",e.GROUP_CHATS_INVITE_ACTIONS_STEP_CLICK_ADD_PEOPLE_BUTTON="GROUP_CHATS_INVITE_ACTIONS_STEP_CLICK_ADD_PEOPLE_BUTTON",e.GROUP_CHATS_INVITE_ACTIONS_STEP_CLICK_START_GROUP_CHAT="GROUP_CHATS_INVITE_ACTIONS_STEP_CLICK_START_GROUP_CHAT",e.GROUP_CHATS_INVITE_ACTIONS_STEP_COPY_SHARE_LINK="GROUP_CHATS_INVITE_ACTIONS_STEP_COPY_SHARE_LINK",e.GROUP_CHATS_INVITE_ACTIONS_STEP_ACCEPT_INVITE="GROUP_CHATS_INVITE_ACTIONS_STEP_ACCEPT_INVITE",e.GROUP_CHATS_INVITE_ACTIONS_STEP_IGNORE_INVITE="GROUP_CHATS_INVITE_ACTIONS_STEP_IGNORE_INVITE",e.GROUP_CHATS_INVITE_ACTIONS_STEP_CLICK_SHARE_BUTTON="GROUP_CHATS_INVITE_ACTIONS_STEP_CLICK_SHARE_BUTTON",e.GROUP_CHATS_INVITE_ACTIONS_STEP_REDIRECT_TO_APP="GROUP_CHATS_INVITE_ACTIONS_STEP_REDIRECT_TO_APP",e.UNRECOGNIZED="UNRECOGNIZED",e))(eue||{}),tue=(e=>(e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_UNSPECIFIED="GROUP_CHATS_INVITE_ACTIONS_SOURCE_UNSPECIFIED",e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_MENU_ADD_MEMBER="GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_MENU_ADD_MEMBER",e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_MESSAGE_LIST="GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_MESSAGE_LIST",e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_MENU_CREATE_LINK="GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_MENU_CREATE_LINK",e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_LINK_SCREEN_COPY="GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_LINK_SCREEN_COPY",e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_LINK_SCREEN_SHARE="GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_LINK_SCREEN_SHARE",e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_LINK_SCREEN_RESET="GROUP_CHATS_INVITE_ACTIONS_SOURCE_ROOM_LINK_SCREEN_RESET",e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_CONVERSATION_TOP_BAR_BUTTON="GROUP_CHATS_INVITE_ACTIONS_SOURCE_CONVERSATION_TOP_BAR_BUTTON",e.GROUP_CHATS_INVITE_ACTIONS_SOURCE_CONVERSATION_DROPDOWN_MENU="GROUP_CHATS_INVITE_ACTIONS_SOURCE_CONVERSATION_DROPDOWN_MENU",e.UNRECOGNIZED="UNRECOGNIZED",e))(tue||{}),nue=(e=>(e.GROUP_CHATS_SIDEBAR_ACTIONS_STEP_UNSPECIFIED="GROUP_CHATS_SIDEBAR_ACTIONS_STEP_UNSPECIFIED",e.GROUP_CHATS_SIDEBAR_ACTIONS_STEP_VIEW_GROUP_CHATS="GROUP_CHATS_SIDEBAR_ACTIONS_STEP_VIEW_GROUP_CHATS",e.GROUP_CHATS_SIDEBAR_ACTIONS_STEP_CLICK_OPEN_GROUP_CHAT="GROUP_CHATS_SIDEBAR_ACTIONS_STEP_CLICK_OPEN_GROUP_CHAT",e.GROUP_CHATS_SIDEBAR_ACTIONS_STEP_CLICK_SEE_MORE="GROUP_CHATS_SIDEBAR_ACTIONS_STEP_CLICK_SEE_MORE",e.UNRECOGNIZED="UNRECOGNIZED",e))(nue||{}),rue=(e=>(e.GROUP_CHATS_ROOM_ACTIONS_STEP_UNSPECIFIED="GROUP_CHATS_ROOM_ACTIONS_STEP_UNSPECIFIED",e.GROUP_CHATS_ROOM_ACTIONS_STEP_CUSTOMIZE_ASSISTANT="GROUP_CHATS_ROOM_ACTIONS_STEP_CUSTOMIZE_ASSISTANT",e.GROUP_CHATS_ROOM_ACTIONS_STEP_VIEW_ROOM="GROUP_CHATS_ROOM_ACTIONS_STEP_VIEW_ROOM",e.GROUP_CHATS_ROOM_ACTIONS_STEP_MESSAGE_IMPRESSION="GROUP_CHATS_ROOM_ACTIONS_STEP_MESSAGE_IMPRESSION",e.UNRECOGNIZED="UNRECOGNIZED",e))(rue||{});const d7e={$type:"protobuf_analytics_events.v1.GroupChatsInviteActions"},f7e={$type:"protobuf_analytics_events.v1.GroupChatsSidebarActions"},h7e={$type:"protobuf_analytics_events.v1.GroupChatsRoomActions"};var sue=(e=>(e.CHATGPT_SURFACE_UNSPECIFIED="CHATGPT_SURFACE_UNSPECIFIED",e.CHATGPT_SURFACE_LOGGED_OUT="CHATGPT_SURFACE_LOGGED_OUT",e.CHATGPT_SURFACE_COMPOSER="CHATGPT_SURFACE_COMPOSER",e.CHATGPT_SURFACE_MODAL_NEW_CHAT="CHATGPT_SURFACE_MODAL_NEW_CHAT",e.CHATGPT_SURFACE_MODAL_SWITCH_TO_STANDARD="CHATGPT_SURFACE_MODAL_SWITCH_TO_STANDARD",e.CHATGPT_SURFACE_DEEP_LINK="CHATGPT_SURFACE_DEEP_LINK",e.CHATGPT_SURFACE_MODAL_VOICE_PICKER="CHATGPT_SURFACE_MODAL_VOICE_PICKER",e.CHATGPT_SURFACE_ANDROID_ASSISTANT="CHATGPT_SURFACE_ANDROID_ASSISTANT",e.CHATGPT_SURFACE_UNKNOWN="CHATGPT_SURFACE_UNKNOWN",e.CHATGPT_SURFACE_RETRY="CHATGPT_SURFACE_RETRY",e.UNRECOGNIZED="UNRECOGNIZED",e))(sue||{}),iue=(e=>(e.CHATGPT_MICROPHONE_PERMISSIONS_STATE_UNSPECIFIED="CHATGPT_MICROPHONE_PERMISSIONS_STATE_UNSPECIFIED",e.CHATGPT_MICROPHONE_PERMISSIONS_STATE_GRANTED="CHATGPT_MICROPHONE_PERMISSIONS_STATE_GRANTED",e.CHATGPT_MICROPHONE_PERMISSIONS_STATE_ASKED="CHATGPT_MICROPHONE_PERMISSIONS_STATE_ASKED",e.CHATGPT_MICROPHONE_PERMISSIONS_STATE_DENIED="CHATGPT_MICROPHONE_PERMISSIONS_STATE_DENIED",e.UNRECOGNIZED="UNRECOGNIZED",e))(iue||{}),oue=(e=>(e.UPSELL_OR_MODAL_TYPE_UNSPECIFIED="UPSELL_OR_MODAL_TYPE_UNSPECIFIED",e.UPSELL_OR_MODAL_TYPE_BLOCKING_INITIAL_MODAL="UPSELL_OR_MODAL_TYPE_BLOCKING_INITIAL_MODAL",e.UPSELL_OR_MODAL_TYPE_CUSTOM_NUX_MODAL="UPSELL_OR_MODAL_TYPE_CUSTOM_NUX_MODAL",e.UPSELL_OR_MODAL_TYPE_NUX_BANNER="UPSELL_OR_MODAL_TYPE_NUX_BANNER",e.UPSELL_OR_MODAL_TYPE_NUX_TOOLTIP="UPSELL_OR_MODAL_TYPE_NUX_TOOLTIP",e.UNRECOGNIZED="UNRECOGNIZED",e))(oue||{}),aue=(e=>(e.CHATGPT_ONBOARDING_TOOLS_INTRO_SKIPPED_REASON_UNSPECIFIED="CHATGPT_ONBOARDING_TOOLS_INTRO_SKIPPED_REASON_UNSPECIFIED",e.CHATGPT_ONBOARDING_TOOLS_INTRO_SKIPPED_REASON_STEPS_NOT_READY="CHATGPT_ONBOARDING_TOOLS_INTRO_SKIPPED_REASON_STEPS_NOT_READY",e.UNRECOGNIZED="UNRECOGNIZED",e))(aue||{}),cue=(e=>(e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_UNSPECIFIED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_PLACEHOLDER_RENDERED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_PLACEHOLDER_RENDERED",e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_FIRST_TOKEN_RENDERED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_FIRST_TOKEN_RENDERED",e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_SEGMENT_RENDERED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_SEGMENT_RENDERED",e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_GENERATION_COMPLETED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_GENERATION_COMPLETED",e.UNRECOGNIZED="UNRECOGNIZED",e))(cue||{}),lue=(e=>(e.CHATGPT_SIDEBAR_MENU_ITEM_UNSPECIFIED="CHATGPT_SIDEBAR_MENU_ITEM_UNSPECIFIED",e.CHATGPT_SIDEBAR_MENU_ITEM_IMAGE_HOME="CHATGPT_SIDEBAR_MENU_ITEM_IMAGE_HOME",e.UNRECOGNIZED="UNRECOGNIZED",e))(lue||{}),JN=(e=>(e.CHATGPT_TURN_COMPLETION_STATUS_UNSPECIFIED="CHATGPT_TURN_COMPLETION_STATUS_UNSPECIFIED",e.CHATGPT_TURN_COMPLETION_STATUS_SUCCESS="CHATGPT_TURN_COMPLETION_STATUS_SUCCESS",e.CHATGPT_TURN_COMPLETION_STATUS_CANCELED="CHATGPT_TURN_COMPLETION_STATUS_CANCELED",e.UNRECOGNIZED="UNRECOGNIZED",e))(JN||{}),_f=(e=>(e.CHATGPT_MESSAGE_STATUS_UNSPECIFIED="CHATGPT_MESSAGE_STATUS_UNSPECIFIED",e.CHATGPT_MESSAGE_STATUS_IN_PROGRESS="CHATGPT_MESSAGE_STATUS_IN_PROGRESS",e.CHATGPT_MESSAGE_STATUS_FINISHED_SUCCESSFULLY="CHATGPT_MESSAGE_STATUS_FINISHED_SUCCESSFULLY",e.CHATGPT_MESSAGE_STATUS_FINISHED_PARTIAL_COMPLETION="CHATGPT_MESSAGE_STATUS_FINISHED_PARTIAL_COMPLETION",e.UNRECOGNIZED="UNRECOGNIZED",e))(_f||{}),Xl=(e=>(e.CHATGPT_TURN_ERROR_TYPE_UNSPECIFIED="CHATGPT_TURN_ERROR_TYPE_UNSPECIFIED",e.CHATGPT_TURN_ERROR_TYPE_NETWORK_ERROR="CHATGPT_TURN_ERROR_TYPE_NETWORK_ERROR",e.CHATGPT_TURN_ERROR_TYPE_TIMEOUT="CHATGPT_TURN_ERROR_TYPE_TIMEOUT",e.CHATGPT_TURN_ERROR_TYPE_EMPTY_RESPONSE="CHATGPT_TURN_ERROR_TYPE_EMPTY_RESPONSE",e.CHATGPT_TURN_ERROR_TYPE_REQUEST_FAILED="CHATGPT_TURN_ERROR_TYPE_REQUEST_FAILED",e.CHATGPT_TURN_ERROR_TYPE_UNKNOWN_ERROR="CHATGPT_TURN_ERROR_TYPE_UNKNOWN_ERROR",e.UNRECOGNIZED="UNRECOGNIZED",e))(Xl||{}),hi=(e=>(e.GOOGLE_ONE_TAP_EVENT_TYPE_UNSPECIFIED="GOOGLE_ONE_TAP_EVENT_TYPE_UNSPECIFIED",e.GOOGLE_ONE_TAP_EVENT_TYPE_ACCOUNTS_UNAVAILABLE="GOOGLE_ONE_TAP_EVENT_TYPE_ACCOUNTS_UNAVAILABLE",e.GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_FAILED="GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_FAILED",e.GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_EXCEPTION="GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_EXCEPTION",e.GOOGLE_ONE_TAP_EVENT_TYPE_CLIENT_ID_MISSING="GOOGLE_ONE_TAP_EVENT_TYPE_CLIENT_ID_MISSING",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SHOWN="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SHOWN",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_NOT_DISPLAYED="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_NOT_DISPLAYED",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_PROMPTED="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_PROMPTED",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SKIPPED="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SKIPPED",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_DISMISSED="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_DISMISSED",e.GOOGLE_ONE_TAP_EVENT_TYPE_LOGIN="GOOGLE_ONE_TAP_EVENT_TYPE_LOGIN",e.UNRECOGNIZED="UNRECOGNIZED",e))(hi||{});const p7e={$type:"protobuf_analytics_events.v1.CopyTurnToClipboard"},_7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockFullscreenOpened"},m7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockInsertButtonClicked"},g7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockCopyButtonClicked"},v7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockEmailSendButtonClicked"},E7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockInlineEditNuxShown"},C7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockInlineEditNuxAdvanced"},y7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockInlineEditNuxCompleted"},S7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockMagicEditSubmitted"},T7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockMagicEditFailed"},O7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockMagicEditAccepted"},b7e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockMagicEditRejected"},A7e={$type:"protobuf_analytics_events.v1.ChatgptCodeBlockPreviewButtonClicked"},N7e={$type:"protobuf_analytics_events.v1.ChatgptCodeBlockEditButtonClicked"},I7e={$type:"protobuf_analytics_events.v1.ChatgptVoiceConnectionSetup"},P7e={$type:"protobuf_analytics_events.v1.ChatgptVoiceSession"},w7e={$type:"protobuf_analytics_events.v1.ChatgptUpsellOrModalShown"},R7e={$type:"protobuf_analytics_events.v1.ChatgptOnboardingLoadingShown"},x7e={$type:"protobuf_analytics_events.v1.ChatgptOnboardingWrappingUpShown"},M7e={$type:"protobuf_analytics_events.v1.ChatgptImageGenClientCheckpoint"},k7e={$type:"protobuf_analytics_events.v1.ChatgptSidebarMenuItemClicked"},L7e={$type:"protobuf_analytics_events.v1.ChatgptOnboardingUsageOptionToggled"},D7e={$type:"protobuf_analytics_events.v1.ChatgptOnboardingToolsSkipClicked"},uue={$type:"protobuf_analytics_events.v1.ChatgptTurnStart"},due={$type:"protobuf_analytics_events.v1.ChatgptTurnTerminalError"},fue={$type:"protobuf_analytics_events.v1.ChatgptTurnFinish"},U7e={$type:"protobuf_analytics_events.v1.ChatgptYougovSurveyLogin"},hue={$type:"protobuf_analytics_events.v1.ChatgptGoogleOneTapEvent"},F7e={$type:"protobuf_analytics_events.v1.ChatgptWebSkillShareModalOpenedFromUrl"},G7e={$type:"protobuf_analytics_events.v1.ChatgptWebSkillUpdateSuccess"},j7e={$type:"protobuf_analytics_events.v1.ChatgptWebSkillCreateRawSuccess"},B7e={$type:"protobuf_analytics_events.v1.ChatgptWebSkillCreateZipSuccess"};var pue=(e=>(e.CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_UNSPECIFIED="CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_UNSPECIFIED",e.CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_HIDE_ADS_PLACEMENT="CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_HIDE_ADS_PLACEMENT",e.CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_HIDE_ADVERTISER="CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_HIDE_ADVERTISER",e.CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_OPEN_ADS_INFO="CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_OPEN_ADS_INFO",e.CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_SUBMIT_FEEDBACK="CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_SUBMIT_FEEDBACK",e.CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_OPEN_MENU="CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_OPEN_MENU",e.CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_CLICK_ABOUT_THIS_AD="CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_CLICK_ABOUT_THIS_AD",e.CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_CLICK_HIDE_AD="CHATGPT_BAZAAR_PLACEMENT_ACTION_TYPE_CLICK_HIDE_AD",e.UNRECOGNIZED="UNRECOGNIZED",e))(pue||{}),_ue=(e=>(e.ADS_TRANSPARENCY_MODAL_ACTION_TYPE_UNSPECIFIED="ADS_TRANSPARENCY_MODAL_ACTION_TYPE_UNSPECIFIED",e.ADS_TRANSPARENCY_MODAL_ACTION_TYPE_CLICK_LEARN_MORE="ADS_TRANSPARENCY_MODAL_ACTION_TYPE_CLICK_LEARN_MORE",e.ADS_TRANSPARENCY_MODAL_ACTION_TYPE_CLICK_UPSELL="ADS_TRANSPARENCY_MODAL_ACTION_TYPE_CLICK_UPSELL",e.UNRECOGNIZED="UNRECOGNIZED",e))(_ue||{}),mue=(e=>(e.CHATGPT_ADS_ONBOARDING_STEP_UNSPECIFIED="CHATGPT_ADS_ONBOARDING_STEP_UNSPECIFIED",e.CHATGPT_ADS_ONBOARDING_STEP_ANSWERS_TRUST="CHATGPT_ADS_ONBOARDING_STEP_ANSWERS_TRUST",e.CHATGPT_ADS_ONBOARDING_STEP_DATA_PRIVATE="CHATGPT_ADS_ONBOARDING_STEP_DATA_PRIVATE",e.CHATGPT_ADS_ONBOARDING_STEP_PRIVATELY_PERSONALIZED="CHATGPT_ADS_ONBOARDING_STEP_PRIVATELY_PERSONALIZED",e.CHATGPT_ADS_ONBOARDING_STEP_TRANSPARENCY_CONTROL="CHATGPT_ADS_ONBOARDING_STEP_TRANSPARENCY_CONTROL",e.UNRECOGNIZED="UNRECOGNIZED",e))(mue||{}),gue=(e=>(e.CHATGPT_ADS_ONBOARDING_NUX_ACTION_UNSPECIFIED="CHATGPT_ADS_ONBOARDING_NUX_ACTION_UNSPECIFIED",e.CHATGPT_ADS_ONBOARDING_NUX_ACTION_ENTRYPOINT_SEEN="CHATGPT_ADS_ONBOARDING_NUX_ACTION_ENTRYPOINT_SEEN",e.CHATGPT_ADS_ONBOARDING_NUX_ACTION_ENTRYPOINT_CLICKED="CHATGPT_ADS_ONBOARDING_NUX_ACTION_ENTRYPOINT_CLICKED",e.CHATGPT_ADS_ONBOARDING_NUX_ACTION_STEP_SHOWN="CHATGPT_ADS_ONBOARDING_NUX_ACTION_STEP_SHOWN",e.UNRECOGNIZED="UNRECOGNIZED",e))(gue||{});const H7e={$type:"protobuf_analytics_events.v1.ChatgptBazaarPlacementAction"},$7e={$type:"protobuf_analytics_events.v1.AdsTransparencyModalAction"},W7e={$type:"protobuf_analytics_events.v1.ChatgptAdsOnboardingNux"};var vue=(e=>(e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_UNSPECIFIED="CHATGPT_APP_DIRECTORY_ENTRYPOINT_UNSPECIFIED",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_ADD_SHEET="CHATGPT_APP_DIRECTORY_ENTRYPOINT_ADD_SHEET",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_SETTINGS="CHATGPT_APP_DIRECTORY_ENTRYPOINT_SETTINGS",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_UNIVERSAL_LINK="CHATGPT_APP_DIRECTORY_ENTRYPOINT_UNIVERSAL_LINK",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_PLUS_MENU="CHATGPT_APP_DIRECTORY_ENTRYPOINT_PLUS_MENU",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_SIDEBAR="CHATGPT_APP_DIRECTORY_ENTRYPOINT_SIDEBAR",e.UNRECOGNIZED="UNRECOGNIZED",e))(vue||{}),Eue=(e=>(e.CHATGPT_APP_PAGE_NAME_UNSPECIFIED="CHATGPT_APP_PAGE_NAME_UNSPECIFIED",e.CHATGPT_APP_PAGE_NAME_APP_DIRECTORY="CHATGPT_APP_PAGE_NAME_APP_DIRECTORY",e.CHATGPT_APP_PAGE_NAME_APP_WORKSPACE="CHATGPT_APP_PAGE_NAME_APP_WORKSPACE",e.CHATGPT_APP_PAGE_NAME_APP_DETAILS="CHATGPT_APP_PAGE_NAME_APP_DETAILS",e.CHATGPT_APP_PAGE_NAME_SETTINGS_APPS="CHATGPT_APP_PAGE_NAME_SETTINGS_APPS",e.CHATGPT_APP_PAGE_NAME_SIDEBAR="CHATGPT_APP_PAGE_NAME_SIDEBAR",e.CHATGPT_APP_PAGE_NAME_PLUS_MENU="CHATGPT_APP_PAGE_NAME_PLUS_MENU",e.UNRECOGNIZED="UNRECOGNIZED",e))(Eue||{}),Cue=(e=>(e.CHATGPT_APP_CLICK_TARGET_UNSPECIFIED="CHATGPT_APP_CLICK_TARGET_UNSPECIFIED",e.CHATGPT_APP_CLICK_TARGET_CONNECT="CHATGPT_APP_CLICK_TARGET_CONNECT",e.CHATGPT_APP_CLICK_TARGET_DISCONNECT="CHATGPT_APP_CLICK_TARGET_DISCONNECT",e.CHATGPT_APP_CLICK_TARGET_HEADER="CHATGPT_APP_CLICK_TARGET_HEADER",e.CHATGPT_APP_CLICK_TARGET_FILTER_CATEGORY="CHATGPT_APP_CLICK_TARGET_FILTER_CATEGORY",e.CHATGPT_APP_CLICK_TARGET_SUBMIT_SEARCH="CHATGPT_APP_CLICK_TARGET_SUBMIT_SEARCH",e.CHATGPT_APP_CLICK_TARGET_START_CHAT="CHATGPT_APP_CLICK_TARGET_START_CHAT",e.UNRECOGNIZED="UNRECOGNIZED",e))(Cue||{});const q7e={$type:"protobuf_analytics_events.v1.ChatgptAppDirectoryImpression"},V7e={$type:"protobuf_analytics_events.v1.ChatgptAppPageView"},z7e={$type:"protobuf_analytics_events.v1.ChatgptAppClick"};var yue=(e=>(e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_UNSPECIFIED="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_IMAGE_CARD="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_IMAGE_CARD",e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_TEXT_PILL="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_TEXT_PILL",e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_PORTRAIT="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_PORTRAIT",e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_ICON_PILL="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_ICON_PILL",e.UNRECOGNIZED="UNRECOGNIZED",e))(yue||{}),Sue=(e=>(e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_UNSPECIFIED="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_SIDE_BAR="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_SIDE_BAR",e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_DEEP_LINK="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_DEEP_LINK",e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_HOME_NUX="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_HOME_NUX",e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_CONVERSATION_EMPTY_STATE="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_CONVERSATION_EMPTY_STATE",e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_STARTER_PROMPT="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_STARTER_PROMPT",e.UNRECOGNIZED="UNRECOGNIZED",e))(Sue||{}),Tue=(e=>(e.CHATGPT_IMAGE_HOME_NUX_TYPE_UNSPECIFIED="CHATGPT_IMAGE_HOME_NUX_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_HOME_NUX_TYPE_CLICK="CHATGPT_IMAGE_HOME_NUX_TYPE_CLICK",e.CHATGPT_IMAGE_HOME_NUX_TYPE_IMPRESSION="CHATGPT_IMAGE_HOME_NUX_TYPE_IMPRESSION",e.UNRECOGNIZED="UNRECOGNIZED",e))(Tue||{});const Y7e={$type:"protobuf_analytics_events.v1.ChatgptImageHomeImpression"},K7e={$type:"protobuf_analytics_events.v1.ChatgptImagePromptImpression"},J7e={$type:"protobuf_analytics_events.v1.ChatgptImagePromptSelected"},X7e={$type:"protobuf_analytics_events.v1.ChatgptImagePromptSent"},Q7e={$type:"protobuf_analytics_events.v1.ChatgptImageHomeNuxEvents"};var Oue=(e=>(e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_UNSPECIFIED="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_IMAGE_HOME_LIBRARY="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_IMAGE_HOME_LIBRARY",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_IMAGE_LIBRARY="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_IMAGE_LIBRARY",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION_CALPICO="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION_CALPICO",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION_SHARED="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION_SHARED",e.UNRECOGNIZED="UNRECOGNIZED",e))(Oue||{});const Z7e={$type:"protobuf_analytics_events.v1.ChatgptImageLightboxImpression"},eVe={$type:"protobuf_analytics_events.v1.ChatgptConnectorsNUXRecommendationCheck"},tVe={$type:"protobuf_analytics_events.v1.ChatgptConnectorsReconnect"},nVe={$type:"protobuf_analytics_events.v1.ChatgptConnectorsReconnectModalShown"};var bue=(e=>(e.CHATGPT_MATH_BLOCK_TYPE_UNSPECIFIED="CHATGPT_MATH_BLOCK_TYPE_UNSPECIFIED",e.CHATGPT_MATH_BLOCK_TYPE_GRAPHABLE_FUNCTION="CHATGPT_MATH_BLOCK_TYPE_GRAPHABLE_FUNCTION",e.CHATGPT_MATH_BLOCK_TYPE_SLOPE_EQUATION="CHATGPT_MATH_BLOCK_TYPE_SLOPE_EQUATION",e.CHATGPT_MATH_BLOCK_TYPE_TRIG_RATIO="CHATGPT_MATH_BLOCK_TYPE_TRIG_RATIO",e.CHATGPT_MATH_BLOCK_TYPE_INTEGRAL="CHATGPT_MATH_BLOCK_TYPE_INTEGRAL",e.CHATGPT_MATH_BLOCK_TYPE_PV_NRT_EQUATION="CHATGPT_MATH_BLOCK_TYPE_PV_NRT_EQUATION",e.CHATGPT_MATH_BLOCK_TYPE_QUADRATIC_FORMULA="CHATGPT_MATH_BLOCK_TYPE_QUADRATIC_FORMULA",e.CHATGPT_MATH_BLOCK_TYPE_CIRCLE_AREA="CHATGPT_MATH_BLOCK_TYPE_CIRCLE_AREA",e.CHATGPT_MATH_BLOCK_TYPE_CYLINDER_VOLUME="CHATGPT_MATH_BLOCK_TYPE_CYLINDER_VOLUME",e.CHATGPT_MATH_BLOCK_TYPE_PYTHAGOREAN_THEOREM="CHATGPT_MATH_BLOCK_TYPE_PYTHAGOREAN_THEOREM",e.CHATGPT_MATH_BLOCK_TYPE_TRIANGLE_ANGLE_SUM="CHATGPT_MATH_BLOCK_TYPE_TRIANGLE_ANGLE_SUM",e.CHATGPT_MATH_BLOCK_TYPE_SURFACE_AREA_SPHERE="CHATGPT_MATH_BLOCK_TYPE_SURFACE_AREA_SPHERE",e.CHATGPT_MATH_BLOCK_TYPE_SPHERE_VOLUME="CHATGPT_MATH_BLOCK_TYPE_SPHERE_VOLUME",e.CHATGPT_MATH_BLOCK_TYPE_CIRCLE_CIRCUMFERENCE="CHATGPT_MATH_BLOCK_TYPE_CIRCLE_CIRCUMFERENCE",e.CHATGPT_MATH_BLOCK_TYPE_CIRCLE_EQUATION="CHATGPT_MATH_BLOCK_TYPE_CIRCLE_EQUATION",e.CHATGPT_MATH_BLOCK_TYPE_CONE_SURFACE_AREA="CHATGPT_MATH_BLOCK_TYPE_CONE_SURFACE_AREA",e.CHATGPT_MATH_BLOCK_TYPE_CONE_VOLUME="CHATGPT_MATH_BLOCK_TYPE_CONE_VOLUME",e.CHATGPT_MATH_BLOCK_TYPE_DISTANCE_FORMULA="CHATGPT_MATH_BLOCK_TYPE_DISTANCE_FORMULA",e.CHATGPT_MATH_BLOCK_TYPE_EXPONENTIAL_DECAY="CHATGPT_MATH_BLOCK_TYPE_EXPONENTIAL_DECAY",e.CHATGPT_MATH_BLOCK_TYPE_HOOKES_LAW="CHATGPT_MATH_BLOCK_TYPE_HOOKES_LAW",e.CHATGPT_MATH_BLOCK_TYPE_SLOPE_INTERCEPT="CHATGPT_MATH_BLOCK_TYPE_SLOPE_INTERCEPT",e.CHATGPT_MATH_BLOCK_TYPE_TRIANGLE_AREA="CHATGPT_MATH_BLOCK_TYPE_TRIANGLE_AREA",e.CHATGPT_MATH_BLOCK_TYPE_TRIG_ANGLE_SUM_IDENTITY="CHATGPT_MATH_BLOCK_TYPE_TRIG_ANGLE_SUM_IDENTITY",e.CHATGPT_MATH_BLOCK_TYPE_TRIG_IDENTITY_PYTHAGOREAN="CHATGPT_MATH_BLOCK_TYPE_TRIG_IDENTITY_PYTHAGOREAN",e.CHATGPT_MATH_BLOCK_TYPE_TRIG_INVERSE="CHATGPT_MATH_BLOCK_TYPE_TRIG_INVERSE",e.UNRECOGNIZED="UNRECOGNIZED",e))(bue||{}),Aue=(e=>(e.CHATGPT_MATH_BLOCK_EDIT_TYPE_UNSPECIFIED="CHATGPT_MATH_BLOCK_EDIT_TYPE_UNSPECIFIED",e.CHATGPT_MATH_BLOCK_EDIT_TYPE_ENTER_COMMIT="CHATGPT_MATH_BLOCK_EDIT_TYPE_ENTER_COMMIT",e.CHATGPT_MATH_BLOCK_EDIT_TYPE_SLIDER_CHANGE="CHATGPT_MATH_BLOCK_EDIT_TYPE_SLIDER_CHANGE",e.CHATGPT_MATH_BLOCK_EDIT_TYPE_DRAG_POINT="CHATGPT_MATH_BLOCK_EDIT_TYPE_DRAG_POINT",e.UNRECOGNIZED="UNRECOGNIZED",e))(Aue||{}),Nue=(e=>(e.CHATGPT_MATH_BLOCK_FUNCTION_NAME_UNSPECIFIED="CHATGPT_MATH_BLOCK_FUNCTION_NAME_UNSPECIFIED",e.CHATGPT_MATH_BLOCK_FUNCTION_NAME_BUILD_GRAPH_DATA="CHATGPT_MATH_BLOCK_FUNCTION_NAME_BUILD_GRAPH_DATA",e.CHATGPT_MATH_BLOCK_FUNCTION_NAME_GET_INTERCEPTS="CHATGPT_MATH_BLOCK_FUNCTION_NAME_GET_INTERCEPTS",e.CHATGPT_MATH_BLOCK_FUNCTION_NAME_GET_EXTREMA="CHATGPT_MATH_BLOCK_FUNCTION_NAME_GET_EXTREMA",e.CHATGPT_MATH_BLOCK_FUNCTION_NAME_TOKENIZE_MATH_BLOCK="CHATGPT_MATH_BLOCK_FUNCTION_NAME_TOKENIZE_MATH_BLOCK",e.UNRECOGNIZED="UNRECOGNIZED",e))(Nue||{});const rVe={$type:"protobuf_analytics_events.v1.ChatgptMathRendered"},sVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockRendered"},iVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockHidden"},oVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockShown"},aVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockRenderException"},cVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockGraphHovered"},lVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockGraphClicked"},uVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockGraphRenderFailed"},dVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockCopied"},fVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockEdited"},hVe={$type:"protobuf_analytics_events.v1.ChatgptMathBlockTiming"};var mf=(e=>(e.CHATGPT_PERFORMANCE_EVENT_NAME_UNSPECIFIED="CHATGPT_PERFORMANCE_EVENT_NAME_UNSPECIFIED",e.CHATGPT_PERFORMANCE_EVENT_NAME_TIME_TO_FIRST_BYTE="CHATGPT_PERFORMANCE_EVENT_NAME_TIME_TO_FIRST_BYTE",e.CHATGPT_PERFORMANCE_EVENT_NAME_FIRST_CONTENTFUL_PAINT="CHATGPT_PERFORMANCE_EVENT_NAME_FIRST_CONTENTFUL_PAINT",e.CHATGPT_PERFORMANCE_EVENT_NAME_LARGEST_CONTENTFUL_PAINT="CHATGPT_PERFORMANCE_EVENT_NAME_LARGEST_CONTENTFUL_PAINT",e.CHATGPT_PERFORMANCE_EVENT_NAME_INTERACTION_TO_NEXT_PAINT="CHATGPT_PERFORMANCE_EVENT_NAME_INTERACTION_TO_NEXT_PAINT",e.CHATGPT_PERFORMANCE_EVENT_NAME_LONG_INTERACTION_TO_NEXT_PAINT="CHATGPT_PERFORMANCE_EVENT_NAME_LONG_INTERACTION_TO_NEXT_PAINT",e.UNRECOGNIZED="UNRECOGNIZED",e))(mf||{});const S_={$type:"protobuf_analytics_events.v1.ChatgptPerformanceMetric"},Iue={$type:"protobuf_analytics_events.v1.ChatgptPerformanceCumulativeLayoutShift"};var Pue=(e=>(e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_UNSPECIFIED="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_UNSPECIFIED",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_CHECKBOX="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_CHECKBOX",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_FOLLOW_UP_BUTTON="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_FOLLOW_UP_BUTTON",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_PRODUCT_CARD="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_PRODUCT_CARD",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_PRODUCT_PILL_REMOVE="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_PRODUCT_PILL_REMOVE",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_PROMPT_CONTROL="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_PROMPT_CONTROL",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_PROMPT_TEXT_AREA="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_SURFACE_PROMPT_TEXT_AREA",e.UNRECOGNIZED="UNRECOGNIZED",e))(Pue||{}),wue=(e=>(e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_UNSPECIFIED="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_UNSPECIFIED",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_PROMPT_CONTROL_CLICKED="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_PROMPT_CONTROL_CLICKED",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_SELECTED="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_SELECTED",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_DESELECTED="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_DESELECTED",e.CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_COMPLETION_REQUEST_SUBMITTED="CHATGPT_PRODUCT_FOLLOW_UP_INTERACTION_EVENT_TYPE_COMPLETION_REQUEST_SUBMITTED",e.UNRECOGNIZED="UNRECOGNIZED",e))(wue||{});const pVe={$type:"protobuf_analytics_events.v1.ChatgptProductFollowupInteractionEvent"};var Rue=(e=>(e.CHATGPT_PRODUCT_INTERACTION_EVENT_TYPE_UNSPECIFIED="CHATGPT_PRODUCT_INTERACTION_EVENT_TYPE_UNSPECIFIED",e.CHATGPT_PRODUCT_INTERACTION_EVENT_TYPE_CLICKED="CHATGPT_PRODUCT_INTERACTION_EVENT_TYPE_CLICKED",e.CHATGPT_PRODUCT_INTERACTION_EVENT_TYPE_SHOWN="CHATGPT_PRODUCT_INTERACTION_EVENT_TYPE_SHOWN",e.UNRECOGNIZED="UNRECOGNIZED",e))(Rue||{}),xue=(e=>(e.CHATGPT_PRODUCT_OFFER_INTERACTION_EVENT_TYPE_UNSPECIFIED="CHATGPT_PRODUCT_OFFER_INTERACTION_EVENT_TYPE_UNSPECIFIED",e.CHATGPT_PRODUCT_OFFER_INTERACTION_EVENT_TYPE_OFFER_CLICKED="CHATGPT_PRODUCT_OFFER_INTERACTION_EVENT_TYPE_OFFER_CLICKED",e.CHATGPT_PRODUCT_OFFER_INTERACTION_EVENT_TYPE_OFFER_SHOWN="CHATGPT_PRODUCT_OFFER_INTERACTION_EVENT_TYPE_OFFER_SHOWN",e.CHATGPT_PRODUCT_OFFER_INTERACTION_EVENT_TYPE_OFFER_LIST_SHOWN="CHATGPT_PRODUCT_OFFER_INTERACTION_EVENT_TYPE_OFFER_LIST_SHOWN",e.UNRECOGNIZED="UNRECOGNIZED",e))(xue||{});const _Ve={$type:"protobuf_analytics_events.v1.ChatgptProductInteractionEvent"},mVe={$type:"protobuf_analytics_events.v1.ChatgptProductClickedEvent"},gVe={$type:"protobuf_analytics_events.v1.ChatgptProductShownEvent"},vVe={$type:"protobuf_analytics_events.v1.ChatgptProductGroupClickedEvent"},EVe={$type:"protobuf_analytics_events.v1.ChatgptProductGroupShownEvent"},CVe={$type:"protobuf_analytics_events.v1.ChatgptSingleProductClickedEvent"},yVe={$type:"protobuf_analytics_events.v1.ChatgptSingleProductShownEvent"},SVe={$type:"protobuf_analytics_events.v1.ChatgptProductOfferInteractionEvent"},TVe={$type:"protobuf_analytics_events.v1.ChatgptProductOfferClickedEvent"},OVe={$type:"protobuf_analytics_events.v1.ChatgptProductOfferShownEvent"},bVe={$type:"protobuf_analytics_events.v1.ChatgptProductOfferListShownEvent"},AVe={$type:"protobuf_analytics_events.v1.ChatgptPromptTilesDismissClicked"};var Mue=(e=>(e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_UNSPECIFIED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_UNSPECIFIED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_SHOWN="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_SHOWN",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_CLOSED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_CLOSED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_GET_STARTED_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_GET_STARTED_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_SHOWN="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_SHOWN",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_CLOSED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_CLOSED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_NEXT_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_NEXT_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_DONE_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_DONE_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_ITEM_TAPPED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_ITEM_TAPPED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_SHOWN="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_SHOWN",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CLOSED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CLOSED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_SKIP_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_SKIP_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CONNECT_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CONNECT_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CONNECT_SUCCESS="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CONNECT_SUCCESS",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_SHOWN="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_SHOWN",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_CLOSED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_CLOSED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_AUTO_REDIRECT_FEED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_AUTO_REDIRECT_FEED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_NOTIFICATION_SETTINGS_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_NOTIFICATION_SETTINGS_CLICKED",e.UNRECOGNIZED="UNRECOGNIZED",e))(Mue||{});const NVe={$type:"protobuf_analytics_events.v1.ChatgptPulseOnboardingEvent"},IVe={$type:"protobuf_analytics_events.v1.ChatgptWidgetEvent"},PVe={$type:"protobuf_analytics_events.v1.CompliancePlatformLogsDocumentationViewed"},kue={$type:"protobuf_analytics_events.v1.ClientEventCounter"},Lue="javascript-client",PW={getPunchOut:()=>{},count:(e,t)=>{},addError:(e,t)=>{},addAction:(e,t)=>{}};class Due{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:s,options:i,settings:o,instrumentation:a=PW}){this.appName=t,this.appVersion=n,this.instrumentation=a,this.statscTags={app_name:this.appName,app_version:this.appVersion},this.analytics=new Promise(c=>{ne(()=>import("./1bc04b52-fpt5v9z5ojct3gqr.js").then(l=>l.q),__vite__mapDeps([4,1])).then(l=>{if(!l){this.instrumentation.count("AnalyticsLogger.segmentImport.failed",this.statscTags);return}const u=new l.AnalyticsBrowser;c([u])})}),this.deviceId=r,this.browserLocale=s,this.options=i,this.settings=o}async initialize({user:t,statsigClient:n}){this.instrumentation.count("AnalyticsLogger.initialize.start",this.statscTags),t&&(this.user=t),n&&(this.statsigClient=n);const[r]=await this.analytics;r.load(this.settings,this.options).catch(s=>{this.instrumentation.count("AnalyticsLogger.initialize.failed",this.statscTags)}),r.ready(()=>{this.instrumentation.count("AnalyticsLogger.initialize.success",this.statscTags)})}buildEnvelope(t,n){var d,f,h,p,_,m,v,E,b,C,y,O,A;const r=t.$type,s=(d=this.statsigClient)==null?void 0:d.getContext(),i=s==null?void 0:s.user,o=(f=s==null?void 0:s.stableID)!=null?f:void 0;let a;if(s){const N=(h=i==null?void 0:i.locale)!=null?h:this.browserLocale,I=N?N.split("-")[0]:void 0;a={stableId:o,sdkType:Lue,sdkVersion:JP.SDK_VERSION,sessionId:(_=(p=s==null?void 0:s.session)==null?void 0:p.data)==null?void 0:_.sessionID,appIdentifier:this.appName,appVersion:this.appVersion,locale:N,language:I}}if(i){let N;i.customIDs&&(N=Object.fromEntries(Object.entries(i.customIDs).filter(M=>typeof M[1]=="string")));let I;if(i.custom){const M=Object.entries(i.custom).flatMap(k=>{const[D,L]=k;if(L===void 0)return[];try{const G=JSON.stringify(L);return G===void 0?[]:[[D,G]]}catch(G){return[]}});M.length>0&&(I=Object.fromEntries(M))}const w={userId:i.userID,customIds:N,email:i.email,ip:i.ip,userAgent:i.userAgent,country:i.country,locale:i.locale,appVersion:i.appVersion,custom:I};a&&(a.user=w)}const c=(v=(m=this.user)==null?void 0:m.traits)==null?void 0:v.is_openai_internal,l={userId:(b=(E=this.user)==null?void 0:E.userId)!=null?b:"",deviceId:this.deviceId,authStatus:this.user?"logged_in":"logged_out",planType:(y=(C=this.user)==null?void 0:C.traits)==null?void 0:y.plan_type,workspaceId:(A=(O=this.user)==null?void 0:O.traits)==null?void 0:A.workspace_id,isOpenaiInternal:c},u={};return{eventId:nr(),eventCreatedAt:new Date().toISOString(),eventType:"web",userParams:l,deviceParams:u,statsigMetadataV2:a,eventParams:S({"@type":"openai.buf.dev/openai/protobuf-analytics-events/".concat(r)},n),punchOutInfoToken:this.instrumentation.getPunchOut(),clientMetadata:{name:this.appName,version:this.appVersion}}}normalizeEventName(t){var r;return((r=t.split(".").pop())!=null?r:t).replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}async trackStructuredEvent(t,n){const r=this.buildEnvelope(t,n),s=this.normalizeEventName(t.$type),[i]=await this.analytics;i.track("__protobuf_structured_event__",r);const o=S({platform:"web",event_name:s},this.statscTags);this.instrumentation.count("analytics_event_tracked",o)}async trackCounter(t,n){return this.trackStructuredEvent(kue,{counterName:t,metricValue:n})}}function Uue(){Se.deleteCookie(pe.SegmentUserId),Se.deleteCookie(pe.SegmentUserTraits),kn.removeItem(un.SegmentUserId),kn.removeItem(un.SegmentUserTraits)}const wW=()=>({hash:window.location.hash,path:window.location.pathname,search:window.location.search,url:window.location.href});var Gw=(e=>(e.WINDOW_VISIBILITY_STATE_CHANGED="WINDOW_VISIBILITY_STATE_CHANGED",e.WINDOW_FOCUS_CHANGED="WINDOW_FOCUS_CHANGED",e))(Gw||{}),Ea=(e=>(e.LOGIN_CHANGED="LOGIN_CHANGED",e.LOGOUT="LOGOUT",e.QUIT="QUIT",e.SET_COMPANION_WINDOW_VISIBILITY="SET_COMPANION_WINDOW_VISIBILITY",e.SET_WEB_RELEASE_PROPERTIES="WEB_RELEASE_PROPERTIES",e.ERROR_THROWN="ERROR_THROWN",e.ZOOM="ZOOM",e.DESKTOP_SETTING_CHANGED="DESKTOP_SETTING_CHANGED",e.HOTKEY_RECORDING_STATE="HOTKEY_RECORDING_STATE",e.ADD_BREADCRUMB="ADD_BREADCRUMB",e))(Ea||{}),Jv=(e=>(e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.ZOOM_RESET="ZOOM_RESET",e))(Jv||{}),RW=(e=>(e.MICROPHONE="MICROPHONE",e))(RW||{});function wVe(){it==null||it.publish(Ea.ZOOM,{command:Jv.ZOOM_IN})}function RVe(){it==null||it.publish(Ea.ZOOM,{command:Jv.ZOOM_OUT})}function xVe(){it==null||it.publish(Ea.ZOOM,{command:Jv.ZOOM_RESET})}function TL(e){if(av){const t=Date.now();it==null||it.publish(Ea.ADD_BREADCRUMB,{message:e,epochTimestamp:t})}}class Fue{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:s,options:i,settings:o,instrumentation:a=PW}){R(this,"analytics");R(this,"appName");R(this,"appVersion");R(this,"deviceId");R(this,"browserLocale");R(this,"options");R(this,"settings");R(this,"user");R(this,"isBusinessIp2");R(this,"instrumentation");this.instrumentation=a,this.analytics=new Promise(c=>{ne(()=>import("./1bc04b52-fpt5v9z5ojct3gqr.js").then(l=>l.q),__vite__mapDeps([4,1])).then(l=>{if(!l){this.instrumentation.addAction("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n}),this.instrumentation.count("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const u=new l.AnalyticsBrowser;u.addSourceMiddleware(Gue(this)),c([u])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=s,this.options=i,this.settings=o}async initialize({user:t}){const n={appName:this.appName,appVersion:this.appVersion};this.instrumentation.addAction("ClientEventsServiceLogger.initialize.start",n),this.instrumentation.count("ClientEventsServiceLogger.initialize.start",n),t&&this.identify(t);const[r]=await this.analytics;r.load(this.settings,this.options).catch(()=>{this.instrumentation.addAction("ClientEventsServiceLogger.initialize.failed",n),this.instrumentation.count("ClientEventsServiceLogger.initialize.failed",n)}),r.ready(()=>{this.instrumentation.addAction("ClientEventsServiceLogger.initialize.success",n),this.instrumentation.count("ClientEventsServiceLogger.initialize.success",n)})}async track(t,n){const[r]=await this.analytics,s=this.getSafePageViewParams();r.track(t,n,{page:s});const i={platform:"web",event_name:t,appName:this.appName,appVersion:this.appVersion};this.instrumentation.count("json_analytics_event_tracked",i);try{TL("Web Client Event: ".concat(t," with data: ").concat(JSON.stringify(n)))}catch(o){this.instrumentation.addError(new Error("ClientEventsServiceLogger.track.addDesktopBreadcrumb.failed",{cause:o}))}}async trackPageView(){const t=this.getSafePageViewParams(),[n]=await this.analytics;n.page(void 0,t,{page:t}),TL("Web Client Page View: ".concat(t.path))}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}setBusinessIpFlag(t){this.isBusinessIp2=t}getExtraContext(){var t;return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?ju.LoggedIn:ju.LoggedOut,user_traits:(t=this.user)==null?void 0:t.traits,punch_out_info_token:Fw(),is_business_ip2:String(!!this.isBusinessIp2)}}getSafePageViewParams(){try{return wW()}catch(t){return this.instrumentation.addError(new Error("ClientEventsServiceLogger.getPageViewParams.failed",{cause:t})),{}}}}function Gue(e){return({payload:t,next:n})=>{t.obj.context=S(S({},t.obj.context),e.getExtraContext()),n(t)}}const jue={strategy:"standard",config:{}},OL=jue,Bue=()=>Kv({isAuthOptional:!0}),Hue=P(S({},OL),{config:P(S({},OL.config),{headers:Bue})}),xW={disableClientPersistence:!0,integrations:{"Segment.io":{apiHost:"".concat(QP,"/v1"),protocol:ZP,deliveryStrategy:Hue}}},MW={writeKey:"oai",cdnURL:"".concat(ZP,"://").concat(QP)},kW=Zr(),LW=navigator.language,dg="f700ea221d7179d2ee3ed2b022f6972f77a5a7a1",DW={getPunchOut:()=>Fw(),count:(e,t,n=1)=>mt.count(ft.SEGMENT,e,t,n),addError:(e,t)=>q.addError(e,t),addAction:(e,t)=>q.addAction(e,t)},zd=new Fue({appName:"chatgpt",appVersion:dg,deviceId:kW,browserLocale:LW,options:xW,settings:MW,instrumentation:DW}),T_=new Due({appName:"chatgpt",appVersion:dg,deviceId:kW,browserLocale:LW,options:xW,settings:MW,instrumentation:DW});function $ue(e){const t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="number"||typeof r=="string"||typeof r=="boolean")&&(t[n]=String(r))}),t}const re={initialize({userInfo:e}={}){var r,s,i,o,a,c;const t=((r=e==null?void 0:e.currentAccount)==null?void 0:r.structure)===Mn.WORKSPACE?e.currentAccount.id:null,n=e?{userId:e.sessionUser.id,traits:{plan_type:(i=(s=e.currentAccount)==null?void 0:s.planType)!=null?i:null,workspace_id:t,workspace_type:(a=(o=e.currentAccount)==null?void 0:o.workspaceType)!=null?a:null,is_openai_internal:m6(e.sessionUser)}}:null;zd.initialize({user:n});{const l=si();T_.initialize({user:n!=null?n:void 0,statsigClient:l});const u=pt();zd.setBusinessIpFlag((c=u.isBusinessIp2)!=null?c:!1)}},logEvent(e,t){zd.track(e,P(S({},t),{origin:"chat",app_version:dg}))},logEventWithStatsig(e,t,n){this.logValueEventWithStatsig({segmentEventName:e,statsigEventName:t,data:n})},logValueEventWithStatsig({segmentEventName:e,value:t,statsigEventName:n,data:r}){const s=P(S(S({},t!=null?{value:t}:{}),r),{origin:"chat",app_version:dg});zd.track(e,s);const i=$ue(s);On.logEvent(n,t!=null?t:null,i)},logPageView(){zd.trackPageView()},logStructuredEvent(e,t){T_.trackStructuredEvent(e,t)},trackCounter(e,t){return T_.trackCounter(e,t)},logUpsellOrModalEvent(e,t){T_.trackStructuredEvent(e,P(S({},t),{sessionId:TW()}))}},bL=e=>Object.hasOwnProperty.call(e,"id");let Wue=0;class que{constructor(){R(this,"toasts$",X([]))}notify(t,n){if(bL(n))for(const s of this.toasts$())String(s.id).startsWith(n.id)&&this.closeToast(s.id);const r=this.createToastInstance(t,n);return this.toasts$.set(s=>[r,...s]),r}createToastInstance(t,n){var i;const r=++Wue,s=bL(n)?"".concat(n.id,"-").concat(r):r;return{id:s,title:t,description:n.description,hasCloseButton:!!n.hasCloseButton,duration:typeof n.duration=="number"?n.duration:5,close:()=>this.closeToast(s),onRemove:n.onRemove,intent:(i=n.intent)!=null?i:pn.info,isShown:!0,testId:n.testId}}closeToast(t){this.toasts$.set(n=>n.map(r=>r.id===t?P(S({},r),{isShown:!1}):r))}removeToast(t){lt(()=>{var n,r;(r=(n=this.toasts$().find(s=>s.id===t))==null?void 0:n.onRemove)==null||r.call(n)}),this.toasts$.set(n=>n.filter(r=>r.id!==t))}closeAll(){lt(()=>{this.toasts$().forEach(t=>t.close())})}info(t,n){return this.notify(t,P(S({},n),{intent:pn.info}))}success(t,n){return this.notify(t,P(S({},n),{intent:pn.success}))}successNeutral(t,n){return this.notify(t,P(S({},n),{intent:pn.successNeutral}))}warning(t,n){return this.notify(t,P(S({},n),{intent:pn.warning}))}danger(t,n){var o,a,c,l,u;const r=t;let s="",i="";return typeof t=="string"?s=t:(s=String((o=t.defaultMessage)!=null?o:""),i=String((a=t.description)!=null?a:"")),n!=null&&n.error&&!n.description&&(n=P(S({},n),{description:Vue(n.error)})),re.logEvent("error_toast_shown",{category:(c=n==null?void 0:n.toastId)!=null?c:"unknown",title:(l=n==null?void 0:n.loggingTitle)!=null?l:s,description:(u=n==null?void 0:n.loggingDescription)!=null?u:i}),this.notify(r,P(S({},n),{intent:pn.danger}))}}function Vue(e){var t;if(typeof e=="string")return e;if(e instanceof Mt&&typeof((t=e.detail)==null?void 0:t.details)=="string")return e.detail.details;if(e instanceof Error)return e.message}const Xv=ot(()=>new que);function Kn(){"use forget";const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=Xv(),e[0]=t):t=e[0],t}function zue(){"use forget";const e=j.c(5),t=Xv(),r=Le(t.toasts$).filter(Yue);if(r.length===0)return null;const s=pp,i="toaster_boundary_error",o="pointer-events-none fixed inset-0 z-60 mx-auto my-2 flex max-w-[728px] flex-col items-stretch justify-start md:pb-5",a=r.map(u=>{const h=u,{id:d}=h,f=B(h,["id"]);return g.jsx(Fle,P(S({},f),{onRemove:()=>t.removeToast(d)}),d)});let c;e[0]!==a?(c=g.jsx("span",{className:o,children:a}),e[0]=a,e[1]=c):c=e[1];let l;return e[2]!==s||e[3]!==c?(l=g.jsx(s,{name:i,children:c}),e[2]=s,e[3]=c,e[4]=l):l=e[4],l}function Yue(e){return e.isShown!==!1}function ro(){return fn({queryKey:["userSettings"],queryFn:async()=>{const e=H.safeGet("/settings/user",{authOption:cn.SendIfAvailable});q.addFirstTiming("load.userSettings");const t=await e;return FW(GW(t)),t}})}function UW(){const e=Se.getCookie(pe.LastUsedModelConfig);if(e)try{const n=JSON.parse(e);if(n&&typeof n=="object"&&(n.model===void 0||typeof n.model=="string")&&(n.effort===void 0||typeof n.effort=="string")){const r=n;return ig(r.model)?(Se.deleteCookie(pe.LastUsedModelConfig),{}):r}}catch(n){}const t=Se.getCookie(pe.LastUsedModel);if(t&&(Se.deleteCookie(pe.LastUsedModel),!ig(t))){const n={model:t};return FW(n),n}return{}}function FW(e){try{e.model?Se.setCookie(pe.LastUsedModelConfig,JSON.stringify(e),{path:"/",maxAge:3600*24*30}):Se.deleteCookie(pe.LastUsedModelConfig)}catch(t){}}function GW(e){var s,i,o,a,c;const t=(s=e.settings)==null?void 0:s[Ii.LastUsedModelConfig],n=(i=t==null?void 0:t.slugs[ff.WEB])!=null?i:t==null?void 0:t.slugs[ff.DEFAULT],r=n?(c=(o=t==null?void 0:t.juices[ff.WEB])==null?void 0:o[n])!=null?c:(a=t==null?void 0:t.juices[ff.DEFAULT])==null?void 0:a[n]:void 0;return{model:n,effort:r}}const mp=Qt(()=>P(S({},ro()),{enabled:at()}));function Kue(){"use forget";return Le(Jue)}function Jue(){return mp()}function Xue(e){var t,n;return(n=(t=mp().data)==null?void 0:t.settings)==null?void 0:n[e]}function AL(e){"use forget";var o;const t=j.c(3),{data:n,isLoading:r}=Kue(),s=(o=n==null?void 0:n.settings)==null?void 0:o[e];let i;return t[0]!==r||t[1]!==s?(i={data:s,isLoading:r},t[0]=r,t[1]=s,t[2]=i):i=t[2],i}const MVe=ot(()=>bv({mutationFn:async({modelSlug:e,thinkingEffort:t})=>{if(!ig(e))return await H.safePatch("/settings/user_last_used_model_config",{parameters:{query:{model_slug:e,thinking_effort:t}}})},onSuccess:()=>{en().invalidateQueries(ro())}}));function jW(e=!1){const t=tn(),n=Kn(),r=vt(),s=Rt({updatePermissionError:{id:"user.permissions.updatePermissionError",defaultMessage:"Unable to update permissions: {error}"}});return Fn({mutationFn:({setting:i,value:o,account_id:a})=>{const c=typeof o=="string"||typeof o=="boolean"?o.toString():JSON.stringify(o),l=a?{"ChatGPT-Account-ID":a}:{};return H.safePatch("/settings/account_user_setting",{additionalHeaders:l,parameters:{query:{feature:i,value:c}}})},onMutate:async({setting:i,value:o})=>{if(e){await t.cancelQueries(ro());const a=t.getQueryData(ro().queryKey);return t.setQueryData(ro().queryKey,c=>c!=null&&c.settings?P(S({},c),{settings:P(S({},c.settings),{[i]:o})}):c),{previousValue:a}}},onError:(i,o,a)=>{e&&a!==void 0&&t.setQueryData(ro().queryKey,a.previousValue);const c=i;c&&c.status===403&&c.code==="feature-locked-by-owner"&&n.danger(r.formatMessage(s.updatePermissionError,{error:c.message})),o.setting===Ii.AtlasAdultSearchAllowed&&c&&c.status===403&&c.code==="immutable-setting"&&n.danger(r.formatMessage(s.updatePermissionError,{error:c.message}))},onSuccess:(i,{setting:o})=>{t.invalidateQueries(ro()),o===Ii.DeveloperMode&&t.invalidateQueries(Wu("connectors"))}})}const BW=()=>fn({queryKey:["userIsAdult"],queryFn:async()=>await H.safeGet("/settings/is_adult",{authOption:cn.SendIfAvailable})}),Que=Qt(()=>P(S({},BW()),{enabled:at()}));function kVe(){return Que().data}function LVe(){const e=tn();return Fn({mutationFn:()=>H.safePost("/settings/clear_is_adult_caches",{}),onSuccess:()=>{e.invalidateQueries(ro()),e.invalidateQueries(BW())}})}const Zue="USD",DVe="INR",ede={USD:"$",AUD:"A$",CLP:"$",GBP:"",EUR:"",JPY:"",INR:"",IDR:"Rp",PKR:"",THB:"",MYR:"RM",TWD:"NT$",VND:"",PHP:"",NGN:"",ZAR:"R",KZT:"",TZS:"TSh",EGP:"E",BRL:"R$",SEK:"kr",CZK:"K",PLN:"z",DKK:"kr",NOK:"kr",KRW:"",COP:"$",MXN:"$",PEN:"S/.",HUF:"Ft",QAR:"",RON:"lei",CAD:"CA$",ILS:"",AED:".",SGD:"S$",NZD:"NZ$",CHF:"CHF",SAR:"."},tde={USD:2,AUD:2,CLP:0,GBP:2,EUR:2,JPY:0,INR:2,IDR:2,PKR:2,THB:2,MYR:2,TWD:2,VND:0,PHP:2,NGN:2,ZAR:2,KZT:2,TZS:2,EGP:2,BRL:2,SEK:2,CZK:2,PLN:2,DKK:2,NOK:2,KRW:0,COP:2,MXN:2,PEN:2,HUF:2,QAR:2,RON:2,CAD:2,ILS:2,AED:2,SGD:2,NZD:2,CHF:2,SAR:2};function nde(e){const t=ede[e],n=e.toLowerCase();return{sign:{id:"currencyCodes.".concat(n,"Sign"),defaultMessage:t,description:"Currency sign/symbol for ".concat(e,".")},code:{id:"currencyCodes.".concat(n,"Code"),defaultMessage:e,description:"Abbreviated currency code for ".concat(e,".")}}}function UVe(e){return tde[e.toUpperCase()]}nde("USD");function gp(e){return e===se.EDUCATION_CBP||e===se.DEPRECATED_EDU||e===se.K12}function HW(e){return e===se.ENTERPRISE_CBP||e===se.HC||e===se.FINSERV||e===se.DEPRECATED_ENTERPRISE}function Qv(e){return HW(e)||gp(e)||e===se.QUORUM}function FVe(e){return e===se.SELF_SERVE_BUSINESS||e===se.ENTERPRISE_CBP||e===se.HC||e===se.FINSERV||e===se.EDUCATION_CBP||e===se.QUORUM||e===se.DEPRECATED_ENTERPRISE||e===se.DEPRECATED_EDU||e===se.K12||e===se.FREE_WORKSPACE}var Uy,NL;function rde(){if(NL)return Uy;NL=1;var e=xv();function t(){this.__data__=new e,this.size=0}return Uy=t,Uy}var Fy,IL;function sde(){if(IL)return Fy;IL=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Fy=e,Fy}var Gy,PL;function ide(){if(PL)return Gy;PL=1;function e(t){return this.__data__.get(t)}return Gy=e,Gy}var jy,wL;function ode(){if(wL)return jy;wL=1;function e(t){return this.__data__.has(t)}return jy=e,jy}var By,RL;function ade(){if(RL)return By;RL=1;var e=xv(),t=Cw(),n=yw(),r=200;function s(i,o){var a=this.__data__;if(a instanceof e){var c=a.__data__;if(!t||c.length<r-1)return c.push([i,o]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(i,o),this.size=a.size,this}return By=s,By}var Hy,xL;function jw(){if(xL)return Hy;xL=1;var e=xv(),t=rde(),n=sde(),r=ide(),s=ode(),i=ade();function o(a){var c=this.__data__=new e(a);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=s,o.prototype.set=i,Hy=o,Hy}var $y,ML;function cde(){if(ML)return $y;ML=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return $y=t,$y}var Wy,kL;function lde(){if(kL)return Wy;kL=1;function e(t){return this.__data__.has(t)}return Wy=e,Wy}var qy,LL;function $W(){if(LL)return qy;LL=1;var e=yw(),t=cde(),n=lde();function r(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,qy=r,qy}var Vy,DL;function ude(){if(DL)return Vy;DL=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(t[r],r,t))return!0;return!1}return Vy=e,Vy}var zy,UL;function WW(){if(UL)return zy;UL=1;function e(t,n){return t.has(n)}return zy=e,zy}var Yy,FL;function qW(){if(FL)return Yy;FL=1;var e=$W(),t=ude(),n=WW(),r=1,s=2;function i(o,a,c,l,u,d){var f=c&r,h=o.length,p=a.length;if(h!=p&&!(f&&p>h))return!1;var _=d.get(o),m=d.get(a);if(_&&m)return _==a&&m==o;var v=-1,E=!0,b=c&s?new e:void 0;for(d.set(o,a),d.set(a,o);++v<h;){var C=o[v],y=a[v];if(l)var O=f?l(y,C,v,a,o,d):l(C,y,v,o,a,d);if(O!==void 0){if(O)continue;E=!1;break}if(b){if(!t(a,function(A,N){if(!n(b,N)&&(C===A||u(C,A,c,l,d)))return b.push(N)})){E=!1;break}}else if(!(C===y||u(C,y,c,l,d))){E=!1;break}}return d.delete(o),d.delete(a),E}return Yy=i,Yy}var Ky,GL;function VW(){if(GL)return Ky;GL=1;var e=oi(),t=e.Uint8Array;return Ky=t,Ky}var Jy,jL;function dde(){if(jL)return Jy;jL=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s,i){r[++n]=[i,s]}),r}return Jy=e,Jy}var Xy,BL;function Bw(){if(BL)return Xy;BL=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s){r[++n]=s}),r}return Xy=e,Xy}var Qy,HL;function fde(){if(HL)return Qy;HL=1;var e=pd(),t=VW(),n=wv(),r=qW(),s=dde(),i=Bw(),o=1,a=2,c="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",_="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",E="[object DataView]",b=e?e.prototype:void 0,C=b?b.valueOf:void 0;function y(O,A,N,I,w,M,k){switch(N){case E:if(O.byteLength!=A.byteLength||O.byteOffset!=A.byteOffset)return!1;O=O.buffer,A=A.buffer;case v:return!(O.byteLength!=A.byteLength||!M(new t(O),new t(A)));case c:case l:case f:return n(+O,+A);case u:return O.name==A.name&&O.message==A.message;case h:case _:return O==A+"";case d:var D=s;case p:var L=I&o;if(D||(D=i),O.size!=A.size&&!L)return!1;var G=k.get(O);if(G)return G==A;I|=a,k.set(O,A);var K=r(D(O),D(A),I,w,M,k);return k.delete(O),K;case m:if(C)return C.call(O)==C.call(A)}return!1}return Qy=y,Qy}var Zy,$L;function Hw(){if($L)return Zy;$L=1;function e(t,n){for(var r=-1,s=n.length,i=t.length;++r<s;)t[i+r]=n[r];return t}return Zy=e,Zy}var eS,WL;function rs(){if(WL)return eS;WL=1;var e=Array.isArray;return eS=e,eS}var tS,qL;function zW(){if(qL)return tS;qL=1;var e=Hw(),t=rs();function n(r,s,i){var o=s(r);return t(r)?o:e(o,i(r))}return tS=n,tS}var nS,VL;function hde(){if(VL)return nS;VL=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,i=0,o=[];++r<s;){var a=t[r];n(a,r,t)&&(o[i++]=a)}return o}return nS=e,nS}var rS,zL;function YW(){if(zL)return rS;zL=1;function e(){return[]}return rS=e,rS}var sS,YL;function $w(){if(YL)return sS;YL=1;var e=hde(),t=YW(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(a){return r.call(o,a)}))}:t;return sS=i,sS}var iS,KL;function pde(){if(KL)return iS;KL=1;function e(t,n){for(var r=-1,s=Array(t);++r<t;)s[r]=n(r);return s}return iS=e,iS}var oS,JL;function ka(){if(JL)return oS;JL=1;function e(t){return t!=null&&typeof t=="object"}return oS=e,oS}var aS,XL;function _de(){if(XL)return aS;XL=1;var e=_d(),t=ka(),n="[object Arguments]";function r(s){return t(s)&&e(s)==n}return aS=r,aS}var cS,QL;function Ww(){if(QL)return cS;QL=1;var e=_de(),t=ka(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!s.call(o,"callee")};return cS=i,cS}var gf={exports:{}},lS,ZL;function mde(){if(ZL)return lS;ZL=1;function e(){return!1}return lS=e,lS}gf.exports;var eD;function qw(){return eD||(eD=1,(function(e,t){var n=oi(),r=mde(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,a=o?n.Buffer:void 0,c=a?a.isBuffer:void 0,l=c||r;e.exports=l})(gf,gf.exports)),gf.exports}var uS,tD;function Zv(){if(tD)return uS;tD=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s==null?e:s,!!s&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<s}return uS=n,uS}var dS,nD;function Vw(){if(nD)return dS;nD=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return dS=t,dS}var fS,rD;function gde(){if(rD)return fS;rD=1;var e=_d(),t=Vw(),n=ka(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",a="[object Error]",c="[object Function]",l="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",p="[object String]",_="[object WeakMap]",m="[object ArrayBuffer]",v="[object DataView]",E="[object Float32Array]",b="[object Float64Array]",C="[object Int8Array]",y="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",w="[object Uint32Array]",M={};M[E]=M[b]=M[C]=M[y]=M[O]=M[A]=M[N]=M[I]=M[w]=!0,M[r]=M[s]=M[m]=M[i]=M[v]=M[o]=M[a]=M[c]=M[l]=M[u]=M[d]=M[f]=M[h]=M[p]=M[_]=!1;function k(D){return n(D)&&t(D.length)&&!!M[e(D)]}return fS=k,fS}var hS,sD;function eE(){if(sD)return hS;sD=1;function e(t){return function(n){return t(n)}}return hS=e,hS}var vf={exports:{}};vf.exports;var iD;function zw(){return iD||(iD=1,(function(e,t){var n=R6(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,o=i&&n.process,a=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch(l){}})();e.exports=a})(vf,vf.exports)),vf.exports}var pS,oD;function KW(){if(oD)return pS;oD=1;var e=gde(),t=eE(),n=zw(),r=n&&n.isTypedArray,s=r?t(r):e;return pS=s,pS}var _S,aD;function JW(){if(aD)return _S;aD=1;var e=pde(),t=Ww(),n=rs(),r=qw(),s=Zv(),i=KW(),o=Object.prototype,a=o.hasOwnProperty;function c(l,u){var d=n(l),f=!d&&t(l),h=!d&&!f&&r(l),p=!d&&!f&&!h&&i(l),_=d||f||h||p,m=_?e(l.length,String):[],v=m.length;for(var E in l)(u||a.call(l,E))&&!(_&&(E=="length"||h&&(E=="offset"||E=="parent")||p&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||s(E,v)))&&m.push(E);return m}return _S=c,_S}var mS,cD;function Yw(){if(cD)return mS;cD=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||e;return n===s}return mS=t,mS}var gS,lD;function XW(){if(lD)return gS;lD=1;function e(t,n){return function(r){return t(n(r))}}return gS=e,gS}var vS,uD;function vde(){if(uD)return vS;uD=1;var e=XW(),t=e(Object.keys,Object);return vS=t,vS}var ES,dD;function Ede(){if(dD)return ES;dD=1;var e=Yw(),t=vde(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var a in Object(i))r.call(i,a)&&a!="constructor"&&o.push(a);return o}return ES=s,ES}var CS,fD;function vd(){if(fD)return CS;fD=1;var e=x6(),t=Vw();function n(r){return r!=null&&t(r.length)&&!e(r)}return CS=n,CS}var yS,hD;function Ed(){if(hD)return yS;hD=1;var e=JW(),t=Ede(),n=vd();function r(s){return n(s)?e(s):t(s)}return yS=r,yS}var SS,pD;function QW(){if(pD)return SS;pD=1;var e=zW(),t=$w(),n=Ed();function r(s){return e(s,n,t)}return SS=r,SS}var TS,_D;function Cde(){if(_D)return TS;_D=1;var e=QW(),t=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,o,a,c,l,u){var d=a&t,f=e(i),h=f.length,p=e(o),_=p.length;if(h!=_&&!d)return!1;for(var m=h;m--;){var v=f[m];if(!(d?v in o:r.call(o,v)))return!1}var E=u.get(i),b=u.get(o);if(E&&b)return E==o&&b==i;var C=!0;u.set(i,o),u.set(o,i);for(var y=d;++m<h;){v=f[m];var O=i[v],A=o[v];if(c)var N=d?c(A,O,v,o,i,u):c(O,A,v,i,o,u);if(!(N===void 0?O===A||l(O,A,a,c,u):N)){C=!1;break}y||(y=v=="constructor")}if(C&&!y){var I=i.constructor,w=o.constructor;I!=w&&"constructor"in i&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof w=="function"&&w instanceof w)&&(C=!1)}return u.delete(i),u.delete(o),C}return TS=s,TS}var OS,mD;function yde(){if(mD)return OS;mD=1;var e=_l(),t=oi(),n=e(t,"DataView");return OS=n,OS}var bS,gD;function Sde(){if(gD)return bS;gD=1;var e=_l(),t=oi(),n=e(t,"Promise");return bS=n,bS}var AS,vD;function ZW(){if(vD)return AS;vD=1;var e=_l(),t=oi(),n=e(t,"Set");return AS=n,AS}var NS,ED;function Tde(){if(ED)return NS;ED=1;var e=_l(),t=oi(),n=e(t,"WeakMap");return NS=n,NS}var IS,CD;function tE(){if(CD)return IS;CD=1;var e=yde(),t=Cw(),n=Sde(),r=ZW(),s=Tde(),i=_d(),o=M6(),a="[object Map]",c="[object Object]",l="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),p=o(t),_=o(n),m=o(r),v=o(s),E=i;return(e&&E(new e(new ArrayBuffer(1)))!=f||t&&E(new t)!=a||n&&E(n.resolve())!=l||r&&E(new r)!=u||s&&E(new s)!=d)&&(E=function(b){var C=i(b),y=C==c?b.constructor:void 0,O=y?o(y):"";if(O)switch(O){case h:return f;case p:return a;case _:return l;case m:return u;case v:return d}return C}),IS=E,IS}var PS,yD;function Ode(){if(yD)return PS;yD=1;var e=jw(),t=qW(),n=fde(),r=Cde(),s=tE(),i=rs(),o=qw(),a=KW(),c=1,l="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function p(_,m,v,E,b,C){var y=i(_),O=i(m),A=y?u:s(_),N=O?u:s(m);A=A==l?d:A,N=N==l?d:N;var I=A==d,w=N==d,M=A==N;if(M&&o(_)){if(!o(m))return!1;y=!0,I=!1}if(M&&!I)return C||(C=new e),y||a(_)?t(_,m,v,E,b,C):n(_,m,A,v,E,b,C);if(!(v&c)){var k=I&&h.call(_,"__wrapped__"),D=w&&h.call(m,"__wrapped__");if(k||D){var L=k?_.value():_,G=D?m.value():m;return C||(C=new e),b(L,G,v,E,C)}}return M?(C||(C=new e),r(_,m,v,E,b,C)):!1}return PS=p,PS}var wS,SD;function nE(){if(SD)return wS;SD=1;var e=Ode(),t=ka();function n(r,s,i,o,a){return r===s?!0:r==null||s==null||!t(r)&&!t(s)?r!==r&&s!==s:e(r,s,i,o,n,a)}return wS=n,wS}var RS,TD;function bde(){if(TD)return RS;TD=1;var e=nE();function t(n,r){return e(n,r)}return RS=t,RS}var Ade=bde();const e9=jt(Ade);function t9(e){return e!==se.GUEST&&e!==se.FREE&&e!==se.FREE_WORKSPACE}function n9(e){var t;if(!(!e||e.length===0))return(t=e.find(n=>n.isSelectedTab))!=null?t:e[0]}function r9(e,t){if(!e||e.length===0)return[];if(t==null){const s=n9(e);return s?[s]:[]}const n=new Map(e.map(s=>[s.id,s])),r=[];for(const s of t){const i=n.get(s);i&&r.push(i)}return r}function GVe(e,t){const[n]=r9(e,t);return n}function jVe(e){var r;const t=Vt.contextCollection$();if(!t||t.length===0||!t.some(s=>s.id===e))return;const n=Vt.activeTabContextItemIds$();if(n==null){const s=(r=n9(t))==null?void 0:r.id,i=[];s&&i.push(s),e!==s&&i.push(e),Vt.activeTabContextItemIds$.set(i);return}n.includes(e)||Vt.activeTabContextItemIds$.set([...n,e])}function BVe(e){const t=Vt.activeTabContextItemIds$();if(t==null){Vt.activeTabContextItemIds$.set([]);return}if(!t.includes(e))return;const n=t.filter(r=>r!==e);Vt.activeTabContextItemIds$.set(n)}function HVe(e){Vt.sidebarUrlTrayOpen$.set(e)}function $Ve(e){Vt.contextCollection$.set(e.length>0?e:void 0);const t=Vt.activeTabContextItemIds$();if(t==null)return;const n=new Set(e.map(s=>s.id)),r=t.filter(s=>n.has(s));Vt.activeTabContextItemIds$.set(r)}function Nde(e){try{const n=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(const s of n)r.push(s.segment);return r}catch(t){return e.split("")}}function Ide(e){const t=[];for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r!==void 0&&(t.push(r),r>65535&&n++)}return t}function Pde(e){const t=e.trim();if("Intl"in window&&"Segmenter"in Intl){const n=navigator.language||"en-US",s=new Intl.Segmenter(n,{granularity:"word"}).segment(t);let i=0;for(const o of s)o.isWordLike&&i++;return i}return t.split(/\s+/).filter(n=>n.length>0).length}function xS(e){return String.fromCodePoint(...e)}function WVe(e){return e.replaceAll(/[\s_]+/g,"-").replaceAll(/([a-z0-9])([A-Z])/g,"$1-$2").replaceAll(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replaceAll(/-+/g,"-").toLowerCase()}let XN;function wde(){let e;return{promise:new Promise(n=>{e=n}),resolve:e}}const{promise:Rde,resolve:xde}=wde();function qVe(e){XN=e,xde(e)}const OD=1e4;async function rE(){if(XN)return XN;try{return await Promise.race([Rde,new Promise((t,n)=>setTimeout(()=>n(new Error("Aura host initialization timed out")),OD))])}catch(e){throw fo.error("Aura host failed to initialize before whisper request",{timeout_ms:OD,error_message:e&&typeof e=="object"&&"message"in e?e.message:String(e)}),e instanceof Error?e:new Error(String(e))}}async function VVe(){try{return await(await rE()).getHost().getToolNames()}catch(e){return null}}const fg=e=>e;class Mde{static async getTask({taskId:t}){return H.safeGet("/task/{task_id}",{parameters:{path:{task_id:t}}})}static async cancelTask({taskId:t}){return H.safePost("/task/cancel",{requestBody:{task_id:t}})}static async answerNowTask({taskId:t}){return H.safePost("/task/answer_now",{requestBody:{task_id:t}})}static async getTasks({cursor:t}){return H.safeGet("/tasks",{parameters:{query:{cursor:t!=null?t:null}}})}static async addResultMessage({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return H.safePost("/task/add_result_message",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}static async interruptTask({taskId:t,prompt:n}){return H.safePost("/task/interrupt",{requestBody:{task_id:t,prompt:n}})}static async addResultMessageToCanvas({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return H.safePost("/task/add_result_message_to_canvas",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}}async function kde(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function Lde(e){let t,n,r,s=!1;return function(o){t===void 0?(t=o,n=0,r=-1):t=Ude(t,o);const a=t.length;let c=0;for(;n<a;){s&&(t[n]===10&&(c=++n),s=!1);let l=-1;for(;n<a&&l===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-c);break;case 13:s=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),r),c=n,r=-1}c===a?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function Dde(e,t,n){let r=bD();const s=new TextDecoder;return function(o,a){if(o.length===0)n==null||n(r),r=bD();else if(a>0){const c=s.decode(o.subarray(0,a)),l=a+(o[a+1]===32?2:1),u=s.decode(o.subarray(l));switch(c){case"data":r.data=r.data?r.data+"\n"+u:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(r.retry=d);break}}}}function Ude(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function bD(){return{data:"",event:"",id:"",retry:void 0}}var Fde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const hg="text/event-stream",Gde=1e3,AD="last-event-id";function jde(e,t){var{signal:n,headers:r,onopen:s,onmessage:i,onclose:o,onerror:a,openWhenHidden:c,fetch:l}=t,u=Fde(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,f)=>{const h=Object.assign({},r);h.accept||(h.accept=hg);let p;function _(){p.abort(),document.hidden||y()}c||document.addEventListener("visibilitychange",_);let m=Gde,v=0;function E(){document.removeEventListener("visibilitychange",_),window.clearTimeout(v),p.abort()}n==null||n.addEventListener("abort",()=>{E(),d()});const b=l!=null?l:window.fetch,C=s!=null?s:Bde;async function y(){var O;p=new AbortController;try{const A=await b(e,Object.assign(Object.assign({},u),{headers:h,signal:p.signal}));await C(A),await kde(A.body,Lde(Dde(N=>{N?h[AD]=N:delete h[AD]},N=>{m=N},i))),o==null||o(),E(),d()}catch(A){if(!p.signal.aborted)try{const N=(O=a==null?void 0:a(A))!==null&&O!==void 0?O:m;window.clearTimeout(v),v=window.setTimeout(y,N)}catch(N){E(),f(N)}}}y()})}function Bde(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(hg)))throw new Error("Expected content-type to be ".concat(hg,", Actual: ").concat(t))}var MS,ND;function Hde(){if(ND)return MS;ND=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return MS=e,MS}var $de=Hde();const vs=jt($de);var kS,ID;function Wde(){if(ID)return kS;ID=1;var e=pd(),t=Ww(),n=rs(),r=e?e.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(r&&i&&i[r])}return kS=s,kS}var LS,PD;function s9(){if(PD)return LS;PD=1;var e=Hw(),t=Wde();function n(r,s,i,o,a){var c=-1,l=r.length;for(i||(i=t),a||(a=[]);++c<l;){var u=r[c];s>0&&i(u)?s>1?n(u,s-1,i,o,a):e(a,u):o||(a[a.length]=u)}return a}return LS=n,LS}var DS,wD;function Kw(){if(wD)return DS;wD=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,i=Array(s);++r<s;)i[r]=n(t[r],r,t);return i}return DS=e,DS}var US,RD;function vp(){if(RD)return US;RD=1;var e=_d(),t=ka(),n="[object Symbol]";function r(s){return typeof s=="symbol"||t(s)&&e(s)==n}return US=r,US}var FS,xD;function Jw(){if(xD)return FS;xD=1;var e=rs(),t=vp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,o){if(e(i))return!1;var a=typeof i;return a=="number"||a=="symbol"||a=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return FS=s,FS}var GS,MD;function qde(){if(MD)return GS;MD=1;var e=k6(),t=500;function n(r){var s=e(r,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return GS=n,GS}var jS,kD;function Vde(){if(kD)return jS;kD=1;var e=qde(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,a,c,l){i.push(c?l.replace(n,"$1"):a||o)}),i});return jS=r,jS}var BS,LD;function zde(){if(LD)return BS;LD=1;var e=pd(),t=Kw(),n=rs(),r=vp(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return i?i.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return BS=o,BS}var HS,DD;function Yde(){if(DD)return HS;DD=1;var e=zde();function t(n){return n==null?"":e(n)}return HS=t,HS}var $S,UD;function sE(){if(UD)return $S;UD=1;var e=rs(),t=Jw(),n=Vde(),r=Yde();function s(i,o){return e(i)?i:t(i,o)?[i]:n(r(i))}return $S=s,$S}var WS,FD;function Ep(){if(FD)return WS;FD=1;var e=vp();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return WS=t,WS}var qS,GD;function iE(){if(GD)return qS;GD=1;var e=sE(),t=Ep();function n(r,s){s=e(s,r);for(var i=0,o=s.length;r!=null&&i<o;)r=r[t(s[i++])];return i&&i==o?r:void 0}return qS=n,qS}var VS,jD;function Kde(){if(jD)return VS;jD=1;var e=jw(),t=nE(),n=1,r=2;function s(i,o,a,c){var l=a.length,u=l,d=!c;if(i==null)return!u;for(i=Object(i);l--;){var f=a[l];if(d&&f[2]?f[1]!==i[f[0]]:!(f[0]in i))return!1}for(;++l<u;){f=a[l];var h=f[0],p=i[h],_=f[1];if(d&&f[2]){if(p===void 0&&!(h in i))return!1}else{var m=new e;if(c)var v=c(p,_,h,i,o,m);if(!(v===void 0?t(_,p,n|r,c,m):v))return!1}}return!0}return VS=s,VS}var zS,BD;function i9(){if(BD)return zS;BD=1;var e=ai();function t(n){return n===n&&!e(n)}return zS=t,zS}var YS,HD;function Jde(){if(HD)return YS;HD=1;var e=i9(),t=Ed();function n(r){for(var s=t(r),i=s.length;i--;){var o=s[i],a=r[o];s[i]=[o,a,e(a)]}return s}return YS=n,YS}var KS,$D;function o9(){if($D)return KS;$D=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return KS=e,KS}var JS,WD;function Xde(){if(WD)return JS;WD=1;var e=Kde(),t=Jde(),n=o9();function r(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return JS=r,JS}var XS,qD;function Qde(){if(qD)return XS;qD=1;var e=iE();function t(n,r,s){var i=n==null?void 0:e(n,r);return i===void 0?s:i}return XS=t,XS}var QS,VD;function Zde(){if(VD)return QS;VD=1;function e(t,n){return t!=null&&n in Object(t)}return QS=e,QS}var ZS,zD;function efe(){if(zD)return ZS;zD=1;var e=sE(),t=Ww(),n=rs(),r=Zv(),s=Vw(),i=Ep();function o(a,c,l){c=e(c,a);for(var u=-1,d=c.length,f=!1;++u<d;){var h=i(c[u]);if(!(f=a!=null&&l(a,h)))break;a=a[h]}return f||++u!=d?f:(d=a==null?0:a.length,!!d&&s(d)&&r(h,d)&&(n(a)||t(a)))}return ZS=o,ZS}var eT,YD;function a9(){if(YD)return eT;YD=1;var e=Zde(),t=efe();function n(r,s){return r!=null&&t(r,s,e)}return eT=n,eT}var tT,KD;function tfe(){if(KD)return tT;KD=1;var e=nE(),t=Qde(),n=a9(),r=Jw(),s=i9(),i=o9(),o=Ep(),a=1,c=2;function l(u,d){return r(u)&&s(d)?i(o(u),d):function(f){var h=t(f,u);return h===void 0&&h===d?n(f,u):e(d,h,a|c)}}return tT=l,tT}var nT,JD;function oE(){if(JD)return nT;JD=1;function e(t){return t}return nT=e,nT}var rT,XD;function nfe(){if(XD)return rT;XD=1;function e(t){return function(n){return n==null?void 0:n[t]}}return rT=e,rT}var sT,QD;function rfe(){if(QD)return sT;QD=1;var e=iE();function t(n){return function(r){return e(r,n)}}return sT=t,sT}var iT,ZD;function sfe(){if(ZD)return iT;ZD=1;var e=nfe(),t=rfe(),n=Jw(),r=Ep();function s(i){return n(i)?e(r(i)):t(i)}return iT=s,iT}var oT,eU;function ml(){if(eU)return oT;eU=1;var e=Xde(),t=tfe(),n=oE(),r=rs(),s=sfe();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):s(o)}return oT=i,oT}var aT,tU;function ife(){if(tU)return aT;tU=1;function e(t){return function(n,r,s){for(var i=-1,o=Object(n),a=s(n),c=a.length;c--;){var l=a[t?c:++i];if(r(o[l],l,o)===!1)break}return n}}return aT=e,aT}var cT,nU;function ofe(){if(nU)return cT;nU=1;var e=ife(),t=e();return cT=t,cT}var lT,rU;function afe(){if(rU)return lT;rU=1;var e=ofe(),t=Ed();function n(r,s){return r&&e(r,s,t)}return lT=n,lT}var uT,sU;function cfe(){if(sU)return uT;sU=1;var e=vd();function t(n,r){return function(s,i){if(s==null)return s;if(!e(s))return n(s,i);for(var o=s.length,a=r?o:-1,c=Object(s);(r?a--:++a<o)&&i(c[a],a,c)!==!1;);return s}}return uT=t,uT}var dT,iU;function c9(){if(iU)return dT;iU=1;var e=afe(),t=cfe(),n=t(e);return dT=n,dT}var fT,oU;function lfe(){if(oU)return fT;oU=1;var e=c9(),t=vd();function n(r,s){var i=-1,o=t(r)?Array(r.length):[];return e(r,function(a,c,l){o[++i]=s(a,c,l)}),o}return fT=n,fT}var hT,aU;function ufe(){if(aU)return hT;aU=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return hT=e,hT}var pT,cU;function dfe(){if(cU)return pT;cU=1;var e=vp();function t(n,r){if(n!==r){var s=n!==void 0,i=n===null,o=n===n,a=e(n),c=r!==void 0,l=r===null,u=r===r,d=e(r);if(!l&&!d&&!a&&n>r||a&&c&&u&&!l&&!d||i&&c&&u||!s&&u||!o)return 1;if(!i&&!a&&!d&&n<r||d&&s&&o&&!i&&!a||l&&s&&o||!c&&o||!u)return-1}return 0}return pT=t,pT}var _T,lU;function ffe(){if(lU)return _T;lU=1;var e=dfe();function t(n,r,s){for(var i=-1,o=n.criteria,a=r.criteria,c=o.length,l=s.length;++i<c;){var u=e(o[i],a[i]);if(u){if(i>=l)return u;var d=s[i];return u*(d=="desc"?-1:1)}}return n.index-r.index}return _T=t,_T}var mT,uU;function hfe(){if(uU)return mT;uU=1;var e=Kw(),t=iE(),n=ml(),r=lfe(),s=ufe(),i=eE(),o=ffe(),a=oE(),c=rs();function l(u,d,f){d.length?d=e(d,function(_){return c(_)?function(m){return t(m,_.length===1?_[0]:_)}:_}):d=[a];var h=-1;d=e(d,i(n));var p=r(u,function(_,m,v){var E=e(d,function(b){return b(_)});return{criteria:E,index:++h,value:_}});return s(p,function(_,m){return o(_,m,f)})}return mT=l,mT}var gT,dU;function pfe(){if(dU)return gT;dU=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return gT=e,gT}var vT,fU;function l9(){if(fU)return vT;fU=1;var e=pfe(),t=Math.max;function n(r,s,i){return s=t(s===void 0?r.length-1:s,0),function(){for(var o=arguments,a=-1,c=t(o.length-s,0),l=Array(c);++a<c;)l[a]=o[s+a];a=-1;for(var u=Array(s+1);++a<s;)u[a]=o[a];return u[s]=i(l),e(r,this,u)}}return vT=n,vT}var ET,hU;function _fe(){if(hU)return ET;hU=1;function e(t){return function(){return t}}return ET=e,ET}var CT,pU;function u9(){if(pU)return CT;pU=1;var e=_l(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch(r){}})();return CT=t,CT}var yT,_U;function mfe(){if(_U)return yT;_U=1;var e=_fe(),t=u9(),n=oE(),r=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return yT=r,yT}var ST,mU;function gfe(){if(mU)return ST;mU=1;var e=800,t=16,n=Date.now;function r(s){var i=0,o=0;return function(){var a=n(),c=t-(a-o);if(o=a,c>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return ST=r,ST}var TT,gU;function d9(){if(gU)return TT;gU=1;var e=mfe(),t=gfe(),n=t(e);return TT=n,TT}var OT,vU;function vfe(){if(vU)return OT;vU=1;var e=oE(),t=l9(),n=d9();function r(s,i){return n(t(s,i,e),s+"")}return OT=r,OT}var bT,EU;function Efe(){if(EU)return bT;EU=1;var e=wv(),t=vd(),n=Zv(),r=ai();function s(i,o,a){if(!r(a))return!1;var c=typeof o;return(c=="number"?t(a)&&n(o,a.length):c=="string"&&o in a)?e(a[o],i):!1}return bT=s,bT}var AT,CU;function Cfe(){if(CU)return AT;CU=1;var e=s9(),t=hfe(),n=vfe(),r=Efe(),s=n(function(i,o){if(i==null)return[];var a=o.length;return a>1&&r(i,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return AT=s,AT}var yfe=Cfe();const Sfe=jt(yfe);var Tfe=(e=>(e.CANCELLED="cancelled",e.CREATED="created",e.RUNNING="running",e.COMPLETED="completed",e.FAILED="failed",e.FINALIZING="finalizing",e.SKIPPING="skipping",e.UNDETERMINED="undetermined",e))(Tfe||{}),f9=(e=>(e.UNKNOWN="unknown",e.RESEARCH="research",e.PRO_MODE="pro_mode",e.THINKING="thinking",e.IMAGE_GEN="image_gen",e.FRONTEND_ARTIFACT="frontend_artifact",e))(f9||{});function Ofe(e){return e.status==="completed"}function zVe(e){return e.status==="cancelled"||e.status==="failed"}function YVe(e){return e.status==="running"||e.status==="undetermined"||e.status==="created"||e.status==="finalizing"||e.status==="skipping"}function KVe(e){return e.taskId.startsWith("frontend_artifact_")?"frontend_artifact":e.taskId.startsWith("promode_")?"pro_mode":e.taskId.startsWith("thinking_")?"thinking":e.taskId.startsWith("deepresch_")||e.taskId.startsWith("shishito_")?"research":e.taskId.startsWith("imagegen_")?"image_gen":"unknown"}function bfe(e,t){var i;if(!Ofe(e))return null;const n=(i=t.update_time)!=null?i:t.create_time,r=n?new Date(n*1e3):null,s=e.updatedAt?new Date(e.updatedAt):null;return s?r?+s>+r?s:r:s:r}const aE=zn(xa(()=>({tasks:{},taskIdsByConversationId:{},taskStreams:{},researchShareIntent:null}))),sc=aE.getState,lr=aE.setState,Xi={setTask:(e,t)=>{lr(n=>{var i;n.tasks[e]=t;const r=t.originalConversationId,s=(i=n.taskIdsByConversationId[r])!=null?i:new Set;s.add(e),n.taskIdsByConversationId[r]=s})},setTaskStatus:(e,t)=>{lr(n=>{if(n.tasks[e]){if(n.tasks[e].status==="cancelled")return;n.tasks[e].status=t}})},setTaskInterruptionsDisabled:(e,t)=>{lr(n=>{n.tasks[e]&&(n.tasks[e].interruptionsDisabled=t)})},setTaskMetadataItems:({taskId:e,originalConversationId:t,responseMessageId:n,canvasTextdocId:r})=>{lr(s=>{s.tasks[e]&&(s.tasks[e].originalConversationId=t,s.tasks[e].responseMessageId=n,s.tasks[e].responseCanvasTextdocId=r)})},loadBulkTasks:e=>{lr(t=>{e.forEach(n=>{var o,a,c,l;const r=t.tasks[n.taskId];t.tasks[n.taskId]=P(S({},n),{interruptionsDisabled:(o=n.interruptionsDisabled)!=null?o:r==null?void 0:r.interruptionsDisabled,rows:(a=r==null?void 0:r.rows)!=null?a:[],finalMessage:(c=r==null?void 0:r.finalMessage)!=null?c:vs(n.messages)});const s=n.originalConversationId,i=(l=t.taskIdsByConversationId[s])!=null?l:new Set;i.add(n.taskId),t.taskIdsByConversationId[s]=i})})},addTaskRow:(e,t)=>{lr(n=>{var i;const r=n.tasks[e];if(r==null)return;const s=[...(i=r.rows)!=null?i:[]];s.find(o=>o.id===t.id)||(s.push(t),r.rows=s)})},setTaskCompleted:(e,t)=>{lr(n=>{var s,i,o,a;const r=n.tasks[e];r!=null&&(r.status!=="completed"&&(r.collapsed=!0),r.status="completed",r.updatedAt=((s=bfe(r,t))==null?void 0:s.toString())||r.updatedAt,r.finalMessage=t,r.responseMessageId=(o=(i=t.metadata)==null?void 0:i.response_message_id)!=null?o:t.id,r.imageGenMessage=t,(a=r.notificationStatus)!=null||(r.notificationStatus={recentlyCompleted:!0,notificationSent:!1}))})},setTaskRecentlyCompleted:e=>{lr(t=>{var r;const n=t.tasks[e];n!=null&&((r=n.notificationStatus)!=null||(n.notificationStatus={recentlyCompleted:!0,notificationSent:!1}),n.notificationStatus.recentlyCompleted=!0)})},setTaskNotificationSent:e=>{lr(t=>{var n;(n=t.tasks[e])!=null&&n.notificationStatus&&(t.tasks[e].notificationStatus.notificationSent=!0)})},setResearchShareIntent:e=>{lr(t=>{t.researchShareIntent=e})},setTaskTitle:(e,t)=>{lr(n=>{n.tasks[e]&&(n.tasks[e].title=t)})},setTaskImageGenMessage:(e,t)=>{lr(n=>{n.tasks[e]&&(n.tasks[e].imageGenMessage=t)})},async retainTaskStream(e){var o;const n=sc().taskStreams[e],r=(o=n==null?void 0:n.refCount)!=null?o:0;let s,i=null;r===0&&(s=new AbortController,i=Rfe(e,s)),lr(a=>{var l;const c=s||((l=a.taskStreams[e])==null?void 0:l.abortController);if(!c)throw Error("Missing abort controller");a.taskStreams[e]=P(S({},a.taskStreams[e]),{refCount:r+1,abortController:c})}),i&&await i},releaseTaskStream(e){lr(t=>{const n=t.taskStreams[e];n&&(n.refCount-=1)})},abortTaskStream(e){lr(t=>{const n=t.taskStreams[e];!n||n.refCount||(n.abortController.abort(),delete t.taskStreams[e])})}},yU=[],qu={getTask:(e,t=sc())=>t.tasks[e],getAllTasks:(e=sc())=>Object.values(e.tasks).filter(t=>!!t),getAllTasksOrdered:(e=sc())=>Sfe(qu.getAllTasks(e),t=>-new Date(t.createdAt)),hasTaskStreamEntry:(e,t=sc())=>!!t.taskStreams[e],getTaskIdsByConversationId:(e,t=sc())=>{if(!e)return yU;const n=t.taskIdsByConversationId[e];return!n||n.size===0?yU:Array.from(n)},getResearchShareIntent:(e=sc())=>e.researchShareIntent};function Afe(e){var r,s,i,o,a,c,l;const t=e.task_id;return{conversationId:(r=e.conversation_id)!=null?r:"",taskId:t,title:e.title,prompt:e.prompt,createdAt:e.created_at,updatedAt:e.updated_at,status:e.status,messages:(s=e.messages)!=null?s:[],rows:[],originalConversationId:e.original_conversation_id,responseMessageId:(i=e.response_message_id)!=null?i:void 0,responseCanvasTextdocId:(o=e.response_canvas_textdoc_id)!=null?o:void 0,originalConversationUserMessageId:(a=e.original_conversation_user_message_id)!=null?a:void 0,imageGenMessage:(c=e.image_gen_message)!=null?c:void 0,interruptionsDisabled:(l=e.interruptions_disabled)!=null?l:void 0}}function Nfe(e){var t,n,r,s,i,o,a,c,l,u,d;switch(e.type){case"website_open":return{id:e.id,type:"websiteOpen",url:e.url,rowText:e.row_text,activeRowText:e.active_row_text,sanitizedUrl:(t=e.sanitized_url)!=null?t:null,created_at:(n=e.created_at)!=null?n:null};case"summary":return{id:e.id,type:"summary",title:e.title,summary:(r=e.summary)!=null?r:null,message:(s=e.message)!=null?s:null,created_at:(i=e.created_at)!=null?i:null};case"search":return{id:e.id,type:"search",query:(o=e.query)!=null?o:null,created_at:(a=e.created_at)!=null?a:null,urls:(c=e.urls)!=null?c:null};case"python_analysis":return{id:e.id,type:"pythonAnalysis",analysisSummary:(l=e.analysis_summary)!=null?l:null,created_at:(u=e.created_at)!=null?u:null};case"file_open":return{id:e.id,type:"fileOpen",fileName:e.file_name,iconType:e.icon_type,fileExt:e.file_ext,rowText:e.row_text,activeRowText:e.active_row_text,created_at:(d=e.created_at)!=null?d:null}}}function Ife(e){for(const t of e)if(t.author.role===we.Assistant&&(t.recipient==="xdeo6rao"||t.author.name==="xdeo6rao"))return t;return null}function JVe(e,{title:t,threadUpdateTimeMs:n}){var s,i,o;const r=[];for(const a of e){if(!a.messages.length)continue;const c=Ife(a.messages);if(!c)continue;const l=a.messages[a.messages.length-1],u=!!l.end_turn&&l.author.role==we.Assistant,d=(s=c.update_time)!=null?s:c.create_time,f=(o=(i=d!=null?d*1e3:void 0)!=null?i:n)!=null?o:Date.now();r.push({id:"frontend_artifact_".concat(c.id),title:t,startedAt:f,scrollToMessageId:c.id,isTurnEnded:u})}return r}function XVe(){const e=id({queryKey:["fetch-tasks"],queryFn:async({pageParam:t})=>{const n=await Mde.getTasks({cursor:t});return Xi.loadBulkTasks(n.tasks.map(r=>Afe(r)).filter(r=>r!==null)),n},initialPageParam:null,getNextPageParam:({cursor:t})=>t!=null?t:null,enabled:!0});return{isLoading:e.isLoading,isFetching:e.isFetching}}const Pfe=30,wfe=30;async function Rfe(e,t){if(qu.hasTaskStreamEntry(e))return!1;const r=Kv();r["content-type"]="application/json";let s=0,i=0;return jde("".concat(Qe,"/tasks/").concat(e,"/stream"),{headers:r,signal:t.signal,openWhenHidden:!0,onopen:async o=>{if(!(o.ok&&o.headers.get("content-type")===hg))if(s<Pfe)s++;else throw new Error("Failure opening stream")},onmessage(o){if(o.data==="[DONE]")return;const a=JSON.parse(o.data);if(a.task_status)Xi.setTaskStatus(a.task_id,a.task_status),typeof a.interruptions_disabled=="boolean"&&Xi.setTaskInterruptionsDisabled(a.task_id,a.interruptions_disabled);else if(a.final_message)Xi.setTaskCompleted(e,a.final_message),a.was_recently_completed&&Xi.setTaskRecentlyCompleted(e);else if(a.row){const c=Nfe(a.row);c&&Xi.addTaskRow(e,c)}else a.title&&Xi.setTaskTitle(e,a.title)},onerror(o){if(i<wfe){i++;return}throw t.abort(),o},onclose(){}}),!0}function QVe(e){"use forget";const t=j.c(3);let n,r;t[0]!==e?(n=()=>{if(e)return Xi.retainTaskStream(e),()=>{Xi.releaseTaskStream(e)}},r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),T.useEffect(n,r)}function ZVe(e){"use forget";const t=j.c(2);let n;return t[0]!==e?(n=s=>qu.getTaskIdsByConversationId(e,s).map(i=>qu.getTask(i,s)).filter(Mfe).filter(xfe),t[0]=e,t[1]=n):n=t[1],aE(n)}function xfe(e){return e.status==="created"||e.status==="running"||e.status==="finalizing"}function Mfe(e){return e!==void 0}function e8e(e){"use forget";const t=j.c(2);let n;return t[0]!==e?(n=s=>qu.getTaskIdsByConversationId(e,s).map(i=>qu.getTask(i,s)).filter(kfe),t[0]=e,t[1]=n):n=t[1],aE(n)}function kfe(e){return e!==void 0}var Cp=(e=>(e.ContentOrTos="content_or_tos",e.ContentPolicy="content_policy",e.BioSafetyContentPolicy="bio_safety_content_policy",e.ModelIncompatibility="model_incompatibility",e.ContentRegurgitation="content_regurgitation",e))(Cp||{});const Lfe={errType:"warning",errCode:"content_policy"},Dfe={errType:"danger",errCode:"model_incompatibility"},Ufe={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy"},Ffe={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy",shouldDisableConversation:!0},Gfe={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1},jfe={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1,shouldDisableConversation:!0},Bfe=(e,t)=>!e.length||t?null:{disclaimers:e},Hfe=({isSafetyLimited:e,shouldDisableConversation:t,isModelIncompatibility:n})=>e?t?jfe:Gfe:t?Ffe:n?Dfe:Ufe;class $fe{isMultimodalTextMessage(t){return t.content.content_type===je.MultimodalText}isPartAssetPointer(t){return typeof t!="string"&&(t.content_type===Pn.ImageAssetPointer||t.content_type===Pn.AudioAssetPointer)}isBase64ImagePart(t){return typeof t!="string"&&t.content_type===Pn.Image}isPartRealTimeUserAudioVideoAssetPointer(t){return typeof t!="string"&&t.content_type===Pn.RealTimeUserAudioVideoAssetPointer}isPartAudioTranscription(t){return typeof t!="string"&&t.content_type===Pn.AudioTranscription}getAudio(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>typeof n!="string"&&n.content_type===Pn.Audio):[]}getAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>this.isPartAssetPointer(n)):[]}getImageAssetPointers(t){return this.isMultimodalTextMessage(t)?this.getImageAssetPointersFromParts(t.content.parts):[]}getImageAssetPointersFromParts(t){return t.filter(n=>this.isPartAssetPointer(n)&&n.content_type===Pn.ImageAssetPointer)}getFrameAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>{if(typeof n!="string"&&n.content_type===Pn.RealTimeUserAudioVideoAssetPointer)return n.frames_asset_pointers}).filter(n=>!!n):[]}getAudioAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n!="string")switch(n.content_type){case Pn.AudioAssetPointer:return n;case Pn.RealTimeUserAudioVideoAssetPointer:return n.audio_asset_pointer;default:return}}).filter(n=>!!n):[]}getVideoContainerAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>typeof n!="string"&&n.content_type===Pn.RealTimeUserAudioVideoAssetPointer?n.video_container_asset_pointer:null).filter(n=>!!n):[]}getImageOperationFileIds(t){var r,s,i,o,a,c,l;const n=(l=(i=(s=(r=t.metadata)==null?void 0:r.dalle)==null?void 0:s.from_client)==null?void 0:i.operation)!=null?l:(c=(a=(o=t.metadata)==null?void 0:o.generation)==null?void 0:a.from_client)==null?void 0:c.operation;return(n==null?void 0:n.type)==="inpainting"?{operation:"inpainting",originalFileId:n.original_file_id,maskFileId:n.mask_file_id}:(n==null?void 0:n.type)==="transformation"?{operation:"transformation",originalFileId:n.original_file_id}:void 0}getPartsAsString(t,n=!0){return this.isMultimodalTextMessage(t)?t.content.parts.map(r=>{var s;if(typeof r=="string")return r;if(this.isPartAudioTranscription(r))return r.text;if(n){if(this.isPartAssetPointer(r))return'[media pointer="'.concat(r.asset_pointer,'"]');if(this.isPartRealTimeUserAudioVideoAssetPointer(r)){const i=(s=r.audio_asset_pointer)==null?void 0:s.asset_pointer;return i&&'[media pointer="'.concat(i,'"]')}else if(this.isBase64ImagePart(r))return r.payload}else return!1}).filter(Boolean).join("\n"):""}isAudioTranscriptMessage(t){return this.isMultimodalTextMessage(t)?t.content.parts.some(n=>this.isPartAudioTranscription(n)):!1}}const yp=new $fe,O_="contentReference",pg="writing",t8e="highlight",n8e=new Set([pg,"contextList"]),r8e="f",s8e="dr",i8e="sandbox:",o8e="w";function h9(e,t){var s;if(!t||Object.keys(t).length===0)return e;const n=e.split("\n");let r=!1;for(let i=0;i<n.length;i++){const o=n[i];if(SU(o)){r=!r;continue}if(r)continue;const a=o.trim(),c=Wfe(a);if(!c)continue;const l=c.attributes,u=qfe(l);if(!u)continue;const d=(s=t[u])==null?void 0:s.content;if(typeof d!="string")continue;let f=i+1;for(;f<n.length;){const _=n[f];if(SU(_)){r=!r,f++;continue}if(!r&&_.trim()===":::")break;f++}if(f>=n.length)continue;const h=d.split("\n"),p=f-(i+1);n.splice(i+1,p,...h),i=i+h.length}return n.join("\n")}function SU(e){return e.trimStart().startsWith("```")}function Wfe(e){var r;const t=new RegExp("^:::".concat(pg,"\\{([^}]*)\\}$")),n=e.match(t);return n?{attributes:(r=n[1])!=null?r:""}:null}function qfe(e){var r,s,i;const t=/(?:^|\s)id\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s}]+))/,n=e.match(t);if(n)return(i=(s=(r=n[1])!=null?r:n[2])!=null?s:n[3])!=null?i:void 0}const Vfe=["image_gen"],zfe=/sandbox:[^\s)\]>]+skill\.zip/gi,Yfe=/<\s*(sandbox:[^>]+skill\.zip)\s*>/i;var he=(e=>(e[e.no_render=0]="no_render",e[e.BrowseTool=1]="BrowseTool",e[e.Browsing=2]="Browsing",e[e.CanmoreTool=3]="CanmoreTool",e[e.Container=4]="Container",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.CodeInterpreterTool=6]="CodeInterpreterTool",e[e.Dalle=7]="Dalle",e[e.DalleTool=8]="DalleTool",e[e.GizmoEditor=9]="GizmoEditor",e[e.JITPlugin=10]="JITPlugin",e[e.JITPluginTool=11]="JITPluginTool",e[e.JITPluginGoogleTool=12]="JITPluginGoogleTool",e[e.DILWidget=13]="DILWidget",e[e.APIToolElicitation=14]="APIToolElicitation",e[e.ImagePreloadTool=15]="ImagePreloadTool",e[e.ModelEditableContext=16]="ModelEditableContext",e[e.MultimodalText=17]="MultimodalText",e[e.ParallelBrowsing=18]="ParallelBrowsing",e[e.ParallelBrowsingTool=19]="ParallelBrowsingTool",e[e.RetrievalBrowsing=20]="RetrievalBrowsing",e[e.RetrievalBrowsingTool=21]="RetrievalBrowsingTool",e[e.SearchResultTool=22]="SearchResultTool",e[e.SearchGPTQuery=23]="SearchGPTQuery",e[e.System=24]="System",e[e.SystemContent=25]="SystemContent",e[e.DeveloperContent=26]="DeveloperContent",e[e.Text=27]="Text",e[e.StructuredThoughts=28]="StructuredThoughts",e[e.ReasoningRecap=29]="ReasoningRecap",e[e.UserEditableContext=30]="UserEditableContext",e[e.UserModelBio=31]="UserModelBio",e[e.UserModelBioTool=32]="UserModelBioTool",e[e.Unknown=33]="Unknown",e[e.de1d73e=34]="de1d73e",e[e.a8km123=35]="a8km123",e[e.f959b8c=36]="f959b8c",e[e.b1de6e2_c=37]="b1de6e2_c",e[e.b1de6e2_s=38]="b1de6e2_s",e[e.b1de6e2_d=39]="b1de6e2_d",e[e.b1de6e2_rm=40]="b1de6e2_rm",e[e.l1p9k3u=41]="l1p9k3u",e[e.l1239dk1=42]="l1239dk1",e[e.l1239dk2=43]="l1239dk2",e[e.is_loading_message=44]="is_loading_message",e[e.b47u8ra0_t=45]="b47u8ra0_t",e[e.oiw209h=46]="oiw209h",e[e.oiw209h_c=47]="oiw209h_c",e[e.t2uay3k=48]="t2uay3k",e[e.t2uay3k_c=49]="t2uay3k_c",e[e.Oboe=50]="Oboe",e[e.UserSettings=51]="UserSettings",e[e.UserSettingsTool=52]="UserSettingsTool",e[e.q7dr546=53]="q7dr546",e[e.q7dr546_c=54]="q7dr546_c",e[e.CoTSearchToolCall=55]="CoTSearchToolCall",e[e.CoTSearchToolResult=56]="CoTSearchToolResult",e[e.n7jupd_c=57]="n7jupd_c",e[e.n7jupd_r=58]="n7jupd_r",e[e.n7jupd_t=59]="n7jupd_t",e[e.n7jupd_m=60]="n7jupd_m",e[e.n7jupd_x=61]="n7jupd_x",e[e.n7jupd_a=62]="n7jupd_a",e[e.n7jupd_n=63]="n7jupd_n",e[e.n7jupd_p=64]="n7jupd_p",e[e.n7jupd_image_gen=65]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=66]="n7jupd_native_api_tool",e[e.Mercury=67]="Mercury",e[e.PIMBlock=68]="PIMBlock",e[e.Mochi=69]="Mochi",e[e.SuperWidget=70]="SuperWidget",e[e.xdeo6rao=71]="xdeo6rao",e[e.Croquette=72]="Croquette",e[e.HazelnutEnablePrompt=73]="HazelnutEnablePrompt",e[e.HazelnutZipPreview=74]="HazelnutZipPreview",e[e.kaur1br5=75]="kaur1br5",e[e.e1ld0dvz=76]="e1ld0dvz",e[e.Glaux=77]="Glaux",e[e.Strix=78]="Strix",e[e.async_task_result_message=79]="async_task_result_message",e[e.GenuiSearchResult=80]="GenuiSearchResult",e[e.GenuiRunResult=81]="GenuiRunResult",e))(he||{});function Kfe(e){var r,s,i;if(!e)return null;const t=e.match(Yfe),n=(i=(s=t==null?void 0:t[1])!=null?s:(r=e.match(zfe))==null?void 0:r[0])!=null?i:null;return n?n.replace(/^sandbox:/,""):null}function Jfe(e){var t;switch(e.content.content_type){case je.Text:{let n=e.content.parts.join("");return(t=e.metadata)!=null&&t.writing_blocks&&(n=h9(n,e.metadata.writing_blocks)),n}case je.MultimodalText:return yp.getPartsAsString(e,!1);default:return""}}function p9(e){var t;return"type"in e.content&&e.content.type==="hazelnut_enable_prompt"||((t=e.metadata)==null?void 0:t.is_hazelnut_enable_prompt)===!0}var ao=(e=>(e.BROWSER="browser",e.CANMORE="canmore",e.MTBROWSER="mtbrowser",e.WIKI_BROWSER="wiki_browser",e.MYFILES_BROWSER="myfiles_browser",e.FILE_SEARCH="file_search",e.GDRIVE_BROWSER="gdrive_browser",e.BROWSING_TEAM="browsing_team",e.BIO="bio",e.PYTHON="python",e.DALLE="dalle",e.GIZMO_EDITOR="gizmo_editor",e.JIT_PLUGIN="jit_plugin",e.SEARCH_RESULT="search_result",e.SEARCH_RESULTS="search_results",e.A8KM123="a8km123",e.SEARCHGPT="web",e.SEARCH_COT="web.run",e.DE1D73E="de1d73e",e.L1P9K3U="l1p9k3u",e.L1239DK1="l1239dk1",e.CONTAINER="container",e.COMPUTER="computer",e.MERCURY="mercury",e.OIW209H="oiw209h",e.T2UAY3K="t2uay3k",e.G9X2M5N="g9x2m5n",e.START_RESEARCH_TASK="research_kickoff_tool.start_research_task",e.CLARIFY_WITH_TEXT="research_kickoff_tool.clarify_with_text",e.ADVANCED_VOICE="advanced_voice",e.OBOE="oboe",e.IMAGE_GEN_HALLUCINATED="image_gen",e.USER_SETTINGS="user_settings",e.USER_SETTINGS_TOOL="user_settings_tool",e.Q7DR546="q7dr546",e.n7jupd_m="n7jupd.metadata",e.IMAGEGEN_MAKE_IMAGE="imagegen.make_image",e.SUPER_WIDGET="super_widget",e.E1LD0DVZ="e1ld0dvz",e.XDEO6RAO="xdeo6rao",e.GENUI_SEARCH="genui.search",e.GENUI_RUN="genui.run",e))(ao||{});function TU(e){return e&&[4202148095,653746659,45870204,111655449].some(t=>na(t,e))}function Xfe(e){var s;const t=QN(e.author.name),n=t==null?void 0:t.namespace,r=["browser","container","computer"];return((s=e.metadata)==null?void 0:s.n7jupd_message)&&r.includes(n)&&e.content.content_type===je.Text}function Qfe(e,t){return e&&na(t,e.split(".")[0])}function Ks(e){var n,r,s,i,o,a,c,l,u,d,f,h,p,_,m,v,E,b,C,y,O,A,N,I,w,M,k,D,L,G,K,V,Y,Q,z,F,Te,fe,$,W,ee,J,Z,ye,me,Ie,Ce,Me,ke,xe,Ke,le,We,_e;if(e.recipient==="api_tool")return 0;if((n=e.metadata)!=null&&n.elicitation_metadata)return 14;if(p9(e))return 73;if(e.author.role===we.Assistant&&e.recipient==="all"){const U=Jfe(e);if(Kfe(U))return 74}if((r=e.metadata)!=null&&r.n7jupd_subtool&&((s=e.metadata.n7jupd_subtool.subtool)!=null&&s.includes("api_tool")||(i=e.metadata.n7jupd_subtool.result_of_subtool)!=null&&i.includes("api_tool")))return 62;if((o=e.metadata)!=null&&o.n7jupd_message&&((a=e.recipient)!=null&&a.includes("api_tool")||(l=(c=e.author)==null?void 0:c.name)!=null&&l.includes("api_tool"))&&!e.metadata.chatgpt_sdk&&!e.metadata.jit_plugin_data)return 66;if((u=e.metadata)!=null&&u.is_pim_warning)return 68;if((d=e.metadata)!=null&&d.n7jupd_message&&e.content.content_type===je.StructuredThoughts)return 59;if((f=e.metadata)!=null&&f.is_auto_proceed_message)return 64;if((h=e.metadata)!=null&&h.is_takeover_ended_message)return 63;if((_=(p=e.metadata)==null?void 0:p.chatgpt_sdk)!=null&&_.dil||(E=(v=(m=e.metadata)==null?void 0:m.chatgpt_sdk)==null?void 0:v.tool_response_metadata)!=null&&E.kakao_widget)return 13;if(e.content.content_type===je.StructuredThoughts)return e.author.name==="mercury"?67:28;if(e.content.content_type===je.ReasoningRecap)return 29;if((b=e.metadata)!=null&&b.b1de6e2_c)return 37;if(e.recipient==="l1p9k3u"||e.author.name==="l1p9k3u")return 41;if(e.author.name==="l1239dk1"||e.recipient==="l1239dk1")return 42;if((C=e.author.name)!=null&&C.startsWith("container"))return na(3061204740,e.author.name)&&((y=e==null?void 0:e.metadata)!=null&&y.n7jupd_message)?6:4;if(e.author.role===we.Assistant&&((O=e.metadata)==null?void 0:O.async_task_id)!=null&&((A=e.metadata)==null?void 0:A.async_task_turn_id)!=null)return 43;if((N=e.metadata)!=null&&N.b1de6e2_s||e.recipient==="research_kickoff_tool.start_research_task")return 38;if((I=e.metadata)!=null&&I.b1de6e2_d)return 39;if((w=e.metadata)!=null&&w.b1de6e2_rm)return 40;if((M=e.metadata)!=null&&M.is_async_task_result_message)return 79;if((k=e.metadata)!=null&&k.is_loading_message)return 44;if((D=e.metadata)!=null&&D.b47u8ra0_t)return 45;if((L=e.metadata)!=null&&L.f959b8c)return 36;if((G=e.recipient)!=null&&G.startsWith("e1ld0dvz")||(K=e.author.name)!=null&&K.startsWith("e1ld0dvz"))return 76;if(TU(e.author.name)||TU(e.recipient)||Xfe(e))return 0;const t="kaur1br5";if((V=e.recipient)!=null&&V.startsWith(t)||(Y=e.author.name)!=null&&Y.startsWith(t))return 75;if(e.author.role===we.Assistant&&Qfe(e.recipient,724319625))return 57;if(e.content.content_type===je.ComputerOutput)return 58;if(e.author.role===we.Assistant){if(Vfe.some(be=>{var ge;return(ge=e.recipient)==null?void 0:ge.startsWith(be)}))return 33;const U=QN(e.recipient);if(e.recipient==="browser"||e.recipient==="wiki_browser"||(U==null?void 0:U.namespace)==="mtbrowser")return 2;if(e.recipient==="web"||(Q=e.recipient)!=null&&Q.startsWith("web."))return 23;if(e.recipient==="web.run"&&((Te=(F=(z=e==null?void 0:e.metadata)==null?void 0:z.search_queries)==null?void 0:F.length)!=null?Te:0)>0)return 55;if(e.recipient==="myfiles_browser"||e.recipient==="gdrive_browser"||(U==null?void 0:U.namespace)==="file_search"||(U==null?void 0:U.namespace)==="myfiles_browser")return 20;if(e.recipient==="browsing_team")return 18;if(e.recipient==="bio")return 31;if(e.recipient==="python")return 5;if(e.recipient==="xdeo6rao")return 71;if((fe=e==null?void 0:e.metadata)!=null&&fe.n7jupd_message&&(na(3179801956,e.recipient)||na(3061204740,e.recipient)))return 5;if((U==null?void 0:U.namespace)==="dalle"||e.recipient==="dalle")return 7;if((U==null?void 0:U.namespace)==="t2uay3k"||e.recipient==="t2uay3k")return 48;if((U==null?void 0:U.namespace)==="g9x2m5n")return 0;if((U==null?void 0:U.namespace)==="oiw209h"||e.recipient==="oiw209h")return 46;if((U==null?void 0:U.namespace)==="gizmo_editor")return 9;if((U==null?void 0:U.namespace)==="container")return 4;if((U==null?void 0:U.namespace)==="canmore")return 3;if((U==null?void 0:U.namespace)==="de1d73e")return 34;if((U==null?void 0:U.namespace)==="user_settings"||(U==null?void 0:U.namespace)==="user_settings_tool"||e.recipient==="user_settings"||e.recipient==="user_settings_tool")return 51;if((U==null?void 0:U.namespace)==="q7dr546"||e.recipient==="q7dr546")return 53;if(!NT(U==null?void 0:U.namespace)){if(b_(U==null?void 0:U.namespace)&&(($=e.metadata)==null?void 0:$.api_tool_type)==="glaux")return 77;if(OU(U)&&((W=e.metadata)!=null&&W.chatgpt_sdk)||bU(U==null?void 0:U.namespace)||b_(U==null?void 0:U.namespace)||AU(U==null?void 0:U.namespace))return 10;if(U!=null)return 33;if(e.content.content_type===je.ModelEditableContext)return 16}}else if(e.author.role===we.Tool){const U=QN(e.author.name);if(e.author.name==="browser"||e.author.name==="wiki_browser"||(U==null?void 0:U.namespace)==="mtbrowser")return 1;if(e.author.name==="myfiles_browser"||e.author.name==="gdrive_browser"||e.author.name==="file_search"||(U==null?void 0:U.namespace)==="file_search"||(U==null?void 0:U.namespace)==="myfiles_browser")return 21;if(e.author.name==="browsing_team")return 19;if(e.author.name==="web.run"&&((Z=(J=(ee=e==null?void 0:e.metadata)==null?void 0:ee.search_result_groups)==null?void 0:J.length)!=null?Z:0)>0)return 56;if(e.author.name==="search_result"&&e.content.content_type===je.TetherQuote)return 22;if(e.author.name==="search_results"&&e.content.content_type===je.TetherBrowsingDisplay)return 15;if(e.author.name==="bio")return 32;if(e.author.name==="a8km123")return 35;if(e.author.name==="python")return 6;if(na(3179801956,e.author.name))return 6;if((U==null?void 0:U.namespace)==="dalle"||e.author.name==="dalle")return 8;if((U==null?void 0:U.namespace)==="t2uay3k"||e.author.name==="image_gen")return 49;if((ye=e.metadata)!=null&&ye.image_gen_async)return 48;if((U==null?void 0:U.namespace)==="g9x2m5n")return 0;if((U==null?void 0:U.namespace)==="gizmo_editor")return 9;if((U==null?void 0:U.namespace)==="canmore")return 3;if((U==null?void 0:U.namespace)==="user_settings"||(U==null?void 0:U.namespace)==="user_settings_tool"||e.author.name==="user_settings"||e.author.name==="user_settings_tool")return 52;if((U==null?void 0:U.namespace)==="q7dr546"||e.author.name==="q7dr546")return 54;if(!(NT(U==null?void 0:U.namespace)||NT(e.author.name))){if(b_(U==null?void 0:U.namespace)&&((me=e.metadata)==null?void 0:me.api_tool_type)==="glaux")return 77;if(OU(U)&&((Ie=e.metadata)!=null&&Ie.chatgpt_sdk)||bU(U==null?void 0:U.namespace)||b_(U==null?void 0:U.namespace)||(Ce=e.author.name)!=null&&Ce.startsWith("api_tool"))return 11;if(AU(U==null?void 0:U.namespace))return 12;if((U==null?void 0:U.namespace)==="de1d73e")return 34;if((U==null?void 0:U.namespace)==="oiw209h")return 47;if((Me=e.author.name)!=null&&Me.startsWith("web."))return 24;if(e.author.name==="research_kickoff_tool.start_research_task")return 38;if(e.author.name==="research_kickoff_tool.clarify_with_text")return 0;if(e.author.name==="n7jupd.metadata")return 60;if(e.author.name==="imagegen.make_image")return 65;if((U==null?void 0:U.namespace)==="browser")return 61;if(e.author.name==="mercury")return 67;if(e.author.name==="super_widget")return 70;if(e.author.name==="xdeo6rao")return 71;if(e.author.name==="genui.search")return 80;if(e.author.name==="genui.run")return 81;if(U!=null||e.author.name==="plugin_service")return Zfe(e)}}else{if(e.author.role===we.System||e.author.role===we.Developer)return(ke=e.metadata)!=null&&ke.n7jupd_message?24:(Ke=(xe=e.metadata)==null?void 0:xe.exclusive_key)!=null&&Ke.startsWith("widget_state")||(le=e.metadata)!=null&&le.rebase_system_message||e.content.content_type===je.SystemMessage||e.content.content_type===je.SystemContent?25:(We=e.metadata)!=null&&We.rebase_developer_message||e.content.content_type===je.DeveloperContent?26:24;if(e.author.role===we.User&&(e.content.content_type===je.UserEditableContext||(_e=e.metadata)!=null&&_e.is_user_system_message))return 30}return e.content.content_type===je.Text||e.content.content_type===je.MultimodalText?27:33}function Zfe(e){return e.create_time&&e.create_time>17172e5?q.addError("[Unknown tool] Encountered a message with an unknown tool. Rendering as Unknown message type, which is not visible.",{message:e}):q.addError("[Unknown tool] Encountered a message with an unknown tool, which is most likely an old plugin. Rendering as Unknown message type, which may not appear as expected.",{message:e}),33}function a8e(e){var t;return((t=e.metadata)==null?void 0:t.finish_details)!=null}function cE(e){return e.content.content_type===je.Text?e.content.parts.some(t=>t.length>0):e.content.content_type===je.MultimodalText?yp.getPartsAsString(e).length>0:!1}function ehe(e){const t=e.author.role===we.User,n=e.metadata&&"s2s_stream_sequence"in e.metadata,r=e.content.content_type===je.MultimodalText&&e.content.parts.some(s=>typeof s!="string"&&s.content_type===Pn.AudioTranscription);return t&&n&&r}function _9(e){var t,n,r,s;return p9(e)||cE(e)||((r=(n=(t=e.metadata)==null?void 0:t.attachments)==null?void 0:n.length)!=null?r:0)>0?!0:"text"in e.content?e.content.text.length>0:"result"in e.content?e.content.result.length>0:!!((s=e.clientMetadata)!=null&&s.errCode&&Object.values(Cp).some(i=>{var o;return i===((o=e.clientMetadata)==null?void 0:o.errCode)}))}function c8e(e){var t,n;return e.author.name==="a8km123"||((t=e.metadata)==null?void 0:t.reasoning_status)||((n=e.metadata)==null?void 0:n.is_visually_hidden_from_conversation)}function the(e){var t,n,r,s,i,o,a;if(e.author.name==="a8km123"&&((t=e.metadata)!=null&&t.async_task_id))return!0;if(!Xw(e))return!1;switch(e.content.content_type){case je.StructuredThoughts:{const{thoughts:c}=e.content;return c.some(l=>{var u,d,f,h,p,_;return((f=(d=(u=l.summary)==null?void 0:u.trim())==null?void 0:d.length)!=null?f:0)>0||((_=(p=(h=l.content)==null?void 0:h.trim())==null?void 0:p.length)!=null?_:0)>0})}case je.ReasoningRecap:{const{content:c}=e.content;return((r=(n=c==null?void 0:c.trim())==null?void 0:n.length)!=null?r:0)>0}case je.Code:case je.ExecutionOutput:case je.TetherBrowsingCode:{const{text:c}=e.content;return((i=(s=c==null?void 0:c.trim())==null?void 0:s.length)!=null?i:0)>0}case je.TetherBrowsingDisplay:{const{result:c}=e.content;return((a=(o=c==null?void 0:c.trim())==null?void 0:o.length)!=null?a:0)>0}case je.ComputerOutput:return!0;case je.Text:case je.MultimodalText:return cE(e);default:return!1}}function l8e(e){var t,n;return((n=(t=e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="stop"}function nhe(e){var t,n;return((n=(t=e==null?void 0:e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="max_tokens"}function u8e(e){var t,n;return((n=(t=e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="interrupted"}function rhe(e){var t;return((t=e.metadata)==null?void 0:t.message_type)==="continue"}function QN(e){if(e==null||!e.includes("."))return null;const[t,n]=e.split(".");return{namespace:t,functionName:n}}function m9(e,t){return{id:nr(),author:{role:we.System},content:{content_type:je.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function d8e(e,t){return{id:nr(),author:{role:we.Developer},content:{content_type:je.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function f8e(e,t,n,r=nr(),s="all",i="final"){return{id:r,author:{role:we.Assistant},content:{content_type:je.Text,parts:Array.isArray(e)?e:[e]},metadata:t,clientMetadata:n,recipient:s,channel:i}}function she(e,t,n){const r={role:we.User};return n&&(r.metadata=n),{id:nr(),author:r,create_time:Date.now()/1e3,content:typeof e=="string"?{content_type:je.Text,parts:[e]}:e,metadata:t}}function h8e(e){return m9(["The user is referring to this in particular:\n".concat(e)],{exclude_after_next_user_message:!0})}function p8e(e,t){return m9(["The user is referring to this in particular:\n".concat(e,"\n\n---\n\nReply to user query using the following additional context:\n ").concat(t)],{exclude_after_next_user_message:!0})}function _8e(e){return she(e,{is_visually_hidden_from_conversation:!0})}function m8e(e){return{id:nr(),author:{role:we.System},content:e,metadata:{rebase_system_message:!0},recipient:"all"}}function b_(e){return e==="api_tool"||e==="context_scopes"||e==="kanzi_app"||e==="quorum_tool"||!!(e!=null&&e.startsWith("api_tool_"))}function NT(e){return!1}function OU(e){return!!e&&(e==null?void 0:e.namespace)==="genui"&&(e==null?void 0:e.functionName)==="run"}function bU(e){if(!e)return!1;const t=e.split("__");return t.findIndex(n=>n==="jit_plugin")===t.length-1}function AU(e){return e==="gmail"||e==="gcal"||e==="gcontacts"}function NU(e){var t;return e.author.role===we.Assistant?(t=e.metadata)==null?void 0:t.gizmo_id:void 0}function qo(e){var t;return e.author.role===we.User&&!((t=e.metadata)!=null&&t.is_user_system_message)}function ihe(e){var t;return(t=e.metadata)==null?void 0:t.is_contextual_retry_user_message}function g9(e){var t;return qo(e)&&!ihe(e)||((t=e.author.metadata)==null?void 0:t.is_system_initiated_conversation)===!0}function Xw(e){var t;return((t=e.metadata)==null?void 0:t.reasoning_status)!=null}function Yc(e){var s,i;const t=Ks(e);return t===24||t===25||t===26||t===31||t===32||t===16||t===30||t===33||t===80||t===81||!(t===48||t===49)&&!(t===63)&&!((s=e.metadata)!=null&&s.targeted_reply_label)&&((i=e.metadata)==null?void 0:i.is_visually_hidden_from_conversation)===!0}function g8e(e){return Ks(e)===70}function _g(e){switch(Ks(e)){case 25:case 26:case 30:case 16:return!0;default:return!1}}function ohe(e){return yp.isMultimodalTextMessage(e)&&e.content.parts.some(t=>typeof t!="string"&&(t.content_type===Pn.VideoAssetPointer||t.content_type===Pn.ImageAssetPointer))}function ZN(e){return!!(ohe(e)||ehe(e)||Qw(e)&&_9(e)||the(e))}function Qw(e){var t,n,r,s,i,o,a,c;if(Yc(e))return!1;if(((r=(n=(t=e.metadata)==null?void 0:t.attachments)==null?void 0:n.length)!=null?r:0)>0||(s=e.metadata)!=null&&s.chatgpt_sdk||(i=e.metadata)!=null&&i.async_completion_id)return!0;if((o=e.metadata)!=null&&o.reasoning_status)return!1;if((a=e.clientMetadata)!=null&&a.errCode&&Object.values(Cp).some(l=>{var u;return l===((u=e.clientMetadata)==null?void 0:u.errCode)}))return!0;switch(Ks(e)){case 27:case 68:return cE(e);case 3:return _9(e);case 48:case 64:case 63:case 5:case 6:case 52:case 73:case 74:return!0;case 35:return!!((c=e.metadata)!=null&&c.async_task_id);default:return!1}}function ahe(e){var r;if(Yc(e))return!1;const t=Ks(e),n=cE(e);return t===27?n:!!(n&&t===79&&((r=e.metadata)==null?void 0:r.async_task_type)===f9.PRO_MODE)}function v8e(e){return Yc(e)?!1:Ks(e)===49&&e.status==="finished_successfully"&&e.recipient==="all"}function E8e(e){const t=e.recipient;return!!t&&(t.includes("image_gen")||t.includes("image_gen")||t.includes("t2uay3k"))}var IT,IU;function v9(){if(IU)return IT;IU=1;function e(t,n,r,s){for(var i=t.length,o=r+(s?1:-1);s?o--:++o<i;)if(n(t[o],o,t))return o;return-1}return IT=e,IT}var PT,PU;function che(){if(PU)return PT;PU=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return PT=t,PT}var wT,wU;function lhe(){if(wU)return wT;wU=1;var e=che(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return wT=n,wT}var RT,RU;function E9(){if(RU)return RT;RU=1;var e=lhe(),t=ai(),n=vp(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function c(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=i.test(l);return d||o.test(l)?a(l.slice(2),d?2:8):s.test(l)?r:+l}return RT=c,RT}var xT,xU;function uhe(){if(xU)return xT;xU=1;var e=E9(),t=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return xT=r,xT}var MT,MU;function dhe(){if(MU)return MT;MU=1;var e=uhe();function t(n){var r=e(n),s=r%1;return r===r?s?r-s:r:0}return MT=t,MT}var kT,kU;function C9(){if(kU)return kT;kU=1;var e=v9(),t=ml(),n=dhe(),r=Math.max,s=Math.min;function i(o,a,c){var l=o==null?0:o.length;if(!l)return-1;var u=l-1;return c!==void 0&&(u=n(c),u=c<0?r(l+u,0):s(u,l-1)),e(o,t(a,3),u,!0)}return kT=i,kT}var fhe=C9();const y9=jt(fhe),eI="",hhe="",phe="",LU="",_he=e=>{var t,n;for(let r=e.length-1;r>=0;r-=1)if(!/\s/.test((t=e[r])!=null?t:""))return(n=e[r])!=null?n:null;return null};function DU(e){var l;const t="".concat(hhe).concat(pg).concat(LU),n=e.indexOf(t);if(n===-1)return null;let r=e.slice(0,n)+":::".concat(pg),s=n+t.length,i=!1,o=!0,a=0,c=!1;for(;s<e.length;s+=1){const u=(l=e[s])!=null?l:"";if(u===phe){if(o&&!c||a<0||i)return null;r.endsWith("\n")||(r+="\n"),r+=":::",s+=1;break}if(u===LU){if(!o||c)return null;o&&a>0&&!r.trimEnd().endsWith("{")&&!r.trimEnd().endsWith("}")&&(r+="}"),r.endsWith("\n")||(r+="\n"),o=!1,c=!0;continue}if(!o){r+=u;continue}if(u==='"'){const d=_he(r);i?(i=!1,r+=u):d==="="&&(i=!0,r+=u);continue}if(!(!i&&/\s/.test(u))){if(!i){if(u==="{")a+=1;else if(u==="}"){if(a-=1,a<0)return null}else if(u===":"){r+="=";continue}else if(u===","){r+=" ";continue}}r+=u}}return o&&a<0?null:r+e.slice(s)}const mhe=e=>{if("render_as"in e&&typeof e.render_as=="string")return e.render_as};function ghe(e,t=[]){const n=lE(t);return Zw(n,e,{includeDirectives:!1,isStreaming:!1})}function C8e(e,t=[]){const n=lE(t);return Zw(n,e,{includeDirectives:!0,isStreaming:!1})}function y8e(e,t=[],n,r,s=!0,i){var u;const o=lE(t,r);let a=0,c=o.filter(({index:d,displayType:f})=>d!=null&&f).reduce((d,{index:f,newContentReference:h})=>((h.type==="grouped_webpages"||h.type==="grouped_webpages_v2"||h.type==="grouped_webpages_model_predicted_fallback")&&(h.items=h.items.map(p=>P(S({},p),{section_index:a++}))),d[f]=h,d),[]),l=Zw(o,e,{includeDirectives:!0,isStreaming:s});return s&&(l=vhe(l)),c=Ehe(i,c),n&&((u=i==null?void 0:i.length)!=null?u:0)===0&&({updatedText:l,updatedReferences:c}=Che(n,c,l)),{processedText:l,displayedContentReferences:c}}function lE(e=[],t){return[...e.entries()].sort(([,s],[,i])=>s.start_idx-i.start_idx||s.end_idx-i.end_idx).reduce((s,[i,o])=>{var l;let a,c;switch(o.type){case"invalid":case"hidden":a=P(S({},o),{type:"hidden",invalid:o.type==="invalid"});break;case"image_v2":case"nav_list":case"tldr":case"optimistic_image_citation":case"sources_footnote":case"sports_standings":case"sports_schedule":case"navigation":case"checkout_confirmation":case"video":case"file_navlist":o.type==="tldr"&&o.used_as_navigation||o.type==="navigation"?a=P(S({},o),{type:"hidden",invalid:!0}):(c="block",a=S({},o));break;case"file":case"python":case"container":case"title_citation":case"location_search":case"time":case"entity":case"map":case"product_entity":case"grouped_webpages":case"grouped_webpages_v2":case"grouped_webpages_model_predicted_fallback":case"attribution":case"image_inline":case"strix":case"followup_a":c="inline",a=S({},o);break;case"webpage":case"webpage_extended":c="inline",a={type:"grouped_webpages",matched_text:o.matched_text,start_idx:o.start_idx,end_idx:o.end_idx,alt:o.alt,refs:o.refs,prompt_text:o.prompt_text,items:[S({},o)],safe_urls:o.safe_urls};break;case"entity_metadata":case"calculator":case"stock":case"forecast":case"businesses_map":case"products":case"product_reviews":case"product_rationale":case"image_group":case"dil":c="block",a=S({},o);break;case"product":{c=((l=mhe(o))!=null?l:"inline")==="table"?"inline":"block",a=S({},o);break}case"writing":c="block",a=S({},o);break;default:a=P(S({},o),{type:"hidden",invalid:!0}),c="alt";break}return s.push({originalContentReference:o,newContentReference:a,index:i,displayType:c}),t&&s.push({originalContentReference:o,newContentReference:S({type:"debug",matched_text:o.matched_text.replace(/(^|$)/g,"")},o.type==="webpage_extended"&&o.pub_date&&{pub_date:new Date(o.pub_date*1e3).toLocaleString()}),index:i}),s},[])}function Zw(e,t,n={includeDirectives:!0,isStreaming:!1}){var o,a;let r="",s=0;const i=Ide(t);for(const c of e){const{originalContentReference:l,displayType:u,index:d}=c,{start_idx:f,end_idx:h}=l,p=i.slice(s,f);if(r+=xS(p),s=h,n.isStreaming&&c.newContentReference.type==="writing"){const _=DU(xS(i.slice(f,h)));if(_){r+=_;continue}}if(u)if(n.includeDirectives)switch(u){case"block":{if(c.newContentReference.type==="writing"){r+="\n"+DU(c.newContentReference.matched_text)+"\n";break}r+="\n"+tI(d,"leaf")+"\n";break}case"inline":{r.endsWith("```")&&(r+="\n");const m=r.replace(/[ \t]+$/g,""),v=m.endsWith("\\]")||m.endsWith("$$"),E=/[\r\n]$/.test(r);v&&!E&&(r+="\n"),r.length!==0&&r[r.length-1].match(/[:\\]/)&&(r+=eI),/https?:\/\/[^\s]*$/.test(r)&&(r+=" "),r+=tI(d,"inline");break}case"alt":r+=(o=l.alt)!=null?o:"";break}else r+=(a=l.alt)!=null?a:""}return r+=xS(i.slice(s)),r}function tI(e,t){switch(t){case"inline":return":".concat(O_,"[oaicite:").concat(e,"]{index=").concat(e,"}");case"leaf":return"::".concat(O_,"[oaicite:").concat(e,"]{index=").concat(e,"}");case"block":return":::".concat(O_,"[oaicite:").concat(e,"]{index=").concat(e,"}");default:return":".concat(O_,"[oaicite:").concat(e,"]{index=").concat(e,"}")}}function vhe(e){let t=e;t=t.replace(/[^]*$/g,"");const n=t.match(/(\n|^):::/g);return n&&n.length%2===1&&(t+="\n:::"),t=t.replace(/^\d+$/,""),t}function Ehe(e,t){return t.map(r=>{var s,i,o,a,c,l,u;if(r.type==="python"){const d=e==null?void 0:e.find(f=>{var h,p;return((p=(h=f.metadata)==null?void 0:h.python_citation)==null?void 0:p.citation_id)===r.citation_id});return P(S({},r),{cited_message:d,highlighted_text:UU((o=(i=(s=d==null?void 0:d.metadata)==null?void 0:s.python_citation)==null?void 0:i.annotated_text)!=null?o:"",r.starting_line,r.ending_line)})}else if(r.type==="container"){const d=e==null?void 0:e.find(f=>{var h,p;return((p=(h=f.metadata)==null?void 0:h.container_citation)==null?void 0:p.citation_id)===r.citation_id});return P(S({},r),{cited_message:d,highlighted_text:UU((u=(l=(c=(a=d==null?void 0:d.metadata)==null?void 0:a.container_citation)==null?void 0:c.annotated_parts)==null?void 0:l.join("\n"))!=null?u:"",r.starting_line,r.ending_line)})}return r})}function Che(e,t,n){const r=e.find(i=>Ks(i)===he.CodeInterpreter),s=e.find(i=>Ks(i)===he.CodeInterpreterTool);if(r!=null&&s!=null){const i=t.length;n.endsWith("```")&&(n+="\n"),n+=" "+eI+tI(i,"inline")+eI,t.push({type:"code_execution",codeMessage:r,codeExecutionOutputMessage:s})}return{updatedText:n,updatedReferences:t}}function UU(e,t,n){const r=e.split("\n"),s=r.findIndex(c=>c.startsWith("".concat(t,":"))),i=r.findIndex(c=>c.startsWith("".concat(n,":")));return s===-1||i===-1||i<s?null:r.slice(s,i+1).map(c=>c.replace(/^L\d+:\s*/,"").trim()).join("\n")}function S9(e,t={shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!1}){var n,r,s,i,o;if(t.shouldGetVisibleText&&!ahe(e))return"";switch(e.content.content_type){case je.Text:{let a=e.content.parts.join("");return(n=e.metadata)!=null&&n.writing_blocks&&(a=h9(a,e.metadata.writing_blocks)),t.shouldGetTextFromContentReferences&&((r=e.metadata)!=null&&r.content_references)&&(a=ghe(a,e.metadata.content_references)),a}case je.MultimodalText:return yp.getPartsAsString(e,!t.shouldGetVisibleText);case je.TetherBrowsingDisplay:return e.content.result;case je.TetherQuote:case je.TetherBrowsingCode:case je.Code:case je.ExecutionOutput:case je.SystemError:return e.content.text;case je.SystemMessage:case je.SystemContent:return(o=(i=(s=e==null?void 0:e.metadata)==null?void 0:s.__internal)==null?void 0:i.rendered_harmony_string)!=null?o:JSON.stringify(e.content,null,2);case je.UserEditableContext:return"".concat(e.content.user_profile,"\n").concat(e.content.user_instructions);case je.SonicWebpage:return"[".concat(e.content.ref_id,"] ").concat(e.content.title," (").concat(e.content.url,")");case je.StructuredThoughts:return e.content.thoughts.map(a=>"**".concat(a.summary,"**\n\n").concat(a.content)).join("\n\n");case je.ReasoningRecap:return e.content.content;default:return""}}var LT,FU;function yhe(){if(FU)return LT;FU=1;var e=ml(),t=vd(),n=Ed();function r(s){return function(i,o,a){var c=Object(i);if(!t(i)){var l=e(o,3);i=n(i),o=function(d){return l(c[d],d,c)}}var u=s(i,o,a);return u>-1?c[l?i[u]:u]:void 0}}return LT=r,LT}var DT,GU;function She(){if(GU)return DT;GU=1;var e=yhe(),t=C9(),n=e(t);return DT=n,DT}var The=She();const Ef=jt(The),Df=-1;var nI=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.StructuredThoughts=2]="StructuredThoughts",e[e.ReasoningRecap=3]="ReasoningRecap",e[e.Browsing=4]="Browsing",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.JITPlugin=6]="JITPlugin",e[e.DILWidget=7]="DILWidget",e[e.RetrievalBrowsing=8]="RetrievalBrowsing",e[e.ParallelBrowsing=9]="ParallelBrowsing",e[e.Dalle=10]="Dalle",e[e.Canmore=11]="Canmore",e[e.Container=12]="Container",e[e.GizmoEditor=13]="GizmoEditor",e[e.SearchResult=14]="SearchResult",e[e.Debug=15]="Debug",e[e.SearchGPTQuery=16]="SearchGPTQuery",e[e.l1p9k3u=17]="l1p9k3u",e[e.a8km123=18]="a8km123",e[e.f959b8c=19]="f959b8c",e[e.b1de6e2_c=20]="b1de6e2_c",e[e.b1de6e2_s=21]="b1de6e2_s",e[e.b1de6e2_d=22]="b1de6e2_d",e[e.b1de6e2_rm=23]="b1de6e2_rm",e[e.is_loading_message=24]="is_loading_message",e[e.b47u8ra0_t=25]="b47u8ra0_t",e[e.de1d73e=26]="de1d73e",e[e.oiw209h=27]="oiw209h",e[e.t2uay3k=28]="t2uay3k",e[e.Oboe=29]="Oboe",e[e.UserSettings=30]="UserSettings",e[e.q7dr546=31]="q7dr546",e[e.CoTSearchTool=32]="CoTSearchTool",e[e.n7jupd=33]="n7jupd",e[e.n7jupd_x=34]="n7jupd_x",e[e.n7jupd_a=35]="n7jupd_a",e[e.n7jupd_n=36]="n7jupd_n",e[e.n7jupd_p=37]="n7jupd_p",e[e.n7jupd_image_gen=38]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=39]="n7jupd_native_api_tool",e[e.APIToolElicitation=40]="APIToolElicitation",e[e.PIMBlock=41]="PIMBlock",e[e.Mochi=42]="Mochi",e[e.HazelnutEnablePrompt=43]="HazelnutEnablePrompt",e[e.HazelnutZipPreview=44]="HazelnutZipPreview",e[e.SuperWidget=45]="SuperWidget",e[e.Croquette=46]="Croquette",e[e.kaur1br5=47]="kaur1br5",e[e.e1ld0dvz=48]="e1ld0dvz",e[e.Glaux=49]="Glaux",e[e.Strix=50]="Strix",e[e.Mercury=51]="Mercury",e[e.async_task_result_message=52]="async_task_result_message",e[e.xdeo6rao=53]="xdeo6rao",e))(nI||{});const T9={[he.StructuredThoughts]:2,[he.ReasoningRecap]:3,[he.Browsing]:4,[he.BrowseTool]:4,[he.SearchGPTQuery]:16,[he.RetrievalBrowsing]:8,[he.RetrievalBrowsingTool]:8,[he.ParallelBrowsing]:9,[he.ParallelBrowsingTool]:9,[he.JITPlugin]:6,[he.JITPluginTool]:6,[he.JITPluginGoogleTool]:6,[he.DILWidget]:7,[he.Dalle]:10,[he.DalleTool]:10,[he.t2uay3k]:28,[he.t2uay3k_c]:28,[he.oiw209h]:27,[he.oiw209h_c]:27,[he.Container]:12,[he.CodeInterpreter]:5,[he.CodeInterpreterTool]:5,[he.UserSettings]:30,[he.UserSettingsTool]:30,[he.q7dr546]:31,[he.q7dr546_c]:31,[he.a8km123]:18,[he.f959b8c]:19,[he.b1de6e2_c]:20,[he.b1de6e2_s]:21,[he.b1de6e2_d]:22,[he.b1de6e2_rm]:23,[he.async_task_result_message]:52,[he.l1p9k3u]:17,[he.is_loading_message]:24,[he.b47u8ra0_t]:25,[he.de1d73e]:26,[he.GizmoEditor]:13,[he.SearchResultTool]:14,[he.ImagePreloadTool]:14,[he.CanmoreTool]:11,[he.CoTSearchToolCall]:32,[he.CoTSearchToolResult]:32,[he.n7jupd_c]:33,[he.n7jupd_r]:33,[he.n7jupd_t]:33,[he.n7jupd_m]:33,[he.n7jupd_x]:34,[he.n7jupd_a]:35,[he.n7jupd_native_api_tool]:39,[he.n7jupd_n]:36,[he.n7jupd_p]:37,[he.kaur1br5]:47,[he.Mercury]:51,[he.PIMBlock]:41,[he.HazelnutEnablePrompt]:43,[he.HazelnutZipPreview]:44,[he.Mochi]:42,[he.SuperWidget]:45,[he.Croquette]:46,[he.n7jupd_image_gen]:38,[he.e1ld0dvz]:48,[he.Glaux]:49,[he.Strix]:50,[he.APIToolElicitation]:40,[he.xdeo6rao]:53};function Ohe(e){switch(e){case he.JITPlugin:case he.Dalle:case he.t2uay3k:case he.oiw209h:case he.DILWidget:case he.CoTSearchToolCall:case he.CodeInterpreter:case he.UserSettings:case he.q7dr546:case he.PIMBlock:case he.HazelnutEnablePrompt:case he.HazelnutZipPreview:return!0;default:return!1}}function jU(e,t,n){var r;return(e==null?void 0:e.type)===6&&_g(n)?!0:!e||e.type!==t||Ohe(Ks(n))||e.type===12&&!((r=n.author.name)!=null&&r.startsWith(ao.CONTAINER))?!1:e.type===t}function S8e(e){return T9[Ks(e)]}function BU(e,t,n){return Sr(t,r=>{var c,l;if(e===we.User&&!Qw(n))return r;if(Xw(n)){let u;const d=(c=n.metadata)==null?void 0:c.reasoning_group_id;d?u=Ef(r,h=>h.type===Df&&h.reasoningGroupId===d):u=vs(r);let f;(u==null?void 0:u.type)===Df?f=u:(f={type:Df,groups:[],reasoningGroupId:d},r.push(f)),r=f.groups}const s=Ks(n);if(s===he.no_render)return;const i=T9[s],o=vs(r),a=(o==null?void 0:o.type)!==15?o:Ef(r,u=>u.type!==15);if(s===he.Text&&((a==null?void 0:a.type)===1||(a==null?void 0:a.type)===0)&&S9(n)!=null&&(rhe(n)||nhe(a.messages[a.messages.length-1])))a.type=1,a.messages.push(n);else if(i===18&&r.some(u=>u.type===18))Ef(r,d=>d.type===18).messages.push(n);else if(i===28&&((l=n.metadata)!=null&&l.turn_exchange_id)){const u=Ef(r,d=>{var f,h,p;return d.type===28&&((h=(f=vs(d.messages))==null?void 0:f.metadata)==null?void 0:h.turn_exchange_id)===((p=n.metadata)==null?void 0:p.turn_exchange_id)});u?u.messages.push(n):jU(a,i,n)?a.messages.push(n):r.push({type:i!=null?i:Yc(n)?15:0,messages:[n]})}else jU(a,i,n)?a.messages.push(n):r.push({type:i!=null?i:Yc(n)?15:0,messages:[n]})})}function e1(e,t){const n=e.getNodeByIdOrMessageId(t),r=n.id!==e.rootId?e1(e,n.parentId):bhe;return Ahe(r,n.message)}const bhe=Object.freeze([]),Ahe=Vee(Nhe);function Nhe(e,t){var a,c,l,u,d,f,h;const n=[...e],r=vs(n),s=g9(t),i=(c=(a=t.metadata)==null?void 0:a.is_async_correction)!=null?c:!1,o=UT(t)===we.Assistant&&(u=(l=t.metadata)==null?void 0:l.model_slug)!=null?u:null;if(r&&Ihe(r,t)){const p=[...r.messages,t],_=BU(r.role,r.messageGroups,t),m=r.role===we.System?UT(t):r.role,v=(d=NU(t))!=null?d:r.gizmoId;n[n.length-1]=P(S({},r),{messages:p,messageGroups:_,role:m,isPrompt:r.isPrompt||s,gizmoId:v,hasDisplayableMessages:r.hasDisplayableMessages||ZN(t),userContinuationRootTurnId:r.userContinuationRootTurnId,userContinuationParentTurnId:r.userContinuationParentTurnId,userContinuationSuccessorTurnId:r.userContinuationSuccessorTurnId,modelSlug:o!=null?o:r.modelSlug})}else{const p=(f=t.clientMetadata)==null?void 0:f.requestId,_=UT(t),m=_===we.Assistant&&p&&p!==(r==null?void 0:r.id)?p:t.id,v=ZN(t);let E=null,b=null;if(_===we.User&&v){const C=y9(n,y=>y.hasDisplayableMessages);if(C!==-1){const y=n[C];y.role===we.User?(E=(h=y.userContinuationRootTurnId)!=null?h:y.id,b=y.id,n[C]=P(S({},y),{userContinuationSuccessorTurnId:m})):(E=m,b=m)}}n.push({id:m,role:_,messages:[t],messageGroups:BU(_,[],t),isPrompt:s,gizmoId:NU(t),hasDisplayableMessages:v,userContinuationRootTurnId:E,userContinuationParentTurnId:b,userContinuationSuccessorTurnId:null,isAsyncCorrection:i,modelSlug:o})}return n}function UT(e){return _g(e)?we.System:e.author.role===we.Tool?we.Assistant:e.author.role===we.Developer?we.System:e.author.role}function Ihe(e,t){var n,r,s,i,o,a,c,l,u,d,f,h,p,_,m,v,E;if((n=t.metadata)!=null&&n.is_indepth_feedback||(r=t.metadata)!=null&&r.proactive_turn&&e.role===we.Assistant)return!1;if(e.isAsyncCorrection)return(s=t.metadata)!=null&&s.is_async_correction?!0:((i=t.metadata)==null?void 0:i.shared_conversation_id)!=null&&t.content.content_type===je.Text&&t.content.parts.length===1&&t.content.parts[0]==="The output of this plugin was redacted.";if((o=t.metadata)!=null&&o.is_async_correction)return!1;if((a=t.metadata)!=null&&a.async_completion_id){const b=vs(e.messages);return((c=b==null?void 0:b.metadata)==null?void 0:c.async_task_type)==="pro_mode"&&((l=b==null?void 0:b.metadata)!=null&&l.async_task_id)&&b.metadata.async_task_id===((u=t.metadata)==null?void 0:u.async_task_id)?!0:((d=b==null?void 0:b.metadata)==null?void 0:d.async_completion_id)===((f=t.metadata)==null?void 0:f.async_completion_id)}return(p=(h=vs(e.messages))==null?void 0:h.metadata)!=null&&p.reasoning_status&&((_=t.metadata)!=null&&_.reasoning_status)||e.role===t.author.role?!0:e.role===we.User&&t.recipient==="bio"?!1:(((m=vs(e.messageGroups))==null?void 0:m.type)===nI.Debug||((v=vs(e.messageGroups))==null?void 0:v.type)===nI.JITPlugin)&&_g(t)?!0:_g(t)?e.role===we.Root||e.role===we.System:Yc(t)?!((E=t.metadata)!=null&&E.reasoning_status&&e.role===we.User):(e.role===we.System||e.role===we.Developer)&&!e.isPrompt?!0:t.author.role===we.Tool?e.role===we.Assistant:!1}const O9=ot(()=>({aliasToId:new Map}));function T8e(e,t){!e||!t||O9().aliasToId.set(e,t)}function Phe(e){if(e)return O9().aliasToId.get(e)}function whe(){"use forget";const e=j.c(2),t=dn();let n;if(e[0]!==t.pathname){n=Symbol.for("react.early_return_sentinel");e:{const r=t1(t.pathname),s=Phe(r);if(s){n=s;break e}if(r){n=b9(r);break e}}e[0]=t.pathname,e[1]=n}else n=e[1];if(n!==Symbol.for("react.early_return_sentinel"))return n}function t1(e){const n=new URL("http://example.com".concat(e)).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(n)return n[1]}function b9(e){const t=e.split("-");return t.length>1&&t[0]==="g"?(t==null?void 0:t[1])==="p"?"g-p-".concat(t[2]):"g-".concat(t[1]):e}function Rhe(e){const t=t1(e);if(t)return b9(t)}const A9=e=>{var t,n;return["models",JSON.stringify({IIM:(t=e==null?void 0:e.IIM)!=null?t:!1,isGizmo:(n=e==null?void 0:e.isGizmo)!=null?n:!1})]},xhe=()=>["gizmo-models"],Mhe="models",khe=1,Lhe=e=>{var t;return fn({retry:5,enabled:(t=e==null?void 0:e.enabled)!=null?t:!0,queryKey:A9(e),queryFn:async()=>{const n=dr(await H.safeGet("/models",{authOption:cn.SendIfAvailable,parameters:{query:{iim:e==null?void 0:e.IIM,is_gizmo:e==null?void 0:e.isGizmo}}}));return Fhe(n)},placeholderData:e==null?void 0:e.placeholderData})},Dhe=Qt(Uhe);function Uhe(e=!0){return fn({retry:5,enabled:e,queryKey:xhe(),queryFn:async()=>{const t=dr(await H.safeGet("/models/gpts",{authOption:cn.SendIfAvailable}));return Ghe(t)}})}function Fhe(e){var t,n,r;return{categories:e.categories.concat().reverse().map(jhe),groups:(n=(t=e.internal_groups)==null?void 0:t.map(Bhe))!=null?n:[],defaultModelSlug:(r=e.default_model_slug)!=null?r:null,modelPickerVersion:e.model_picker_version,models:new Map(e.models.map(s=>[s.slug,N9(s)])),title:e.title,secondaryTitle:e.secondary_title}}function Ghe(e){return{editor:e.editor,model_override:e.model_override}}function N9(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features,enableInfer:e.enable_infer,enableInferOptOut:e.enable_infer_opt_out,reasoningType:e.reasoning_type,thinkingEfforts:e.thinking_efforts,configurableThinkingEffort:e.configurable_thinking_effort}}function jhe(O){var A=O,{default_model:e,tagline:t,color:n,human_category_name:r,category:s,human_category_short_name:i,human_category_shorter_name:o,subscription_level:a,short_explainer:c,subcategory:l,render_header_type:u,title:d,is_beta:f,is_alpha:h,model_badge:p,supported_features:_,supported_models:m,disabled_by_admin:v,date_updated:E,action_pill_short_name:b,slash_command_enabled:C}=A,y=B(A,["default_model","tagline","color","human_category_name","category","human_category_short_name","human_category_shorter_name","subscription_level","short_explainer","subcategory","render_header_type","title","is_beta","is_alpha","model_badge","supported_features","supported_models","disabled_by_admin","date_updated","action_pill_short_name","slash_command_enabled"]);return S({color:n,tagline:t,defaultModel:e,label:r,shortLabel:i,description:c,shorterLabel:o!=null?o:i,subscriptionLevel:a,categoryId:s,subcategory:l,renderHeaderType:u,isBeta:f,isAlpha:h,modelBadge:p,title:d,supportedFeatures:_,supportedModels:m!=null?m:[],dateUpdated:E,actionPillShortName:b,slashCommandEnabled:C,disabledByAdmin:v!=null?v:!1},y)}function Bhe({group:e,human_group_name:t,human_group_short_name:n,model_ids:r}){return{group:e,label:t,shortLabel:n,modelIds:r}}const HU=new WeakMap;function Hhe(e){let t=HU.get(e);if(!t){const n=new Map([...e.models.entries()].filter(([,r])=>r.tags.includes("history_off_approved")));t={models:n,defaultModelSlug:e.defaultModelSlug,categories:e.categories.filter(r=>n.has(r.defaultModel)),groups:e.groups.map(r=>P(S({},r),{modelIds:r.modelIds.filter(s=>n.has(s))})).filter(r=>r.modelIds.length>0)},HU.set(e,t)}return t}const fm=new BroadcastChannel("plugin_oauth_channel"),O8e=e=>{fm.postMessage(e)};function n1(){return cl()}function $he(){return Pe("665873859")}function b8e(){const e=ut("2254432277");return{sideBySide:e.get("side-by-side",!1),actionMenu:e.get("action-menu",!0),askChatGptEnabled:e.get("ask_chatgpt_enabled",!0)}}function $U(){return g.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:g.jsx(xt,{id:"PoPvGE",defaultMessage:"Alpha"})})}function A_(e,t){return Ti(e,Vhe(t))}function Whe(e){e.stopPropagation()}function qhe(e){e.preventDefault()}const ra=Ti(Whe,qhe);function Vhe(e){if(e)return t=>{t.defaultPrevented||e(t)}}function Ti(e,t){return t?e?n=>{e(n),t(n)}:t:e}const I9=(...e)=>t=>{e.forEach(n=>{if(typeof n=="function")n(t);else if(n){const r=n;r.current=t}})},A8e=(...e)=>{"use no forget";return T.useMemo(()=>I9(...e),[...e])};function zhe(e,t){if(Object.keys(e).length===0)return t;const n=Object.keys(t);if(n.length===0)return e;const r=S(S({},e),t);"ref"in e&&"ref"in t&&(r.ref=I9(e.ref,t.ref));const s=n.filter(i=>Object.prototype.hasOwnProperty.call(e,i)&&i.startsWith("on"));for(const i of s){const o=e[i],a=t[i];typeof o=="function"&&typeof a=="function"&&(r[i]=(...c)=>{o(...c),a(...c)})}return r}function Yhe(){"use forget";const e=j.c(2),t=T.useRef(void 0);let n,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{const s=new AbortController;return t.current=s.signal,()=>{s.abort(new Error("unmount"))}},r=[],e[0]=n,e[1]=r):(n=e[0],r=e[1]),T.useEffect(n,r),t}const Vu=T.memo(function(s){var i=s,{onIntent:t,children:n}=i,r=B(i,["onIntent","children"]);"use no forget";const o=Khe(t),a=zhe(n.props,r);return T.cloneElement(n,P(S({},a),{onPointerEnter:A_(a.onPointerEnter,o),onPointerDown:A_(a.onPointerDown,o),onTouchStart:A_(a.onTouchStart,o),onFocus:A_(a.onFocus,o)}))});function Khe(e){"use forget";const t=j.c(3),n=T.useRef(!1),r=Yhe();let s;return t[0]!==r||t[1]!==e?(s=i=>{e&&!n.current&&(n.current=!0,XH.postTask(()=>e(i),{signal:r.current}))},t[0]=r,t[1]=e,t[2]=s):s=t[2],s}const Jhe=Ee(_t,"4944fe",20,20);function zu({className:e}){return g.jsx(Jhe,{className:oe("motion-safe:animate-spin",e)})}function N8e({className:e}){return g.jsx("div",{className:"flex h-full w-full items-center justify-center",children:g.jsx(zu,{className:e})})}function Gr(e){return e?"":void 0}function Xhe(e,t){return e.getAttribute(t)!=null}function I8e(e,t,n){P9(e,t,Gr(n))}function P9(e,t,n){e&&(n!=null?e.setAttribute(t,n):e.removeAttribute(t))}const Qhe=new Set(["primary"]);function li(v){var E=v,{children:e,onIntent:t,onClick:n,className:r,contentWrapperClassName:s,color:i="primary",label:o,disabled:a=!1,visuallyDisabled:c=!1,loading:l=!1,size:u="medium",fullWidth:d=!1,contentsFullWidth:f=!1,icon:h,iconClassName:p,style:_}=E,m=B(E,["children","onIntent","onClick","className","contentWrapperClassName","color","label","disabled","visuallyDisabled","loading","size","fullWidth","contentsFullWidth","icon","iconClassName","style"]);var N;const b=c||a||l,C=l||a,y=oe(b&&!Qhe.has(i)&&"opacity-50",C&&"cursor-not-allowed","btn relative",i==="primary"&&"btn-primary",i==="primary-inverse"&&"btn-primary-inverse",i==="green"&&"btn-green",i==="purple"&&"btn-purple",i==="accent"&&"btn-accent",i==="secondary"&&"btn-secondary",i==="custom"&&"btn-custom",i==="danger"&&"btn-danger",i==="danger-outline"&&"btn-danger-outline",i==="blue"&&"btn-blue",i==="ghost"&&"btn-ghost",u==="small"&&"btn-small",u==="large"&&"btn-large",d&&"w-full",r),O=h?g.jsxs("div",{className:oe("flex w-full","items-center justify-center",s,{"gap-1.5":u==="medium"||u==="large","gap-1":u==="small"}),children:[l?g.jsx(zu,{className:oe(e?"-ms-0.5":"-mx-1",u==="small"&&"icon-sm",(u==="medium"||u==="large")&&"icon")}):g.jsx(h,{"aria-label":"",className:oe(e?"-ms-0.5":"-mx-1",u==="small"&&"icon-sm",(u==="medium"||u==="large")&&"icon",p)}),e]}):g.jsxs("div",{className:oe("flex items-center justify-center",s,f&&"w-full"),children:[e,l&&g.jsx(zu,{className:oe(u==="small"&&"icon-sm ms-1",(u==="medium"||u==="large")&&"icon ms-1.5")})]});switch(m.as){case"link":case"a":{const A=m,{openNewTab:I}=A,w=B(A,["openNewTab"]);return g.jsx(Vu,{onIntent:t,children:g.jsx($P,P(S({},w),{"aria-label":o,to:(N=m.to)!=null?N:"/",target:I===!0?"_blank":"_self",onClick:n,className:y,"data-visually-disabled":Gr(b),style:_,children:O}))})}default:return g.jsx(Vu,{onIntent:t,children:g.jsx("button",P(S({className:y,ref:m.ref,"aria-label":o,onClick:n,disabled:C,"data-visually-disabled":Gr(b)},m),{style:_,children:O}))})}}li.displayName="Button";const w9=Ee(_t,"d3876b",16,16,!0),Zhe=Ee(_t,"b30c2a",16,16),epe=Ee(_t,"e51fba",16,16,!0);function tpe(){return zP()?8:1}function R9(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function npe(e){return!uE(e)&&!R9(e)}function uE(e){const t="nativeEvent"in e?e.nativeEvent:e;return t.isComposing||t.keyCode===229}function rpe(e){const{key:t,currentTarget:n}=e,r=n instanceof HTMLInputElement;return npe(e)&&(t==="Tab"||t==="ArrowDown"||t==="ArrowUp"||t==="ArrowLeft"&&(!r||n.selectionStart===0||n.selectionEnd===0)||t==="ArrowRight"&&(!r||n.selectionEnd===n.selectionStart&&n.selectionStart===n.value.length))}const Io=e=>{"use forget";var We;const t=j.c(90),le=e,{as:n,icon:r,trailing:s,highlightTrailing:i,showHighlightTrailing:o,trailingColor:a,label:c,badge:l,secondary:u,className:d,color:f,size:h,active:p,highlighted:_,hasManagedFocus:m,subMenu:v,fillContainer:E,onIntent:b,children:C}=le,y=B(le,["as","icon","trailing","highlightTrailing","showHighlightTrailing","trailingColor","label","badge","secondary","className","color","size","active","highlighted","hasManagedFocus","subMenu","fillContainer","onIntent","children"]),O=o===void 0?!1:o,A=a===void 0?"tertiary":a,N=h===void 0?"default":h,I=p===void 0?!1:p,w=_===void 0?!1:_,M=m===void 0?!1:m,k=v===void 0?!1:v,D=E===void 0?!1:E;let L;if((!C||T.isValidElement(C))&&!c&&!l)L=C;else{let _e;t[0]!==c?(_e=c&&g.jsx(ipe,{children:c}),t[0]=c,t[1]=_e):_e=t[1];let U;t[2]!==l?(U=l&&g.jsx(ope,{children:l}),t[2]=l,t[3]=U):U=t[3];let be;t[4]!==C||t[5]!==U||t[6]!==_e?(be=g.jsxs("div",{className:"flex min-w-0 grow items-center gap-2.5",children:[_e,C,U]}),t[4]=C,t[5]=U,t[6]=_e,t[7]=be):be=t[7],L=be}if(u){let _e;t[8]!==u?(_e=g.jsx("div",{className:"not-group-data-disabled:text-token-text-tertiary leading-dense mb-0.5 text-xs group-data-sheet-item:mt-0.5 group-data-sheet-item:mb-0",children:u}),t[8]=u,t[9]=_e):_e=t[9];let U;t[10]!==L||t[11]!==_e?(U=g.jsxs("div",{className:"min-w-0",children:[L,_e]}),t[10]=L,t[11]=_e,t[12]=U):U=t[12],L=U}if(r){const _e=N==="large"?"icon-lg":"icon";let U;t[13]!==_e?(U=oe("flex items-center justify-center group-disabled:opacity-50 group-data-disabled:opacity-50",_e),t[13]=_e,t[14]=U):U=t[14];let be;t[15]!==r?(be=typeof r!="function"?r:g.jsx(r,{className:"icon","aria-hidden":"true"}),t[15]=r,t[16]=be):be=t[16];let ge;t[17]!==U||t[18]!==be?(ge=g.jsx("div",{className:U,children:be}),t[17]=U,t[18]=be,t[19]=ge):ge=t[19];let Ge;t[20]!==L||t[21]!==ge?(Ge=g.jsxs(g.Fragment,{children:[ge,L]}),t[20]=L,t[21]=ge,t[22]=Ge):Ge=t[22],L=Ge}let G;if(s){const _e=A==="tertiary"&&"text-token-text-tertiary";let U;t[23]!==_e?(U=oe("trailing",_e),t[23]=_e,t[24]=U):U=t[24];const be=i?-1:void 0;let ge;t[25]!==s?(ge=typeof s!="function"?s:g.jsx(s,{className:"icon","aria-hidden":"true"}),t[25]=s,t[26]=ge):ge=t[26];let Ge;t[27]!==U||t[28]!==be||t[29]!==ge?(Ge=g.jsx("div",{className:U,tabIndex:be,children:ge}),t[27]=U,t[28]=be,t[29]=ge,t[30]=Ge):Ge=t[30],G=Ge}if(i){const _e=A==="tertiary"&&"text-token-text-tertiary";let U;t[31]!==_e?(U=oe("trailing highlight",_e),t[31]=_e,t[32]=U):U=t[32];let be;t[33]!==i?(be=typeof i!="function"?i:g.jsx(i,{className:"icon","aria-hidden":"true"}),t[33]=i,t[34]=be):be=t[34];let ge;t[35]!==U||t[36]!==be?(ge=g.jsx("div",{className:U,children:be}),t[35]=U,t[36]=be,t[37]=ge):ge=t[37];const Ge=ge;let ae;t[38]!==Ge||t[39]!==G?(ae=G?g.jsxs("div",{className:"trailing-pair",children:[Ge,G]}):Ge,t[38]=Ge,t[39]=G,t[40]=ae):ae=t[40],G=ae}if(k){let _e;t[41]===Symbol.for("react.memo_cache_sentinel")?(_e=g.jsx(w9,{className:"icon-sm -me-0.25"}),t[41]=_e):_e=t[41];const U=_e;let be;t[42]!==G?(be=G?g.jsxs("div",{className:"flex items-center gap-1 self-stretch",children:[G,U]}):U,t[42]=G,t[43]=be):be=t[43],G=be}if(G){if(r){const U=N==="large"?"gap-2":"gap-1.5";let be;t[44]!==U?(be=oe("flex min-w-0 items-center",U),t[44]=U,t[45]=be):be=t[45];let ge;t[46]!==L||t[47]!==be?(ge=g.jsx("div",{className:be,children:L}),t[46]=L,t[47]=be,t[48]=ge):ge=t[48],L=ge}let _e;t[49]!==L||t[50]!==G?(_e=g.jsxs(g.Fragment,{children:[L,G]}),t[49]=L,t[50]=G,t[51]=_e):_e=t[51],L=_e}const K=n,V=T.useRef(null),Y=T.useRef(!1);let Q,z;t[52]!==w?(z=()=>{if(Y.current){Y.current=!1;return}w&&requestAnimationFrame(()=>{var _e;(_e=V.current)==null||_e.scrollIntoView({block:"nearest"})})},Q=[w],t[52]=w,t[53]=Q,t[54]=z):(Q=t[53],z=t[54]),T.useEffect(z,Q);const F=Vu,Te=y.disabled?-1:0,fe=Gr((We=y.disabled)!=null?We:!1);let $;t[55]!==I?($=Gr(I),t[55]=I,t[56]=$):$=t[56];let W;t[57]!==w?(W=Gr(w),t[57]=w,t[58]=W):W=t[58];let ee;t[59]!==k?(ee=Gr(k),t[59]=k,t[60]=ee):ee=t[60];let J;t[61]!==D?(J=Gr(D),t[61]=D,t[62]=J):J=t[62];let Z;t[63]!==O?(Z=Gr(O),t[63]=O,t[64]=Z):Z=t[64];const ye=N==="large"?"large":void 0,me=f!=="default"?f:void 0,Ie=!M&&"hoverable",Ce=r&&!G&&(N==="large"?"gap-2":"gap-1.5");let Me;t[65]!==d||t[66]!==Ie||t[67]!==Ce?(Me=oe("group __menu-item",Ie,Ce,d),t[65]=d,t[66]=Ie,t[67]=Ce,t[68]=Me):Me=t[68];let ke;t[69]!==y?(ke=_e=>{var U;Y.current=!0,(U=y.onPointerMoveCapture)==null||U.call(y,_e)},t[69]=y,t[70]=ke):ke=t[70];let xe;t[71]!==K||t[72]!==L||t[73]!==y||t[74]!==Te||t[75]!==fe||t[76]!==$||t[77]!==W||t[78]!==ee||t[79]!==J||t[80]!==Z||t[81]!==ye||t[82]!==me||t[83]!==Me||t[84]!==ke?(xe=g.jsx(K,P(S({ref:V,tabIndex:Te,"data-disabled":fe,"data-active":$,"data-highlighted":W,"data-has-submenu":ee,"data-fill":J,"data-revealed":Z,"data-size":ye,"data-color":me,className:Me},y),{onPointerMoveCapture:ke,children:L})),t[71]=K,t[72]=L,t[73]=y,t[74]=Te,t[75]=fe,t[76]=$,t[77]=W,t[78]=ee,t[79]=J,t[80]=Z,t[81]=ye,t[82]=me,t[83]=Me,t[84]=ke,t[85]=xe):xe=t[85];let Ke;return t[86]!==F||t[87]!==b||t[88]!==xe?(Ke=g.jsx(F,{onIntent:b,children:xe}),t[86]=F,t[87]=b,t[88]=xe,t[89]=Ke):Ke=t[89],Ke},spe=n=>{var r=n,{external:e}=r,t=B(r,["external"]);return g.jsx(Io,S(S({as:$P},e?{highlightTrailing:g.jsx(epe,{className:"icon-sm"}),target:"_blank",rel:"noopener noreferrer"}:null),t))},r1=e=>{var o;const i=e,{row:t,className:n}=i,r=B(i,["row","className"]),s=(o=e.as)!=null?o:"button";return g.jsx(Io,P(S({"data-sheet-item":!0},r),{as:s,className:oe("bg-token-bg-tertiary dark:bg-token-bg-secondary mx-0 w-full py-4 leading-5",t?"justify-between px-4 text-start":"flex-col justify-center px-0",n)}))},ipe=T.memo(function({children:t}){return g.jsx("div",{className:"truncate",ref:n=>{n!=null&&n.textContent&&n.scrollWidth>n.clientWidth&&(n.title=n.textContent)},children:t})}),ope=({children:e,className:t})=>g.jsx("span",{className:oe("__menu-item-badge",t),children:e}),P8e=o=>{var a=o,{disabled:e,icon:t,onIntent:n,children:r,className:s}=a,i=B(a,["disabled","icon","onIntent","children","className"]);return g.jsx(Vu,{onIntent:n,children:g.jsx("button",P(S({disabled:e,tabIndex:e?void 0:0,"data-trailing-button":Gr(!0),className:oe("__menu-item-trailing-btn",s)},i),{onClick:Ti(i.onClick,ra),onDoubleClick:Ti(i.onDoubleClick,ra),onPointerDown:Ti(i.onPointerDown,ra),onMouseDown:Ti(i.onMouseDown,ra),children:g.jsx("div",{children:t?g.jsx(t,{className:"icon","aria-hidden":"true"}):r})}))})},w8e=r=>{var s=r,{children:e,className:t}=s,n=B(s,["children","className"]);return g.jsx($P,P(S({"data-trailing-button":Gr(!0),className:oe("__menu-item-trailing-lnk",t)},n),{onClick:Ti(n.onClick,ra),onDoubleClick:Ti(n.onDoubleClick,ra),onPointerDown:Ti(n.onPointerDown,ra),onMouseDown:Ti(n.onMouseDown,ra),children:e}))},ape=r=>{var s=r,{as:e,className:t}=s,n=B(s,["as","className"]);const i=e;return g.jsx(i,S({className:oe("__menu-label",t)},n))};function cpe(e){"use forget";const t=j.c(7),{size:n}=e,s=(n===void 0?"long":n)==="long"?220:120,i=md();let o;t[0]!==i?(o=()=>.75+.25*(i?Math.random():.5),t[0]=i,t[1]=o):o=t[1];const[a]=T.useState(o);let c;t[2]!==s||t[3]!==a?(c=Math.round(a*s),t[2]=s,t[3]=a,t[4]=c):c=t[4];let l;return t[5]!==c?(l=g.jsx(Io,{as:"div",disabled:!0,children:g.jsx("div",{className:"loading-results-shimmer h-4 rounded-sm",style:{width:c}})}),t[5]=c,t[6]=l):l=t[6],l}const lpe=e=>{"use forget";var y;const t=j.c(32);let n,r,s,i,o,a,c,l,u;t[0]!==e?(y=e,{holdFocus:c,selectAllOnFocus:l,onClick:r,onFocus:s,onKeyDownCapture:i,onSubmit:o,border:u,className:n}=y,a=B(y,["holdFocus","selectAllOnFocus","onClick","onFocus","onKeyDownCapture","onSubmit","border","className"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9]);const d=c===void 0?!1:c,f=l===void 0?!0:l,h=u===void 0?!0:u;let p;t[10]!==n?(p=oe("text-token-text-primary bg-token-bg-primary data-border:border-token-border-default relative m-[-1px] mx-1.5 w-[calc(100%---spacing(3))] min-w-[200px] rounded-[10px] border-transparent px-2.5 py-2 text-sm focus:ring-0 focus:ring-offset-0 focus:outline-hidden disabled:opacity-50 data-border:border-1 dark:bg-transparent",n),t[10]=n,t[11]=p):p=t[11];let _;t[12]!==d?(_=Gr(d),t[12]=d,t[13]=_):_=t[13];let m;t[14]!==h?(m=Gr(h),t[14]=h,t[15]=m):m=t[15];let v;t[16]!==r?(v=O=>{r==null||r(O),O.preventDefault()},t[16]=r,t[17]=v):v=t[17];let E;t[18]!==s||t[19]!==f?(E=O=>{s==null||s(O),f&&O.currentTarget.select()},t[18]=s,t[19]=f,t[20]=E):E=t[20];let b;t[21]!==i||t[22]!==o?(b=O=>{i==null||i(O);const{key:A}=O;rpe(O)||(O.stopPropagation(),A==="Enter"&&(o==null||o(O)))},t[21]=i,t[22]=o,t[23]=b):b=t[23];let C;return t[24]!==a||t[25]!==p||t[26]!==_||t[27]!==m||t[28]!==v||t[29]!==E||t[30]!==b?(C=g.jsx("input",S({type:"text",className:p,"data-hold-focus":_,"data-border":m,autoComplete:"off",onClick:v,onFocus:E,onKeyDownCapture:b},a)),t[24]=a,t[25]=p,t[26]=_,t[27]=m,t[28]=v,t[29]=E,t[30]=b,t[31]=C):C=t[31],C};function Ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function upe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function dE(...e){return t=>e.forEach(n=>upe(n,t))}function Un(...e){return T.useCallback(dE(...e),e)}function dpe(e,t){const n=T.createContext(t),r=i=>{const l=i,{children:o}=l,a=B(l,["children"]),c=T.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=T.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error("`".concat(i,"` must be used within `").concat(e,"`"))}return[r,s]}function Cd(e,t=[]){let n=[];function r(i,o){const a=T.createContext(o),c=n.length;n=[...n,o];const l=d=>{var E;const v=d,{scope:f,children:h}=v,p=B(v,["scope","children"]),_=((E=f==null?void 0:f[e])==null?void 0:E[c])||a,m=T.useMemo(()=>p,Object.values(p));return g.jsx(_.Provider,{value:m,children:h})};l.displayName=i+"Provider";function u(d,f){var _;const h=((_=f==null?void 0:f[e])==null?void 0:_[c])||a,p=T.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error("`".concat(d,"` must be used within `").concat(i,"`"))}return[l,u]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return T.useMemo(()=>({["__scope".concat(e)]:P(S({},a),{[e]:c})}),[a,c])}};return s.scopeName=e,[r,fpe(s,...t)]}function fpe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)["__scope".concat(l)];return S(S({},a),d)},{});return T.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return n.scopeName=t.scopeName,n}function vo(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function gl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=hpe({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,a=vo(n),c=T.useCallback(l=>{if(i){const d=typeof l=="function"?l(e):l;d!==e&&a(d)}else s(l)},[i,e,s,a]);return[o,c]}function hpe({defaultProp:e,onChange:t}){const n=T.useState(e),[r]=n,s=T.useRef(r),i=vo(t);return T.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function ppe(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Kc=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{};function x9(e){const[t,n]=T.useState(void 0);return Kc(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Yu=T.forwardRef((e,t)=>{const o=e,{children:n}=o,r=B(o,["children"]),s=T.Children.toArray(n),i=s.find(_pe);if(i){const a=i.props.children,c=s.map(l=>l===i?T.Children.count(a)>1?T.Children.only(null):T.isValidElement(a)?a.props.children:null:l);return g.jsx(rI,P(S({},r),{ref:t,children:T.isValidElement(a)?T.cloneElement(a,void 0,c):null}))}return g.jsx(rI,P(S({},r),{ref:t,children:n}))});Yu.displayName="Slot";var rI=T.forwardRef((e,t)=>{const s=e,{children:n}=s,r=B(s,["children"]);if(T.isValidElement(n)){const i=gpe(n);return T.cloneElement(n,P(S({},mpe(r,n.props)),{ref:t?dE(t,i):i}))}return T.Children.count(n)>1?T.Children.only(null):null});rI.displayName="SlotClone";var M9=({children:e})=>g.jsx(g.Fragment,{children:e});function _pe(e){return T.isValidElement(e)&&e.type===M9}function mpe(e,t){const n=S({},t);for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]=S(S({},s),i):r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return S(S({},e),n)}function gpe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ht=vpe.reduce((e,t)=>{const n=T.forwardRef((r,s)=>{const c=r,{asChild:i}=c,o=B(c,["asChild"]),a=i?Yu:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,P(S({},o),{ref:s}))});return n.displayName="Primitive.".concat(t),P(S({},e),{[t]:n})},{});function Epe(e,t){e&&sv.flushSync(()=>e.dispatchEvent(t))}var s1="Switch",[Cpe]=Cd(s1),[ype,Spe]=Cpe(s1),k9=T.forwardRef((e,t)=>{const b=e,{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:l,form:u}=b,d=B(b,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[f,h]=T.useState(null),p=Un(t,C=>h(C)),_=T.useRef(!1),m=f?u||!!f.closest("form"):!0,[v=!1,E]=gl({prop:s,defaultProp:i,onChange:l});return g.jsxs(ype,{scope:n,checked:v,disabled:a,children:[g.jsx(Ht.button,P(S({type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":U9(v),"data-disabled":a?"":void 0,disabled:a,value:c},d),{ref:p,onClick:Ye(e.onClick,C=>{E(y=>!y),m&&(_.current=C.isPropagationStopped(),_.current||C.stopPropagation())})})),m&&g.jsx(Tpe,{control:f,bubbles:!_.current,name:r,value:c,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});k9.displayName=s1;var L9="SwitchThumb",D9=T.forwardRef((e,t)=>{const i=e,{__scopeSwitch:n}=i,r=B(i,["__scopeSwitch"]),s=Spe(L9,n);return g.jsx(Ht.span,P(S({"data-state":U9(s.checked),"data-disabled":s.disabled?"":void 0},r),{ref:t}))});D9.displayName=L9;var Tpe=e=>{const c=e,{control:t,checked:n,bubbles:r=!0}=c,s=B(c,["control","checked","bubbles"]),i=T.useRef(null),o=ppe(n),a=x9(t);return T.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[o,n,r]),g.jsx("input",P(S({type:"checkbox","aria-hidden":!0,defaultChecked:n},s),{tabIndex:-1,ref:i,style:P(S(S({},e.style),a),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function U9(e){return e?"checked":"unchecked"}var Ope=k9,bpe=D9;const F9=i=>{var o=i,{size:e,className:t,icon:n,withinLabel:r}=o,s=B(o,["size","className","icon","withinLabel"]);return g.jsx(Ope,P(S({className:oe("radix-state-checked:bg-blue-400 focus-visible:ring-token-text-primary relative box-content aspect-7/4 shrink-0 rounded-full bg-gray-200 p-[2px] focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:opacity-50 dark:bg-gray-600",e==="small"?"h-3":"h-4",t)},s),{children:g.jsx(bpe,{className:"radix-state-checked:translate-x-[calc(var(--to-end-unit,1)*100%*(7/4-1))] flex aspect-square h-full items-center justify-center rounded-full bg-white transition-transform duration-100",children:n})}))};function Ape(e,t){const n=T.useLayoutEffect;n(e,t)}const Npe=()=>{var e;return(e=document==null?void 0:document.body)!=null?e:null},G9=T.createContext(Npe);function R8e(e){"use forget";const t=j.c(17),{children:n,className:r,open:s,onClose:i,closedBy:o}=e,a=T.useRef(null);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>a.current,t[0]=c):c=t[0];const l=c;let u,d;t[1]!==s?(u=()=>{const b=a.current;if(!(!s||!b))return s==="modal"?b.showModal():b.show(),()=>{b.close()}},d=[s],t[1]=s,t[2]=u,t[3]=d):(u=t[2],d=t[3]),T.useEffect(u,d);let f;t[4]!==i?(f=b=>{b.target===b.currentTarget&&(i==null||i())},t[4]=i,t[5]=f):f=t[5];const h=f;let p;t[6]!==o||t[7]!==i?(p=b=>{o&&["any","closerequest"].includes(o)&&b.key==="Escape"&&(i==null||i())},t[6]=o,t[7]=i,t[8]=p):p=t[8];const _=p,m=s===!0;let v;t[9]!==n?(v=g.jsx(G9,{value:l,children:n}),t[9]=n,t[10]=v):v=t[10];let E;return t[11]!==r||t[12]!==h||t[13]!==_||t[14]!==m||t[15]!==v?(E=g.jsx("dialog",{className:r,open:m,ref:a,onClick:h,onKeyUp:_,children:v}),t[11]=r,t[12]=h,t[13]=_,t[14]=m,t[15]=v,t[16]=E):E=t[16],E}function j9(){"use forget";const e=j.c(7),[t,n]=T.useState(null),r=T.use(G9);let s;e[0]!==r?(s=r(),e[0]=r,e[1]=s):s=e[1];const i=s;let o,a;e[2]!==i?(o=()=>{n(i)},a=[i],e[2]=i,e[3]=o,e[4]=a):(o=e[3],a=e[4]),Ape(o,a);let c;return e[5]!==t?(c=t!=null?{container:t}:{},e[5]=t,e[6]=c):c=e[6],c}const B9=Ee(_t,"85f94b",20,20);function WU(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function H9(...e){return t=>{let n=!1;const r=e.map(s=>{const i=WU(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():WU(e[s],null)}}}}function $9(...e){return T.useCallback(H9(...e),e)}function W9(e){const t=Ipe(e),n=T.forwardRef((r,s)=>{const l=r,{children:i}=l,o=B(l,["children"]),a=T.Children.toArray(i),c=a.find(wpe);if(c){const u=c.props.children,d=a.map(f=>f===c?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:f);return g.jsx(t,P(S({},o),{ref:s,children:T.isValidElement(u)?T.cloneElement(u,void 0,d):null}))}return g.jsx(t,P(S({},o),{ref:s,children:i}))});return n.displayName="".concat(e,".Slot"),n}var q9=W9("Slot");function Ipe(e){const t=T.forwardRef((n,r)=>{const o=n,{children:s}=o,i=B(o,["children"]);if(T.isValidElement(s)){const a=xpe(s),c=Rpe(i,s.props);return s.type!==T.Fragment&&(c.ref=r?H9(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Ppe=Symbol("radix.slottable");function wpe(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ppe}function Rpe(e,t){const n=S({},t);for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]=S(S({},s),i):r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return S(S({},e),n)}function xpe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function FT(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Mpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],V9=Mpe.reduce((e,t)=>{const n=W9("Primitive.".concat(t)),r=T.forwardRef((s,i)=>{const l=s,{asChild:o}=l,a=B(l,["asChild"]),c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,P(S({},a),{ref:i}))});return r.displayName="Primitive.".concat(t),P(S({},e),{[t]:r})},{});function kpe(e,t){e&&sv.flushSync(()=>e.dispatchEvent(t))}function i1(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Lpe(e,t=globalThis==null?void 0:globalThis.document){const n=i1(e);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Dpe="DismissableLayer",sI="dismissableLayer.update",Upe="dismissableLayer.pointerDownOutside",Fpe="dismissableLayer.focusOutside",qU,z9=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sp=T.forwardRef((e,t)=>{var N;const A=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a}=A,c=B(A,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),l=T.useContext(z9),[u,d]=T.useState(null),f=(N=u==null?void 0:u.ownerDocument)!=null?N:globalThis==null?void 0:globalThis.document,[,h]=T.useState({}),p=$9(t,I=>d(I)),_=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(m),E=u?_.indexOf(u):-1,b=l.layersWithOutsidePointerEventsDisabled.size>0,C=E>=v,y=jpe(I=>{const w=I.target,M=[...l.branches].some(k=>k.contains(w));!C||M||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),O=Bpe(I=>{const w=I.target;[...l.branches].some(k=>k.contains(w))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return Lpe(I=>{E===l.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),T.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(qU=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),VU(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=qU)}},[u,f,n,l]),T.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),VU())},[u,l]),T.useEffect(()=>{const I=()=>h({});return document.addEventListener(sI,I),()=>document.removeEventListener(sI,I)},[]),g.jsx(V9.div,P(S({},c),{ref:p,style:S({pointerEvents:b?C?"auto":"none":void 0},e.style),onFocusCapture:FT(e.onFocusCapture,O.onFocusCapture),onBlurCapture:FT(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:FT(e.onPointerDownCapture,y.onPointerDownCapture)}))});Sp.displayName=Dpe;var Gpe="DismissableLayerBranch",Y9=T.forwardRef((e,t)=>{const n=T.useContext(z9),r=T.useRef(null),s=$9(t,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(V9.div,P(S({},e),{ref:s}))});Y9.displayName=Gpe;function jpe(e,t=globalThis==null?void 0:globalThis.document){const n=i1(e),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){K9(Upe,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Bpe(e,t=globalThis==null?void 0:globalThis.document){const n=i1(e),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&K9(Fpe,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VU(){const e=new CustomEvent(sI);document.dispatchEvent(e)}function K9(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kpe(s,i):s.dispatchEvent(i)}var x8e=Sp,M8e=Y9,Hpe=Pee.useId||(()=>{}),$pe=0;function wi(e){const[t,n]=T.useState(Hpe());return Kc(()=>{n(r=>r!=null?r:String($pe++))},[e]),e||(t?"radix-".concat(t):"")}const Wpe=["top","right","bottom","left"],Ca=Math.min,jr=Math.max,mg=Math.round,N_=Math.floor,ya=e=>({x:e,y:e}),qpe={left:"right",right:"left",bottom:"top",top:"bottom"},Vpe={start:"end",end:"start"};function iI(e,t,n){return jr(e,Ca(t,n))}function Eo(e,t){return typeof e=="function"?e(t):e}function Co(e){return e.split("-")[0]}function yd(e){return e.split("-")[1]}function o1(e){return e==="x"?"y":"x"}function a1(e){return e==="y"?"height":"width"}function Sd(e){return["top","bottom"].includes(Co(e))?"y":"x"}function c1(e){return o1(Sd(e))}function zpe(e,t,n){n===void 0&&(n=!1);const r=yd(e),s=c1(e),i=a1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=gg(o)),[o,gg(o)]}function Ype(e){const t=gg(e);return[oI(e),t,oI(t)]}function oI(e){return e.replace(/start|end/g,t=>Vpe[t])}function Kpe(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function Jpe(e,t,n,r){const s=yd(e);let i=Kpe(Co(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(oI)))),i}function gg(e){return e.replace(/left|right|bottom|top/g,t=>qpe[t])}function Xpe(e){return S({top:0,right:0,bottom:0,left:0},e)}function J9(e){return typeof e!="number"?Xpe(e):{top:e,right:e,bottom:e,left:e}}function vg(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function zU(e,t,n){let{reference:r,floating:s}=e;const i=Sd(t),o=c1(t),a=a1(o),c=Co(t),l=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(c){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(yd(t)){case"start":h[o]-=f*(n&&l?-1:1);break;case"end":h[o]+=f*(n&&l?-1:1);break}return h}const Qpe=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=zU(l,r,c),f=r,h={},p=0;for(let _=0;_<a.length;_++){const{name:m,fn:v}=a[_],{x:E,y:b,data:C,reset:y}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});u=E!=null?E:u,d=b!=null?b:d,h=P(S({},h),{[m]:S(S({},h[m]),C)}),y&&p<=50&&(p++,typeof y=="object"&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):y.rects),{x:u,y:d}=zU(l,f,c)),_=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function fh(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Eo(t,e),p=J9(h),m=a[f?d==="floating"?"reference":"floating":d],v=vg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),E=d==="floating"?P(S({},o.floating),{x:r,y:s}):o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},y=vg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:b,strategy:c}):E);return{top:(v.top-y.top+p.top)/C.y,bottom:(y.bottom-v.bottom+p.bottom)/C.y,left:(v.left-y.left+p.left)/C.x,right:(y.right-v.right+p.right)/C.x}}const Zpe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=Eo(e,t)||{};if(l==null)return{};const d=J9(u),f={x:n,y:r},h=c1(s),p=a1(h),_=await o.getDimensions(l),m=h==="y",v=m?"top":"left",E=m?"bottom":"right",b=m?"clientHeight":"clientWidth",C=i.reference[p]+i.reference[h]-f[h]-i.floating[p],y=f[h]-i.reference[h],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let A=O?O[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(O)))&&(A=a.floating[b]||i.floating[p]);const N=C/2-y/2,I=A/2-_[p]/2-1,w=Ca(d[v],I),M=Ca(d[E],I),k=w,D=A-_[p]-M,L=A/2-_[p]/2+N,G=iI(k,L,D),K=!c.arrow&&yd(s)!=null&&L!==G&&i.reference[p]/2-(L<k?w:M)-_[p]/2<0,V=K?L<k?L-k:L-D:0;return{[h]:f[h]+V,data:S({[h]:G,centerOffset:L-G-V},K&&{alignmentOffset:V}),reset:K}}}),e_e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=t,k=Eo(e,t),{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0}=k,m=B(k,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Co(s),E=Co(a)===a,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=f||(E||!_?[gg(a)]:Ype(a));!f&&p!=="none"&&C.push(...Jpe(a,_,p,b));const y=[a,...C],O=await fh(t,m),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(O[v]),d){const D=zpe(s,o,b);A.push(O[D[0]],O[D[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(D=>D<=0)){var I,w;const D=(((I=i.flip)==null?void 0:I.index)||0)+1,L=y[D];if(L)return{data:{index:D,overflows:N},reset:{placement:L}};let G=(w=N.filter(K=>K.overflows[0]<=0).sort((K,V)=>K.overflows[1]-V.overflows[1])[0])==null?void 0:w.placement;if(!G)switch(h){case"bestFit":{var M;const K=(M=N.map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,Q)=>Y+Q,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:M[0];K&&(G=K);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function YU(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function KU(e){return Wpe.some(t=>e[t]>=0)}const t_e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,i=Eo(e,t),{strategy:r="referenceHidden"}=i,s=B(i,["strategy"]);switch(r){case"referenceHidden":{const o=await fh(t,P(S({},s),{elementContext:"reference"})),a=YU(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:KU(a)}}}case"escaped":{const o=await fh(t,P(S({},s),{altBoundary:!0})),a=YU(o,n.floating);return{data:{escapedOffsets:a,escaped:KU(a)}}}default:return{}}}}};async function n_e(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Co(n),a=yd(n),c=Sd(n)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,d=Eo(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:S({mainAxis:0,crossAxis:0,alignmentAxis:null},d);return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*u,y:f*l}:{x:f*l,y:h*u}}const r_e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await n_e(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:P(S({},c),{placement:o})}}}},s_e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,m=Eo(e,t),{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:E,y:b}=v;return{x:E,y:b}}}}=m,c=B(m,["mainAxis","crossAxis","limiter"]),l={x:n,y:r},u=await fh(t,c),d=Sd(Co(s)),f=o1(d);let h=l[f],p=l[d];if(i){const v=f==="y"?"top":"left",E=f==="y"?"bottom":"right",b=h+u[v],C=h-u[E];h=iI(b,h,C)}if(o){const v=d==="y"?"top":"left",E=d==="y"?"bottom":"right",b=p+u[v],C=p-u[E];p=iI(b,p,C)}const _=a.fn(P(S({},t),{[f]:h,[d]:p}));return P(S({},_),{data:{x:_.x-n,y:_.y-r}})}}},i_e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Eo(e,t),u={x:n,y:r},d=Sd(s),f=o1(d);let h=u[f],p=u[d];const _=Eo(a,t),m=typeof _=="number"?{mainAxis:_,crossAxis:0}:S({mainAxis:0,crossAxis:0},_);if(c){const b=f==="y"?"height":"width",C=i.reference[f]-i.floating[b]+m.mainAxis,y=i.reference[f]+i.reference[b]-m.mainAxis;h<C?h=C:h>y&&(h=y)}if(l){var v,E;const b=f==="y"?"width":"height",C=["top","left"].includes(Co(s)),y=i.reference[d]-i.floating[b]+(C&&((v=o.offset)==null?void 0:v[d])||0)+(C?0:m.crossAxis),O=i.reference[d]+i.reference[b]+(C?0:((E=o.offset)==null?void 0:E[d])||0)-(C?m.crossAxis:0);p<y?p=y:p>O&&(p=O)}return{[f]:h,[d]:p}}}},o_e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:s,elements:i}=t,O=Eo(e,t),{apply:o=()=>{}}=O,a=B(O,["apply"]),c=await fh(t,a),l=Co(n),u=yd(n),d=Sd(n)==="y",{width:f,height:h}=r.floating;let p,_;l==="top"||l==="bottom"?(p=l,_=u===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(_=l,p=u==="end"?"top":"bottom");const m=h-c[p],v=f-c[_],E=!t.middlewareData.shift;let b=m,C=v;if(d){const A=f-c.left-c.right;C=u||E?Ca(v,A):A}else{const A=h-c.top-c.bottom;b=u||E?Ca(m,A):A}if(E&&!u){const A=jr(c.left,0),N=jr(c.right,0),I=jr(c.top,0),w=jr(c.bottom,0);d?C=f-2*(A!==0||N!==0?A+N:jr(c.left,c.right)):b=h-2*(I!==0||w!==0?I+w:jr(c.top,c.bottom))}await o(P(S({},t),{availableWidth:C,availableHeight:b}));const y=await s.getDimensions(i.floating);return f!==y.width||h!==y.height?{reset:{rects:!0}}:{}}}};function fE(){return typeof window<"u"}function Td(e){return X9(e)?(e.nodeName||"").toLowerCase():"#document"}function Yr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fi(e){var t;return(t=(X9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function X9(e){return fE()?e instanceof Node||e instanceof Yr(e).Node:!1}function Js(e){return fE()?e instanceof Element||e instanceof Yr(e).Element:!1}function Li(e){return fE()?e instanceof HTMLElement||e instanceof Yr(e).HTMLElement:!1}function JU(e){return!fE()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yr(e).ShadowRoot}function Tp(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Xs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function a_e(e){return["table","td","th"].includes(Td(e))}function hE(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function l1(e){const t=u1(),n=Js(e)?Xs(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function c_e(e){let t=Sa(e);for(;Li(t)&&!Ku(t);){if(l1(t))return t;if(hE(t))return null;t=Sa(t)}return null}function u1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ku(e){return["html","body","#document"].includes(Td(e))}function Xs(e){return Yr(e).getComputedStyle(e)}function pE(e){return Js(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sa(e){if(Td(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JU(e)&&e.host||Fi(e);return JU(t)?t.host:t}function Q9(e){const t=Sa(e);return Ku(t)?e.ownerDocument?e.ownerDocument.body:e.body:Li(t)&&Tp(t)?t:Q9(t)}function hh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Q9(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Yr(s);if(i){const a=aI(o);return t.concat(o,o.visualViewport||[],Tp(s)?s:[],a&&n?hh(a):[])}return t.concat(s,hh(s,[],n))}function aI(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Z9(e){const t=Xs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Li(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=mg(n)!==i||mg(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function d1(e){return Js(e)?e:e.contextElement}function bu(e){const t=d1(e);if(!Li(t))return ya(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Z9(t);let o=(i?mg(n.width):n.width)/r,a=(i?mg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const l_e=ya(0);function eq(e){const t=Yr(e);return!u1()||!t.visualViewport?l_e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function u_e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yr(e)?!1:t}function Jc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=d1(e);let o=ya(1);t&&(r?Js(r)&&(o=bu(r)):o=bu(e));const a=u_e(i,n,r)?eq(i):ya(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Yr(i),h=r&&Js(r)?Yr(r):r;let p=f,_=aI(p);for(;_&&r&&h!==p;){const m=bu(_),v=_.getBoundingClientRect(),E=Xs(_),b=v.left+(_.clientLeft+parseFloat(E.paddingLeft))*m.x,C=v.top+(_.clientTop+parseFloat(E.paddingTop))*m.y;c*=m.x,l*=m.y,u*=m.x,d*=m.y,c+=b,l+=C,p=Yr(_),_=aI(p)}}return vg({width:u,height:d,x:c,y:l})}function d_e(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Fi(r),a=t?hE(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=ya(1);const u=ya(0),d=Li(r);if((d||!d&&!i)&&((Td(r)!=="body"||Tp(o))&&(c=pE(r)),Li(r))){const f=Jc(r);l=bu(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x,y:n.y*l.y-c.scrollTop*l.y+u.y}}function f_e(e){return Array.from(e.getClientRects())}function cI(e,t){const n=pE(e).scrollLeft;return t?t.left+n:Jc(Fi(e)).left+n}function h_e(e){const t=Fi(e),n=pE(e),r=e.ownerDocument.body,s=jr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=jr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+cI(e);const a=-n.scrollTop;return Xs(r).direction==="rtl"&&(o+=jr(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function p_e(e,t){const n=Yr(e),r=Fi(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=u1();(!l||l&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function __e(e,t){const n=Jc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Li(e)?bu(e):ya(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function XU(e,t,n){let r;if(t==="viewport")r=p_e(e,n);else if(t==="document")r=h_e(Fi(e));else if(Js(t))r=__e(t,n);else{const s=eq(e);r=P(S({},t),{x:t.x-s.x,y:t.y-s.y})}return vg(r)}function tq(e,t){const n=Sa(e);return n===t||!Js(n)||Ku(n)?!1:Xs(n).position==="fixed"||tq(n,t)}function m_e(e,t){const n=t.get(e);if(n)return n;let r=hh(e,[],!1).filter(a=>Js(a)&&Td(a)!=="body"),s=null;const i=Xs(e).position==="fixed";let o=i?Sa(e):e;for(;Js(o)&&!Ku(o);){const a=Xs(o),c=l1(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Tp(o)&&!c&&tq(e,o))?r=r.filter(u=>u!==o):s=a,o=Sa(o)}return t.set(e,r),r}function g_e(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?hE(t)?[]:m_e(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=XU(t,u,s);return l.top=jr(d.top,l.top),l.right=Ca(d.right,l.right),l.bottom=Ca(d.bottom,l.bottom),l.left=jr(d.left,l.left),l},XU(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function v_e(e){const{width:t,height:n}=Z9(e);return{width:t,height:n}}function E_e(e,t,n){const r=Li(t),s=Fi(t),i=n==="fixed",o=Jc(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=ya(0);if(r||!r&&!i)if((Td(t)!=="body"||Tp(s))&&(a=pE(t)),r){const h=Jc(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=cI(s));let l=0,u=0;if(s&&!r&&!i){const h=s.getBoundingClientRect();u=h.top+a.scrollTop,l=h.left+a.scrollLeft-cI(s,h)}const d=o.left+a.scrollLeft-c.x-l,f=o.top+a.scrollTop-c.y-u;return{x:d,y:f,width:o.width,height:o.height}}function GT(e){return Xs(e).position==="static"}function QU(e,t){if(!Li(e)||Xs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fi(e)===n&&(n=n.ownerDocument.body),n}function nq(e,t){const n=Yr(e);if(hE(e))return n;if(!Li(e)){let s=Sa(e);for(;s&&!Ku(s);){if(Js(s)&&!GT(s))return s;s=Sa(s)}return n}let r=QU(e,t);for(;r&&a_e(r)&&GT(r);)r=QU(r,t);return r&&Ku(r)&&GT(r)&&!l1(r)?n:r||c_e(e)||n}const C_e=async function(e){const t=this.getOffsetParent||nq,n=this.getDimensions,r=await n(e.floating);return{reference:E_e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function y_e(e){return Xs(e).direction==="rtl"}const S_e={convertOffsetParentRelativeRectToViewportRelativeRect:d_e,getDocumentElement:Fi,getClippingRect:g_e,getOffsetParent:nq,getElementRects:C_e,getClientRects:f_e,getDimensions:v_e,getScale:bu,isElement:Js,isRTL:y_e};function T_e(e,t){let n=null,r;const s=Fi(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:l,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=N_(u),p=N_(s.clientWidth-(l+d)),_=N_(s.clientHeight-(u+f)),m=N_(l),E={rootMargin:-h+"px "+-p+"px "+-_+"px "+-m+"px",threshold:jr(0,Ca(1,c))||1};let b=!0;function C(y){const O=y[0].intersectionRatio;if(O!==c){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(C,P(S({},E),{root:s.ownerDocument}))}catch(y){n=new IntersectionObserver(C,E)}n.observe(e)}return o(!0),i}function O_e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=d1(e),u=s||i?[...l?hh(l):[],...hh(t)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=l&&a?T_e(l,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[E]=v;E&&E.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),l&&!c&&h.observe(l),h.observe(t));let p,_=c?Jc(e):null;c&&m();function m(){const v=Jc(e);_&&(v.x!==_.x||v.y!==_.y||v.width!==_.width||v.height!==_.height)&&n(),_=v,p=requestAnimationFrame(m)}return n(),()=>{var v;u.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const b_e=r_e,A_e=s_e,N_e=e_e,I_e=o_e,P_e=t_e,ZU=Zpe,w_e=i_e,R_e=(e,t,n)=>{const r=new Map,s=S({platform:S_e},n),i=P(S({},s.platform),{_c:r});return Qpe(e,t,P(S({},s),{platform:i}))};var hm=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Eg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Eg(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Eg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function rq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eF(e,t){const n=rq(e);return Math.round(t*n)/n}function jT(e){const t=T.useRef(e);return hm(()=>{t.current=e}),t}function x_e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,d]=T.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=T.useState(r);Eg(f,r)||h(r);const[p,_]=T.useState(null),[m,v]=T.useState(null),E=T.useCallback(Y=>{Y!==O.current&&(O.current=Y,_(Y))},[]),b=T.useCallback(Y=>{Y!==A.current&&(A.current=Y,v(Y))},[]),C=i||p,y=o||m,O=T.useRef(null),A=T.useRef(null),N=T.useRef(u),I=c!=null,w=jT(c),M=jT(s),k=jT(l),D=T.useCallback(()=>{if(!O.current||!A.current)return;const Y={placement:t,strategy:n,middleware:f};M.current&&(Y.platform=M.current),R_e(O.current,A.current,Y).then(Q=>{const z=P(S({},Q),{isPositioned:k.current!==!1});L.current&&!Eg(N.current,z)&&(N.current=z,sv.flushSync(()=>{d(z)}))})},[f,t,n,M,k]);hm(()=>{l===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(Y=>P(S({},Y),{isPositioned:!1})))},[l]);const L=T.useRef(!1);hm(()=>(L.current=!0,()=>{L.current=!1}),[]),hm(()=>{if(C&&(O.current=C),y&&(A.current=y),C&&y){if(w.current)return w.current(C,y,D);D()}},[C,y,D,w,I]);const G=T.useMemo(()=>({reference:O,floating:A,setReference:E,setFloating:b}),[E,b]),K=T.useMemo(()=>({reference:C,floating:y}),[C,y]),V=T.useMemo(()=>{const Y={position:n,left:0,top:0};if(!K.floating)return Y;const Q=eF(K.floating,u.x),z=eF(K.floating,u.y);return a?S(P(S({},Y),{transform:"translate("+Q+"px, "+z+"px)"}),rq(K.floating)>=1.5&&{willChange:"transform"}):{position:n,left:Q,top:z}},[n,a,K.floating,u.x,u.y]);return T.useMemo(()=>P(S({},u),{update:D,refs:G,elements:K,floatingStyles:V}),[u,D,G,K,V])}const M_e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ZU({element:r.current,padding:s}).fn(n):{}:r?ZU({element:r,padding:s}).fn(n):{}}}},k_e=(e,t)=>P(S({},b_e(e)),{options:[e,t]}),L_e=(e,t)=>P(S({},A_e(e)),{options:[e,t]}),D_e=(e,t)=>P(S({},w_e(e)),{options:[e,t]}),U_e=(e,t)=>P(S({},N_e(e)),{options:[e,t]}),F_e=(e,t)=>P(S({},I_e(e)),{options:[e,t]}),G_e=(e,t)=>P(S({},P_e(e)),{options:[e,t]}),j_e=(e,t)=>P(S({},M_e(e)),{options:[e,t]});var B_e="Arrow",sq=T.forwardRef((e,t)=>{const o=e,{children:n,width:r=10,height:s=5}=o,i=B(o,["children","width","height"]);return g.jsx(Ht.svg,P(S({},i),{ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})}))});sq.displayName=B_e;var H_e=sq;function f1(e,t=[]){let n=[];function r(i,o){const a=T.createContext(o),c=n.length;n=[...n,o];function l(d){const v=d,{scope:f,children:h}=v,p=B(v,["scope","children"]),_=(f==null?void 0:f[e][c])||a,m=T.useMemo(()=>p,Object.values(p));return g.jsx(_.Provider,{value:m,children:h})}function u(d,f){const h=(f==null?void 0:f[e][c])||a,p=T.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error("`".concat(d,"` must be used within `").concat(i,"`"))}return l.displayName=i+"Provider",[l,u]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return T.useMemo(()=>({["__scope".concat(e)]:P(S({},a),{[e]:c})}),[a,c])}};return s.scopeName=e,[r,$_e(s,...t)]}function $_e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)["__scope".concat(l)];return S(S({},a),d)},{});return T.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return n.scopeName=t.scopeName,n}var h1="Popper",[iq,_E]=f1(h1),[W_e,oq]=iq(h1),aq=e=>{const{__scopePopper:t,children:n}=e,[r,s]=T.useState(null);return g.jsx(W_e,{scope:t,anchor:r,onAnchorChange:s,children:n})};aq.displayName=h1;var cq="PopperAnchor",lq=T.forwardRef((e,t)=>{const c=e,{__scopePopper:n,virtualRef:r}=c,s=B(c,["__scopePopper","virtualRef"]),i=oq(cq,n),o=T.useRef(null),a=Un(t,o);return T.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Ht.div,P(S({},s),{ref:a}))});lq.displayName=cq;var p1="PopperContent",[q_e,V_e]=iq(p1),uq=T.forwardRef((e,t)=>{var Z,ye,me,Ie,Ce,Me,ke,xe;const J=e,{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p}=J,_=B(J,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),m=oq(p1,n),[v,E]=T.useState(null),b=Un(t,Ke=>E(Ke)),[C,y]=T.useState(null),O=x9(C),A=(Z=O==null?void 0:O.width)!=null?Z:0,N=(ye=O==null?void 0:O.height)!=null?ye:0,I=r+(i!=="center"?"-"+i:""),w=typeof u=="number"?u:S({top:0,right:0,bottom:0,left:0},u),M=Array.isArray(l)?l:[l],k=M.length>0,D={padding:w,boundary:M.filter(Y_e),altBoundary:k},{refs:L,floatingStyles:G,placement:K,isPositioned:V,middlewareData:Y}=x_e({strategy:"fixed",placement:I,whileElementsMounted:(...Ke)=>O_e(...Ke,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[k_e({mainAxis:s+N,alignmentAxis:o}),c&&L_e(S({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?D_e():void 0},D)),c&&U_e(S({},D)),F_e(P(S({},D),{apply:({elements:Ke,rects:le,availableWidth:We,availableHeight:_e})=>{const{width:U,height:be}=le.reference,ge=Ke.floating.style;ge.setProperty("--radix-popper-available-width","".concat(We,"px")),ge.setProperty("--radix-popper-available-height","".concat(_e,"px")),ge.setProperty("--radix-popper-anchor-width","".concat(U,"px")),ge.setProperty("--radix-popper-anchor-height","".concat(be,"px"))}})),C&&j_e({element:C,padding:a}),K_e({arrowWidth:A,arrowHeight:N}),f&&G_e(S({strategy:"referenceHidden"},D))]}),[Q,z]=hq(K),F=vo(p);Kc(()=>{V&&(F==null||F())},[V,F]);const Te=(me=Y.arrow)==null?void 0:me.x,fe=(Ie=Y.arrow)==null?void 0:Ie.y,$=((Ce=Y.arrow)==null?void 0:Ce.centerOffset)!==0,[W,ee]=T.useState();return Kc(()=>{v&&ee(window.getComputedStyle(v).zIndex)},[v]),g.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:S(P(S({},G),{transform:V?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Me=Y.transformOrigin)==null?void 0:Me.x,(ke=Y.transformOrigin)==null?void 0:ke.y].join(" ")}),((xe=Y.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:g.jsx(q_e,{scope:n,placedSide:Q,onArrowChange:y,arrowX:Te,arrowY:fe,shouldHideArrow:$,children:g.jsx(Ht.div,P(S({"data-side":Q,"data-align":z},_),{ref:b,style:P(S({},_.style),{animation:V?void 0:"none"})}))})})});uq.displayName=p1;var dq="PopperArrow",z_e={top:"bottom",right:"left",bottom:"top",left:"right"},fq=T.forwardRef(function(t,n){const a=t,{__scopePopper:r}=a,s=B(a,["__scopePopper"]),i=V_e(dq,r),o=z_e[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(H_e,P(S({},s),{ref:n,style:P(S({},s.style),{display:"block"})}))})});fq.displayName=dq;function Y_e(e){return e!==null}var K_e=e=>({name:"transformOrigin",options:e,fn(t){var m,v,E,b,C;const{placement:n,rects:r,middlewareData:s}=t,o=((m=s.arrow)==null?void 0:m.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[l,u]=hq(n),d={start:"0%",center:"50%",end:"100%"}[u],f=((E=(v=s.arrow)==null?void 0:v.x)!=null?E:0)+a/2,h=((C=(b=s.arrow)==null?void 0:b.y)!=null?C:0)+c/2;let p="",_="";return l==="bottom"?(p=o?d:"".concat(f,"px"),_="".concat(-c,"px")):l==="top"?(p=o?d:"".concat(f,"px"),_="".concat(r.floating.height+c,"px")):l==="right"?(p="".concat(-c,"px"),_=o?d:"".concat(h,"px")):l==="left"&&(p="".concat(r.floating.width+c,"px"),_=o?d:"".concat(h,"px")),{data:{x:p,y:_}}}});function hq(e){const[t,n="center"]=e.split("-");return[t,n]}var _1=aq,pq=lq,_q=uq,mq=fq,J_e="Portal",Op=T.forwardRef((e,t)=>{var c;const a=e,{container:n}=a,r=B(a,["container"]),[s,i]=T.useState(!1);Kc(()=>i(!0),[]);const o=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?lf.createPortal(g.jsx(Ht.div,P(S({},r),{ref:t})),o):null});Op.displayName=J_e;var k8e=Op;function X_e(e,t){return T.useReducer((n,r)=>{const s=t[n][r];return s!=null?s:n},e)}var ui=e=>{const{present:t,children:n}=e,r=Q_e(t),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=Un(r.ref,Z_e(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};ui.displayName="Presence";function Q_e(e){const[t,n]=T.useState(),r=T.useRef({}),s=T.useRef(e),i=T.useRef("none"),o=e?"mounted":"unmounted",[a,c]=X_e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const l=I_(r.current);i.current=a==="mounted"?l:"none"},[a]),Kc(()=>{const l=r.current,u=s.current;if(u!==e){const f=i.current,h=I_(l);e?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Kc(()=>{var l;if(t){let u;const d=(l=t.ownerDocument.defaultView)!=null?l:window,f=p=>{const m=I_(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=I_(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function I_(e){return(e==null?void 0:e.animationName)||"none"}function Z_e(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eme="VisuallyHidden",m1=T.forwardRef((e,t)=>g.jsx(Ht.span,P(S({},e),{ref:t,style:S({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)})));m1.displayName=eme;var tme=m1,[mE]=Cd("Tooltip",[_E]),gE=_E(),gq="TooltipProvider",nme=700,lI="tooltip.open",[rme,g1]=mE(gq),vq=e=>{const{__scopeTooltip:t,delayDuration:n=nme,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,[o,a]=T.useState(!0),c=T.useRef(!1),l=T.useRef(0);return T.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),g.jsx(rme,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(l.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:T.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};vq.displayName=gq;var vE="Tooltip",[sme,bp]=mE(vE),Eq=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,c=g1(vE,e.__scopeTooltip),l=gE(t),[u,d]=T.useState(null),f=wi(),h=T.useRef(0),p=o!=null?o:c.disableHoverableContent,_=a!=null?a:c.delayDuration,m=T.useRef(!1),[v=!1,E]=gl({prop:r,defaultProp:s,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(lI))):c.onClose(),i==null||i(A)}}),b=T.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),C=T.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,E(!0)},[E]),y=T.useCallback(()=>{window.clearTimeout(h.current),h.current=0,E(!1)},[E]),O=T.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,E(!0),h.current=0},_)},[_,E]);return T.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),g.jsx(_1,P(S({},l),{children:g.jsx(sme,{scope:t,contentId:f,open:v,stateAttribute:b,trigger:u,onTriggerChange:d,onTriggerEnter:T.useCallback(()=>{c.isOpenDelayed?O():C()},[c.isOpenDelayed,O,C]),onTriggerLeave:T.useCallback(()=>{p?y():(window.clearTimeout(h.current),h.current=0)},[y,p]),onOpen:C,onClose:y,disableHoverableContent:p,children:n})}))};Eq.displayName=vE;var uI="TooltipTrigger",Cq=T.forwardRef((e,t)=>{const f=e,{__scopeTooltip:n}=f,r=B(f,["__scopeTooltip"]),s=bp(uI,n),i=g1(uI,n),o=gE(n),a=T.useRef(null),c=Un(t,a,s.onTriggerChange),l=T.useRef(!1),u=T.useRef(!1),d=T.useCallback(()=>l.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),g.jsx(pq,P(S({asChild:!0},o),{children:g.jsx(Ht.button,P(S({"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute},r),{ref:c,onPointerMove:Ye(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ye(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ye(e.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ye(e.onFocus,()=>{l.current||s.onOpen()}),onBlur:Ye(e.onBlur,s.onClose),onClick:Ye(e.onClick,s.onClose)}))}))});Cq.displayName=uI;var v1="TooltipPortal",[ime,ome]=mE(v1,{forceMount:void 0}),yq=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,i=bp(v1,t);return g.jsx(ime,{scope:t,forceMount:n,children:g.jsx(ui,{present:n||i.open,children:g.jsx(Op,{asChild:!0,container:s,children:r})})})};yq.displayName=v1;var Ju="TooltipContent",Sq=T.forwardRef((e,t)=>{const n=ome(Ju,e.__scopeTooltip),a=e,{forceMount:r=n.forceMount,side:s="top"}=a,i=B(a,["forceMount","side"]),o=bp(Ju,e.__scopeTooltip);return g.jsx(ui,{present:r||o.open,children:o.disableHoverableContent?g.jsx(Tq,P(S({side:s},i),{ref:t})):g.jsx(ame,P(S({side:s},i),{ref:t}))})}),ame=T.forwardRef((e,t)=>{const n=bp(Ju,e.__scopeTooltip),r=g1(Ju,e.__scopeTooltip),s=T.useRef(null),i=Un(t,s),[o,a]=T.useState(null),{trigger:c,onClose:l}=n,u=s.current,{onPointerInTransitChange:d}=r,f=T.useCallback(()=>{a(null),d(!1)},[d]),h=T.useCallback((p,_)=>{const m=p.currentTarget,v={x:p.clientX,y:p.clientY},E=ume(v,m.getBoundingClientRect()),b=dme(v,E),C=fme(_.getBoundingClientRect()),y=pme([...b,...C]);a(y),d(!0)},[d]);return T.useEffect(()=>()=>f(),[f]),T.useEffect(()=>{if(c&&u){const p=m=>h(m,u),_=m=>h(m,c);return c.addEventListener("pointerleave",p),u.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",_)}}},[c,u,h,f]),T.useEffect(()=>{if(o){const p=_=>{const m=_.target,v={x:_.clientX,y:_.clientY},E=(c==null?void 0:c.contains(m))||(u==null?void 0:u.contains(m)),b=!hme(v,o);E?f():b&&(f(),l())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,u,o,l,f]),g.jsx(Tq,P(S({},e),{ref:i}))}),[cme,lme]=mE(vE,{isInside:!1}),Tq=T.forwardRef((e,t)=>{const d=e,{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o}=d,a=B(d,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),c=bp(Ju,n),l=gE(n),{onClose:u}=c;return T.useEffect(()=>(document.addEventListener(lI,u),()=>document.removeEventListener(lI,u)),[u]),T.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),g.jsx(Sp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:g.jsxs(_q,P(S(S({"data-state":c.stateAttribute},l),a),{ref:t,style:P(S({},a.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[g.jsx(M9,{children:r}),g.jsx(cme,{scope:n,isInside:!0,children:g.jsx(tme,{id:c.contentId,role:"tooltip",children:s||r})})]}))})});Sq.displayName=Ju;var Oq="TooltipArrow",bq=T.forwardRef((e,t)=>{const o=e,{__scopeTooltip:n}=o,r=B(o,["__scopeTooltip"]),s=gE(n);return lme(Oq,n).isInside?null:g.jsx(mq,P(S(S({},s),r),{ref:t}))});bq.displayName=Oq;function ume(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dme(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function fme(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function hme(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,c=t[i].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function pme(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_me(t)}function _me(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var mme=vq,gme=Eq,vme=Cq,Eme=yq,Cme=Sq,yme=bq;function Sme(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Aq(t))&&(r&&(r+=" "),r+=n);return r}function Aq(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Aq(e[r]))&&(n&&(n+=" "),n+=t);return n}function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dI.apply(this,arguments)}function Tme(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):s(o,a)}}}var E1="-";function Ome(e){var t=Ame(e);function n(s){var i=s.split(E1);return i[0]===""&&i.length!==1&&i.shift(),Nq(i,t)||bme(s)}function r(s){return e.conflictingClassGroups[s]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function Nq(e,t){var n;if(e.length===0)return t.classGroupId;var r=e[0],s=t.nextPart.get(r),i=s?Nq(e.slice(1),s):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(E1);return(n=t.validators.find(function(a){var c=a.validator;return c(o)}))==null?void 0:n.classGroupId}}var tF=/^\[(.+)\]$/;function bme(e){if(tF.test(e)){var t=tF.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Ame(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=Ime(Object.entries(e.classGroups),n);return s.forEach(function(i){var o=i[0],a=i[1];fI(a,r,o,t)}),r}function fI(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:nF(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(Nme(s)){fI(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var a=o[0],c=o[1];fI(c,nF(t,a),n,r)})})}function nF(e,t){var n=e;return t.split(E1).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Nme(e){return e.isThemeGetter}function Ime(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],l=a[1];return[t+c,l]})):o});return[r,i]}):e}var Iq="!";function Pme(e){var t=e.separator||":";return function(r){for(var s=0,i=[],o=0,a=0;a<r.length;a++){var c=r[a];s===0&&c===t[0]&&(t.length===1||r.slice(a,a+t.length)===t)&&(i.push(r.slice(o,a)),o=a+t.length),c==="["?s++:c==="]"&&s--}var l=i.length===0?r:r.substring(o),u=l.startsWith(Iq),d=u?l.substring(1):l;return{modifiers:i,hasImportantModifier:u,baseClassName:d}}}function wme(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Rme(e){return dI({cache:Tme(e.cacheSize),splitModifiers:Pme(e)},Ome(e))}var xme=/\s+/;function Mme(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(xme).map(function(o){var a=n(o),c=a.modifiers,l=a.hasImportantModifier,u=a.baseClassName,d=r(u);if(!d)return{isTailwindClass:!1,originalClassName:o};var f=wme(c).join(":"),h=l?f+Iq:f;return{isTailwindClass:!0,modifierId:h,classGroupId:d,originalClassName:o}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,l=a+c;return i.has(l)?!1:(i.add(l),s(c).forEach(function(u){return i.add(a+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function kme(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,o=a;function a(l){var u=t[0],d=t.slice(1),f=d.reduce(function(h,p){return p(h)},u());return r=Rme(f),s=r.cache.get,i=r.cache.set,o=c,c(l)}function c(l){var u=s(l);if(u)return u;var d=Mme(l,r);return i(l,d),d}return function(){return o(Sme.apply(null,arguments))}}function Yt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var La=/^\[(.+)\]$/,Lme=/^\d+\/\d+$/,Dme=new Set(["px","full","screen"]),Ume=/^(\d+)?(xs|sm|md|lg|xl)$/,Fme=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh)/,Gme=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function xs(e){return!Number.isNaN(Number(e))||Dme.has(e)||Lme.test(e)||ic(e)}function ic(e){var t,n=(t=La.exec(e))==null?void 0:t[1];return n?n.startsWith("length:")||Fme.test(n):!1}function jme(e){var t,n=(t=La.exec(e))==null?void 0:t[1];return n?n.startsWith("size:"):!1}function Bme(e){var t,n=(t=La.exec(e))==null?void 0:t[1];return n?n.startsWith("position:"):!1}function Hme(e){var t,n=(t=La.exec(e))==null?void 0:t[1];return n?n.startsWith("url(")||n.startsWith("url:"):!1}function rF(e){var t,n=(t=La.exec(e))==null?void 0:t[1];return n?!Number.isNaN(Number(n))||n.startsWith("number:"):!1}function ur(e){var t,n=(t=La.exec(e))==null?void 0:t[1];return n?Number.isInteger(Number(n)):Number.isInteger(Number(e))}function Bn(e){return La.test(e)}function Yd(){return!0}function Fo(e){return Ume.test(e)}function $me(e){var t,n=(t=La.exec(e))==null?void 0:t[1];return n?Gme.test(n):!1}function Wme(){var e=Yt("colors"),t=Yt("spacing"),n=Yt("blur"),r=Yt("brightness"),s=Yt("borderColor"),i=Yt("borderRadius"),o=Yt("borderSpacing"),a=Yt("borderWidth"),c=Yt("contrast"),l=Yt("grayscale"),u=Yt("hueRotate"),d=Yt("invert"),f=Yt("gap"),h=Yt("gradientColorStops"),p=Yt("inset"),_=Yt("margin"),m=Yt("opacity"),v=Yt("padding"),E=Yt("saturate"),b=Yt("scale"),C=Yt("sepia"),y=Yt("skew"),O=Yt("space"),A=Yt("translate"),N=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},w=function(){return["auto",t]},M=function(){return["",xs]},k=function(){return["auto",ur]},D=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},L=function(){return["solid","dashed","dotted","double","none"]},G=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},K=function(){return["start","end","center","between","around","evenly"]},V=function(){return["","0",Bn]},Y=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]};return{cacheSize:500,theme:{colors:[Yd],spacing:[xs],blur:["none","",Fo,ic],brightness:[ur],borderColor:[e],borderRadius:["none","","full",Fo,ic],borderSpacing:[t],borderWidth:M(),contrast:[ur],grayscale:V(),hueRotate:[ur],invert:V(),gap:[t],gradientColorStops:[e],inset:w(),margin:w(),opacity:[ur],padding:[t],saturate:[ur],scale:[ur],sepia:V(),skew:[ur,Bn],space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",Bn]}],container:["container"],columns:[{columns:[Fo]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(D(),[Bn])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:[ur]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bn]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ur]}],"grid-cols":[{"grid-cols":[Yd]}],"col-start-end":[{col:["auto",{span:[ur]}]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Yd]}],"row-start-end":[{row:["auto",{span:[ur]}]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:K()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(K(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(K(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",xs]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Fo]},Fo,ic]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",xs]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",Fo,ic]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rF]}],"font-family":[{font:[Yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ic]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs]}],"list-style-type":[{list:["none","disc","decimal",Bn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(L(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",xs]}],"underline-offset":[{"underline-offset":["auto",xs]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ic]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",Bn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(D(),[Bme])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jme]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hme]}],"bg-color":[{bg:[e]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[].concat(L(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(L())}],"outline-offset":[{"outline-offset":[xs]}],"outline-w":[{outline:[xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fo,$me]}],"shadow-color":[{shadow:[Yd]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":G()}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fo,Bn]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bn]}],duration:[{duration:[ur]}],ease:[{ease:["linear","in","out","in-out",Bn]}],delay:[{delay:[ur]}],animate:[{animate:["none","spin","ping","pulse","bounce",Bn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ur,Bn]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[y]}],"skew-y":[{"skew-y":[y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xs,rF]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],"col-start-end":["col-start","col-end"],"row-start-end":["row-start","row-end"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var qme=kme(Wme),Vme=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],zme=Vme,Pq=Symbol("isTwElement?"),Yme=(e,t)=>e.reduce((n,r,s)=>n.concat(r||[],t[s]||[]),[]),Kme=(e,t="")=>{let n=e.join(" ").trim().replace(/\n/g," ").replace(/\s{2,}/g," ").split(" ").filter(s=>s!==","),r=t?t.split(" "):[];return qme(...n.concat(r).filter(s=>s!==" "))},Jme=([e])=>e.charAt(0)!=="$",BT=e=>e[Pq]===!0,wq=e=>(t,...n)=>{let r=(s=[])=>{let i=Ft.forwardRef((o,a)=>{let p=o,{$as:c=e,style:l={}}=p,u=B(p,["$as","style"]),d=BT(e)?e:c,f=s?s.reduce((_,m)=>Object.assign(_,typeof m=="function"?m(o):m),{}):{},h=BT(d)?u:Object.fromEntries(Object.entries(u).filter(Jme));return Ft.createElement(d,S(P(S({},h),{style:S(S({},f),l),ref:a,className:Kme(Yme(t,n.map(_=>_(P(S({},u),{$as:c})))),u.className)}),BT(e)?{$as:c}:{}))});return i[Pq]=!0,typeof e!="string"?i.displayName=e.displayName||e.name||"tw.Component":i.displayName="tw."+e,i.withStyle=o=>r(s.concat(o)),i};return r()},Xme=zme.reduce((e,t)=>P(S({},e),{[t]:wq(t)}),{}),Qme=Object.assign(wq,Xme),Da=Qme;const Ua=e=>{"use forget";const t=j.c(73),{ariaLive:n,triggerAs:r,disabled:s,label:i,secondaryLabel:o,contentClassName:a,customPaddingClassName:c,customBorderClassName:l,customBackgroundColorClassName:u,theme:d,cornerRadius:f,side:h,sideOffset:p,align:_,alignOffset:m,withArrow:v,wide:E,narrow:b,interactive:C,usePortal:y,className:O,children:A,delayDuration:N,closeOnOutsideClick:I,open:w,onOpenChange:M,onDismissClick:k,isLeftArrow:D,labelTextAlign:L,ignoreTriggerOnOutsideClick:G,labelOrientation:K,defaultOpen:V,labelClassName:Y,secondaryLabelClassName:Q,onClick:z}=e,F=r===void 0?"span":r,Te=d===void 0?"default":d,fe=f===void 0?"lg":f,$=h===void 0?"bottom":h,W=p===void 0?8:p,ee=_===void 0?"center":_,J=m===void 0?0:m,Z=v===void 0?!1:v,ye=E===void 0?!1:E,me=b===void 0?!1:b,Ie=C===void 0?!1:C,Ce=y===void 0?!0:y,Me=N===void 0?0:N,ke=I===void 0?!0:I,xe=D===void 0?!1:D,Ke=L===void 0?"center":L,le=G===void 0?!1:G,We=K===void 0?"vertical":K,_e=V===void 0?!1:V,U=vt(),be=T.useRef(null);if(s){let rn;return t[0]!==A?(rn=g.jsx(g.Fragment,{children:A}),t[0]=A,t[1]=rn):rn=t[1],rn}if(!i){let rn;return t[2]!==F||t[3]!==A||t[4]!==O?(rn=F?g.jsx(F,{className:O,children:A}):A,t[2]=F,t[3]=A,t[4]=O,t[5]=rn):rn=t[5],rn}let ge;e:switch(Te){case"white":{ge="light bg-white";break e}case"primary":{ge="bg-token-main-surface-primary";break e}case"default":ge="dark bg-black"}u!=null&&(ge=u);const Ge=Ke==="left"?"text-start":"text-center";let ae;t[6]!==ke||t[7]!==le?(ae=ke?le?rn=>{var Al;(Al=be.current)!=null&&Al.contains(rn.target)&&rn.preventDefault()}:void 0:cge,t[6]=ke,t[7]=le,t[8]=ae):ae=t[8];const Fe=c!=null?c:"px-2 py-1",Je=Te==="white"&&"shadow-xs",qe="rounded-".concat(fe),Ae=!Z&&"overflow-hidden",Xe=ye?"max-w-sm":me?"max-w-2xs":"max-w-xs";let dt;t[9]!==ge||t[10]!==a||t[11]!==l||t[12]!==Fe||t[13]!==Je||t[14]!==qe||t[15]!==Ae||t[16]!==Xe?(dt=oe("relative z-50 transition-opacity select-none",Fe,Je,qe,Ae,l,ge,Xe,a),t[9]=ge,t[10]=a,t[11]=l,t[12]=Fe,t[13]=Je,t[14]=qe,t[15]=Ae,t[16]=Xe,t[17]=dt):dt=t[17];const Ot=We==="horizontal"?"flex gap-2":void 0;let $t;t[18]!==Y||t[19]!==Ge?($t=oe("text-token-text-primary text-xs font-semibold whitespace-pre-wrap",Ge,Y),t[18]=Y,t[19]=Ge,t[20]=$t):$t=t[20];let Wt;t[21]!==i||t[22]!==$t?(Wt=g.jsx("div",{className:$t,children:i}),t[21]=i,t[22]=$t,t[23]=Wt):Wt=t[23];let Et;t[24]!==o||t[25]!==Q||t[26]!==Ge?(Et=o&&g.jsx("div",{className:oe("text-token-text-tertiary text-xs font-medium whitespace-pre-wrap",Ge,Q),children:o}),t[24]=o,t[25]=Q,t[26]=Ge,t[27]=Et):Et=t[27];let Gn;t[28]!==ge||t[29]!==xe||t[30]!==Z?(Gn=Z&&g.jsx(yme,{asChild:!0,children:xe?g.jsx(tge,{className:ge}):g.jsx(ege,{className:ge})}),t[28]=ge,t[29]=xe,t[30]=Z,t[31]=Gn):Gn=t[31];let jn;t[32]!==Ot||t[33]!==Wt||t[34]!==Et||t[35]!==Gn?(jn=g.jsxs("div",{className:Ot,children:[Wt,Et,Gn]}),t[32]=Ot,t[33]=Wt,t[34]=Et,t[35]=Gn,t[36]=jn):jn=t[36];let hn;t[37]!==U||t[38]!==k?(hn=k&&g.jsx(B9,{role:"button","aria-label":U.formatMessage(nge.dismissTooltip),tabIndex:0,className:"icon -me-1 cursor-pointer text-gray-400",onClick:k}),t[37]=U,t[38]=k,t[39]=hn):hn=t[39];let An;t[40]!==jn||t[41]!==hn?(An=g.jsxs("div",{className:"flex items-center gap-1",children:[jn,hn]}),t[40]=jn,t[41]=hn,t[42]=An):An=t[42];let vr;t[43]!==ee||t[44]!==J||t[45]!==n||t[46]!==$||t[47]!==W||t[48]!==ae||t[49]!==dt||t[50]!==An?(vr=g.jsx(Cme,{onEscapeKeyDown:age,collisionPadding:8,onPointerDownOutside:ae,"aria-live":n,side:$,sideOffset:W,alignOffset:J,align:ee,className:dt,children:An}),t[43]=ee,t[44]=J,t[45]=n,t[46]=$,t[47]=W,t[48]=ae,t[49]=dt,t[50]=An,t[51]=vr):vr=t[51];const Er=vr,Cr=!Ie;let cr;t[52]!==le||t[53]!==z?(cr=le?rn=>{rn.preventDefault(),z==null||z(rn)}:z,t[52]=le,t[53]=z,t[54]=cr):cr=t[54];let fi;t[55]!==F||t[56]!==A||t[57]!==O?(fi=F?g.jsx(rge,{as:F,className:O,children:A}):A,t[55]=F,t[56]=A,t[57]=O,t[58]=fi):fi=t[58];let kr;t[59]!==cr||t[60]!==fi?(kr=g.jsx(vme,{asChild:!0,ref:be,onClick:cr,children:fi}),t[59]=cr,t[60]=fi,t[61]=kr):kr=t[61];let Lr;t[62]!==Er||t[63]!==Ce?(Lr=Ce?g.jsx(Zme,{children:g.jsx(sF,{children:Er})}):g.jsx(sF,{children:Er}),t[62]=Er,t[63]=Ce,t[64]=Lr):Lr=t[64];let ws;return t[65]!==_e||t[66]!==Me||t[67]!==M||t[68]!==w||t[69]!==Cr||t[70]!==kr||t[71]!==Lr?(ws=g.jsxs(gme,{delayDuration:Me,disableHoverableContent:Cr,defaultOpen:_e,open:w,onOpenChange:M,children:[kr,Lr]}),t[65]=_e,t[66]=Me,t[67]=M,t[68]=w,t[69]=Cr,t[70]=kr,t[71]=Lr,t[72]=ws):ws=t[72],ws};function Zme(e){"use forget";const t=j.c(3),{children:n}=e,r=j9();let s;return t[0]!==n||t[1]!==r?(s=g.jsx(Eme,P(S({},r),{children:n})),t[0]=n,t[1]=r,t[2]=s):s=t[2],s}var RH;const ege=Da.div(RH||(RH=$i(["relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10"])));var xH;const tge=Da.div(xH||(xH=$i(["relative top-[-4px] end-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10"]))),nge=Rt({dismissTooltip:{id:"Tooltip.dismissTooltip",defaultMessage:"Close Tooltip"}}),rge=e=>{"use forget";var c;const t=j.c(15);let n,r,s;if(t[0]!==e?(c=e,{as:n,children:r}=c,s=B(c,["as","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s):(n=t[1],r=t[2],s=t[3]),!T.isValidElement(r)){let l;return t[4]!==n||t[5]!==r||t[6]!==s?(l=g.jsx(n,P(S({},s),{children:r})),t[4]=n,t[5]=r,t[6]=s,t[7]=l):l=t[7],l}const i=s["aria-describedby"];let o;t[8]!==r||t[9]!==i?(o=g.jsx(q9,{"aria-describedby":i,children:r}),t[8]=r,t[9]=i,t[10]=o):o=t[10];let a;return t[11]!==n||t[12]!==s||t[13]!==o?(a=g.jsx(n,P(S({},s),{onFocusCapture:s.onFocus,children:o})),t[11]=n,t[12]=s,t[13]=o,t[14]=a):a=t[14],a},Cg=T.createContext(!1),sF=e=>{"use forget";const t=j.c(5),{children:n}=e,s=T.use(Cg)&&"sr-only!";let i;t[0]!==s?(i=oe(s),t[0]=s,t[1]=i):i=t[1];let o;return t[2]!==n||t[3]!==i?(o=g.jsx(q9,{className:i,children:n}),t[2]=n,t[3]=i,t[4]=o):o=t[4],o},sge=e=>{"use forget";const t=j.c(2),{children:n}=e;let r;return t[0]!==n?(r=g.jsx(Cg.Provider,{value:!1,children:n}),t[0]=n,t[1]=r):r=t[1],r},ige=e=>{"use forget";var d;const t=j.c(6),{children:n}=e,r=T.use(Cg),[s,i]=T.useState(!1);let o;t[0]!==r||t[1]!==n?(o=r?n:T.cloneElement(n,{onOpenChange:f=>{var h,p;i(f),(p=(h=n.props).onOpenChange)==null||p.call(h,f)}}),t[0]=r,t[1]=n,t[2]=o):o=t[2];const a=o,c=(d=n.props.open)!=null?d:s,l=r===!0||c;let u;return t[3]!==a||t[4]!==l?(u=g.jsx(Cg.Provider,{value:l,children:a}),t[3]=a,t[4]=l,t[5]=u):u=t[5],u};function oge(){document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))}function age(e){e.preventDefault(),e.stopPropagation(),queueMicrotask(oge)}function cge(e){return e.preventDefault()}function Rq(e){const t=e+"CollectionProvider",[n,r]=f1(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:_}=h,m=Ft.useRef(null),v=Ft.useRef(new Map).current;return g.jsx(s,{scope:p,itemMap:v,collectionRef:m,children:_})};o.displayName=t;const a=e+"CollectionSlot",c=Ft.forwardRef((h,p)=>{const{scope:_,children:m}=h,v=i(a,_),E=Un(p,v.collectionRef);return g.jsx(Yu,{ref:E,children:m})});c.displayName=a;const l=e+"CollectionItemSlot",u="data-radix-collection-item",d=Ft.forwardRef((h,p)=>{const y=h,{scope:_,children:m}=y,v=B(y,["scope","children"]),E=Ft.useRef(null),b=Un(p,E),C=i(l,_);return Ft.useEffect(()=>(C.itemMap.set(E,S({ref:E},v)),()=>void C.itemMap.delete(E))),g.jsx(Yu,{[u]:"",ref:b,children:m})});d.displayName=l;function f(h){const p=i(e+"CollectionConsumer",h);return Ft.useCallback(()=>{const m=p.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll("[".concat(u,"]")));return Array.from(p.itemMap.values()).sort((C,y)=>v.indexOf(C.ref.current)-v.indexOf(y.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},f,r]}var xq=T.createContext(void 0),lge=e=>{const{dir:t,children:n}=e;return g.jsx(xq.Provider,{value:t,children:n})};function C1(e){const t=T.useContext(xq);return e||t||"ltr"}var HT="rovingFocusGroup.onEntryFocus",uge={bubbles:!1,cancelable:!0},EE="RovingFocusGroup",[hI,Mq,dge]=Rq(EE),[fge,CE]=f1(EE,[dge]),[hge,pge]=fge(EE),kq=T.forwardRef((e,t)=>g.jsx(hI.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(hI.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(_ge,P(S({},e),{ref:t}))})}));kq.displayName=EE;var _ge=T.forwardRef((e,t)=>{const N=e,{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1}=N,d=B(N,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),f=T.useRef(null),h=Un(t,f),p=C1(i),[_=null,m]=gl({prop:o,defaultProp:a,onChange:c}),[v,E]=T.useState(!1),b=vo(l),C=Mq(n),y=T.useRef(!1),[O,A]=T.useState(0);return T.useEffect(()=>{const I=f.current;if(I)return I.addEventListener(HT,b),()=>I.removeEventListener(HT,b)},[b]),g.jsx(hge,{scope:n,orientation:r,dir:p,loop:s,currentTabStopId:_,onItemFocus:T.useCallback(I=>m(I),[m]),onItemShiftTab:T.useCallback(()=>E(!0),[]),onFocusableItemAdd:T.useCallback(()=>A(I=>I+1),[]),onFocusableItemRemove:T.useCallback(()=>A(I=>I-1),[]),children:g.jsx(Ht.div,P(S({tabIndex:v||O===0?-1:0,"data-orientation":r},d),{ref:h,style:S({outline:"none"},e.style),onMouseDown:Ye(e.onMouseDown,()=>{y.current=!0}),onFocus:Ye(e.onFocus,I=>{const w=!y.current;if(I.target===I.currentTarget&&w&&!v){const M=new CustomEvent(HT,uge);if(I.currentTarget.dispatchEvent(M),!M.defaultPrevented){const k=C().filter(V=>V.focusable),D=k.find(V=>V.active),L=k.find(V=>V.id===_),K=[D,L,...k].filter(Boolean).map(V=>V.ref.current);Uq(K,u)}}y.current=!1}),onBlur:Ye(e.onBlur,()=>E(!1))}))})}),Lq="RovingFocusGroupItem",Dq=T.forwardRef((e,t)=>{const p=e,{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i}=p,o=B(p,["__scopeRovingFocusGroup","focusable","active","tabStopId"]),a=wi(),c=i||a,l=pge(Lq,n),u=l.currentTabStopId===c,d=Mq(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=l;return T.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),g.jsx(hI.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:g.jsx(Ht.span,P(S({tabIndex:u?0:-1,"data-orientation":l.orientation},o),{ref:t,onMouseDown:Ye(e.onMouseDown,_=>{r?l.onItemFocus(c):_.preventDefault()}),onFocus:Ye(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:Ye(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){l.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const m=vge(_,l.orientation,l.dir);if(m!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=d().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")E.reverse();else if(m==="prev"||m==="next"){m==="prev"&&E.reverse();const b=E.indexOf(_.currentTarget);E=l.loop?Ege(E,b+1):E.slice(b+1)}setTimeout(()=>Uq(E))}})}))})});Dq.displayName=Lq;var mge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gge(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vge(e,t,n){const r=gge(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mge[r]}function Uq(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ege(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Fq=kq,Gq=Dq,y1="Tabs",[Cge]=Cd(y1,[CE]),jq=CE(),[yge,S1]=Cge(y1),Bq=T.forwardRef((e,t)=>{const h=e,{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic"}=h,l=B(h,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),u=C1(a),[d,f]=gl({prop:r,onChange:s,defaultProp:i});return g.jsx(yge,{scope:n,baseId:wi(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:c,children:g.jsx(Ht.div,P(S({dir:u,"data-orientation":o},l),{ref:t}))})});Bq.displayName=y1;var Hq="TabsList",$q=T.forwardRef((e,t)=>{const a=e,{__scopeTabs:n,loop:r=!0}=a,s=B(a,["__scopeTabs","loop"]),i=S1(Hq,n),o=jq(n);return g.jsx(Fq,P(S({asChild:!0},o),{orientation:i.orientation,dir:i.dir,loop:r,children:g.jsx(Ht.div,P(S({role:"tablist","aria-orientation":i.orientation},s),{ref:t}))}))});$q.displayName=Hq;var Wq="TabsTrigger",qq=T.forwardRef((e,t)=>{const d=e,{__scopeTabs:n,value:r,disabled:s=!1}=d,i=B(d,["__scopeTabs","value","disabled"]),o=S1(Wq,n),a=jq(n),c=Yq(o.baseId,r),l=Kq(o.baseId,r),u=r===o.value;return g.jsx(Gq,P(S({asChild:!0},a),{focusable:!s,active:u,children:g.jsx(Ht.button,P(S({type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c},i),{ref:t,onMouseDown:Ye(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ye(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ye(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(r)})}))}))});qq.displayName=Wq;var Vq="TabsContent",zq=T.forwardRef((e,t)=>{const f=e,{__scopeTabs:n,value:r,forceMount:s,children:i}=f,o=B(f,["__scopeTabs","value","forceMount","children"]),a=S1(Vq,n),c=Yq(a.baseId,r),l=Kq(a.baseId,r),u=r===a.value,d=T.useRef(u);return T.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),g.jsx(ui,{present:s||u,children:({present:h})=>g.jsx(Ht.div,P(S({"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0},o),{ref:t,style:P(S({},e.style),{animationDuration:d.current?"0s":void 0}),children:h&&i}))})});zq.displayName=Vq;function Yq(e,t){return"".concat(e,"-trigger-").concat(t)}function Kq(e,t){return"".concat(e,"-content-").concat(t)}var L8e=Bq,D8e=$q,Sge=qq,Tge=zq,Oge=(e=>(e.ArchivedChats="ArchivedChats",e))(Oge||{}),yE=(e=>(e.General="General",e.Notifications="Notifications",e.Personalization="Personalization",e.Connectors="Connectors",e.ConnectorsAdvanced="Connectors/Advanced",e.Advertising="Advertising",e.DataControls="DataControls",e.Schedules="Schedules",e.Orders="Orders",e.Security="Security",e.ParentalControls="ParentalControls",e.Hazelnuts="Hazelnuts",e.Agreements="Agreements",e.Account="Account",e.Internal="Internal",e))(yE||{});function bge(e){return e.startsWith("#settings")}function U8e(e){return e.startsWith("#settings/Account")}function F8e(e){if(!bge(e))return null;const t=e.split("?")[0].split("/")[1];if(t=="Advertising"&&!$he())return"General";if(Object.values(yE).includes(t))return t;switch(t){case"Subscription":case"BuilderProfile":case"Referrals":return"Account";case"ConnectorSettings":return"Connectors";case"SecureSignIn":return"Security";case"Record":return"Personalization";case"AmphoraControls":return"ParentalControls"}return"General"}function G8e(e,t={}){const{dataControlsRoute:n,parentalControlsMemberId:r}=t;let s=e&&e!=="General"?"settings/".concat(e):"settings";return e==="DataControls"&&n!=null&&(s+="/".concat(n)),e==="ParentalControls"&&typeof r=="string"&&r.length>0&&(s+="/member/".concat(encodeURIComponent(r))),yu({hash:s})}const j8e=e=>g.jsx(Io,S({as:Sge,fillContainer:!0},e));function B8e({value:e,children:t}){return g.jsx(Tge,{className:"text-token-text-primary relative flex w-full flex-col overflow-y-auto px-4 text-sm max-md:max-h-[calc(100vh-150px)] md:min-h-[380px]",value:e,children:t})}const Age=({title:e,description:t,learnMoreHref:n,children:r,noBorder:s=!1,headerTrailingContent:i,headerInteractable:o=!1,headerSticky:a=!1,className:c})=>{let l;if(e){let u=o?e:g.jsx("div",{className:"truncate select-none",children:e});n&&(u=g.jsxs("div",{className:"flex items-center gap-2",children:[u,g.jsx(Ua,{label:g.jsx(xt,{id:"WbGW2C",defaultMessage:"Learn more"}),contentClassName:"touch:hidden",side:"right",triggerAs:null,children:g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-token-text-tertiary not-touch:mt-0.5 flex shrink-0 items-center gap-1 text-sm",children:g.jsx(Zhe,{className:"icon-sm"})})})]}));const d=t?g.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:t}):null;l=i?g.jsxs("div",{className:oe("grid min-h-15 items-start gap-x-4 gap-y-1 py-3","grid-cols-[minmax(0,1fr)_auto]",!s&&"border-token-border-default border-b"),children:[g.jsxs("h3",{className:"min-w-0 text-lg font-normal",children:[u,d]}),g.jsx("div",{className:"justify-self-end",children:i})]}):g.jsx("div",{className:oe("flex min-h-15 items-center py-3",!s&&"border-token-border-default border-b"),children:g.jsxs("h3",{className:"w-full text-lg font-normal",children:[u,d]})})}return a&&(l=g.jsx("div",{className:"bg-token-bg-primary sticky top-0 -mx-4 px-4",children:l})),g.jsxs("section",{className:oe("relative mb-4 not-has-[>div,>section,>h1,>h2,>h3,>h4,>h5,>h6]:hidden",c),children:[l,r]})};function Nge({children:e,className:t}){return g.jsx("div",{className:oe("border-token-border-light flex min-h-15 items-center border-b py-2 last-of-type:border-none",t),children:g.jsx("div",{className:"w-full",children:e})})}function H8e(e){"use forget";const t=j.c(8),{labelMessage:n,value:r,testId:s}=e;let i;t[0]!==n?(i=g.jsx("div",{className:"text-token-text-primary text-sm",children:g.jsx(xt,S({},n))}),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==r?(o=g.jsx("div",{className:"text-token-text-secondary min-w-0 text-end text-sm break-words",children:r}),t[2]=r,t[3]=o):o=t[3];let a;return t[4]!==i||t[5]!==o||t[6]!==s?(a=g.jsxs("div",{className:"flex w-full items-start justify-between gap-4","data-testid":s,children:[i,o]}),t[4]=i,t[5]=o,t[6]=s,t[7]=a):a=t[7],a}function pI(e){"use forget";var a;const t=j.c(10);let n,r,s;t[0]!==e?(a=e,{className:r,children:n}=a,s=B(a,["className","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s):(n=t[1],r=t[2],s=t[3]);let i;t[4]!==r?(i=oe("text-token-text-tertiary my-1 pe-12 text-xs text-balance",r),t[4]=r,t[5]=i):i=t[5];let o;return t[6]!==n||t[7]!==s||t[8]!==i?(o=g.jsx("div",P(S({className:i},s),{children:n})),t[6]=n,t[7]=s,t[8]=i,t[9]=o):o=t[9],o}function $8e({label:e,disabled:t,enabled:n,onChange:r,description:s,toggleTooltip:i,isLoading:o=!1,testId:a,compactDescription:c=!1,centerToggleVertically:l=!1,showAlphaPill:u=!1,ariaLabel:d,toggleLeftAdornment:f}){const h=typeof e=="string"?e:d,p=h?{"aria-label":h}:{"aria-hidden":!0},_=g.jsx(F9,S({disabled:t,checked:n,onCheckedChange:r,size:"normal","data-testid":a},p)),m=i?g.jsx(Ua,{label:i,side:"top",children:_}):_;return l?g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&g.jsx($U,{})]}),s!=null&&g.jsx(pI,{className:c?"mt-0.5":void 0,children:s})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[f,o?g.jsx(zu,{}):m]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&g.jsx($U,{})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[f,o?g.jsx(zu,{}):m]})]}),s!=null&&g.jsx(pI,{className:c?"mt-0.5":void 0,children:s})]})}function W8e({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:s,description:i,testId:o}){const a=i?"items-start":"items-center";return g.jsxs("div",{className:oe("flex",a,"justify-between"),children:[g.jsxs("div",{children:[g.jsx("div",{children:n}),i!=null&&g.jsx(pI,{children:i})]}),g.jsx(li,{className:"shrink-0",color:e,disabled:!!t,onClick:s,"data-testid":o,children:r})]})}function q8e(e){"use forget";const t=j.c(17),{onIntent:n,onClick:r,label:s,stateLabel:i,testId:o}=e;let a;t[0]!==s?(a=g.jsx("div",{children:s}),t[0]=s,t[1]=a):a=t[1];let c;t[2]!==i?(c=i&&g.jsx("div",{className:"me-1 flex items-center",children:i}),t[2]=i,t[3]=c):c=t[3];let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=g.jsx(w9,{className:"icon-sm"}),t[4]=l):l=t[4];let u;t[5]!==c?(u=g.jsxs("div",{className:"text-token-text-secondary flex min-h-[38px] items-center",children:[c,l]}),t[5]=c,t[6]=u):u=t[6];let d;t[7]!==a||t[8]!==u?(d=g.jsxs("div",{className:"flex items-center justify-between",children:[a,u]}),t[7]=a,t[8]=u,t[9]=d):d=t[9];let f;t[10]!==r||t[11]!==d||t[12]!==o?(f=g.jsx("button",{className:"w-full",onClick:r,"data-testid":o,children:d}),t[10]=r,t[11]=d,t[12]=o,t[13]=f):f=t[13];let h;return t[14]!==n||t[15]!==f?(h=g.jsx(Vu,{onIntent:n,children:f}),t[14]=n,t[15]=f,t[16]=h):h=t[16],h}function V8e(e){return H.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}}})}function Jq(){if(typeof window>"u")return;const{hash:e,search:t}=window.location,n=r=>{var o;const s=r.startsWith("?")?r.slice(1):r;return(o=new URLSearchParams(s).get("referrer"))!=null?o:void 0};if(e&&e.includes("?")){const r=e.substring(e.indexOf("?")+1),s=n(r);if(s)return s}return n(t)}const z8e=e=>(e==null?void 0:e.visibility)==="HIDDEN",Ige=Rt({gdriveBrandName:{id:"81dp6y",defaultMessage:"Google Drive"}}),Pge=(e,t)=>e==="gdrive_action_connector"?t.formatMessage(Ige.gdriveBrandName):e;function Y8e({id:e,name:t,intl:n,defaultMessageFn:r,overrideConnectorMessageFnMap:s}){var i,o;return(o=(i=s==null?void 0:s[e])==null?void 0:i.call(s))!=null?o:r(Pge(t,n))}const K8e="connector_bd313622bce5485cb3d0b338715f7108",SE="connector_3f8d1a79f27c4c7ba1a897ab13bf37dc",wge="slack_codex_oauth_client",TE="connector_8cbe1e9e357f4ec79fa9f1a8aa78f4c1",Rge="slack_codex_bot_oauth_client",OE="connector_fdb98b59c8d44f678b086d20e82bd316",xge="linear_codex_bot_oauth_client",J8e=new Set([OE,SE,TE]),_I={gdrive_sync_connector:"gdrive_sync_connector",slack_sync_connector:"slack_sync_connector",github_sync_connector:"github_sync_connector",notion_sync_connector:"notion_sync_connector",sharepoint_sync_connector:"sharepoint_sync_connector",sharepoint_admin_sync_connector:"sharepoint_admin_sync_connector",teams_sync_connector:"teams_sync_connector",teams_admin_sync_connector:"teams_admin_sync_connector",linear_sync_connector:"linear_sync_connector",jira_sync_connector:"jira_sync_connector",jira_servicemanagement_sync_connector:"jira_servicemanagement_sync_connector",intercom_sync_connector:"intercom_sync_connector",hubspot_sync_connector:"hubspot_sync_connector",salesforce_sync_connector:"salesforce_sync_connector",confluence_sync_connector:"confluence_sync_connector",dropbox_sync_connector:"dropbox_sync_connector",box_sync_connector:"box_sync_connector",aha_sync_connector:"aha_sync_connector",asana_sync_connector:"asana_sync_connector",azure_devops_sync_connector:"azure_devops_sync_connector",basecamp_sync_connector:"basecamp_sync_connector",clickup_sync_connector:"clickup_sync_connector",front_sync_connector:"front_sync_connector",gitlab_sync_connector:"gitlab_sync_connector",helpscout_sync_connector:"helpscout_sync_connector",ironclad_sync_connector:"ironclad_sync_connector",pipedrive_sync_connector:"pipedrive_sync_connector",shortcut_sync_connector:"shortcut_sync_connector",teamwork_sync_connector:"teamwork_sync_connector",zendesk_sync_connector:"zendesk_sync_connector",zoho_sync_connector:"zoho_sync_connector",zoho_desk_sync_connector:"zoho_desk_sync_connector"},Xq={google_drive_oauth:x.GDRIVE_ACTION_CONNECTOR,google_drive_dwd:x.GDRIVE_ACTION_CONNECTOR,slack:x.SLACK_CONNECTOR,github:x.GITHUB_CONNECTOR,notion:x.NOTION_CONNECTOR,sharepoint:x.SHAREPOINT_CONNECTOR,sharepoint_admin:x.SHAREPOINT_ADMIN_CONNECTOR,teams:x.TEAMS_CONNECTOR,teams_admin:x.TEAMS_ADMIN_CONNECTOR,linear:x.LINEAR_CONNECTOR,jira:x.JIRA_CONNECTOR,jira_servicemanagement:x.JIRA_SERVICEMANAGEMENT_CONNECTOR,intercom:x.INTERCOM_CONNECTOR,hubspot:x.HUBSPOT_CONNECTOR,salesforce:x.SALESFORCE_CONNECTOR,confluence:x.CONFLUENCE_CONNECTOR,dropbox:x.DROPBOX_CONNECTOR,box:x.BOX_CONNECTOR,aha:x.AHA_CONNECTOR,asana:x.ASANA_CONNECTOR,azure_devops:x.AZURE_DEVOPS_CONNECTOR,basecamp:x.BASECAMP_CONNECTOR,clickup:x.CLICKUP_CONNECTOR,front:x.FRONT_CONNECTOR,gitlab:x.GITLAB_CONNECTOR,help_scout:x.HELP_SCOUT_CONNECTOR,ironclad:x.IRONCLAD_CONNECTOR,pipedrive:x.PIPEDRIVE_CONNECTOR,shortcut:x.SHORTCUT_CONNECTOR,teamwork:x.TEAMWORK_CONNECTOR,zendesk:x.ZENDESK_CONNECTOR,zoho:x.ZOHO_CONNECTOR,zoho_desk:x.ZOHO_DESK_CONNECTOR},Fa={[x.NOTION_CONNECTOR]:{access:"connector_37316be7febe4224b3d31465bae4dbd7",sync:"connector_1ee51bd730c272434e1b17c46f8a2397"},[x.INTERCOM_CONNECTOR]:{access:"connector_25f8569426254c019971d2481ddda775",sync:"connector_9f3d361ec84b4c6588a7129a2d4e3cb3"},[x.HUBSPOT_CONNECTOR]:{access:"connector_2a3c0c472f6f4238b47d41acfb317307",sync:"connector_6529c30f7e3590253d20626b8f971879"},[x.CLICKUP_CONNECTOR]:{access:"asdk_app_69431e6d26b88191b4029488aeb42f5b",sync:"connector_f9447fe87aae4b598f8ca9dc03483c9a"},[x.ASANA_CONNECTOR]:{access:"asdk_app_69430b18f9d08191b8d8ffde54842b40",sync:"connector_4886707321be47efb8b9369ebb877881"}},kt={[x.GDRIVE_ACTION_CONNECTOR]:"connector_5f3c8c41a1e54ad7a76272c89e2554fa",[x.GITHUB_CONNECTOR]:"connector_76869538009648d5b282a4bb21c3d157",[x.LINEAR_CONNECTOR]:"connector_686fad9b54914a35b75be6d06a0f6f31",[x.DROPBOX_CONNECTOR]:"connector_14e85e16800b4e53bc6246019a83a307",[x.HUBSPOT_CONNECTOR]:"connector_2a3c0c472f6f4238b47d41acfb317307",[x.SALESFORCE_CONNECTOR]:"connector_6095bdb01e9482eb0cac719f6ba313cd",[x.AHA_CONNECTOR]:"connector_251970f16cb647d4b76fc445753f9276",[x.ASANA_CONNECTOR]:"connector_4886707321be47efb8b9369ebb877881",[x.AZURE_DEVOPS_CONNECTOR]:"connector_da257d66000a45c683fe44e411037409",[x.BASECAMP_CONNECTOR]:"connector_4d2f184d2773465f977823d8d03a059a",[x.CLICKUP_CONNECTOR]:"asdk_app_69431e6d26b88191b4029488aeb42f5b",[x.FRONT_CONNECTOR]:"connector_d38d1f35825b4ebebf977ff9fe20841e",[x.GITLAB_CONNECTOR]:"connector_0c9786b2f41f41558056126bdb46c9bd",[x.HELP_SCOUT_CONNECTOR]:"connector_b969d12728c04baeb585eb9299be3b6d",[x.IRONCLAD_CONNECTOR]:"connector_f317b2c679f84ad5b6f2af12fb6f609a",[x.PIPEDRIVE_CONNECTOR]:"connector_36803b8cc4164d84aa3fbfc7ddb420e1",[x.SHORTCUT_CONNECTOR]:"connector_7a9cae0e3c7c4fadb98be0028af7d346",[x.SHAREPOINT_CONNECTOR]:"connector_1e4f6a44acf14e3ca1d96672f8c945bc",[x.SHAREPOINT_ADMIN_CONNECTOR]:"connector_5ae2fd76f08447718080f11bc2faac6c",[x.TEAMS_CONNECTOR]:"connector_246af0940da3457da0e751171dc1ce60",[x.TEAMS_ADMIN_CONNECTOR]:"connector_601cc22bb3b740599c7274cf7e8084e8",[x.TEAMWORK_CONNECTOR]:"connector_86de01a2aaf544b0a039013db9bcfae7",[x.ZENDESK_CONNECTOR]:"connector_30434c47d61341d69dc82aaffa23f5c6",[x.ZOHO_CONNECTOR]:"connector_fd0f007550a242459d6dd1f923668769",[x.ZOHO_DESK_CONNECTOR]:"connector_bc42113c21de4f94a5b5259c2aa914f6",[x.GCAL_CONNECTOR]:"connector_947e0d954944416db111db556030eea6",[x.GMAIL_CONNECTOR]:"connector_2128aebfecb84f64a069897515042a44",[x.GOOGLE_CONTACTS_CONNECTOR]:"connector_c0f748249d6a42aea4b00fd375570ded",[x.OUTLOOK_EMAIL_CONNECTOR]:"connector_4aaab2856305417b993eca9a216aaf6e",[x.OUTLOOK_CALENDAR_CONNECTOR]:"connector_e6a7394682e24467ac68c60696f275a4",[x.BOX_CONNECTOR]:"connector_2fc94c70cbb74b7caa6d07bf7231202e",[x.INTERCOM_CONNECTOR]:"connector_25f8569426254c019971d2481ddda775",[x.NOTION_CONNECTOR]:"connector_37316be7febe4224b3d31465bae4dbd7",[x.CANVA_CONNECTOR]:"connector_ef718304ffe64e31947b71887e3d51fa",[x.SLACK_CONNECTOR]:"connector_0f9c9d4592e54d0a9a12b3f44a1e2010",[x.SLACK_CODEX_CONNECTOR]:SE,[x.SLACK_CODEX_BOT_CONNECTOR]:TE,[x.LINEAR_CODEX_BOT_CONNECTOR]:OE,[x.CONFLUENCE_CONNECTOR]:"connector_258b4e1b0cb61498ac3907daf4072fa7",[x.JIRA_CONNECTOR]:"connector_141ed0ff031248bb8e5b5584de945cef",[x.JIRA_SERVICEMANAGEMENT_CONNECTOR]:"connector_cfcd99fd238d43c888544acd294b3f31",[x.HEALTHKIT_CONNECTOR]:"connector_2b0a9009c9c64bf9933a3dae3f2b1254",[x.MEDICAL_RECORDS_CONNECTOR]:"connector_openai_medical_records"},rr={connector_5f3c8c41a1e54ad7a76272c89e2554fa:x.GDRIVE_ACTION_CONNECTOR,connector_76869538009648d5b282a4bb21c3d157:x.GITHUB_CONNECTOR,connector_686fad9b54914a35b75be6d06a0f6f31:x.LINEAR_CONNECTOR,connector_14e85e16800b4e53bc6246019a83a307:x.DROPBOX_CONNECTOR,connector_2a3c0c472f6f4238b47d41acfb317307:x.HUBSPOT_CONNECTOR,connector_6095bdb01e9482eb0cac719f6ba313cd:x.SALESFORCE_CONNECTOR,connector_251970f16cb647d4b76fc445753f9276:x.AHA_CONNECTOR,connector_4886707321be47efb8b9369ebb877881:x.ASANA_CONNECTOR,connector_da257d66000a45c683fe44e411037409:x.AZURE_DEVOPS_CONNECTOR,connector_4d2f184d2773465f977823d8d03a059a:x.BASECAMP_CONNECTOR,connector_f9447fe87aae4b598f8ca9dc03483c9a:x.CLICKUP_CONNECTOR,connector_d38d1f35825b4ebebf977ff9fe20841e:x.FRONT_CONNECTOR,connector_0c9786b2f41f41558056126bdb46c9bd:x.GITLAB_CONNECTOR,connector_b969d12728c04baeb585eb9299be3b6d:x.HELP_SCOUT_CONNECTOR,connector_f317b2c679f84ad5b6f2af12fb6f609a:x.IRONCLAD_CONNECTOR,connector_36803b8cc4164d84aa3fbfc7ddb420e1:x.PIPEDRIVE_CONNECTOR,connector_7a9cae0e3c7c4fadb98be0028af7d346:x.SHORTCUT_CONNECTOR,connector_86de01a2aaf544b0a039013db9bcfae7:x.TEAMWORK_CONNECTOR,connector_30434c47d61341d69dc82aaffa23f5c6:x.ZENDESK_CONNECTOR,connector_fd0f007550a242459d6dd1f923668769:x.ZOHO_CONNECTOR,connector_bc42113c21de4f94a5b5259c2aa914f6:x.ZOHO_DESK_CONNECTOR,connector_1e4f6a44acf14e3ca1d96672f8c945bc:x.SHAREPOINT_CONNECTOR,connector_5ae2fd76f08447718080f11bc2faac6c:x.SHAREPOINT_ADMIN_CONNECTOR,connector_246af0940da3457da0e751171dc1ce60:x.TEAMS_CONNECTOR,connector_601cc22bb3b740599c7274cf7e8084e8:x.TEAMS_ADMIN_CONNECTOR,connector_947e0d954944416db111db556030eea6:x.GCAL_CONNECTOR,connector_2128aebfecb84f64a069897515042a44:x.GMAIL_CONNECTOR,connector_c0f748249d6a42aea4b00fd375570ded:x.GOOGLE_CONTACTS_CONNECTOR,connector_4aaab2856305417b993eca9a216aaf6e:x.OUTLOOK_EMAIL_CONNECTOR,connector_e6a7394682e24467ac68c60696f275a4:x.OUTLOOK_CALENDAR_CONNECTOR,connector_2fc94c70cbb74b7caa6d07bf7231202e:x.BOX_CONNECTOR,connector_25f8569426254c019971d2481ddda775:x.INTERCOM_CONNECTOR,connector_9f3d361ec84b4c6588a7129a2d4e3cb3:x.INTERCOM_CONNECTOR,connector_37316be7febe4224b3d31465bae4dbd7:x.NOTION_CONNECTOR,connector_1ee51bd730c272434e1b17c46f8a2397:x.NOTION_CONNECTOR,connector_ef718304ffe64e31947b71887e3d51fa:x.CANVA_CONNECTOR,connector_0f9c9d4592e54d0a9a12b3f44a1e2010:x.SLACK_CONNECTOR,[SE]:x.SLACK_CODEX_CONNECTOR,[TE]:x.SLACK_CODEX_BOT_CONNECTOR,[OE]:x.LINEAR_CODEX_BOT_CONNECTOR,connector_258b4e1b0cb61498ac3907daf4072fa7:x.CONFLUENCE_CONNECTOR,connector_141ed0ff031248bb8e5b5584de945cef:x.JIRA_CONNECTOR,connector_cfcd99fd238d43c888544acd294b3f31:x.JIRA_SERVICEMANAGEMENT_CONNECTOR,connector_6529c30f7e3590253d20626b8f971879:x.HUBSPOT_CONNECTOR,connector_2b0a9009c9c64bf9933a3dae3f2b1254:x.HEALTHKIT_CONNECTOR,connector_openai_medical_records:x.MEDICAL_RECORDS_CONNECTOR},X8e=new Set([x.SHAREPOINT_ADMIN_CONNECTOR,x.TEAMS_ADMIN_CONNECTOR]);function Mge(e){return Object.keys(rr).includes(e)}function kge(e){return!(e==="web"||e==="cloud"||e in kt||e in _I)}function Lge(e){return typeof window<"u"?"".concat(window.location.origin,"/connector_platform_oauth_redirect"):""}const Dge="https://github.com/apps/chatgpt-codex-connector";function Uge(e){return"".concat(Dge,"/").concat(e)}const Q8e={[x.GITHUB_CONNECTOR]:st.GitHub,[x.GDRIVE_ACTION_CONNECTOR]:st.GoogleDrive,[x.DROPBOX_CONNECTOR]:st.Dropbox,[x.LINEAR_CONNECTOR]:st.Linear,[x.SHAREPOINT_CONNECTOR]:st.Sharepoint,[x.TEAMS_CONNECTOR]:st.Teams,[x.OUTLOOK_EMAIL_CONNECTOR]:st.OutlookEmail,[x.OUTLOOK_CALENDAR_CONNECTOR]:st.OutlookCalendar,[x.BOX_CONNECTOR]:st.Box,[x.INTERCOM_CONNECTOR]:st.Intercom,[x.GCAL_CONNECTOR]:st.GoogleCalendar,[x.GMAIL_CONNECTOR]:st.Gmail,[x.GOOGLE_CONTACTS_CONNECTOR]:st.GoogleContacts,[x.HUBSPOT_CONNECTOR]:st.Hubspot,[x.SALESFORCE_CONNECTOR]:st.Salesforce,[x.AHA_CONNECTOR]:st.Aha,[x.ASANA_CONNECTOR]:st.Asana,[x.AZURE_DEVOPS_CONNECTOR]:st.AzureDevOps,[x.BASECAMP_CONNECTOR]:st.Basecamp,[x.CLICKUP_CONNECTOR]:st.Clickup,[x.FRONT_CONNECTOR]:st.Front,[x.GITLAB_CONNECTOR]:st.Gitlab,[x.HELP_SCOUT_CONNECTOR]:st.HelpScout,[x.IRONCLAD_CONNECTOR]:st.Ironclad,[x.PIPEDRIVE_CONNECTOR]:st.Pipedrive,[x.SHORTCUT_CONNECTOR]:st.Shortcut,[x.TEAMWORK_CONNECTOR]:st.Teamwork,[x.ZENDESK_CONNECTOR]:st.Zendesk,[x.ZOHO_CONNECTOR]:st.Zoho,[x.ZOHO_DESK_CONNECTOR]:st.ZohoDesk,[x.CANVA_CONNECTOR]:st.Canva,[x.NOTION_CONNECTOR]:st.Notion,[x.SLACK_CONNECTOR]:st.Slack,[x.SLACK_CODEX_CONNECTOR]:st.Slack,[x.CONFLUENCE_CONNECTOR]:st.Confluence,[x.JIRA_CONNECTOR]:st.Jira,[x.JIRA_SERVICEMANAGEMENT_CONNECTOR]:st.JiraServiceManagement,[x.SLACK_CODEX_BOT_CONNECTOR]:st.Slack,[x.LINEAR_CODEX_BOT_CONNECTOR]:st.Linear,[x.HEALTHKIT_CONNECTOR]:st.Healthkit},Fge=e=>[...Object.values(x),...Object.values(sg)].includes(e)?e:null,Z8e=e=>e.map(t=>Fge(t)).filter(t=>t!=null);async function Gge({redirectUri:e,connectorPlatformParams:t,redirectTo:n,onError:r,openPopup:s=!1,toaster:i,intl:o,productSku:a}){var f,h;re.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_initiated",{event:"start",type:t.connectorId});const{ConnectorsAnalytics:c}=await ne(async()=>{const{ConnectorsAnalytics:p}=await Promise.resolve().then(()=>P2e);return{ConnectorsAnalytics:p}},void 0),l=n1(),u=(f=Jq())!=null?f:"unknown_referrer",d=c.createIdMetadataFromId(l,t.connectorId,u);c.logOAuthInitiated({connector_id_metadata:d,referrer:u,authType:"OAUTH",scopes:t.oauthClientScopes});try{const p={connector_id:t.connectorId,oauth_client_id:t.oauthClientId,name:t.name,action_names:t.actionNames,requested_scopes:t.oauthClientScopes,callback_url:e,post_auth_url:n,slack_team_id:(h=t.slackTeamId)!=null?h:void 0,link_params:t.linkParams&&Object.keys(t.linkParams).length>0?t.linkParams:void 0,tool_settings:t.toolSettings,action_param_schemas:t.actionParamSchemas};let _=await H.safePost("/aip/connectors/links/oauth",{requestBody:p,additionalHeaders:a?{[zt]:a}:void 0});_.email_challenge_sent&&await new Promise((E,b)=>{let C=!1;Os(iF,{onVerify:async y=>{_=await H.safePost("/aip/connectors/links/oauth",{requestBody:P(S({},p),{otp_code:y}),additionalHeaders:a?{[zt]:a}:void 0}),C=!0,Dv(iF),E()},onResendOtp:async()=>{await H.safePost("/aip/connectors/links/oauth",{requestBody:p,additionalHeaders:a?{[zt]:a}:void 0})},onClose:()=>{C||b(null)}})});let m=null;Mge(t.connectorId)&&rr[t.connectorId]===x.HUBSPOT_CONNECTOR?m=_.redirect_url+"&utm_source=chatgpt":m=_.redirect_url;let v=null;if(s&&(v=window.open("about:blank","_blank")),!v)window.location.href=m;else if(v)return v.location.href=m,new Promise(E=>{const b=C=>{const{error:y,errorDesc:O,errorType:A,connectorId:N,success:I,linkId:w}=C.data;if(C.origin===window.location.origin&&!(N&&t.connectorId!==N)){if(I)re.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_success",{success:!0,type:t.connectorId}),c.logOAuthCompleted({connector_id_metadata:d,referrer:u,authType:"OAUTH",scopes:t.oauthClientScopes,success:!0}),i==null||i.success(o.formatMessage($T.createLinkSuccess,{connectorName:t.name})),E({success:!0,linkId:w,message:""});else{re.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_error",{success:!1,type:t.connectorId,errorType:A}),A!=="oauth_failed_scope_mismatch"&&(i==null||i.danger(o.formatMessage($T.createLinkError,{connectorName:t.name}),{toastId:"connector_oauth_connect",loggingTitle:$T.createLinkError.defaultMessage,loggingDescription:"Failed to link connector"}));const M="".concat(y).concat(O?": ".concat(O):"");c.logOAuthCompleted({connector_id_metadata:d,referrer:u,authType:"OAUTH",scopes:t.oauthClientScopes,success:!1,errorType:A,errorMessage:M}),E({errorType:A,success:I,message:M})}fm.removeEventListener("message",b,!1)}};fm.addEventListener("message",b,!1),v.addEventListener("beforeunload",()=>{fm.removeEventListener("message",b,!1)})})}catch(p){if(r)r(p);else throw p}}const eze={box:x.BOX_CONNECTOR,dropbox:x.DROPBOX_CONNECTOR,github:x.GITHUB_CONNECTOR,gmail:x.GMAIL_CONNECTOR,"google drive":x.GDRIVE_ACTION_CONNECTOR,"google calendar":x.GCAL_CONNECTOR,"google contacts":x.GOOGLE_CONTACTS_CONNECTOR,outlook:x.OUTLOOK_EMAIL_CONNECTOR,"outlook email":x.OUTLOOK_EMAIL_CONNECTOR,"outlook calendar":x.OUTLOOK_CALENDAR_CONNECTOR,sharepoint:x.SHAREPOINT_CONNECTOR,linear:x.LINEAR_CONNECTOR,teams:x.TEAMS_CONNECTOR,intercom:x.INTERCOM_CONNECTOR,hubspot:x.HUBSPOT_CONNECTOR,salesforce:x.SALESFORCE_CONNECTOR,notion:x.NOTION_CONNECTOR,canva:x.CANVA_CONNECTOR,slack:x.SLACK_CONNECTOR,healthkit:x.HEALTHKIT_CONNECTOR,confluence:x.CONFLUENCE_CONNECTOR,jira:x.JIRA_CONNECTOR,"jira service management":x.JIRA_SERVICEMANAGEMENT_CONNECTOR,slack_codex_connector:x.SLACK_CODEX_CONNECTOR,slack_codex_bot_connector:x.SLACK_CODEX_BOT_CONNECTOR,linear_codex_bot_connector:x.LINEAR_CODEX_BOT_CONNECTOR},$T=Rt({createLinkSuccess:{id:"KVbj6o",defaultMessage:"{connectorName} is now connected."},createLinkError:{id:"Y6p1d0",defaultMessage:"There was a problem connecting {connectorName}. Try again later."}});function P_(e){switch(e){case x.GOOGLE_CONTACTS_CONNECTOR:return"gcontacts";case x.GMAIL_CONNECTOR:return"gmail";case x.GCAL_CONNECTOR:return"gcal";default:return null}}function jge(e){switch(e){case"gmail":return x.GMAIL_CONNECTOR;case"gcal":return x.GCAL_CONNECTOR;case"gcontacts":return x.GOOGLE_CONTACTS_CONNECTOR;default:return null}}function tze(e,t){var n,r,s,i,o,a;switch(e){case"gmail":return kt[x.GMAIL_CONNECTOR];case"gcal":return kt[x.GCAL_CONNECTOR];case"gcontacts":return kt[x.GOOGLE_CONTACTS_CONNECTOR];case"api_tool":{const c=(s=(r=(n=t==null?void 0:t[t.length-1])==null?void 0:n.metadata)==null?void 0:r.jit_plugin_data)==null?void 0:s.from_server;return(c==null?void 0:c.type)==="oauth_required"?(i=c.body.connector_id)!=null?i:null:(c==null?void 0:c.type)==="link_required"?(o=c.body.connector_id)!=null?o:null:(c==null?void 0:c.type)==="confirm_action"&&(a=c.body.connector_id)!=null?a:null}default:return null}}const Bge={aha_sync_connector:"Aha!",asana_sync_connector:"Asana",azure_devops_sync_connector:"Azure DevOps",basecamp_sync_connector:"Basecamp",box_sync_connector:"Box",dropbox_sync_connector:"Dropbox",github_sync_connector:"GitHub",gdrive_sync_connector:"Google Drive",clickup_sync_connector:"ClickUp",notion_sync_connector:"Notion",slack_sync_connector:"Slack",sharepoint_sync_connector:"SharePoint",sharepoint_admin_sync_connector:"SharePoint",teams_sync_connector:"Teams",teams_admin_sync_connector:"Teams",linear_sync_connector:"Linear",jira_sync_connector:"Jira",jira_servicemanagement_sync_connector:"Jira Service Management",confluence_sync_connector:"Confluence",intercom_sync_connector:"Intercom",hubspot_sync_connector:"HubSpot",salesforce_sync_connector:"Salesforce",front_sync_connector:"Front",gitlab_sync_connector:"GitLab",helpscout_sync_connector:"Help Scout",ironclad_sync_connector:"Ironclad",pipedrive_sync_connector:"Pipedrive",shortcut_sync_connector:"Shortcut",teamwork_sync_connector:"Teamwork",zendesk_sync_connector:"Zendesk",zoho_sync_connector:"Zoho",zoho_desk_sync_connector:"Zoho Desk"},Hge=e=>{var t;return(t=Bge[e.user_connection_details.connection_type])!=null?t:e.connection_display_info.display_name},iF=Yn(()=>ne(()=>import("./8b143a86-lf50n19swe2cw5w3.js"),__vite__mapDeps([5,1,6,7,2,3,8])).then(e=>e.ConnectorEmailVerifyModal)),$ge=[ce.Slurm,ce.Research,Gv],oF="cloud",Qq=e=>[...e.values()].some(r=>r==null?void 0:r.has(oF))?new Map([...e].map(([r,s])=>[r,new Set([...s].filter(i=>i!==oF))])):new Map(e),Wge=e=>{const t=new Map([[void 0,new Set(Object.keys(_I))],[ce.Slurm,new Set(Object.keys(_I))],[ce.Research,new Set(["web"])],[Gv,new Set(["web"])]]);try{const n=qge(e);n&&n.forEach((r,s)=>{$ge.includes(s)&&t.set(s,new Set(r))})}catch(n){}return t},Zq="v1.1",e7=e=>{var n;const t=kn.getItem(un.SelectedSources,e);if(!t)return{};try{const{version:r,data:s}=JSON.parse(t);if(r!==Zq)return kn.removeItem(un.SelectedSources),{};const i=new Map([...s.selected_sources].map(([a,c])=>[a,new Set(c)])),o=new Map(((n=s.selected_mcp_sources)!=null?n:[]).map(([a,c])=>[a,new Set(c)]));return{selectedSources:i,selectedMCPSources:o}}catch(r){return{}}},qge=e=>{const t=e7(e).selectedSources;return Qq(t!=null?t:new Map)},Vge=e=>e7(e).selectedMCPSources,zge=e=>{const t=Vge(e);return t&&t.delete(ce.Glaux),t!=null?t:new Map},nze=({selectedSourcesMap:e,selectedMCPSourcesMap:t,scope:n})=>{if(!e&&!t){kn.removeItem(un.SelectedSources);return}const r=Qq(e!=null?e:new Map),s={selected_sources:[...r!=null?r:new Map].map(([o,a])=>[o,[...a]]),selected_mcp_sources:[...t!=null?t:new Map].map(([o,a])=>[o,[...a]])},i={version:Zq,data:s};kn.setItem(un.SelectedSources,JSON.stringify(i),n)},Yge="placeholder-";function ph(e){return e.startsWith(Yge)}var Kt;const pc=class pc{constructor(t){Ct(this,Kt);R(this,"rootId");const n={};let r;for(const s of t)n[s.id]=s,!r&&s.message.author.role===we.Root&&(r=s.id);if(!r)throw new Error("Missing root node");Lt(this,Kt,n),this.rootId=r}static emptyTree(){return new pc([pc.createRootNode("client-created-root")])}static createNode(t,n,r=[],s){const i=s!=null?s:t.id;if(i===n)throw new Error("createNode: parent.id and node.id cannot be the same: ".concat(i));return{id:i,parentId:n,children:r,message:t}}static createRootNode(t){const n={id:t,author:{role:we.Root},content:{content_type:je.Text,parts:[]}};return pc.createNode(n,"")}get nodes(){return Object.values(te(this,Kt))}messageIdToNodeId(t){var n;return(n=this.messageIdToExistingNodeId(t))!=null?n:t}messageIdToExistingNodeId(t){var n;if(te(this,Kt)[t]!=null)return t;for(const r of Object.values(te(this,Kt)))if(((n=r.message)==null?void 0:n.id)===t)return t7(r.id,r.message.id),r.id}containsNodeOrMessageId(t){return this.messageIdToExistingNodeId(t)!=null}getNodeByIdOrMessageId(t){const n=this.getNodeIfExists(t);if(n)return n;const r=ph(t);throw re.logEventWithStatsig("chatgpt_conversation_tree__node_not_found","chatgpt_web_conversation_tree_node_not_found",{rootId:this.rootId,nodeOrMessageId:t,isNodeStartWithPlaceholder:r}),mt.count(ft.DEFAULT,"chatgpt_web_conversation_tree_node_not_found",[{key:"isNodeStartWithPlaceholder",value:r?"true":"false"}]),q.addError(new Error("web client getNodeByIdOrMessageId - no node found by id ".concat(t," isNodeStartWithPlaceholder: ").concat(r))),new Error("getNodeByIdOrMessageId - no node found by id: ".concat(t))}getNodeIfExists(t){const n=this.messageIdToExistingNodeId(t);if(n)return te(this,Kt)[n]}findNode(t,n,r=this.rootId){const s=this.getNodeIfExists(r);let i=this.getNodeIfExists(n);for(;s&&i&&i!==s;){if(t(i))return i;i=this.getNodeIfExists(i.parentId)}}findFirst(t){let n=this.getNodeByIdOrMessageId(this.rootId);for(;n&&n.children.length===1;)if(n=this.getNodeByIdOrMessageId(n.children[0]),t(n))return n}findFirstFromLeaf(t,n){let r,s=this.getNodeByIdOrMessageId(n);for(;s;)t(s)&&(r=s),s=this.getNodeIfExists(s.parentId);return r}findFirstFromLeafToParent(t,n,r){let s,i=this.getNodeByIdOrMessageId(n);for(;i&&(t(i)&&(s=i),i.parentId!==r);)i=this.getNodeIfExists(i.parentId);return s}getLeafFromNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;)n=this.getNodeByIdOrMessageId(n.children[0]);return n}getLeafFromNodeAvoidingPlaceholders(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;){const r=n.children.find(s=>!ph(s));r?n=this.getNodeByIdOrMessageId(r):n=this.getNodeByIdOrMessageId(n.children[0])}return n}getDescendants(t){const n=[],r=[t];for(;r.length>0;){const s=r.shift();if(!s)break;const i=this.getNodeByIdOrMessageId(s);r.push(...i.children),n.push(...i.children)}return n}getParent(t){const n=this.getNodeByIdOrMessageId(t).parentId;return this.getNodeByIdOrMessageId(n)}getBranchFromLeaf(t){let n=[],r=this.getNodeByIdOrMessageId(t);for(;r!=null;){if(n.includes(r)){q.addError("Infinite loop detected in getBranchFromLeaf. Branch already contains node ".concat(r==null?void 0:r.id,". Parent id: ").concat(r==null?void 0:r.parentId,"."),{branch:n});break}if(n.push(r),r.message.author.role===we.Root)break;r=this.getNodeByIdOrMessageId(r.parentId)}return n=n.reverse(),n}addMessageNode(t,n){const r=this.messageIdToNodeId(n.id),s=this.getNodeByIdOrMessageId(t),i=pc.createNode(n,s.id,[],r);return Lt(this,Kt,Sr(te(this,Kt),o=>{o[i.id]=i;const a=o[i.parentId];a.children.includes(i.id)||a.children.push(i.id)})),i.id}prependNode(t,n){const r=this.messageIdToNodeId(n.id),s=this.getNodeByIdOrMessageId(t),i=pc.createNode(n,s.parentId,[s.id],r);Lt(this,Kt,Sr(te(this,Kt),o=>{o[i.id]=i;const a=o[i.parentId];a.children=a.children.filter(l=>l!==s.id),a.children.includes(i.id)||a.children.push(i.id);const c=o[s.id];c.parentId=i.id}))}deleteNode(t){const n=this.getNodeByIdOrMessageId(t);Lt(this,Kt,Sr(te(this,Kt),r=>{const s=n.parentId,i=n.children;for(const a of i){const c=r[this.messageIdToNodeId(a)];c.parentId=s}const o=r[this.messageIdToNodeId(s)];if(o==null){console.warn("Cannot deleteNode with nodeId: ".concat(t," - parent not found. Either this is root or in an orphaned branch"));return}o.children=o.children.flatMap(a=>this.messageIdToNodeId(a)===this.messageIdToNodeId(n.id)?i:[a]),delete r[n.id]}))}moveNode(t,n){Lt(this,Kt,Sr(te(this,Kt),r=>{const s=this.getDescendants(n);if(s.includes(t)){q.addError("Cannot moveNode with nodeId: ".concat(n," - new parent is already a descendant."),{parentId:t,descendants:s});return}const i=r[this.messageIdToNodeId(n)],o=r[this.messageIdToNodeId(i.parentId)];if(o==null){console.warn("Cannot moveNode with nodeId: ".concat(n," - old parent not found. Either this is root or in an orphaned branch"));return}o.children=o.children.filter(c=>c!==i.id);const a=r[this.messageIdToNodeId(t)];if(a==null){console.warn("Cannot moveNode with nodeId: ".concat(n," - new parent not found."));return}a.children.includes(i.id)||a.children.push(i.id),i.parentId=t}))}clearNodeMessageParts(t){Lt(this,Kt,Sr(te(this,Kt),n=>{const r=n[this.messageIdToNodeId(t)];r&&r.message&&"parts"in r.message.content&&(r.message.content.parts=[])}))}updateNodeMetadata(t,n){Lt(this,Kt,Sr(te(this,Kt),r=>{const s=r[this.messageIdToNodeId(t)];s&&(s.message.clientMetadata=S(S({},s==null?void 0:s.message.clientMetadata),n))}))}updateNodeMessage(t,n){Lt(this,Kt,Sr(te(this,Kt),r=>{const s=r[this.messageIdToNodeId(t)];if(s){const i=s.message.clientMetadata;s.message=i?P(S({},n),{clientMetadata:i}):n}}))}updateNodeMessageMetadata(t,n){Lt(this,Kt,Sr(te(this,Kt),r=>{const s=r[this.messageIdToNodeId(t)];s&&(s.message.metadata=S(S({},s.message.metadata),n))}))}prettyPrint(t=this.rootId,n=0){const r=this.getNodeByIdOrMessageId(t),s=S9(r.message);let i="".concat("	".repeat(n),"->").concat(t," - ").concat(s.replaceAll("\n","\\n"),"\n");const o=r.children.map(a=>this.getNodeByIdOrMessageId(a));for(const a of o)i+=this.prettyPrint(a.id,n+1);return i}};Kt=new WeakMap;let Xc=pc;const aF=new Set;function t7(e,t,n){const r=new Error("Found TreeNode where message.id ".concat(t," != node.id ").concat(e));console.warn(r),aF.has(e)||(aF.add(e),n?q.addAction("tree_node_id_mismatch_api",{nodeId:e,messageId:t,conversationId:n}):q.addAction("tree_node_id_mismatch_client",{nodeId:e,messageId:t}))}function Kge(e,t){var a;const n=new Set,r=new Set,s=new Set,i=new Map;return((a=e.moderation_results)!=null?a:[]).forEach(c=>{var l;i.set(c.message_id,c),c.blocked?r.add(c.message_id):c.flagged&&n.add(c.message_id),(l=c.disclaimers)!=null&&l.length&&!c.blocked&&s.add(c.message_id)}),{nodes:Object.values(e.mapping).map(({id:c,parent:l,children:u,message:d})=>{var m,v,E,b,C,y;if(!l)return Xc.createRootNode(c);if(!d)throw new Error("Missing message for node ".concat(c));c!==d.id&&t7(c,d.id,t);const f={},h=i.get(d.id);let p=!1;if(r.has(d.id)){const O=(m=h==null?void 0:h.should_disable_conversation)!=null?m:!1,A=(E=(v=h==null?void 0:h.metadata)==null?void 0:v.model_incompatibility)!=null?E:!1,N=(C=(b=h==null?void 0:h.metadata)==null?void 0:b.safety_limited)!=null?C:!1;Object.assign(f,{isSafetyLimited:N}),Object.assign(f,Hfe({isSafetyLimited:N,shouldDisableConversation:O,isModelIncompatibility:A})),p=!0}else n.has(d.id)&&Object.assign(f,Lfe);if(s.has(d.id)){const O=i.get(d.id);(y=O==null?void 0:O.disclaimers)!=null&&y.length&&Object.assign(f,Bfe(O.disclaimers,p))}const _=P(S({},d),{clientMetadata:f});return Xc.createNode(_,l,u,c)},{}),initialCurrentLeafId:e.current_node}}var Lu,Xo;class Jge{constructor(){Ct(this,Lu);Ct(this,Xo,t=>(te(this,Lu)||Lt(this,Lu,ne(()=>import("./2340486e-n0khdanno9uzbccp.js").then(n=>n.ax),[]).then(n=>n==null?void 0:n.datadogLogs)),te(this,Lu).then(n=>n&&t(n))))}init(t){te(this,Xo).call(this,n=>n.init(t))}setGlobalContextProperty(t,n){te(this,Xo).call(this,r=>r.setGlobalContextProperty(t,n))}setUser(t){te(this,Xo).call(this,n=>n.setUser(t))}get logger(){return{setHandler:t=>{te(this,Xo).call(this,n=>n.logger.setHandler(t))}}}createLogger(t,n){return new Xge(te(this,Xo),t,n)}}Lu=new WeakMap,Xo=new WeakMap;const cF=e=>typeof e=="object"&&e!=null&&!Array.isArray(e);var $h,us,ds,pi;class Xge{constructor(t,n,r){Ct(this,ds);Ct(this,$h);Ct(this,us,t=>te(this,$h).then(n=>n&&t(n)));Lt(this,$h,t(s=>s.createLogger(n,r)))}ok(t,n,r,s){te(this,us).call(this,i=>i.ok(t,It(this,ds,pi).call(this,n,s),r))}debug(t,n,r,s){te(this,us).call(this,i=>i.debug(t,It(this,ds,pi).call(this,n,s),r))}info(t,n,r,s){te(this,us).call(this,i=>i.info(t,It(this,ds,pi).call(this,n,s),r))}notice(t,n,r,s){te(this,us).call(this,i=>i.notice(t,It(this,ds,pi).call(this,n,s),r))}warn(t,n,r,s){te(this,us).call(this,i=>i.warn(t,It(this,ds,pi).call(this,n,s),r))}error(t,n,r,s){te(this,us).call(this,i=>i.error(t,It(this,ds,pi).call(this,n,s),r))}critical(t,n,r,s){te(this,us).call(this,i=>i.critical(t,It(this,ds,pi).call(this,n,s),r))}alert(t,n,r,s){te(this,us).call(this,i=>i.alert(t,It(this,ds,pi).call(this,n,s),r))}emerg(t,n,r,s){te(this,us).call(this,i=>i.emerg(t,It(this,ds,pi).call(this,n,s),r))}}$h=new WeakMap,us=new WeakMap,ds=new WeakSet,pi=function(t,n){if((n==null?void 0:n.logToDatadog)===!0)return t;const r=cF(t)?S({},t):{},s=cF(r.oai)?r.oai:{};return P(S({},r),{oai:P(S({},s),{skip_upstream:!0})})};const Fl=new Jge,Qge="datadoghq.com",Zge="pub1f79f8ac903a5872ae5f53026d20a77c",eve="https://chatgpt.com/ces/v1/telemetry/intake";class tve{initialize(){var r;const t=av?(r=it==null?void 0:it.getTelemetryConfig)==null?void 0:r.call(it):void 0,n=t!==void 0?t.datadogService:_te();Fl.init({clientToken:Zge,site:Qge,service:n,env:"prod",version:"f700ea221d7179d2ee3ed2b022f6972f77a5a7a1",sessionSampleRate:100,forwardErrorsToLogs:!1,proxy:eve,beforeSend:s=>(s.view.url=wf(s.view.url),s.http&&s.http.url&&(s.http.url=wf(s.http.url)),!0)}),Fl.setGlobalContextProperty("track","stable"),Fl.setGlobalContextProperty("is_electron_desktop_app",t!==void 0),Fl.logger.setHandler(["http"])}setUser(t,n){var s,i,o;const r={user_id:t.id,account_plan_type:(s=n==null?void 0:n.planType)!=null?s:"none",workspace_id:n==null?void 0:n.id,residency_region:(i=n==null?void 0:n.residencyRegion)!=null?i:"none",compute_residency:(o=n==null?void 0:n.computeResidency)!=null?o:"none"};Fl.setUser(r)}createLogger(t,n="info",r="http",s){return Fl.createLogger(t,{level:n,handler:r,context:s})}}const mI=new tve;var Ur,to,fs,_i;class nve{constructor(t,n){Ct(this,fs);Ct(this,Ur);Ct(this,to);Lt(this,Ur,t),Lt(this,to,S({},n))}setContext(t){const n=Object.fromEntries(Object.entries(t).filter(([,r])=>r!==void 0));Lt(this,to,S(S({},te(this,to)),n))}clear(){Lt(this,to,{})}ok(t,n,r,s){te(this,Ur).ok(t,It(this,fs,_i).call(this,n),r,s)}debug(t,n,r,s){te(this,Ur).debug(t,It(this,fs,_i).call(this,n),r,s)}info(t,n,r,s){te(this,Ur).info(t,It(this,fs,_i).call(this,n),r,s)}notice(t,n,r,s){te(this,Ur).notice(t,It(this,fs,_i).call(this,n),r,s)}warn(t,n,r,s){te(this,Ur).warn(t,It(this,fs,_i).call(this,n),r,s)}error(t,n,r,s){te(this,Ur).error(t,It(this,fs,_i).call(this,n),r,s)}critical(t,n,r,s){te(this,Ur).critical(t,It(this,fs,_i).call(this,n),r,s)}alert(t,n,r,s){te(this,Ur).alert(t,It(this,fs,_i).call(this,n),r,s)}emerg(t,n,r,s){te(this,Ur).emerg(t,It(this,fs,_i).call(this,n),r,s)}}Ur=new WeakMap,to=new WeakMap,fs=new WeakSet,_i=function(t){return t?S(S({},t),te(this,to)):te(this,to)};function n7(e){const t=mI.createLogger("turn-analytics");return new nve(t,{turn_trace_id:e})}var w_={exports:{}},lF;function rve(){if(lF)return w_.exports;lF=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(y,O,A){return Function.prototype.apply.call(y,O,A)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:n=function(y){return Object.getOwnPropertyNames(y)};function r(C){console&&console.warn&&console.warn(C)}var s=Number.isNaN||function(y){return y!==y};function i(){i.init.call(this)}w_.exports=i,w_.exports.once=v,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");o=C}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||s(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this};function c(C){return C._maxListeners===void 0?i.defaultMaxListeners:C._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(y){for(var O=[],A=1;A<arguments.length;A++)O.push(arguments[A]);var N=y==="error",I=this._events;if(I!==void 0)N=N&&I.error===void 0;else if(!N)return!1;if(N){var w;if(O.length>0&&(w=O[0]),w instanceof Error)throw w;var M=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw M.context=w,M}var k=I[y];if(k===void 0)return!1;if(typeof k=="function")t(k,this,O);else for(var D=k.length,L=p(k,D),A=0;A<D;++A)t(L[A],this,O);return!0};function l(C,y,O,A){var N,I,w;if(a(O),I=C._events,I===void 0?(I=C._events=Object.create(null),C._eventsCount=0):(I.newListener!==void 0&&(C.emit("newListener",y,O.listener?O.listener:O),I=C._events),w=I[y]),w===void 0)w=I[y]=O,++C._eventsCount;else if(typeof w=="function"?w=I[y]=A?[O,w]:[w,O]:A?w.unshift(O):w.push(O),N=c(C),N>0&&w.length>N&&!w.warned){w.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=C,M.type=y,M.count=w.length,r(M)}return C}i.prototype.addListener=function(y,O){return l(this,y,O,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(y,O){return l(this,y,O,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(C,y,O){var A={fired:!1,wrapFn:void 0,target:C,type:y,listener:O},N=u.bind(A);return N.listener=O,A.wrapFn=N,N}i.prototype.once=function(y,O){return a(O),this.on(y,d(this,y,O)),this},i.prototype.prependOnceListener=function(y,O){return a(O),this.prependListener(y,d(this,y,O)),this},i.prototype.removeListener=function(y,O){var A,N,I,w,M;if(a(O),N=this._events,N===void 0)return this;if(A=N[y],A===void 0)return this;if(A===O||A.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete N[y],N.removeListener&&this.emit("removeListener",y,A.listener||O));else if(typeof A!="function"){for(I=-1,w=A.length-1;w>=0;w--)if(A[w]===O||A[w].listener===O){M=A[w].listener,I=w;break}if(I<0)return this;I===0?A.shift():_(A,I),A.length===1&&(N[y]=A[0]),N.removeListener!==void 0&&this.emit("removeListener",y,M||O)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(y){var O,A,N;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[y]),this;if(arguments.length===0){var I=Object.keys(A),w;for(N=0;N<I.length;++N)w=I[N],w!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=A[y],typeof O=="function")this.removeListener(y,O);else if(O!==void 0)for(N=O.length-1;N>=0;N--)this.removeListener(y,O[N]);return this};function f(C,y,O){var A=C._events;if(A===void 0)return[];var N=A[y];return N===void 0?[]:typeof N=="function"?O?[N.listener||N]:[N]:O?m(N):p(N,N.length)}i.prototype.listeners=function(y){return f(this,y,!0)},i.prototype.rawListeners=function(y){return f(this,y,!1)},i.listenerCount=function(C,y){return typeof C.listenerCount=="function"?C.listenerCount(y):h.call(C,y)},i.prototype.listenerCount=h;function h(C){var y=this._events;if(y!==void 0){var O=y[C];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(C,y){for(var O=new Array(y),A=0;A<y;++A)O[A]=C[A];return O}function _(C,y){for(;y+1<C.length;y++)C[y]=C[y+1];C.pop()}function m(C){for(var y=new Array(C.length),O=0;O<y.length;++O)y[O]=C[O].listener||C[O];return y}function v(C,y){return new Promise(function(O,A){function N(w){C.removeListener(y,I),A(w)}function I(){typeof C.removeListener=="function"&&C.removeListener("error",N),O([].slice.call(arguments))}b(C,y,I,{once:!0}),y!=="error"&&E(C,N,{once:!0})})}function E(C,y,O){typeof C.on=="function"&&b(C,"error",y,O)}function b(C,y,O,A){if(typeof C.on=="function")A.once?C.once(y,O):C.on(y,O);else if(typeof C.addEventListener=="function")C.addEventListener(y,function N(I){A.once&&C.removeEventListener(y,N),O(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return w_.exports}var sve=rve();const ive=jt(sve);class bE{constructor(){R(this,"emitter",new ive);this.emitter.setMaxListeners(1e3)}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}publish(t){this.emitter.emit(t.kind,t),this.emitter.emit("anyEvent",t)}}const ove=new bE;function Od(e,t,n=Object.is){if(e===t)return!0;if(typeof e!="object"||e==null||typeof t!="object"||t==null)return n(e,t);if(Array.isArray(e)&&Array.isArray(t)){const s=e.length;if(t.length!==s)return!1;for(let i=0;i<s;i++)if(!n(e[i],t[i]))return!1;return!0}const r=Object.getPrototypeOf(e);if(Object.getPrototypeOf(t)!==r)return!1;if(e instanceof Map){const s=t;if(e.size!==s.size)return!1;for(const[i,o]of e.entries())if(!n(o,s.get(i)))return!1;return!0}if(Symbol.iterator in e&&Symbol.iterator in t){const s=e,o=t[Symbol.iterator]();for(const a of s){const c=o.next();if(c.done||!n(a,c.value))return!1}return o.next().done===!0}if(r===Object.prototype||r==null){const s=e,i=t,o=Object.keys(s),a=o.length;if(Object.keys(i).length!==a)return!1;for(let c=0;c<a;++c){const l=o[c];if(!Object.prototype.hasOwnProperty.call(i,l)||!n(s[l],i[l]))return!1}return!0}return!1}var WT,uF;function ave(){if(uF)return WT;uF=1;function e(t){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];o&&(i[s++]=o)}return i}return WT=e,WT}var cve=ave();const r7=jt(cve),lve="text/plain",uve="us-ascii",qT=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),dve=new Set(["https:","http:","file:"]),fve=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!dve.has(t)}catch(t){return!1}},hve=(e,{stripHash:t})=>{var d,f;const n=new RegExp("^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$").exec(e);if(!n)throw new Error("Invalid URL: ".concat(e));let{type:r,data:s,hash:i}=n.groups;const o=r.split(";");i=t?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);const c=(f=(d=o.shift())==null?void 0:d.toLowerCase())!=null?f:"",u=[...o.map(h=>{let[p,_=""]=h.split("=").map(m=>m.trim());return p==="charset"&&(_=_.toLowerCase(),_===uve)?"":"".concat(p).concat(_?"=".concat(_):"")}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||c&&c!==lve)&&u.unshift(c),"data:".concat(u.join(";"),",").concat(a?s.trim():s).concat(i?"#".concat(i):"")};function pve(e,t){if(t=S({defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0},t),typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol="".concat(t.defaultProtocol,":")),e=e.trim(),/^data:/i.test(e))return hve(e,t);if(fve(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){const o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let a=0,c="";for(;;){const u=o.exec(s.pathname);if(!u)break;const d=u[0],f=u.index,h=s.pathname.slice(a,f);c+=h.replace(/\/{2,}/g,"/"),c+=d,a=f+d.length}const l=s.pathname.slice(a,s.pathname.length);c+=l.replace(/\/{2,}/g,"/"),s.pathname=c}if(s.pathname)try{s.pathname=decodeURI(s.pathname).replace(/\\/g,"%5C")}catch(o){}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=s.pathname.split("/");const a=o[o.length-1];qT(a,t.removeDirectoryIndex)&&(o=o.slice(0,-1),s.pathname=o.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const o of[...s.searchParams.keys()])qT(o,t.removeQueryParameters)&&s.searchParams.delete(o);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(s.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const o of[...s.searchParams.keys()])qT(o,t.keepQueryParameters)||s.searchParams.delete(o);if(t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch(o){}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,"")),t.removeExplicitPort&&s.port&&(s.port="");const i=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!i.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}const _ve={},mve=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=f=>{const h=o(f);if(!u(d,h)){const p=d;a(d=h,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},e(t,n,r)},gve=mve;function vve(e,t){let n;try{n=e()}catch(s){return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const _h=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return _h(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return _h(r)(n)}}}},Eve=(e,t)=>(n,r,s)=>{let i=S({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,v)=>S(S({},v),m)},t),o=!1;const a=new Set,c=new Set;let l;try{l=i.getStorage()}catch(m){}if(!l)return e((...m)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(i.name,"', the given storage is currently unavailable.")),n(...m)},r,s);const u=_h(i.serialize),d=()=>{const m=i.partialize(S({},r()));let v;const E=u({state:m,version:i.version}).then(b=>l.setItem(i.name,b)).catch(b=>{v=b});if(v)throw v;return E},f=s.setState;s.setState=(m,v)=>{f(m,v),d()};const h=e((...m)=>{n(...m),d()},r,s);let p;const _=()=>{var m;if(!l)return;o=!1,a.forEach(E=>E(r()));const v=((m=i.onRehydrateStorage)==null?void 0:m.call(i,r()))||void 0;return _h(l.getItem.bind(l))(i.name).then(E=>{if(E)return i.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==i.version){if(i.migrate)return i.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var b;return p=i.merge(E,(b=r())!=null?b:h),n(p,!0),d()}).then(()=>{v==null||v(p,void 0),o=!0,c.forEach(E=>E(p))}).catch(E=>{v==null||v(void 0,E)})};return s.persist={setOptions:m=>{i=S(S({},i),m),m.getStorage&&(l=m.getStorage())},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},_(),p||h},Cve=(e,t)=>(n,r,s)=>{let i=S({storage:vve(()=>localStorage),partialize:_=>_,version:0,merge:(_,m)=>S(S({},m),_)},t),o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return e((..._)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(i.name,"', the given storage is currently unavailable.")),n(..._)},r,s);const u=()=>{const _=i.partialize(S({},r()));return l.setItem(i.name,{state:_,version:i.version})},d=s.setState;s.setState=(_,m)=>{d(_,m),u()};const f=e((..._)=>{n(..._),u()},r,s);s.getInitialState=()=>f;let h;const p=()=>{var _,m;if(!l)return;o=!1,a.forEach(E=>{var b;return E((b=r())!=null?b:f)});const v=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(_=r())!=null?_:f))||void 0;return _h(l.getItem.bind(l))(i.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==i.version){if(i.migrate)return i.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var b;return h=i.merge(E,(b=r())!=null?b:f),n(h,!0),u()}).then(()=>{v==null||v(h,void 0),h=r(),o=!0,c.forEach(E=>E(h))}).catch(E=>{v==null||v(void 0,E)})};return s.persist={setOptions:_=>{i=S(S({},i),_),_.storage&&(l=_.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(c.add(_),()=>{c.delete(_)})},i.skipHydration||p(),h||f},yve=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((_ve?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Eve(e,t)):Cve(e,t),Sve=yve;function s7(e,t){var n,r;return(r=(n=e.findNode(s=>i7(s,t),t))==null?void 0:n.children)!=null?r:Ove}function Tve(e,t){return s7(e,t).find(n=>{var r;return n===t||n===((r=e.findNode(s=>s.id===n||i7(s,t),t))==null?void 0:r.id)})}function i7(e,t){return e.id!==t&&(e.children.length>1||!Yc(e.message))}const Ove=Object.freeze([]);function bve(){return"".concat(Tw).concat(nr())}let Ave=0;function rze(){return Ave++}function Ap(e){return e.startsWith(Tw)}const o7=()=>Xc.emptyTree();function dF(e){const t=new Set;for(const n of e.nodes){const r=n.message;r.author.role!==we.Root&&(ph(r.id)||t.add(r.id))}return t}const Nve=new Set(Object.keys(rr)),a7=e=>{var n;const t=(n=e==null?void 0:e.metadata)==null?void 0:n.system_hints;return t!=null&&t.length?t.some(r=>typeof r=="string"&&Nve.has(r)):!1},c7=e=>e.nodes.some(t=>a7(t.message)),Ive=Object.freeze({});var Pve=(e=>(e.NewChat="NewChat",e.Server="Server",e.User="User",e.Generated="Generated",e.Unknown="Unknown",e))(Pve||{});const Ls={};function wve(e,t){Ls[e]&&(clearTimeout(Ls[e]),delete Ls[e]);const n=3e4;Ls[e]=setTimeout(()=>{var i;const r=vi();if(r.threads[e]==null){clearTimeout(Ls[e]),delete Ls[e];return}if(((i=r.threadRetainCounts[e])!=null?i:0)>0){clearTimeout(Ls[e]),delete Ls[e];return}l7.deleteThread(e),clearTimeout(Ls[e]),delete Ls[e]},n)}function Rve(e){return e}const xve=Rve,Np=zn(xve(xa(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}})))),vi=Np.getState,oc=Np.setState;function T1(e,t=vi()){return Ap(e)?t.clientNewThreadIdToServerIdMapping[e]:e}function sze(e,t=vi()){var r;const n=(r=Object.entries(t.clientNewThreadIdToServerIdMapping).find(([s,i])=>i===e))==null?void 0:r[0];return n!=null?n:e}const ize=e=>Np(t=>e?T1(e,t):void 0);function gI(e,t=vi()){var n;return(n=t.clientNewThreadIdToServerIdMapping[e])!=null?n:e}function Ip(e,t=vi()){const n=gI(e,t);return t.threads[n]}function Mve(e,t){const n=T.useRef(void 0);return T.useMemo(()=>[],[t.clientThreadId]),r=>{const s=e(r);return Od(n.current,s)||(n.current=s),n.current}}function Nc(e,t,n){return Np(Mve(r=>t(e&&Ip(e,r)),{disablePerfDetector:(n==null?void 0:n.disablePerfDetector)===!0,clientThreadId:e}))}function sa(e,t){oc(n=>{const r=Ip(e,n);r&&t(r)})}const kve=["utm_source"],fF=e=>{try{return pve(e,{stripWWW:!1,removeTrailingSlash:!0,sortQueryParameters:!0,removeQueryParameters:kve})}catch(t){return e}},Lve=e=>{var t;return((t=e==null?void 0:e.search_result_groups)!=null?t:[]).flatMap(n=>{var r;return(r=n.entries)!=null?r:[]}).map(n=>n==null?void 0:n.url)},Oe={getGizmoId:e=>(e==null?void 0:e.mode.kind)===Ys.GizmoInteraction||(e==null?void 0:e.mode.kind)===Ys.GizmoTest?e.mode.gizmo_id:void 0,getTree:e=>{var t;return(t=e==null?void 0:e.tree)!=null?t:o7()},resolveLeafIdForMessageTarget:(e,t)=>{var s,i,o;if(t==null||t==="finalAgentTurn"||t==="finalUserTurn"||!e.containsNodeOrMessageId(t))return;const n=(s=e.messageIdToExistingNodeId(t))!=null?s:t;return((o=(i=e.getLeafFromNodeAvoidingPlaceholders)==null?void 0:i.call(e,n))!=null?o:e.getLeafFromNode(n)).id},getBranch:(e,t=Oe.getCurrentLeafId(e))=>{var n;return(n=e==null?void 0:e.tree.getBranchFromLeaf(t))!=null?n:[]},getThreadTitleSource:e=>{var t;return(t=e==null?void 0:e.titleSource)!=null?t:"Unknown"},getThreadCreateTime:e=>e==null?void 0:e.createTime,getIsNewConversation:e=>Oe.getCurrentLeafId(e)===Oe.getTree(e).rootId,getCurrentLeafId:e=>{var r;const t=Oe.getTree(e),n=(r=e==null?void 0:e.currentLeafId)!=null?r:t.rootId;return t.containsNodeOrMessageId(n)?n:t.rootId},getCurrentNode:e=>Oe.getNode(e,Oe.getCurrentLeafId(e)),getLastNonPlaceholderNode:e=>{var n;const t=Oe.getNode(e,Oe.getCurrentLeafId(e));return t&&ph((n=t.message)==null?void 0:n.id)?Oe.getNode(e,t.parentId):t},getNode:(e,t)=>Oe.getTree(e).getNodeByIdOrMessageId(t),getParentNode:(e,t)=>Oe.getTree(e).getParent(t),getParentPromptNode:(e,t=Oe.getCurrentLeafId(e))=>Oe.findNode(e,n=>g9(n.message),t),getAsyncTurns:e=>{var t;return(t=e==null?void 0:e.asyncTurns)!=null?t:Ive},isThreadUrlSafe:(e,t)=>{var n;return(n=e==null?void 0:e.safeUrls.map(r=>fF(r)).includes(fF(t)))!=null?n:!1},getTurnContentReferences:(e,t)=>{var n;return r7((n=Oe.getConversationTurnAtIndex(e,t).messages.flatMap(Uve))!=null?n:[])},isArchived:e=>{var t;return(t=e==null?void 0:e.isArchived)!=null?t:!1},isStarred:e=>{var t;return(t=e==null?void 0:e.isStarred)!=null?t:!1},shouldRefetchConvoOnFinalize:e=>{var t;return(t=e==null?void 0:e.shouldRefetchConvoOnFinalize)!=null?t:!1},getUpdateTime:e=>{var t;return(t=e==null?void 0:e.update_time)!=null?t:e!=null&&e.createTime?e.createTime.getTime()/1e3:null},hasUserMessage:e=>Oe.findNode(e,t=>qo(t.message))!=null,lastUserMessage:e=>{var t,n;return(n=(t=Oe.findNode(e,r=>qo(r.message)))==null?void 0:t.message)!=null?n:null},firstUserMessage:e=>{var t,n;return(n=(t=Oe.findFirstFromLeaf(e,r=>qo(r.message)))==null?void 0:t.message)!=null?n:null},isLastActorMessage:(e,t)=>Oe.getTree(e).findNode(n=>n.message.author.role===we.Assistant||n.message.author.role===we.User||n.message.author.role===we.Tool&&n.message.author.name===ao.A8KM123,Oe.getCurrentLeafId(e),t)==null,findNode:(e,t,n=Oe.getCurrentLeafId(e))=>Oe.getTree(e).findNode(t,n),findFirstFromLeaf(e,t,n=Oe.getCurrentLeafId(e)){return Oe.getTree(e).findFirstFromLeaf(t,n)},isMessageTurnEnded:(e,t=Oe.getCurrentLeafId(e))=>{var s;const r=Oe.getTree(e).getNodeIfExists(t);return(s=r==null?void 0:r.message.end_turn)!=null?s:!1},getConversationTurns:(e,t=Oe.getCurrentLeafId(e))=>e1(Oe.getTree(e),t),getConversationTurnIds:e=>Dve(Oe.getConversationTurns(e)),getConversationTurnAtIndex:(e,t,n=Oe.getCurrentLeafId(e))=>{const r=Oe.getConversationTurns(e,n);if(t>=r.length)throw new Error("Turn index ".concat(t," out of bounds"));return r[t]},getConversationLastTurn:(e,t=Oe.getCurrentLeafId(e))=>vs(Oe.getConversationTurns(e,t)),getConversationSearchEntryUrls:(e,t=Oe.getCurrentLeafId(e))=>Oe.getConversationTurns(e,t).flatMap(n=>n.messages).flatMap(n=>Lve(n==null?void 0:n.metadata)),getConversationTurnIndex:(e,t=Oe.getCurrentLeafId(e))=>Oe.getConversationTurns(e).findIndex(r=>r.messages.some(s=>s.id===t)),hasUserContextPrompt:e=>{var t;return Oe.getTree(e).findFirst(n=>{var r;return((r=n.message.metadata)==null?void 0:r.is_user_system_message)!=null})!=null||((t=e==null?void 0:e.sharedConversationMetadata)==null?void 0:t.hasUserEditableContextFlag)!=null},hasModelEditableContext:e=>Oe.findNode(e,t=>t.message.content.content_type==="model_editable_context")!=null,mostRecentEcosystemMessage:(e,t)=>Oe.findNode(e,n=>{var r,s,i;return!!(n.message.author.name==="api_tool.call_tool"&&((i=(s=(r=n.message.metadata)==null?void 0:r.chatgpt_sdk)==null?void 0:s.resource_name)!=null&&i.includes(t)))}),hasRecentPIMWarning:e=>{var n;const t=e==null?void 0:e.tree.getBranchFromLeaf(e.currentLeafId);if(!t)return!1;for(let r=t.length-1;r>=0;r--){if(t[r].message.author.role===we.User)return!1;if((n=t[r].message.metadata)!=null&&n.is_pim_warning)return!0}return!1},getRequestId:(e,t=Oe.getCurrentLeafId(e))=>{var n,r;return(r=(n=Oe.findNode(e,s=>{var i;return((i=s.message.clientMetadata)==null?void 0:i.requestId)!=null},t))==null?void 0:n.message.clientMetadata)==null?void 0:r.requestId},getLastMessageSystemHints:e=>{var n,r;const t=Oe.findNode(e,s=>qo(s.message));return(r=(n=t==null?void 0:t.message.metadata)==null?void 0:n.system_hints)!=null?r:[]},getVariantIds:(e,t=Oe.getCurrentLeafId(e))=>s7(Oe.getTree(e),t),getCurrentVariantId:(e,t=Oe.getCurrentLeafId(e))=>Tve(Oe.getTree(e),t),getIsDoNotRemember:e=>{var t;return(t=e==null?void 0:e.is_do_not_remember)!=null?t:!1},getSuperWidgetMessages:(e,t)=>(t!=null?Oe.getConversationTurnAtIndex(e,t).messages:Oe.getConversationTurns(e).flatMap(r=>r.messages)).filter(r=>r.content.content_type==="super_widget"),getLastSuperWidgetMessage:e=>Oe.getConversationTurns(e).flatMap(t=>t.messages).findLast(t=>t.content.content_type==="super_widget"),getLastAssistantMessage:e=>Oe.getConversationTurns(e).flatMap(t=>t.messages).filter(t=>t.author.role===we.Assistant).at(-1),getUserMessages:e=>Oe.getConversationTurns(e).flatMap(t=>t.messages).filter(qo),isReasoningResponseMessage:(e,t)=>{var r;const n=(r=Oe.getParentNode(e,t))==null?void 0:r.message;return n!=null&&Xw(n)},getSteeringAsyncTaskId:e=>{var t;return(t=e==null?void 0:e.steeringAsyncTaskId)!=null?t:null},findAsyncTaskMetadataNode:(e,t)=>{if(t){const n=Oe.findNode(e,r=>{const s=r.message.metadata;return(s==null?void 0:s.b1de6e2_s)===!0&&(s==null?void 0:s.async_task_id)===t||r.message.author.name===ao.A8KM123&&(s==null?void 0:s.async_task_id)===t});if(n)return n}return Oe.findNode(e,n=>{const r=n.message.metadata;return(r==null?void 0:r.b1de6e2_s)===!0||n.message.author.name===ao.A8KM123&&(r==null?void 0:r.async_task_id)!=null})},hasContinuedFromAsyncTask:(e,t,n)=>{var i,o;const r=(o=(i=Oe.findFirstFromLeaf(e,a=>{var c;return((c=a.message.metadata)==null?void 0:c.async_task_id)===n}))==null?void 0:i.message)!=null?o:null;return r?Oe.getTree(e).findFirstFromLeafToParent(a=>{var c;return ZN(a.message)&&((c=a.message.metadata)==null?void 0:c.async_task_id)!==n||qo(a.message)},t,r.id)!=null:!1},getIsReadOnly:e=>{var t;return(t=e==null?void 0:e.isReadOnly)!=null?t:!1}};let hF=0,pF,_F=[];function Dve(e){var r;const t=e.length,n=(r=vs(e))==null?void 0:r.id;return(hF!==t||pF!==n)&&(hF=t,pF=n,_F=e.map(s=>s.id)),_F}const VT={updateTree(e,t){const n=t(e.tree,Oe.getCurrentLeafId(e));e._treeVersion++,n&&(e.currentLeafId=n),!e.hasIKConvo&&c7(e.tree)&&(e.hasIKConvo=!0)},setCurrentBranch(e,t){VT.updateTree(e,n=>n.getLeafFromNode(t).id)},appendMessage(e,t){VT.updateTree(e,(n,r)=>n.addMessageNode(r,t)),!e.hasIKConvo&&a7(t)&&(e.hasIKConvo=!0)},setShouldRefetchConvoOnFinalize(e,t){e.shouldRefetchConvoOnFinalize=t},setRequestIdOnCurrentLeaf(e,t){VT.updateTree(e,(n,r)=>{n.updateNodeMetadata(r,{requestId:t})})}},l7={initThread:({clientThreadId:e,conversationMode:t,userId:n=void 0,accountId:r=void 0,disableConversationNavigation:s=void 0,skipFollowupMcpCheck:i=void 0,pulseCardId:o=void 0,isDoNotRemember:a=void 0})=>{const c=gI(e);vi().threads[c]==null&&oc(l=>{const u=Xc.emptyTree();l.threads[c]={disableConversationNavigation:s,createTime:new Date,isArchived:!1,isStarred:!1,shouldRefetchConvoOnFinalize:!1,mode:fg(t),contextScopes:null,isPotionShare:void 0,defaultModelId:null,tree:u,_treeVersion:0,title:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,lastPrepareParentMessageId:null,stopConduitToken:null,titleSource:"NewChat",currentLeafId:u.rootId,safeUrls:[],selectedSources:Wge({userId:n,workspaceId:r}),selectedMCPSources:zge({userId:n,workspaceId:r}),startedWithByoMcp:void 0,hasModifiedSources:!1,isLoading:!Ap(c),docsReferencedByURL:{},hasIKConvo:!1,conversationOrigin:null,selectedHazelnuts:null,selectedGithubRepos:new Map,hasModifiedGithubRepos:!1,disabledToolIds:null,is_do_not_remember:a!=null?a:!1,prepareRequestBlocked:!1,lastCompletionFinishedTimestamp:null,turnTraceId:null,interruptionInProgress:!1,asyncTurns:{},skipFollowupMcpCheck:i!=null?i:!1,steeringAsyncTaskId:null,isReadOnly:!1,pulseCardId:o!=null?o:null}})},setServerIdForNewThread:(e,t)=>{vi().clientNewThreadIdToServerIdMapping[e]===void 0&&oc(n=>{n.threads[t]=n.threads[e],delete n.threads[e],n.clientNewThreadIdToServerIdMapping[e]=t})},updateThreadFromServer:(e,t,n={})=>{var O,A,N,I,w,M,k,D,L,G,K,V,Y,Q;const r=gI(e),{skipIfExisting:s,source:i,preferServerCurrentLeaf:o,continuingFromSharedConversationId:a,continuingFromSharedProjectConversationId:c,sharedProjectConversationOwnerId:l,continuingFromSharedPostId:u,forkFromSharedPost:d,branchingFromConversationId:f,branchingFromMessageId:h}=n;if(s&&((O=vi().threads[r])==null?void 0:O.isLoading)===!1)return;const p=Kge(t,r),_=new Xc(p.nodes),m=(A=p.initialCurrentLeafId)!=null?A:_.rootId,v="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&t.model!=null?N9(t.model):void 0}:void 0,E="is_potion_share"in t?t.is_potion_share:void 0;let b;for(const z of _.getBranchFromLeaf(m)){const F=z.message;if(!(F.author.role!==we.User&&((N=F.metadata)==null?void 0:N.invoked_resource)===void 0)&&(((I=F.metadata)==null?void 0:I.invoked_resource)!==void 0||((k=(M=(w=F.metadata)==null?void 0:w.selected_sources)==null?void 0:M.length)!=null?k:0)>0||((G=(L=(D=F.metadata)==null?void 0:D.selected_mcp_sources)==null?void 0:L.length)!=null?G:0)>0)){b=((V=(K=F.metadata)==null?void 0:K.selected_mcp_sources)!=null?V:[]).some(fe=>fe.status==="ONLY_ME")||((Q=(Y=F.metadata)==null?void 0:Y.invoked_resource)==null?void 0:Q.publish_status)==="private";break}}const C=t.context_scopes,y=C&&C.length>0?Array.from(C):void 0;oc(z=>{var ee,J,Z,ye,me,Ie,Ce,Me,ke,xe,Ke,le,We,_e,U,be,ge,Ge,ae,Fe,Je,qe,Ae,Xe,dt,Ot,$t,Wt;const F=z.threads[r];if(F&&!(F!=null&&F.isLoading))try{const Et=F.tree,Gn=dF(Et),jn=dF(_);let hn=0;for(const Cr of Gn)jn.has(Cr)||hn++;let An=!1;try{const cr=Et.getNodeByIdOrMessageId(F.currentLeafId).message;cr.author.role!==we.Root&&!ph(cr.id)&&(An=!jn.has(cr.id))}catch(Cr){}const vr=i!=null?i:"unknown",Er=hn>0||An?"stale":"fresh";if(mt.count(ft.DEFAULT,"chatgpt_web_conversation_server_overwrite_stale",[{key:"source",value:vr},{key:"status",value:Er},{key:"leaf_missing",value:An?"true":"false"},{key:"local_only_message",value:hn>0?"true":"false"}]),Er==="stale"){const Cr={client_thread_id:e,resolved_thread_id:r,conversation_id:r,server_conversation_id:"conversation_id"in t?t.conversation_id:null,source:vr,local_node_count:Et.nodes.length,server_node_count:_.nodes.length,local_only_message_count:hn,local_leaf_missing_in_server:An,turn_trace_id:F.turnTraceId};q.addAction("conversation.server_overwrite_stale",Cr),n7((ee=F.turnTraceId)!=null?ee:"").error("Updating newer conversation state with stale server state",Cr,void 0)}}catch(Et){}const Te=Oe.resolveLeafIdForMessageTarget(_,F==null?void 0:F.pendingDeepLinkMessageId),fe=F!=null&&F.isLoading===!1&&F.tree.nodes.length>1&&_.containsNodeOrMessageId(F.currentLeafId)?(J=_.messageIdToExistingNodeId(F.currentLeafId))!=null?J:F.currentLeafId:void 0,$=o===!0?m:(Z=Te!=null?Te:fe)!=null?Z:m,W=_.containsNodeOrMessageId($)?$:_.containsNodeOrMessageId(m)?m:_.rootId;z.threads[r]={createTime:"create_time"in t?new Date(t.create_time*1e3):void 0,isArchived:(ye=t.is_archived)!=null?ye:!1,isStarred:(me=t.is_starred)!=null?me:!1,shouldRefetchConvoOnFinalize:(Ie=F==null?void 0:F.shouldRefetchConvoOnFinalize)!=null?Ie:!1,is_do_not_remember:(Ce=t.is_do_not_remember)!=null?Ce:!1,selectedSources:F!=null&&F.hasModifiedSources?F.selectedSources:new Map,selectedMCPSources:F!=null&&F.hasModifiedSources?F.selectedMCPSources:new Map,mentionedSources:F==null?void 0:F.mentionedSources,selectedGithubRepos:(Me=F==null?void 0:F.selectedGithubRepos)!=null?Me:new Map,hasModifiedGithubRepos:(ke=F==null?void 0:F.hasModifiedGithubRepos)!=null?ke:!1,defaultModelId:(Ke=(xe=F==null?void 0:F.defaultModelId)!=null?xe:t.default_model_slug)!=null?Ke:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,lastPrepareParentMessageId:(le=F==null?void 0:F.lastPrepareParentMessageId)!=null?le:null,stopConduitToken:null,mode:t.gizmo_id!=null?{kind:Ys.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:Ys.PrimaryAssistant},contextScopes:(We=y!=null?y:F==null?void 0:F.contextScopes)!=null?We:null,sharedConversationMetadata:fg(v),isPotionShare:E!=null?E:F==null?void 0:F.isPotionShare,title:(_e=t.title)!=null?_e:null,titleSource:"Server",tree:_,_treeVersion:0,currentLeafId:W,isLoading:!1,continuingFromSharedProjectConversationId:c,sharedProjectConversationOwner:(()=>{var hn,An,vr,Er;const Et=F==null?void 0:F.sharedProjectConversationOwner,Gn=(An=l!=null?l:(hn=t==null?void 0:t.owner)==null?void 0:hn.user_id)!=null?An:Et==null?void 0:Et.id,jn=(Er=(vr=t==null?void 0:t.owner)==null?void 0:vr.name)!=null?Er:Et==null?void 0:Et.name;return Gn!=null||jn!=null?{id:Gn,name:jn}:void 0})(),continuingFromSharedConversationId:a,continuingFromSharedPostId:u,forkFromSharedPost:d,continuingSharedConversationLastMessageId:(a!=null||u!=null||d)&&!f?$:void 0,branchingFromConversationId:f,branchingFromMessageId:h,safeUrls:(U=t.safe_urls)!=null?U:[],hasModifiedSources:(be=F==null?void 0:F.hasModifiedSources)!=null?be:!1,docsReferencedByURL:(ge=F==null?void 0:F.docsReferencedByURL)!=null?ge:{},hasIKConvo:c7(_),conversationOrigin:(ae=(Ge=F==null?void 0:F.conversationOrigin)!=null?Ge:t.conversation_origin)!=null?ae:null,selectedHazelnuts:(Fe=F==null?void 0:F.selectedHazelnuts)!=null?Fe:null,disabledToolIds:(Je=t.disabled_tool_ids)!=null?Je:[],update_time:(qe=t.update_time)!=null?qe:null,scrollToMessageId:F==null?void 0:F.scrollToMessageId,scrollToMessageIsAssistant:F==null?void 0:F.scrollToMessageIsAssistant,pendingDeepLinkMessageId:Te||W!==$||F==null?void 0:F.pendingDeepLinkMessageId,prepareRequestBlocked:(Ae=F==null?void 0:F.prepareRequestBlocked)!=null?Ae:!1,lastCompletionFinishedTimestamp:(Xe=F==null?void 0:F.lastCompletionFinishedTimestamp)!=null?Xe:null,turnTraceId:(dt=F==null?void 0:F.turnTraceId)!=null?dt:null,interruptionInProgress:!1,asyncTurns:{},pulseCardId:(Ot=t.sugar_item_id)!=null?Ot:null,steeringAsyncTaskId:($t=F==null?void 0:F.steeringAsyncTaskId)!=null?$t:null,startedWithByoMcp:(F==null?void 0:F.startedWithByoMcp)||b,isReadOnly:(Wt=t.is_read_only)!=null?Wt:!1}}),ove.publish({kind:"createConversation",clientThreadId:e})},deleteThread:e=>{oc(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{oc(t=>{var n;t.threadRetainCounts[e]=((n=t.threadRetainCounts[e])!=null?n:0)+1}),clearTimeout(Ls[e])},releaseThread:e=>{vi().threads[e]!=null&&(oc(t=>{var n;t.threadRetainCounts[e]=Math.max(((n=t.threadRetainCounts[e])!=null?n:0)-1,0)}),!(vi().threadRetainCounts[e]>0)&&wve(e))},resetThread:e=>{sa(e,t=>{t.tree=o7(),t.currentLeafId=t.tree.rootId})}};function oze(e){sa(e,t=>{t.steeringAsyncTaskId=null})}const aze=e=>{const t=whe();return Nc(e,n=>n?Oe.getGizmoId(n):t)};function cze({clientThreadId:e}){return Nc(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>{var s;return((s=r.message.clientMetadata)==null?void 0:s.errCode)===Cp.ContentPolicy&&r.message.clientMetadata.shouldDisableConversation}):!1})}function lze({clientThreadId:e}){return Nc(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>{var s;return((s=r.message.clientMetadata)==null?void 0:s.errCode)===Cp.ContentPolicy&&r.message.clientMetadata.isSafetyLimited}):!1})}const uze=e=>{var t,n;return(n=(t=e==null?void 0:e.metadata)==null?void 0:t.search_result_groups)!=null?n:[]},Uve=e=>{var t,n;return(n=(t=e==null?void 0:e.metadata)==null?void 0:t.content_references)!=null?n:[]},dze=e=>{var n,r;const t=(r=(n=e==null?void 0:e.metadata)==null?void 0:n.search_model_queries)==null?void 0:r.queries;return Array.isArray(t)?t:[]};var zT,mF;function Fve(){if(mF)return zT;mF=1;var e=nE();function t(n,r,s){s=typeof s=="function"?s:void 0;var i=s?s(n,r):void 0;return i===void 0?e(n,r,void 0,s):!!i}return zT=t,zT}var Gve=Fve();const jve=jt(Gve),AE="kaur1br5",_c="".concat(AE,"_context");function Bve(e){const t=Ip(e);if(!t)return;const n=Oe.getConversationTurns(t).flatMap(r=>r.messages);for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.author.role===we.Tool&&s.author.name===_c)return s}}function yg(e,t=new WeakMap){if(Array.isArray(e)){if(t.has(e))return t.get(e);const r=[];t.set(e,r);for(const s of e)r.push(yg(s,t));return r}function n(r){if(r==null||typeof r!="object")return!1;const s=Object.getPrototypeOf(r);return s===Object.prototype||s==null}if(n(e)){if(t.has(e))return t.get(e);const r={};t.set(e,r);for(const[s,i]of Object.entries(e)){const o=yg(i,t);o!=null&&(r[s]=o)}return r}return e}function Hve(e,t){const n=yg(e),r=yg(t);return jve(n,r,(s,i)=>s==null&&i==null?!0:void 0)}function gF(e){var r,s;const t=e.metadata;return{content:e.content,attachments:(r=t==null?void 0:t.attachments)!=null?r:[],browserContext:t==null?void 0:t[AE],exclusiveKey:(s=t==null?void 0:t.exclusive_key)!=null?s:void 0}}function $ve(e,t){return Hve(gF(e),gF(t))}const vF=9e4;class Wve extends Error{constructor(n){super("sidebar whisper timed out after ".concat(n,"ms"));R(this,"timeoutMs");this.name="SidebarWhisperTimeoutError",this.timeoutMs=n}}const qve="unqfp8es";let Ri;_n()&&rE().then(e=>Ri=e).catch(()=>{});function yo(){return Ri==null?void 0:Ri.getHost()}function u7(){"use forget";const e=j.c(3),[t,n]=T.useState(zve);let r,s;return e[0]!==t?(r=()=>{if(t||!_n())return;let i=!0;return rE().then(o=>{i&&n(o.getHost())}).catch(Vve),()=>{i=!1}},s=[t],e[0]=t,e[1]=r,e[2]=s):(r=e[1],s=e[2]),T.useEffect(r,s),t}function Vve(){}function zve(){return yo()}function fze(){return Ri==null?void 0:Ri.getLinkHandler()}function hze(){return Ri==null?void 0:Ri.getProductEventHandler()}function d7(e){return(e==null?void 0:e.includes(ce.Agent))===!0}async function pze(e,t,n,r){const s=await rE();return await new Promise((i,o)=>{const a=setTimeout(()=>o(new Wve(vF)),vF);Yve(e,t,n,r,s).then(c=>{clearTimeout(a),i(c)}).catch(c=>{clearTimeout(a),o(c)})})}async function Yve(e,t,n,r,s){if(d7(n))return;const i=S6(),o=Vt.contextCollection$(),a=Vt.activeTabContextItemIds$(),c=r9(o,a),l=c.length?c.map(d=>d.id):a==null&&(o!=null&&o.length)?[o[0].id]:[];let u;if(i&&l.length>0)try{u=await s.getTabContext(l)}catch(d){fo.error("getTabContext failed, falling back to whisper content",{error_message:d&&typeof d=="object"&&"message"in d?d.message:String(d)})}if(u||(u=await s.getSidebarWhisperContent()),!u)throw new Error("Client didn't return whisper content");return await h7(u,f7(e==null?void 0:e.url),e,t,n,r)}function Kve(e,t){return e.map(n=>S({id:n.fileid,name:n.name,size:n.size,mime_type:n.mimetype,source:"aura_tab_context"},t&&{[AE]:{source:{url:t.url,host:t.url?new URL(t.url).hostname:void 0,title:t.title}}}))}function f7(e){if(e)try{const t=new URL(e);return t.search="",t.hash="","".concat(qve," - ").concat(t.toString())}catch(t){return}}function Jve(e,t){const n=[];t!=null&&t.length&&n.push(...t);const r="-",s={content_type:"app_pairing_content",workspaces:[{id:r,content_type:"browser_window"}],context_parts:e.map(i=>{var o,a,c;return{content:(o=i.content)!=null?o:void 0,url:(a=i.url)!=null?a:void 0,title:(c=i.title)!=null?c:void 0,workspace_id:r,content_type:"browser_text"}}),custom_instructions:null};return n.push(s),{content_type:je.MultimodalText,parts:n}}function Xve(e,t){if(t.length>0){const n=e;return{content_type:je.MultimodalText,parts:[...t,n]}}return{content_type:je.Text,parts:[e]}}async function h7(e,t,n,r,s,i){if(d7(s))return;const{imageAssetPointers:o,content:a,files:c,embeddedDocumentContexts:l,customInstructions:u}=e,d=l!=null?l:[],f=d.length>0;if(!a&&!f)throw new Error("Whisper content is missing content");const h=a!=null?a:"",p=(o!=null?o:[]).map(C=>({content_type:Pn.ImageAssetPointer,asset_pointer:C.assetPointer,size_bytes:C.sizeBytes,width:C.width,height:C.height})),_=f?Jve(d,p):Xve(h,p),m=d.reduce((C,y)=>{var O,A;return C+((A=(O=y.content)==null?void 0:O.length)!=null?A:0)},0);mt.hist(ft.DEFAULT,"aura-tab-context.web-whisper-content",{hasDocumentContent:f?"true":"false",hasAttachments:c&&c.length>0?"true":"false",hasImages:p.length>0?"true":"false"},m);const v=S(P(S({is_visually_hidden_from_conversation:!0},t&&{exclusive_key:t}),{attachments:Kve(c!=null?c:[],n)}),await Qve(n,r,"context",s)),E={id:nr(),author:{role:we.Tool,name:_c},create_time:Date.now()/1e3,content:_,recipient:"all",metadata:v};if(i){const C=Bve(i);if(C&&$ve(C,E)){fo.debug("Sidechat Context:Skipping duplicate context tool message",{clientThreadId:i,duplicateMessageId:C.id});return}else fo.debug("Sidechat Context: Adding tool message",{clientThreadId:i,messageId:E.id})}const b=[E];if(u&&u.trim().length>0&&b.push({id:nr(),author:{role:we.Developer},recipient:"all",create_time:Date.now()/1e3,content:{content_type:je.Text,parts:[u]},metadata:S({is_visually_hidden_from_conversation:!0},t&&{exclusive_key:"".concat(t,"-instructions")})}),b.length!==0)return b}async function _ze(e,t,n,r){if(!(!e||!_n()||!Vt.whisperContent))return await h7(Vt.whisperContent,f7(e.url),e,t,n,r)}async function Qve(e,t,n,r){const s=(r==null?void 0:r.includes(ce.Agent))===!0,i=Array.isArray(e)?e:e?[e]:[],o=i.map(u=>{var _,m;const d=(_=u.url)!=null?_:void 0;if(!d)return null;let f,h;if(!s&&u.selection){const v=u.selection;h=Pde(v),f=v.length>1e3?v.substring(0,1e3):v}let p;try{p=new URL(d).hostname}catch(v){p=void 0}return S(S(P(S({id:u.id,url:d},p&&{host:p}),{title:(m=u.title)!=null?m:void 0}),f&&{selection:f,selection_word_count:h}),u.base64favicon&&{base64favicon:u.base64favicon})}).filter(u=>u!==null);let a;try{const u=yo();u&&(a=await u.getClientID())}catch(u){}let c;try{const u=yo();u&&(c=await u.getClientCapabilityVersion())}catch(u){}const l=P(S({origin:t,type:n,client_id:a,client_capability_version:c},i.some(u=>u.blocked===!0)?{client_bl_active:!0}:{}),{sources:o});return{[AE]:l}}const p7="fetchAccounts";async function _7({accessToken:e,eventPrefix:t=p7,acceptWorkspaceId:n}){try{await H.safePost("/accounts/{account_id}/invites/accept",{parameters:{path:{account_id:n}},accessToken:e,authOption:cn.SendIfAvailable}),Se.deleteCookie(pe.AcceptAccountId),q.addAction("".concat(t,".accept_invite.success"),{acceptWorkspaceId:n})}catch(r){q.addAction("".concat(t,".accept_invite.error"),{acceptWorkspaceId:n,error:r instanceof Error?r.message:String(r)})}}function Zve({accessToken:e,eventPrefix:t=p7}={}){const n=Se.getCookie(pe.AcceptAccountId);if(n)return _7({accessToken:e,eventPrefix:t,acceptWorkspaceId:n})}const mze=Yn(()=>ne(()=>import("./2ad2fb76-jftjyra769i02kmx.js"),__vite__mapDeps([9,1,10,11,2,3,12,13,14,15])).then(e=>e.NoAuthLoginModal)),m7=Yn(()=>ne(()=>import("./2ad2fb76-jftjyra769i02kmx.js"),__vite__mapDeps([9,1,10,11,2,3,12,13,14,15])).then(e=>e.AuthModal)),eEe="ext-oai-did",tEe="ext-login-allow-phone",gze="ext-whatsapp-al-flow",nEe=new Set(["google-oauth2","windowslive","apple"]),rEe="password";function mh(e){return{[eEe]:e}}function sEe(e){return e!=null&&e.idp&&nEe.has(e.idp)?S({connection:e.idp},e.email&&{login_hint:e.email}):(e==null?void 0:e.idp)==="auth0"?S({connection:rEe},e.email?{login_hint:e.email}:{[tEe]:"true"}):e!=null&&e.email?{login_hint:e.email}:{}}function iEe(e){var t;return S(S(S({},sEe(e.user)),(t=e.params)!=null?t:{}),mh(e.deviceID))}function vze(e){var t;return iEe({deviceID:e.deviceID,user:e.user,params:P(S({reauth:"password"},(t=e.params)!=null?t:{}),{max_age:"0"})})}function Eze(e){const t=Po(),n=P(S({},mh(Zr())),{[ng]:t});Os(m7,{callbackUrl:window.location.href,authorizationParams:n,isUsernameOnTop:e})}function Cze(){"use forget";const e=j.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=Po(),e[0]=t):t=e[0];const n=t;let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=P(S({},mh(Zr())),{[ng]:n}),e[1]=r):r=e[1],r}function Po(e){const t=Se.getCookie(pe.AuthSessionLoggingId);if(t)return t;const n=nr();return Se.setCookie(pe.AuthSessionLoggingId,n),n}function NE(){Se.deleteCookie(pe.AuthSessionLoggingId)}const EF=X(null,{name:"anonConversationIdForHandoff",getServerFallback:()=>null}),oEe=mw.OpenAISidetron;function aEe(){if(pt().isElectron)return oEe}function cEe(e){const t=aEe();return t!=null?t:mw.OpenAI}async function g7({fallbackScreenHint:e="login_or_signup",useFallbackScreenHint:t=!1,callbackUrl:n,additionalAuthParams:r={},callback:s,shouldOpenPaymentModalOnAuth:i=!1,skipLoginModal:o=!0,loginModalSubtitleVariant:a}={}){var b,C;const c=cEe(new URL(window.location.href).searchParams),l=ut("2667897829"),u=pt().isBusinessIp2===!0,d=r!=null&&Object.entries(r).length>0,f=n!=null&&n!==window.location.href;if(u&&e==="signup"&&!t&&!i&&!d&&!f&&l.get("enabled_business_ip_targeting",!1)){s==null||s(c);try{await Xr()}catch(O){}const y=new URL(window.location.href);y.pathname="/team-sign-up",window.location.assign(y.toString());return}let p=e;!t&&p!=="login_or_signup"&&ut("1803944755").get("enable_unified_login_or_signup_start_page_at_chatgpt_web",!1)&&(p="login_or_signup"),i&&Se.setBooleanCookie(pe.ShowPaymentModal,!0,{maxAge:360*60});const _=Po();if(s==null||s(c),!n){const O=(C=(b=pt().flags)==null?void 0:b.includes(VH.NoAuthEnableConversationHandoff))!=null?C:!1,A=lt(()=>EF());O&&!at()&&A?(n="/mac/".concat(A),EF.set(null)):n=window.location.href}const{login_hint:m,connection:v}=r;if(!$6()||o||m||v){try{await Xr()}catch(y){}return jH.signIn(c,{callbackUrl:n},S(P(S({prompt:"login",screen_hint:p},mh(Zr())),{[ng]:_}),r))}Os(m7,{callbackUrl:n,authorizationParams:S(P(S({},mh(Zr())),{[ng]:_}),r),subtitleVariant:a})}const lEe=se.FREE,uEe=Mf.OWNER;function v7(e){return Date.parse(e)/1e3}function Ql(e){if(e==null)return;const t=v7(e);if(!isNaN(t))return t}class dEe{constructor(t){this.data=t}get id(){return this.data.id}get residencyRegion(){return this.data.residencyRegion}get computeResidency(){return this.data.computeResidency}get computeResidencyDisplayName(){return this.data.computeResidencyDisplayName}get computeResidencyDescription(){return this.data.computeResidencyDescription}get isHipaaCompliantWorkspace(){var t;return(t=this.data.isHipaaCompliantWorkspace)!=null?t:!1}get isFedrampCompliantWorkspace(){var t;return(t=this.data.isFedrampCompliantWorkspace)!=null?t:!1}get structure(){return this.data.structure}get workspaceType(){return this.data.workspaceType}get eligibleForReactivation(){return this.data.eligibleForReactivation}get organizationId(){return this.data.organizationId}get startedAsFreeWorkspace(){var t;return(t=this.data.startedAsFreeWorkspace)!=null?t:!1}get name(){return this.data.name}get features(){return this.data.features}get eligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}getEligiblePromoCampaign(t){var n;return(n=this.eligiblePromoCampaigns)==null?void 0:n[t]}getEligiblePromoCampaignId(t){var n;return(n=this.getEligiblePromoCampaign(t))==null?void 0:n.id}isEligibleForPlanPromo(t){return!!this.getEligiblePromoCampaignId(t)}isEqual(t){return e9(this.data,t.data)}get planType(){return this.data.subscriptionStatus.planType}get canAccessWithCurrentSession(){return this.data.canAccessWithCurrentSession}get ssoConnectionName(){return this.data.ssoConnectionName}get isDelinquent(){return this.data.subscriptionStatus.isDelinquent}get gracePeriodId(){return this.data.subscriptionStatus.gracePeriodId}get accountUserId(){return this.data.accountUserId}get normalizedAccountUserId(){return this.isPersonalAccount()?this.authUserId:this.data.accountUserId}get authUserId(){var t;return(t=this.data.accountUserId)==null?void 0:t.split("__")[0]}get subscriptionAnalyticsParams(){const{subscriptionStatus:t}=this.data;return{currentPlanType:t.planType,subscriptionStatus:{billingPeriod:t.billingPeriod,hasPaidSubscription:t.hasPaidSubscription,subscriptionPlan:t.subscriptionPlan,subscriptionExpiresAt:t.subscriptionExpiresAt,wasPaidCustomer:t.wasPaidCustomer}}}isResellerHosted(){return this.data.subscriptionStatus.isResellerHosted}isEnterprisey(){return Qv(this.data.subscriptionStatus.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isSelfServeBusiness()||this.isFreeWorkspace()}isPro(){return this.data.subscriptionStatus.planType===se.PRO}isEdu(){return gp(this.data.subscriptionStatus.planType)}isQuorum(){return this.data.subscriptionStatus.planType===se.QUORUM}isSelfServeBusiness(){return this.data.subscriptionStatus.planType===se.SELF_SERVE_BUSINESS}isFreeWorkspace(){return this.data.subscriptionStatus.planType===se.FREE_WORKSPACE}isK12(){return this.data.subscriptionStatus.planType===se.K12}isGo(){return this.data.subscriptionStatus.planType===se.GO}isPlus(){return this.data.subscriptionStatus.planType===se.PLUS}isFree(){return this.data.subscriptionStatus.planType===se.FREE}isCBP(){return this.data.subscriptionStatus.planType===se.ENTERPRISE_CBP||this.data.subscriptionStatus.planType===se.HC||this.data.subscriptionStatus.planType===se.FINSERV||this.data.subscriptionStatus.planType===se.EDUCATION_CBP}isWorkspaceAccount(){return this.data.structure===Mn.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}getDaysUntilPlanRenews(){const t=this.data.subscriptionStatus.subscriptionRenewsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getDaysUntilSubscriptionCancelAt(){const t=this.data.subscriptionStatus.subscriptionCancelsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getDaysUntilPlanDiscountExpires(){var r;const t=Ql((r=this.data.subscriptionStatus.discount)==null?void 0:r.discount_expires_at);if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}isPersonalAccount(){return this.data.structure===Mn.PERSONAL}hasPaidSubscription(){return this.data.subscriptionStatus.hasPaidSubscription}isActiveSubscriptionGratis(){return this.data.subscriptionStatus.isActiveSubscriptionGratis}getSubscriptionBillingCurrency(){return this.data.subscriptionStatus.billingCurrency}mustGetSubscriptionBillingCurrency(t){const n=this.getSubscriptionBillingCurrency();return n!==void 0?(q.addAction("chatgpt_present_subscription_billing_currency",{subscriptionBillingCurrency:n,callLocation:t}),SN("chatgpt_present_subscription_billing_currency",void 0,{subscriptionBillingCurrency:n,callLocation:t}),n):(q.addError(new Error("chatgpt_missing_subscription_billing_currency"),{callLocation:t}),SN("chatgpt_missing_subscription_billing_currency",void 0,{callLocation:t}),Zue)}willRenewSubscription(){return this.data.subscriptionStatus.lastActiveSubscription.will_renew}willPlanChange(){return!!this.data.subscriptionStatus.scheduledPlanChange}getDaysUntilPlanChanges(){var r;const t=(r=this.data.subscriptionStatus.scheduledPlanChange)==null?void 0:r.changesAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getNextPlanType(){var t,n;return(n=(t=this.data.subscriptionStatus.scheduledPlanChange)==null?void 0:t.planType)!=null?n:null}getLastActiveSubscription(){return this.data.subscriptionStatus.lastActiveSubscription}isDeactivated(){return this.data.deactivated}canInviteMembers(){return this.isSelfServeBusiness()||this.isFreeWorkspace()||this.isEnterprisey()&&(this.isOwnerOfAccount()||this.isAdminOfAccount())}isOwnerOfAccount(){return this.data.role===Mf.OWNER}isAdminOfAccount(){return this.data.role===Mf.ADMIN}isStandardUserOfAccount(){return this.data.role===Mf.STANDARD}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}hasCustomerObject(){return this.data.subscriptionStatus.hasCustomerObject}getProcessorEntity(){return this.data.subscriptionStatus.processorEntity}wasPaidCustomer(){return!this.data.subscriptionStatus.hasPaidSubscription&&this.data.subscriptionStatus.wasPaidCustomer}isOrWasPaidCustomer(){return this.data.subscriptionStatus.hasPaidSubscription||this.data.subscriptionStatus.wasPaidCustomer}isEligibleForCancellationPromotion(){return this.data.subscriptionStatus.isEligibleForCancellationPromotion}getEligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}}class O1{constructor(t){this.data=t}static fromLightAccount(t,n){return new O1({lightAccount:t,authUserId:n})}get id(){return this.data.lightAccount.id}get organizationId(){return this.data.lightAccount.organizationId}get authUserId(){return this.data.authUserId}get structure(){return this.data.lightAccount.structure}get planType(){return this.data.lightAccount.planType}get isDelinquent(){return this.data.lightAccount.isDelinquent}get gracePeriodId(){return this.data.lightAccount.gracePeriodId}get accountUserId(){return this.data.authUserId?this.data.authUserId+"__"+this.data.lightAccount.id:void 0}get normalizedAccountUserId(){return this.isPersonalAccount()?this.data.authUserId:this.accountUserId}isEnterprise(){return HW(this.planType)}isEnterprisey(){return Qv(this.planType)}isK12(){return this.planType===se.K12}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isSelfServeBusiness()||this.isQuorum()||this.isFreeWorkspace()}isGo(){return this.planType===se.GO}isPro(){return this.planType===se.PRO}isEdu(){return gp(this.planType)}isSelfServeBusiness(){return this.planType===se.SELF_SERVE_BUSINESS}isEnterpriseCBP(){return this.planType===se.ENTERPRISE_CBP||this.planType===se.HC||this.planType===se.FINSERV}isPlus(){return this.planType===se.PLUS}isFree(){return this.planType===se.FREE}isCBP(){return this.planType===se.ENTERPRISE_CBP||this.planType===se.HC||this.planType===se.FINSERV||this.planType===se.EDUCATION_CBP}isQuorum(){return this.planType===se.QUORUM}isFreeWorkspace(){return this.planType===se.FREE_WORKSPACE}hasPaidSubscription(){return t9(this.planType)}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}isWorkspaceAccount(){return this.structure===Mn.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}isPersonalAccount(){return this.structure===Mn.PERSONAL}hasPlusFeatures(){return this.planType!==se.FREE}}const fEe=Ao(e=>{var t,n,r,s,i,o,a,c,l,u,d,f;return new dEe({id:e.account.account_id,residencyRegion:e.account.account_residency_region,computeResidency:e.account.account_compute_residency,computeResidencyDisplayName:e.account.account_compute_residency_display_name,computeResidencyDescription:e.account.account_compute_residency_description,accountUserId:e.account.account_user_id,name:(t=e.account.name)!=null?t:null,profilePictureId:e.account.profile_picture_id,profilePictureUrl:e.account.profile_picture_url,structure:e.account.structure,workspaceType:e.account.workspace_type,role:(n=e.account.account_user_role)!=null?n:uEe,organizationId:e.account.organization_id,deactivated:e.account.is_deactivated,eligibleForReactivation:e.account.eligible_for_reactivation,ekmConfig:e.account.ekm_config,isHipaaCompliantWorkspace:e.account.is_hipaa_compliant_workspace,isFedrampCompliantWorkspace:e.account.is_fedramp_compliant_workspace,startedAsFreeWorkspace:(r=e.account.started_as_free_workspace)!=null?r:!1,subscriptionStatus:{billingPeriod:e.entitlement.billing_period,hasPaidSubscription:e.entitlement.has_active_subscription||!1,isActiveSubscriptionGratis:e.entitlement.is_active_subscription_gratis||!1,billingCurrency:e.entitlement.billing_currency,subscriptionPlan:e.entitlement.subscription_plan,planType:(s=e.account.plan_type)!=null?s:lEe,subscriptionRenewsAt:Ql(e.entitlement.renews_at),subscriptionCancelsAt:Ql(e.entitlement.cancels_at),subscriptionExpiresAt:Ql(e.entitlement.expires_at),scheduledPlanChange:e.entitlement.scheduled_plan_change?{changesAt:v7(e.entitlement.scheduled_plan_change.changes_at),planType:e.entitlement.scheduled_plan_change.plan_type}:void 0,wasPaidCustomer:(i=e.account.has_previously_paid_subscription)!=null?i:!1,hasCustomerObject:(a=(o=e.account.processor)==null?void 0:o.a001.has_customer_object)!=null?a:!1,processorEntity:(c=e.account.processor)==null?void 0:c.a001.processor_entity,lastActiveSubscription:e.last_active_subscription,isResellerHosted:(l=e.account.reseller_hosted_account)!=null?l:!1,discount:e.entitlement.discount,isEligibleForCancellationPromotion:(u=e.entitlement.is_eligible_for_cp)!=null?u:!1,isDelinquent:e.entitlement.is_delinquent,becameDelinquentAt:Ql(e.entitlement.became_delinquent_timestamp),gracePeriodEndAt:Ql(e.entitlement.grace_period_end_timestamp),gracePeriodId:e.entitlement.grace_period_id},features:[...e.features].sort(),canAccessWithCurrentSession:e.can_access_with_session!==!1,ssoConnectionName:(d=e.sso_connection_name)!=null?d:null,eligiblePromoCampaigns:(f=e.eligible_promo_campaigns)!=null?f:{}})});function hEe(e){return e.account_ordering.map(t=>fEe(e.accounts[t]))}function pEe(e,t){var i;const n=e.filter(o=>o.canAccessWithCurrentSession);if(typeof t=="string"){const o=n.find(a=>a.id===t);if(o!==void 0)return o;if(t===Pi){const a=n.find(c=>c.structure===Mn.PERSONAL);if(a!==void 0)return a}}if(n.length===1)return n[0];if(n.filter(o=>!o.isDeactivated()).length===0){const o=n.filter(a=>a.structure===Mn.WORKSPACE&&a.isDeactivated());if(o.length>0)return(i=o.find(a=>a.eligibleForReactivation))!=null?i:o[0]}if(!n.some(o=>o.structure===Mn.WORKSPACE))return n[0]}function _Ee(e,t){if(e){if(e.structure===Mn.WORKSPACE)return e.id;if(t.some(r=>r.structure===Mn.WORKSPACE))return Pi}}async function mEe(){return await Zve({eventPrefix:"fetchAccountState"}),await H.safeGet("/accounts/check/{version}",{parameters:{path:{version:Qte},query:{timezone_offset_min:new Date().getTimezoneOffset().toString()}},authOption:cn.SendIfAvailable})}const CF=e=>e!=null&&typeof e=="object"&&"account"in e&&typeof e.account=="object"&&e.account!=null&&"account_id"in e.account;function gEe(e,t){return CF(e)&&CF(t)&&e.isEqual(t)?e:WP(e,t)}const vEe=fn({queryKey:["account-status"],queryFn:mEe,structuralSharing:gEe,staleTime:1/0});function E7(){return vEe}const EEe=Qt(E7),CEe=e=>{var s;const t=(s=Se.getCookie(pe.Workspace))!=null?s:void 0,n=hEe(e),r=pEe(n,t);return{accountItems:n,currentAccount:r,currentAccountId:r==null?void 0:r.id}},b1=X({});X(null);const Uf=ie(()=>{b1();const e=EEe();return e.isLoading||e.data==null?e:P(S({},e),{data:CEe(e.data)})}),vl=ie(()=>{if(Ov()){const t=Uf(),{data:n}=t,r=B(t,["data"]);return P(S({},r),{isLoading:!0,data:void 0})}return Uf()});function C7(e){var t;return(t=e==null?void 0:e.accountItems.find(n=>n.id===e.currentAccountId))!=null?t:null}const sr=ie(()=>C7(vl().data));function vI(){return lt(sr)}function EI(e){e!=null?(Se.setCookie(pe.Workspace,e,{maxAge:Uv}),e===Pi&&y7(!1)):(Se.deleteCookie(pe.Workspace),Se.deleteCookie(pe.WorkspaceIsFedrampCompliant))}function y7(e){Se.setBooleanCookie(pe.WorkspaceIsFedrampCompliant,e,{maxAge:Uv})}function S7(e){Se.setCookie(pe.WorkspaceResidencyRegion,e,{maxAge:Uv})}function CI(){Se.deleteCookie(pe.WorkspaceResidencyRegion)}function T7(e,t){var r;const n=Se.getCookie(pe.Workspace);return y7(e.structure===Mn.WORKSPACE&&e.isFedrampCompliantWorkspace),e.structure===Mn.WORKSPACE?(EI(e.id),S7(e.residencyRegion)):e.structure===Mn.PERSONAL&&(CI(),t&&EI(Pi)),Se.deleteCookie(pe.DowngradeAccountEnabled),Se.deleteCookie(pe.DogfoodingAccountType),{accountCookieChanged:(n!=null?n:Pi)!==((r=Se.getCookie(pe.Workspace))!=null?r:Pi)}}const yEe="843627839";async function O7(e){if(e.accountCookieChanged&&e.account.canAccessWithCurrentSession&&at()&&Pe(yEe))try{await kie(e.account.id,{reason:e.callLocation})}catch(t){q.addError(t instanceof Error?t:new Error("workspaceTokenExchange threw non-Error"),{callLocation:e.callLocation})}}async function yze(e,t,n=!0){const r=lt(()=>vl().data);if(r==null)return{updatedAccount:!1};const s=r.accountItems.find(o=>o.id===t);if(s==null)return{updatedAccount:!1};const{accountCookieChanged:i}=T7(s,n);return await O7({account:s,accountCookieChanged:i,callLocation:"setCurrentAccountWithoutRedirect"}),b1.set({}),{updatedAccount:!0}}async function Sze(e,t,n,r,s=!0){const i=lt(()=>vl().data);if(i==null)return{willRedirect:!1,updatedAccount:!1};const o=i.accountItems.find(d=>d.id===t);if(o==null)return{willRedirect:!1,updatedAccount:!1};const a=_n(),c=lt(()=>y6()),l=ns()&&!at();if(a&&!(c||l)){const d=yo();return d==null||d.onSwitchAccount(t),{willRedirect:!0,updatedAccount:!1}}const{accountCookieChanged:u}=T7(o,s);if(!o.canAccessWithCurrentSession){const d=o.ssoConnectionName?{connection:o.ssoConnectionName}:void 0,f=n.formatMessage(yF.workspacePlaceholder),h=o.data.name||f;return r.info(n.formatMessage(yF.authenticateNotice,{workspaceName:h})),g7({fallbackScreenHint:"login",additionalAuthParams:d}),{willRedirect:!0,updatedAccount:!0}}return await O7({account:o,accountCookieChanged:u,callLocation:"setCurrentAccount"}),u?Dw():b1.set({}),{willRedirect:!1,updatedAccount:!0}}function Tze(){"use forget";return Le(vl)}function Ga(){"use forget";return Le(sr)}const Oze=ie(()=>{const e=sr();return e?e.data.ekmConfig!=null:!1}),bze=ie(()=>{var t;const e=sr();return e&&(t=e.data.isFedrampCompliantWorkspace)!=null?t:!1}),ze=ot(()=>{var r,s;const e=Pa(),t=(r=e==null?void 0:e.user)==null?void 0:r.id,n=(s=e==null?void 0:e.account)!=null?s:null;return n?O1.fromLightAccount(n,t):null}),SEe=ie(()=>{var e,t;return(t=(e=sr())==null?void 0:e.isHipaaCompliantWorkspace)!=null?t:!1}),Aze=ie(()=>{var e,t;return(t=(e=sr())==null?void 0:e.isQuorum())!=null?t:!1});function Nze(){"use forget";return Le(SEe)}const b7=ie(()=>{var e,t;return(t=(e=sr())==null?void 0:e.features)!=null?t:[]});function TEe(){"use forget";return Le(b7)}function Ize(e){"use forget";const t=j.c(2);let n;return t[0]!==e?(n=()=>{var r,s;return(s=(r=b7())==null?void 0:r.includes(e))!=null?s:!1},t[0]=e,t[1]=n):n=t[1],Le(n)}function OEe(e){return e.accountItems.some(t=>t.hasPaidFeatures())}function Pze(e){return!(e==null?void 0:e.accountItems.every(n=>n.isPlus()||n.isFree()||n.isGo()||n.isFreeWorkspace()))}function wze(e){const t=sr();if(!(t==null?void 0:t.isRBACEnabled()))return!0;const{data:r}=EW();return r!=null&&r.some(s=>s.systemHint===e)}const yF=Rt({authenticateNotice:{id:"zALe8U",defaultMessage:"You need to authenticate to access {workspaceName}. Redirecting..."},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"}}),bEe=e=>typeof e=="object"&&e!==null&&"beta_settings"in e,AEe=e=>typeof e=="object"&&e!==null&&"enable_conversation_classifier"in e;function A7(e,t){"use forget";const n=j.c(9);let r;n[0]!==e?(r=N7(e),n[0]=e,n[1]=r):r=n[1];const s=NEe;let i;n[2]!==r||n[3]!==s?(i=P(S({},r),{select:s}),n[2]=r,n[3]=s,n[4]=i):i=n[4];const o=nn(i);let a,c;return n[5]!==o.data||n[6]!==e?(a=()=>{var f,h;if(e==null||o.data==null)return;const l=o.data,u=(f=bEe(l)?l.beta_settings:void 0)!=null?f:AEe(l)?l:void 0,d=(h=u==null?void 0:u.enable_conversation_classifier)!=null?h:!1;zte(cl(),{is_conversation_classifier_enabled_for_workspace:d})},c=[e,o.data],n[5]=o.data,n[6]=e,n[7]=a,n[8]=c):(a=n[7],c=n[8]),T.useEffect(a,c),o}function NEe(e){return e}function N7(e){return fn({queryKey:["workspace-settings",e],queryFn:e!=null?()=>H.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):wee,enabled:e!=null})}const A1=Ts(()=>{var t;const e=(t=ze())==null?void 0:t.getWorkspaceId();return Qt(()=>N7(e),{enabled$:()=>e!=null})});function I7(e){var n,r;const{data:t}=A1();if(t)return(r=(n=t.permissions)==null?void 0:n.includes(e))!=null?r:!1}const IEe=["default","blue","green","yellow","pink","orange","custom"],PEe=["purple"],wEe=["black"],REe=()=>{var o;const e=(o=ze())==null?void 0:o.planType,t=e===se.PLUS,n=e===se.PRO,r=e===se.SELF_SERVE_BUSINESS||Qv(e),i=!gp(e)&&(t||n||r)||_n();return[...IEe,...i?PEe:[],...n?wEe:[]]};function P7(){return _n()?!0:ut("1187049270").get("themes_enabled",!1)}const w7=ot(()=>zn(()=>{var e,t;return(t=kn.getItem(IE(),{userId:(e=ze())==null?void 0:e.normalizedAccountUserId}))!=null?t:"default"})),N1=e=>{var t;w7().setState(e),kn.setItem(IE(),e,{userId:(t=ze())==null?void 0:t.normalizedAccountUserId})},xEe=e=>{_n()&&(R7(e),N1(e))};function Rze(){const e=P7(),t=w7()(),n=jW();return e?{isLoading:!1,value:t,setValue:r=>{n.mutate({setting:Ii.ChatTheme,value:r}),N1(r)}}:{isLoading:!1,value:"default",setValue:()=>{}}}const MEe=()=>{var t;if(!P7())return null;const e=dm(IE(),{userId:(t=ze())==null?void 0:t.normalizedAccountUserId});return g.jsx("script",{nonce:pt().cspScriptNonce,suppressHydrationWarning:!0,children:"!function(){try{const t=localStorage.getItem(".concat(JSON.stringify(e),');document.documentElement.dataset.chatTheme="string"==typeof t?JSON.parse(t):void 0}catch(e){}}();')})};function kEe(){const e=REe(),t=ze(),n=ie(()=>{var i,o,a,c,l;if(_n()){const u=kn.getItem(IE(),{userId:t==null?void 0:t.normalizedAccountUserId});return{theme:UN(u,e,"default")}}const r=(a=(o=(i=mp().data)==null?void 0:i.settings)==null?void 0:o[Ii.ChatTheme])!=null?a:kn.getItem(un.ChatTheme,{userId:t==null?void 0:t.normalizedAccountUserId});let s;if(r==="custom"&&Toe()&&(t!=null&&t.isWorkspacePlan())&&(t!=null&&t.id)){const u=A1().data,d=kn.getItem(un.ChatThemeCustomWorkspace,{userId:t==null?void 0:t.normalizedAccountUserId});s={light:(c=u==null?void 0:u.beta_settings_dict.workspace_chat_theme_light)!=null?c:d==null?void 0:d.light,dark:(l=u==null?void 0:u.beta_settings_dict.workspace_chat_theme_dark)!=null?l:d==null?void 0:d.dark}}return{theme:UN(r,e,"default"),customTheme:s}});return Lse(()=>{var i,o;const{theme:r,customTheme:s}=n();R7(r),r==="custom"&&s&&LEe({light:(i=s.light)!=null?i:null,dark:(o=s.dark)!=null?o:null}),N1(r)})}function IE(){return _n()?un.ChatThemeOverride:un.ChatTheme}function R7(e){document.documentElement.dataset.chatTheme=e}const xze=["user-msg-bg","user-msg-text","submit-btn-bg","submit-btn-text","secondary-btn-bg","secondary-btn-text","user-selection-bg","entity-accent","attribution-highlight-bg"],SF="workspace-chat-theme";function Vi(e){return e?e.replace(/[;}]/g,"").trim():""}function TF(e,t,n){const r=t==="light"?'[data-chat-theme="'.concat(e,'"]'):'[data-chat-theme="'.concat(e,'"].dark, [data-chat-theme="').concat(e,'"] .dark');return"".concat(r," {\n  --theme-user-msg-bg: ").concat(Vi(n["user-msg-bg"]),";\n  --theme-user-msg-text: ").concat(Vi(n["user-msg-text"]),";\n  --theme-submit-btn-bg: ").concat(Vi(n["submit-btn-bg"]),";\n  --theme-submit-btn-text: ").concat(Vi(n["submit-btn-text"]),";\n  --theme-secondary-btn-bg: ").concat(Vi(n["secondary-btn-bg"]),";\n  --theme-secondary-btn-text: ").concat(Vi(n["secondary-btn-text"]),";\n  --theme-user-selection-bg: ").concat(Vi(n["user-selection-bg"]),";\n  --theme-attribution-highlight-bg: ").concat(Vi(n["attribution-highlight-bg"]),";\n  --theme-entity-accent: ").concat(Vi(n["entity-accent"]),";\n}")}function LEe(e){if(typeof document>"u")return;const{light:t,dark:n}=e;if(!t&&!n)return;const r=document.getElementById(SF);let s;r&&r instanceof HTMLStyleElement?s=r:(s=document.createElement("style"),s.id=SF,document.head.appendChild(s));const i=[];t&&i.push(TF("custom","light",t)),n&&i.push(TF("custom","dark",n)),s.textContent=i.join("\n\n")}var DEe=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e.XXLarge="xxlarge",e))(DEe||{});const Pp={small:640,medium:768,large:1024,xlarge:1280,xxlarge:1536};function Gi(e,t){const n=Gs(()=>window.matchMedia(e));return fl(()=>n().matches,r=>va(n(),{change:r}),{name:"@media ".concat(e),getServerFallback:t})}function wp(e){return[()=>Le(e),()=>lt(e)]}const x7=Gi("(prefers-reduced-motion: reduce)",()=>!1),[Mze]=wp(x7),PE=Gi("(min-width: ".concat(Pp.small,"px)"),()=>!lte()),[kze]=wp(PE),Lze=()=>!PE(),wE=Gi("(min-width: ".concat(Pp.medium,"px)"),()=>YP()||KP()),[Dze,Uze]=wp(wE),UEe=Gi("(min-width: ".concat(Pp.large,"px)"),KP),[Fze]=wp(UEe),Gze=Gi("(min-width: ".concat(Pp.xlarge,"px)"),()=>!1),jze=Gi("(min-width: ".concat(Pp.xxlarge,"px)"),()=>!1);Gi("(pointer: coarse)",()=>ll());Gi("(pointer: coarse)",()=>ov());const Bze=ie(()=>CN()||zP()),FEe=Gi("(pointer: coarse)",zH),[Hze,M7]=wp(FEe),GEe=Gi("(hover: hover)",KP);function $ze(){return!Le(wE)}function jEe(){const e={composer:{autofocusDisabled$:X(ll()||CN()),reset:()=>{e.composer.autofocusDisabled$.set(M7()||CN())}},projects:{createOrUpdateProject$:X(void 0),moveConversationToProject$:X(void 0),renamingProjectId$:X(void 0),reset:()=>{e.projects.renamingProjectId$.set(void 0)}}};return e}const BEe=ot(jEe),HEe="/cdn/assets/favicon-180x180-od45eci6.webp",$Ee={src:HEe},WEe="/cdn/assets/favicon-48x48-glnpepm0.webp",qEe={src:WEe},VEe="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVfSURBVHgB5VuLUeMwEJWZKyBUgK8Cch2khHRwpgJCBQkVJFSQpAKggtBBuAocKiBUsKcX24wtZHlXlpIwvJkdYyLJ2q/WKzlRkUFEqb6MNF1rSksalNc6dpr25fWfpldQkiQ79d2gmR5pmmvKqT+2mpYYU50z9AQHmqaBmG5DrimjwqrOAzXG3+l4yMtnpuqU0BO4PTLjNkFk6tiA5DVt6HyQ07GsgU6v9TZgThMVE1RE9nPHVMUAFUvRd8GSy1fCaaQH3OrLUH0vIIn609WoUwClNDMVCPv9Xu12u88rkKbp4TocDtVgMFABsdJCuFG+oGKt7Y3NZkOTyYQ0o4RhXYQ24/GYVqsVvb8HibVz5QMqor03MPnZbEZao51MuyjLMsrznHpCtjpQsc57iT8U44EFAV5SxQV55vMwda6Zj0ajA1Mg/K39n9UPruGJDZf5jDywWCxaJw5rQAyAgLr8mhMvYGGemHQxD9PPSQhMqE1jy+WSfIG+bYJAoPQIkugwcAlgSkK0MT+dTkNFcZrP59aYAtfxwCyY9m3MQ2Pb7ZZCAwHQZg1wFyHsVkBC34ev2pgPsGS1AhZlC5aIP0LMbALIub1t2ojNfAWbEOAewmfnJvMiZ8LSZWohhtm3AcyaMcEjHozqAlhye+HhtoB3bDw+Pn6ZB9xSgEVdAGz1mdqH6Z8K0HoPK8jr0Z/Xw6J91zqP37BSxIoNtkAstIIUAhhzW4MhrvbrSyTahcoJTJhWIMwSswslKHQ8Pz837nU21tr25eXl82+89z88PKgY0PGnca/fFZQAQ1jAI1dcZuR1RX5kb6rfUsUCLMucl8DantgBEMyaDHXBXK8RQGPAdAOsEExs4QKsGhRKWA3bGXZ7jraCxj3Ms+4aoVCV1Cq8vb0pJgYQQMppWdXvPnsyandaM1/ixP39vQoNUwCmslxdL5QnuMVLWEG9LSwgtBVcXV017k1lueAtAAlMYQk0FB3RBQCTr2sE5upaPn3w8fHRuJeU1iGAHafh5eVl456jRTBursvmuh0CPvGp6vpLFcdSOnF9fd24f3197exzc9Pck9DL4IEaM9CTv7u76xwPAdWMJ/UxXHN1YN8rEXIlHGbaDLIlQrZXayUshkoSNANPcAH2ommu/WZqXMd6vW7c397eflmuDioQBERbW1hO/f+wEE6OUnUXlcLMGqDr9RO1OsWoFkFb3L0EjgUJs82x6HXYTIeVw9zgHhACytcckwRzLmqDKTxBGnzofrADEtQDzbw7Vn7PgWmRwuLM9tMR9A27rBqgCBEEtrqgcBNmWReAqJZkWkHMgodkDtIhGuGQBG5gswL4+rFg25ARaj9XJjCuZIR6lK/IY5dGDBvzHnEoswkAFQ6RHZtm6DkZNtq24qSbItR2VoCEVgC/t63hoXeJMJZN2J7Pmak2kIcVtG1aqjJ17SMI12kT/M9jNyqnrpMiuoHYkcFk2wkPCAduIZksxnMds+lhYZnJb9IihI0qPnIQAW91eqe29Xe8CyBPB6GKU73ZIZfHOz3yelSLXBUdvBXqbM/nON0uSZLfrJbU45CU61RHH4I1oNTuCdkhqVIIvda0UIIA4wFOm/gdoiZBiuwSBJIkybE5tEXUh8YDZJgzF4+co7IrffmrAgD+DT9H3R5+D6p8GVfEhSpGBDoyu9Z+n7ka/PjD0qyqcDnQWn0frDnMi0HCTPFEWKiYoGJ1+JmfzNSE4HWiNCI2dIpP6KgoqOZ0OhxP6w4hwBpmRxbEe/nMoJ+X9EIpiNgWkZ8d4zZQUWNckeD4XQfTyEhHKgJYiVAfUBGchiVVn9B3fT6P3SpsFr7E/nz+P3T08cw43Z8wAAAAAElFTkSuQmCC",zEe="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3crect%20width='64'%20height='64'%20rx='32'%20fill='white'%20/%3e%3cpath%20d='M34.2043%2037.0916H41.6359'%20stroke='black'%20stroke-width='3.42172'%20stroke-linecap='round'%20/%3e%3cpath%20d='M32.089%2053.6889C28.2099%2053.6889%2024.6248%2052.7289%2021.3334%2050.809C18.0421%2048.8499%2015.4169%2046.2247%2013.4578%2042.9334C11.5378%2039.642%2010.5779%2036.0569%2010.5779%2032.1778C10.5779%2028.2987%2011.5378%2024.7136%2013.4578%2021.4222C15.4169%2018.1309%2018.0421%2015.5253%2021.3334%2013.6054C24.6248%2011.6462%2028.2099%2010.6667%2032.089%2010.6667C35.968%2010.6667%2039.5532%2011.6462%2042.8445%2013.6054C46.1359%2015.5253%2048.7415%2018.1309%2050.6614%2021.4222C52.6205%2024.7136%2053.6001%2028.2987%2053.6001%2032.1778C53.6001%2036.0569%2052.6205%2039.642%2050.6614%2042.9334C48.7415%2046.2247%2046.1359%2048.8499%2042.8445%2050.809C39.5532%2052.7289%2035.968%2053.6889%2032.089%2053.6889ZM32.089%2049.6923C35.2628%2049.6923%2038.1818%2048.9087%2040.8462%2047.3414C43.5498%2045.7741%2045.6853%2043.6582%2047.2526%2040.9938C48.8199%2038.2902%2049.6035%2035.3516%2049.6035%2032.1778C49.6035%2029.004%2048.8199%2026.0849%2047.2526%2023.4205C45.6853%2020.717%2043.5498%2018.5815%2040.8462%2017.0142C38.1818%2015.4469%2035.2628%2014.6633%2032.089%2014.6633C28.9152%2014.6633%2025.9765%2015.4469%2023.273%2017.0142C20.6086%2018.5815%2018.4927%2020.717%2016.9254%2023.4205C15.3581%2026.0849%2014.5745%2029.004%2014.5745%2032.1778C14.5745%2035.3516%2015.3581%2038.2902%2016.9254%2040.9938C18.4927%2043.6582%2020.6086%2045.7741%2023.273%2047.3414C25.9765%2048.9087%2028.9152%2049.6923%2032.089%2049.6923ZM24.2133%2039.7008C23.6648%2039.7008%2023.1946%2039.5049%2022.8028%2039.1131C22.411%2038.7212%2022.215%2038.2511%2022.215%2037.7025C22.215%2037.3499%2022.313%2037.0364%2022.5089%2036.7621L25.2713%2032.0602L22.6265%2027.5935C22.3522%2027.1625%2022.215%2026.7706%2022.215%2026.418C22.215%2025.9086%2022.411%2025.458%2022.8028%2025.0662C23.1946%2024.6744%2023.6648%2024.4785%2024.2133%2024.4785C24.9186%2024.4785%2025.4672%2024.7919%2025.859%2025.4188L29.0328%2030.8848C29.2679%2031.2766%2029.3854%2031.6684%2029.3854%2032.0602C29.3854%2032.4521%2029.2679%2032.8439%2029.0328%2033.2357L25.859%2038.7017C25.4672%2039.3678%2024.9186%2039.7008%2024.2133%2039.7008ZM34.2048%2039.1131C33.6563%2039.1131%2033.1861%2038.9172%2032.7943%2038.5253C32.4025%2038.1335%2032.2065%2037.6633%2032.2065%2037.1148C32.2065%2036.6054%2032.4025%2036.1548%2032.7943%2035.763C33.1861%2035.3712%2033.6563%2035.1752%2034.2048%2035.1752H41.7279C42.2372%2035.1752%2042.6878%2035.3712%2043.0796%2035.763C43.4715%2036.1548%2043.6674%2036.6054%2043.6674%2037.1148C43.6674%2037.6633%2043.4715%2038.1335%2043.0796%2038.5253C42.6878%2038.9172%2042.2372%2039.1131%2041.7279%2039.1131H34.2048Z'%20fill='black'%20/%3e%3c/svg%3e",YEe="/cdn/assets/favicon-eex17e9e.ico",KEe="/cdn/assets/favicon-l4nq08hd.svg";function JEe(e){if(typeof document>"u")throw new Error("not supported in SSR");const t=document.createElement("template");return t.innerHTML=e,t.innerHTML}function XEe(e){return"data:image/svg+xml;utf8,".concat(encodeURIComponent(e))}const Wze=n=>{var r=n,{svgString:e}=r,t=B(r,["svgString"]);const s=T.useMemo(()=>JEe(e),[e]);return s?g.jsx("img",S({src:XEe(s)},t)):null},qze=({svgString:e,className:t,color:n})=>g.jsx(pp,{name:"StringToSVG",fallback:g.jsx("div",{className:t}),children:g.jsx("div",{className:oe("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e},style:{color:n}})});var YT,OF;function I1(){if(OF)return YT;OF=1;var e=u9();function t(n,r,s){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return YT=t,YT}var KT,bF;function P1(){if(bF)return KT;bF=1;var e=I1(),t=wv(),n=Object.prototype,r=n.hasOwnProperty;function s(i,o,a){var c=i[o];(!(r.call(i,o)&&t(c,a))||a===void 0&&!(o in i))&&e(i,o,a)}return KT=s,KT}var JT,AF;function QEe(){if(AF)return JT;AF=1;var e=P1(),t=sE(),n=Zv(),r=ai(),s=Ep();function i(o,a,c,l){if(!r(o))return o;a=t(a,o);for(var u=-1,d=a.length,f=d-1,h=o;h!=null&&++u<d;){var p=s(a[u]),_=c;if(p==="__proto__"||p==="constructor"||p==="prototype")return o;if(u!=f){var m=h[p];_=l?l(m,p,h):void 0,_===void 0&&(_=r(m)?m:n(a[u+1])?[]:{})}e(h,p,_),h=h[p]}return o}return JT=i,JT}var XT,NF;function k7(){if(NF)return XT;NF=1;var e=iE(),t=QEe(),n=sE();function r(s,i,o){for(var a=-1,c=i.length,l={};++a<c;){var u=i[a],d=e(s,u);o(d,u)&&t(l,n(u,s),d)}return l}return XT=r,XT}var QT,IF;function ZEe(){if(IF)return QT;IF=1;var e=k7(),t=a9();function n(r,s){return e(r,s,function(i,o){return t(r,o)})}return QT=n,QT}var ZT,PF;function eCe(){if(PF)return ZT;PF=1;var e=s9();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return ZT=t,ZT}var eO,wF;function tCe(){if(wF)return eO;wF=1;var e=eCe(),t=l9(),n=d9();function r(s){return n(t(s,void 0,e),s+"")}return eO=r,eO}var tO,RF;function nCe(){if(RF)return tO;RF=1;var e=ZEe(),t=tCe(),n=t(function(r,s){return r==null?{}:e(r,s)});return tO=n,tO}var rCe=nCe();const L7=jt(rCe),D7=["chatgpt.free","chatgpt.go","chatgpt.plus","chatgpt.pro","chatgpt.team.monthly","chatgpt.team.yearly"],U7={prices:{"chatgpt.free":{aed:0,aud:0,brl:0,cad:0,chf:0,clp:0,cop:0,czk:0,dkk:0,egp:0,eur:0,gbp:0,huf:0,idr:0,ils:0,inr:0,jpy:0,krw:0,kzt:0,mxn:0,myr:0,ngn:0,nok:0,nzd:0,pen:0,php:0,pkr:0,pln:0,qar:0,ron:0,sar:0,sek:0,sgd:0,thb:0,twd:0,tzs:0,usd:0,vnd:0,zar:0},"chatgpt.go":{aed:3500,aud:1300,brl:3999,cad:1100,chf:700,clp:799e3,cop:209e4,czk:24900,dkk:6900,egp:22e3,eur:850,"eur-ad":700,"eur-at":799,"eur-ax":800,"eur-be":800,"eur-bg":650,"eur-cy":800,"eur-de":800,"eur-ee":800,"eur-es":999,"eur-fi":800,"eur-fr":800,"eur-gf":800,"eur-gp":800,"eur-gr":800,"eur-hr":800,"eur-ie":800,"eur-is":800,"eur-it":800,"eur-lt":800,"eur-lu":800,"eur-lv":800,"eur-mc":700,"eur-me":700,"eur-mf":700,"eur-mq":800,"eur-mt":800,"eur-nl":800,"eur-pf":800,"eur-pt":799,"eur-rs":500,"eur-si":800,"eur-sk":800,"eur-sm":700,"eur-va":700,"eur-xk":700,gbp:800,"gbp-gg":600,"gbp-gi":599,"gbp-im":600,"gbp-je":600,huf:299e3,idr:75e5,ils:3e3,inr:39900,jpy:15e4,krw:15e5,kzt:475e3,mxn:11e3,myr:3899,ngn:7e5,nok:12900,nzd:1800,pen:1990,php:3e4,pkr:14e4,pln:3499,qar:2900,ron:2999,sar:3500,sek:12900,sgd:1300,thb:25900,twd:29e3,tzs:145e4,usd:800,"usd-al":700,"usd-am":700,"usd-ao":500,"usd-aq":700,"usd-ar":600,"usd-az":600,"usd-ba":600,"usd-bf":500,"usd-bh":725,"usd-bi":500,"usd-bj":500,"usd-bn":850,"usd-bo":500,"usd-bs":725,"usd-bw":600,"usd-bz":600,"usd-cd":500,"usd-cf":500,"usd-cg":500,"usd-ci":500,"usd-ck":700,"usd-cm":500,"usd-cr":600,"usd-cv":750,"usd-cw":700,"usd-dj":500,"usd-dm":700,"usd-do":600,"usd-dz":500,"usd-ec":600,"usd-er":500,"usd-et":500,"usd-fj":600,"usd-fm":500,"usd-ga":550,"usd-ge":700,"usd-gh":500,"usd-gm":500,"usd-gn":500,"usd-gq":500,"usd-gt":600,"usd-gw":500,"usd-gy":600,"usd-hn":500,"usd-ht":500,"usd-iq":500,"usd-jm":600,"usd-jo":500,"usd-ke":500,"usd-kg":500,"usd-ki":500,"usd-km":500,"usd-lb":600,"usd-lc":700,"usd-lr":500,"usd-ls":500,"usd-ly":550,"usd-ma":550,"usd-md":700,"usd-mg":500,"usd-mh":700,"usd-mk":600,"usd-ml":500,"usd-mn":500,"usd-mr":500,"usd-mu":850,"usd-mv":850,"usd-mw":500,"usd-mz":500,"usd-na":550,"usd-ne":500,"usd-ni":500,"usd-nu":500,"usd-pg":500,"usd-py":600,"usd-re":1e3,"usd-rw":500,"usd-sb":500,"usd-sc":1e3,"usd-sd":500,"usd-sh":750,"usd-sj":500,"usd-sl":500,"usd-sn":500,"usd-so":500,"usd-sr":450,"usd-ss":500,"usd-st":500,"usd-sv":500,"usd-sz":500,"usd-td":500,"usd-tf":500,"usd-tg":500,"usd-tj":500,"usd-tk":700,"usd-tm":750,"usd-tn":500,"usd-to":700,"usd-tr":600,"usd-tv":500,"usd-ua":700,"usd-ug":500,"usd-uy":750,"usd-uz":500,"usd-vc":700,"usd-vu":500,"usd-ws":500,"usd-ye":500,"usd-yt":1e3,"usd-zm":500,"usd-zw":500,vnd:132e5,zar:14900},"chatgpt.plus":{aed:8e3,aud:3e3,brl:9990,cad:2500,chf:2e3,"chf-li":2300,clp:1999e3,cop:999e4,czk:49900,dkk:17900,egp:99999,eur:2300,"eur-mf":2e3,gbp:2e3,huf:899e3,idr:349e5,ils:7e3,inr:199900,jpy:3e5,krw:29e5,kzt:999e3,mxn:39900,myr:9990,ngn:315e4,nok:24900,nzd:4e3,pen:7990,php:11e4,pkr:57e4,pln:9999,qar:7e3,ron:9999,sar:9e3,sek:24900,sgd:3e3,thb:69900,twd:69e3,tzs:499e4,usd:2e3,vnd:5225e4,zar:39900},"chatgpt.pro":{aed:8e4,aud:3e4,brl:99990,cad:25e3,chf:2e4,"chf-li":22900,clp:19999e3,cop:9999e4,czk:499e3,dkk:179900,egp:999999,eur:22900,"eur-mf":2e4,gbp:2e4,huf:8999e3,idr:3499e5,ils:7e4,inr:199e4,jpy:3e6,krw:299e5,kzt:9999e3,mxn:399900,myr:99990,ngn:2999e4,nok:249e3,nzd:4e4,pen:79990,php:999e3,pkr:499e4,pln:99999,qar:7e4,ron:99999,sar:9e4,sek:249500,sgd:3e4,thb:699900,twd:699e3,tzs:5999e4,usd:2e4,vnd:5225e5,zar:399999},"chatgpt.team.monthly":{aed:11e3,aud:4500,brl:15999,cad:4200,chf:3400,clp:2799e3,cop:11e6,czk:62499,dkk:18999,egp:145e3,eur:3400,gbp:3e3,huf:125e4,idr:469e5,ils:9900,inr:259900,jpy:465e3,krw:439e4,kzt:165e4,mxn:54900,myr:12900,ngn:45e5,nok:29900,nzd:5200,pen:9900,php:169900,pkr:849900,pln:10999,qar:11e3,ron:13e3,sar:11e3,sek:27999,sgd:3900,thb:99900,twd:95e3,tzs:74e5,usd:3e3,vnd:799e5,zar:49900},"chatgpt.team.yearly":{aed:9e3,aud:3800,brl:13499,cad:3500,chf:2900,clp:229e4,cop:935e4,czk:52499,dkk:15999,egp:12e4,eur:2900,gbp:2500,huf:105e4,idr:389e5,ils:8e3,inr:209900,jpy:39e4,krw:365e4,kzt:1375e3,mxn:45900,myr:10500,ngn:375e4,nok:24900,nzd:4300,pen:8500,php:139900,pkr:699900,pln:8999,qar:9e3,ron:11e3,sar:9500,sek:23499,sgd:3200,thb:79900,twd:79e3,tzs:615e4,usd:2500,vnd:649e5,zar:42500}}},sCe="783652697",iCe=()=>{const t=ln(sCe).value;return typeof t!="object"||t==null?{}:L7(t,D7)},oCe=(e,t)=>S(S({},U7.prices[e]),t[e]),aCe=()=>{const e=iCe(),t=S({},U7.prices);for(const n of D7)t[n]=oCe(n,e);return{prices:t}},Vze=["BR","CL","CO","CZ","DK","EG","HU","ID","JP","KR","KZ","MY","NG","NO","PH","PK","PL","RO","SE","TH","TW","TZ","VN","ZA"],zze={"es-419":{CO:"es-CO",CL:"es-CL",MX:"es-MX",PE:"es-PE"},ar:{QA:"en-US"},"hu-HU":{HU:"en-ZA"},"de-DE":{CH:"de-CH"},"fr-FR":{CH:"de-CH"},"it-IT":{CH:"de-CH"}};function Yze(e){return e?Array.isArray(e)?e:[e]:[]}const cCe=e=>(e.endsWith("/")||(e=e+"/"),e.startsWith("/")||(e="/"+e),e),Kze=(e,t)=>{var n;return(n=e==null?void 0:e.replace(":","/"))!=null?n:t},yI=e=>e!=null&&e.startsWith("//")?"https:".concat(e):e,Jze=e=>{if(e){const t=e.endsWith(".svg")?"":"&fm=webp";return"".concat(e,"?q=90").concat(t)}return e},Xze=(e,t,n)=>{var o;const r=t.toLowerCase(),s=n.toLowerCase(),i=aCe().prices[e];return(o=i["".concat(r,"-").concat(s)])!=null?o:i[r]},Sg={url:"https://cdn.openai.com/chatgpt/share-og.png",width:1600,height:900,alt:"Abstract art featuring a striking contrast of orange gradients on a blue canvas, overlaid with the white ChatGPT logo."},Qze=()=>{const e="ChatGPT - Health",t="ChatGPT Health is a dedicated experience that securely connects your health data and apps, with privacy protections and a physician-informed design.";return[{title:e},{name:"description",content:t},{property:"og:title",content:e},{property:"og:description",content:t},{name:"twitter:title",content:e},{name:"twitter:description",content:t},...lCe({url:"https://cdn.openai.com/chatgpt/share-og-health.jpg",width:1600,height:900,alt:"Soft, blurred pastel background with pink and peach tones and an abstract flower shape; white text reads ChatGPT on the left and Health on the right."})]};function lCe(e){return[{property:"og:type",content:"website"},{property:"og:image",content:e.url},{property:"og:image:width",content:e.width.toString()},{property:"og:image:height",content:e.height.toString()},{property:"og:image:alt",content:e.alt},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:image",content:e.url},{name:"twitter:image:alt",content:e.alt}]}function Zze(e,t){var f,h,p,_,m,v,E,b,C,y,O,A,N,I,w,M,k,D,L,G,K,V,Y,Q,z,F,Te,fe,$,W,ee,J,Z;const r=((_=(p=(h=(f=e==null?void 0:e.coverImage)==null?void 0:f.file)==null?void 0:h.contentType)==null?void 0:p.startsWith("image/"))!=null?_:!1)?(v=(m=e==null?void 0:e.coverImage)==null?void 0:m.file)==null?void 0:v.url:void 0,s=e==null?void 0:e.coverImageAlt,i=(y=(C=(b=(E=e==null?void 0:e.seoFields)==null?void 0:E.openGraphImage)==null?void 0:b.file)==null?void 0:C.url)!=null?y:r,o=(A=(O=e==null?void 0:e.seoFields)==null?void 0:O.openGraphImageAlt)!=null?A:s,a=i?{url:yI("".concat(i,"?w=1600&h=900&fit=fill")),width:1600,height:900,alt:o}:Sg,c=(M=(w=(I=(N=e==null?void 0:e.seoFields)==null?void 0:N.twitterImage)==null?void 0:I.file)==null?void 0:w.url)!=null?M:i,l=(D=(k=e==null?void 0:e.seoFields)==null?void 0:k.twitterImageAlt)!=null?D:o,u=c?{url:yI("".concat(c,"?w=1600&h=900&fit=fill")),alt:l}:Sg,d=[(L=e==null?void 0:e.seoFields)!=null&&L.preventIndexing?"noindex":"index",(G=e==null?void 0:e.seoFields)!=null&&G.preventFollowingLinks?"nofollow":"follow"].join(", ");return[{title:e==null?void 0:e.title},{name:"description",content:(K=e==null?void 0:e.seoFields)==null?void 0:K.metaDescription},{name:"robots",content:d},{property:"og:type",content:"website"},{property:"og:title",content:(Y=(V=e==null?void 0:e.seoFields)==null?void 0:V.openGraphTitle)!=null?Y:e==null?void 0:e.title},{property:"og:description",content:(F=(Q=e==null?void 0:e.seoFields)==null?void 0:Q.openGraphDescription)!=null?F:(z=e==null?void 0:e.seoFields)==null?void 0:z.metaDescription},{property:"og:image",content:a.url},{property:"og:image:width",content:(Te=a.width)==null?void 0:Te.toString()},{property:"og:image:height",content:(fe=a.height)==null?void 0:fe.toString()},{property:"og:image:alt",content:a.alt},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:(W=($=e==null?void 0:e.seoFields)==null?void 0:$.twitterTitle)!=null?W:e==null?void 0:e.title},{name:"twitter:description",content:(Z=(ee=e==null?void 0:e.seoFields)==null?void 0:ee.twitterDescription)!=null?Z:(J=e==null?void 0:e.seoFields)==null?void 0:J.metaDescription},{name:"twitter:image",content:u.url},{name:"twitter:image:alt",content:u.alt},F7(t)]}function eYe(e,t){var o,a,c,l,u,d,f,h;const r=((l=(c=(a=(o=e==null?void 0:e.seoImage)==null?void 0:o.file)==null?void 0:a.contentType)==null?void 0:c.startsWith("image/"))!=null?l:!1)?(d=(u=e==null?void 0:e.seoImage)==null?void 0:u.file)==null?void 0:d.url:void 0,s=e==null?void 0:e.seoImageAlt,i=r?{url:yI("".concat(r,"?w=1600&h=900&fit=fill")),width:1600,height:900,alt:s}:Sg;return[{title:e==null?void 0:e.seoTitle},{name:"description",content:e==null?void 0:e.seoDescription},{property:"og:type",content:"website"},{property:"og:title",content:e==null?void 0:e.seoTitle},{property:"og:description",content:e==null?void 0:e.seoDescription},{property:"og:image",content:i.url},{property:"og:image:width",content:(f=i.width)==null?void 0:f.toString()},{property:"og:image:height",content:(h=i.height)==null?void 0:h.toString()},{property:"og:image:alt",content:i.alt},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:e==null?void 0:e.seoTitle},{name:"twitter:description",content:e==null?void 0:e.seoDescription},{name:"twitter:image",content:i.url},{name:"twitter:image:alt",content:i.alt},F7(t)]}function F7(e){const t="https://chatgpt.com";if(/^https?:\/\//i.test(e))return{tagName:"link",rel:"canonical",href:e};const n=e.indexOf("#"),r=n>=0?e.slice(0,n):e,s=r.indexOf("?"),i=s>=0?r.slice(0,s):r;return{tagName:"link",rel:"canonical",href:"".concat(t).concat(cCe(i))}}const nO=Rt({description:{id:"meta.description.Oct2025Update",defaultMessage:"ChatGPT is your AI chatbot for everyday use. Chat with the most advanced AI to explore ideas, solve problems, and learn faster."},keywords:{id:"meta.keywords",defaultMessage:"ai chat,ai,chap gpt,chat gbt,chat gpt 3,chat gpt login,chat gpt website,chat gpt,chat gtp,chat openai,chat,chatai,chatbot gpt,chatg,chatgpt login,chatgpt,gpt chat,open ai,openai chat,openai chatgpt,openai"},ogDescription:{id:"meta.ogDescription.Nov2025Update",defaultMessage:"ChatGPT helps you get answers, find inspiration, and be more productive."}}),uCe=[{property:"og:title",content:"ChatGPT"},{property:"og:image",content:Sg.url}];function dCe(e){const t=new URL(e,"https://chatgpt.com");return zv(G7(t.pathname))!=null?"https://chatgpt.com":t.toString()}function G7(e){return e.replace(/\//g,"")}function rO(e,t){const n=new URL(e,"https://chatgpt.com"),r=e==="/",s=zv(G7(n.pathname))!=null;return t===hp?s?"https://chatgpt.com":n.toString():((r||s)&&t?n.pathname="/".concat(t,"/"):!s&&t&&n.searchParams.set("locale",t),n.toString())}function fCe(){const e=vt(),t=dn();return BH().some(s=>{var i;return(i=s.handle)==null?void 0:i.hasRouteMeta})||t.pathname.startsWith("/gg/")?null:g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"description",content:e.formatMessage(nO.description)}),g.jsx("meta",{name:"keyword",content:e.formatMessage(nO.keywords)}),g.jsx("meta",{property:"og:description",content:e.formatMessage(nO.ogDescription)}),g.jsx("meta",{property:"og:url",content:rO("/",pt().locale)}),g.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),tle().map(s=>g.jsx("link",{rel:"alternate",hrefLang:s,href:rO(t.pathname,s)},s)),g.jsx("link",{rel:"alternate",hrefLang:"x-default",href:dCe(t.pathname)}),g.jsx("link",{rel:"canonical",href:rO(t.pathname)})]})}function hCe(){"use forget";const e=j.c(1);let t;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const r=ut("3927927759").get("enable_mobile_app_upsell_banner",!1);t=g.jsx(g.Fragment,{children:r&&g.jsx("link",{rel:"manifest",href:"/manifest.json"})}),e[0]=t}else t=e[0];return t}function pCe(){"use forget";const e=j.c(5),{pathname:t}=dn();if(t!=="/")return null;let n,r,s;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@graph":[{"@type":"Organization",name:"ChatGPT",description:"ChatGPT is your AI chatbot for everyday use. Chat with the most advanced AI to explore ideas, solve problems, and learn faster.",url:"https://chatgpt.com",logo:"https://chatgpt.com/favicon.ico",sameAs:["https://x.com/ChatGPTapp","https://www.linkedin.com/company/openai/","https://github.com/openai","https://www.youtube.com/OpenAI"],parentOrganization:{"@type":"Organization",name:"OpenAI",url:"https://openai.com"}}]};n="organization-ld",r="application/ld+json",s=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=s}else n=e[0],r=e[1],s=e[2];let i;return e[3]!==s?(i=g.jsx("script",{id:n,type:r,children:s}),e[3]=s,e[4]=i):i=e[4],i}function _Ce(){"use forget";const e=j.c(5),{pathname:t}=dn();if(t!=="/")return null;let n,r,s;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@type":"WebSite",url:"https://chatgpt.com/",name:"ChatGPT"};n="website-ld",r="application/ld+json",s=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=s}else n=e[0],r=e[1],s=e[2];let i;return e[3]!==s?(i=g.jsx("script",{id:n,type:r,children:s}),e[3]=s,e[4]=i):i=e[4],i}function mCe(){"use forget";const e=j.c(5),{pathname:t}=dn();if(t!=="/")return null;let n,r,s;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@type":"WebPage",url:"https://chatgpt.com/",name:"ChatGPT  AI Chat & AI Chatbot",description:"Explore ChatGPT, the AI chat platform that helps with content generation, problem-solving, and interactive AI conversations.",publisher:{"@type":"Organization",name:"ChatGPT",logo:{"@type":"ImageObject",url:"https://chatgpt.com/favicon.ico"}}};n="webpage-ld",r="application/ld+json",s=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=s}else n=e[0],r=e[1],s=e[2];let i;return e[3]!==s?(i=g.jsx("script",{id:n,type:r,children:s}),e[3]=s,e[4]=i):i=e[4],i}function gCe(){"use forget";const e=j.c(12),t="/cdn";let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=/^https?:\/\//i.test(t),e[0]=n):n=e[0];const r=n,{pathname:s}=dn();let i;e[1]!==s?(i=!s.startsWith("/share")&&!s.startsWith("/s")&&!s.startsWith("/canvas/shared")&&!s.startsWith("/gg")&&!s.startsWith("/g/"),e[1]=s,e[2]=i):i=e[2];const o=i;let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=ut("3927927759").get("enable_mobile_app_upsell_banner",!1),e[3]=a):a=e[3];const c=a;let l,u;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=r?g.jsx("link",{rel:"preconnect",href:t}):null,u=g.jsx("link",{rel:"preconnect",href:"https://ab.chatgpt.com"}),e[4]=l,e[5]=u):(l=e[4],u=e[5]);let d;e[6]!==o?(d=o&&g.jsx("meta",{name:"robots",content:"index, follow"}),e[6]=o,e[7]=d):d=e[7];let f,h;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=g.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),h=c&&g.jsx("meta",{name:"apple-itunes-app",content:"app-id=6448311069"}),e[8]=f,e[9]=h):(f=e[8],h=e[9]);let p;return e[10]!==d?(p=g.jsxs(g.Fragment,{children:[l,u,d,f,h]}),e[10]=d,e[11]=p):p=e[11],p}function xF({href:e}){return g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:e,type:"image/svg+xml"}),g.jsx("link",{rel:"icon",href:e,type:"image/svg+xml",media:"(prefers-color-scheme: dark)"})]})}function vCe(){"use forget";const e=j.c(5),{pathname:t}=dn();let n;e[0]!==t?(n=t.startsWith("/codex")?g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:VEe,sizes:"32x32"}),g.jsx(xF,{href:zEe})]}):g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:YEe,sizes:"48x48"}),g.jsx(xF,{href:KEe}),g.jsx("link",{rel:"icon",href:qEe.src,type:"image/png",sizes:"48x48"})]}),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=g.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:$Ee.src}),e[2]=r):r=e[2];let s;return e[3]!==n?(s=g.jsxs(g.Fragment,{children:[n,r]}),e[3]=n,e[4]=s):s=e[4],s}var bd=(e=>(e.GPT52ReasoningAccess="chatgpt.workspace.model.GPT-5.2-reasoning.access",e.GPT52ProAccess="chatgpt.workspace.model.GPT-5.2-pro.access",e.GPT51Access="chatgpt.workspace.model.GPT-5.1.access",e.GPT51ReasoningAccess="chatgpt.workspace.model.GPT-5.1-reasoning.access",e.GPT51ProAccess="chatgpt.workspace.model.GPT-5.1-pro.access",e.GPT5ThinkingAccess="chatgpt.workspace.model.GPT-5-reasoning.access",e.GPT5ThinkingProAccess="chatgpt.workspace.model.GPT-5-pro.access",e.GPT5ThinkingMiniAccess="chatgpt.workspace.model.GPT-5-reasoning-mini.access",e.GPT41Access="chatgpt.workspace.model.GPT-4.1.access",e.GPT45Access="chatgpt.workspace.model.GPT-4.5.access",e.GPTO3Access="chatgpt.workspace.model.o3.access",e.GPTO3ProAccess="chatgpt.workspace.model.o3-pro.access",e.GPTO4MiniAccess="chatgpt.workspace.model.o4-mini.access",e.GPTO4MiniHighAccess="chatgpt.workspace.model.o4-mini-high.access",e.CrudGPT="chatgpt.workspace.gpt.crud",e.PrivatePublishGPT="chatgpt.workspace.gpt.private_publish",e.ShareWorkspaceGPT="chatgpt.workspace.gpt.share_workspace",e.ShareExternalGPT="chatgpt.workspace.gpt.share_external",e.AllowAllThirdPartyGPT="chatgpt.workspace.gpt.allow_all_third_party",e.AllowSpecificThirdPartyGPT="chatgpt.workspace.gpt.allow_specific_third_party",e.CrudProject="chatgpt.workspace.project.crud",e.ShareProject="chatgpt.workspace.project.share",e.SkillsAccess="chatgpt.workspace.skills.access",e.SkillsShareWorkspace="chatgpt.workspace.skills.share",e.SkillsEnableShareWorkspace="chatgpt.workspace.skills.enable_share",e.MemberRoleView="chatgpt.workspace.member.role.view",e.ShareChatWithWorkspace="chatgpt.workspace.feature.share-chat-with-workspace.access",e.AllowCodexAccess="chatgpt.workspace.feature.allow-codex-access.access",e.AllowCodexLocalAccess="chatgpt.workspace.feature.allow-codex-local-access.access",e.CodexAdminAccess="chatgpt.workspace.feature.codex-admin.access",e.CodexAgentNetworkAccess="chatgpt.workspace.feature.codex-agent-network-access.access",e.CodexDeviceCodeAuthAccess="chatgpt.workspace.feature.codex-device-code-auth.access",e.CodexSlackPostingAccess="chatgpt.workspace.feature.codex-slack-posting.access",e.ImageGenAccess="chatgpt.workspace.feature.image-gen.access",e.SearchAccess="chatgpt.workspace.feature.search.access",e.DeepResearchAccess="chatgpt.workspace.feature.deep-research.access",e.VoiceAccess="chatgpt.workspace.feature.voice.access",e.HiveAccess="chatgpt.workspace.feature.hive.access",e.HiveKnowledgeRetrievalAccess="chatgpt.workspace.feature.hive-knowledge-retrieval.access",e.MemoryAccess="chatgpt.workspace.feature.memory.access",e.CanvasCodeExecutionAccess="chatgpt.workspace.feature.canvas-code-execution.access",e.CanvasCodeNetworkAccess="chatgpt.workspace.feature.canvas-code-network-access.access",e.VideoScreenSharingAccess="chatgpt.workspace.feature.video-screen-sharing.access",e.AppPairingAccess="chatgpt.workspace.feature.app-pairing.access",e.ClientApplicationAppleAccess="chatgpt.workspace.feature.client-application-apple.access",e.AuraAccess="chatgpt.workspace.feature.aura.access",e.BrowserMemoriesAccess="chatgpt.workspace.feature.aura-browser-memories.access",e.AgentModeAccess="chatgpt.workspace.feature.agent-mode.access",e.CreateMcpConnector="chatgpt.workspace.connector.mcp.create",e.DeveloperModeConnector="chatgpt.workspace.connector.dev_mode",e.UseConnector="chatgpt.workspace_connector.use",e.EnhancedCitations="chatgpt.workspace.feature.enhanced-citations.access",e))(bd||{});function ECe(e,t,n){return H.safePatch("/user_system_messages",{requestBody:{conversation_id:t,message_id:n,personality_type_selection:e,enabled:!0}})}function CCe(d){var f=d,{conversationId:e=null,messageId:t=null,aboutUserMessage:n,aboutModelMessage:r,nameUserMessage:s="",roleUserMessage:i="",traitsModelMessage:o="",otherUserMessage:a="",disabledTools:c,enabled:l}=f,u=B(f,["conversationId","messageId","aboutUserMessage","aboutModelMessage","nameUserMessage","roleUserMessage","traitsModelMessage","otherUserMessage","disabledTools","enabled"]);const h=P(S({about_user_message:n,about_model_message:r,name_user_message:s,role_user_message:i,traits_model_message:o,other_user_message:a,disabled_tools:c,enabled:l},u),{conversation_id:e,message_id:t});return H.safePatch("/user_system_messages",{requestBody:h})}function yCe(e,t,n){return H.safePatch("/user_system_messages",{requestBody:{conversation_id:t,message_id:n,personality_traits:e,enabled:!0}})}function Xu(){return fn({queryKey:["userContext"],queryFn:()=>H.safeGet("/user_system_messages"),select:SCe})}function SCe(e){var f;const d=e,{about_user_message:t,about_model_message:n,name_user_message:r,role_user_message:s,traits_model_message:i,other_user_message:o,disabled_tools:a,enabled:c,object:l}=d,u=B(d,["about_user_message","about_model_message","name_user_message","role_user_message","traits_model_message","other_user_message","disabled_tools","enabled","object"]);return P(S({},u),{aboutUserMessage:t!=null?t:"",aboutModelMessage:n!=null?n:"",nameUserMessage:r!=null?r:"",roleUserMessage:s!=null?s:"",personality_type_selection:(f=e.personality_type_selection)!=null?f:"",traitsModelMessage:i!=null?i:"",otherUserMessage:o!=null?o:"",disabledTools:a!=null?a:[],enabled:c!=null?c:!0})}const Ad=Qt(()=>P(S({},Xu()),{enabled:at()})),TCe="default",OCe="professional",tYe=ie(()=>{var n,r;const e=(n=Ad().data)==null?void 0:n.personality_type_selection;return e||(((r=I7(bd.EnhancedCitations))!=null?r:!1)?OCe:TCe)}),bCe=ie(()=>{var e,t,n;return(n=(t=(e=Ad().data)==null?void 0:e.disabledTools)==null?void 0:t.includes(ao.ADVANCED_VOICE))!=null?n:!1}),nYe=ie(()=>{const e=Ad();if(!e||!e.data||!("personality_traits"in e.data))return new Map;const n=e.data.personality_traits;return new Map(Object.entries(n).map(([r,s])=>[r,s||"default"]))}),rYe=ie(()=>{var e,t;return(t=(e=Ad().data)==null?void 0:e.enabled)!=null?t:!1}),ACe=ot(()=>bv({mutationFn:async({personalityType:e,conversationId:t,messageId:n})=>(q.addAction("chatgpt_settings_update_personality_type",{personality_type:e}),await ECe(e,t,n)),onSettled:(e,t)=>{const n=en();e!=null&&!t?n.setQueryData(Xu().queryKey,e):n.invalidateQueries(Xu())}}));function sYe({personalityType:e,conversationId:t,messageId:n,opts:r}){const s=en();r!=null&&r.optimistic&&s.setQueryData(Xu().queryKey,a=>a&&P(S({},a),{personality_type_selection:e}));const{mutate:i,result$:o}=ACe();return i({personalityType:e,conversationId:t,messageId:n}),o}const NCe=ot(()=>bv({mutationFn:async({traits:e,conversationId:t,messageId:n})=>(q.addAction("chatgpt_settings_update_personality_traits",{traits:e}),await yCe(e,t,n)),onSettled:(e,t)=>{const n=en();(e==null||t)&&n.invalidateQueries(Xu())}}));function iYe(e,t,n,r,s){const i={};t.forEach((l,u)=>{i[u]=l!=null?l:"default"});const o=en();s!=null&&s.optimistic&&o.setQueryData(Xu().queryKey,l=>l&&P(S({},l),{personality_traits:i}));const{mutate:a,result$:c}=NCe(e);return a({traits:i,conversationId:n,messageId:r}),c}const ICe=X(!1),oYe=()=>Le(ICe),j7=ww(un.SeparateMode,()=>!1);function B7(e=!1){const t=at(),n=typeof location<"u"&&t1(location.pathname)!==void 0;return!t||n?!1:ut("790459319",{disableExposureLog:e}).get("voice_integrated_ux")}function aYe(){return ut("3116403051").get("start-talking-prompt")}function cYe(){"use forget";const e=j.c(3),t=Le(wCe),n=Le(PCe);let r;return e[0]!==n||e[1]!==t?(r=B7()&&!t&&!n,e[0]=n,e[1]=t,e[2]=r):r=e[2],r}function PCe(){return bCe()}function wCe(){return j7()}function lYe(){ut("790459319").get("voice_integrated_ux")}const RCe=X({type:"unrequested",granted:!1,active:!1,forceMuted:!1,label:""}),uYe=()=>Le(RCe),H7=X(null);function dYe(){return H7()}const fYe=()=>Le(H7),hYe=X(!1),xCe=X(null),pYe=()=>Le(xCe),MCe=X(!1),_Ye=()=>Le(MCe),$7="perfStore:v1",kCe=100;function LCe(e){var t,n,r,s;try{const i=localStorage.getItem($7);if(!i)return e;const o=(t=JSON.parse(i))!=null?t:{};return P(S({},e),{requests:(n=o.requests)!=null?n:e.requests,requestIds:(r=o.requestIds)!=null?r:e.requestIds,messageIdToRequestId:(s=o.messageIdToRequestId)!=null?s:e.messageIdToRequestId})}catch(i){return e}}function MF(e){try{const t={requests:e.requests,requestIds:e.requestIds,messageIdToRequestId:e.messageIdToRequestId};localStorage.setItem($7,JSON.stringify(t))}catch(t){fo.error("Error saving perf store to localStorage",{error:t})}}const R_=zn(xa(()=>LCe({requests:{},requestIds:[],messageIdToRequestId:{},overlay:{latest_turn:null,active_streaming_message_id:null,adaptive_buffer:{message_id:null,samples:[]}}}))),kF={appendServerStats:(e,t)=>{R_.setState(n=>{n.requests[e]&&(n.requests[e].perf_stats=t),MF(n)})},publishTurnAnalytics:(e,t,n)=>{R_.setState(r=>{if(r.requestIds.push(t),r.messageIdToRequestId[e]=t,r.requests[t]=n,r.overlay.latest_turn={message_id:e,request_id:t,published_at_ms:Date.now()},r.requestIds.length>kCe){const s=r.requestIds.shift();if(s&&r.requests[s]){for(const[o,a]of Object.entries(r.messageIdToRequestId))a===s&&delete r.messageIdToRequestId[o];delete r.requests[s]}}MF(r)})},setActiveStreamingMessageId:e=>{R_.setState(t=>{t.overlay.active_streaming_message_id=e,e!=null&&t.overlay.adaptive_buffer.message_id!==e&&(t.overlay.adaptive_buffer={message_id:e,samples:[]})})},recordAdaptiveBufferSample:(e,t)=>{R_.setState(n=>{if(n.overlay.active_streaming_message_id!==e&&(t.kind!=="flush"||n.overlay.adaptive_buffer.message_id!==e))return;n.overlay.adaptive_buffer.message_id!==e&&(n.overlay.adaptive_buffer={message_id:e,samples:[]}),n.overlay.adaptive_buffer.samples.push(t)})}},W7=e=>{var t,n;return!!((n=(t=e.metadata)==null?void 0:t.attachments)!=null&&n.length)},q7=e=>{const t=e.content;return t.content_type!==je.MultimodalText?!1:t.parts.some(DCe)},DCe=e=>typeof e=="string"?!1:e.content_type===Pn.ImageAssetPointer||e.content_type===Pn.Image;class UCe{constructor(){R(this,"isAuraRequest");R(this,"surface");R(this,"hasSearchHint",!1);R(this,"hasAuraContextToolMessage",!1);R(this,"hasAuraContextAttachments",!1);R(this,"hasAuraContextImageContent",!1);R(this,"hasFileSearchToolCall",!1);R(this,"modelSlug");this.isAuraRequest=_n(),this.surface=this.isAuraRequest?this.resolveSurface():null}trackMessage(t){var i,o,a,c,l,u;if(!this.isAuraRequest)return;const n=(l=(a=(i=t.metadata)==null?void 0:i.model_slug)!=null?a:(o=t.metadata)==null?void 0:o.default_model_slug)!=null?l:(c=t.author.metadata)==null?void 0:c.model_slug;n&&(this.modelSlug=n),this.recordSystemHints((u=t.metadata)==null?void 0:u.system_hints);const r=t.author.name,s=t.author.role;s===we.Tool&&r===_c&&(this.hasAuraContextToolMessage||(this.hasAuraContextToolMessage=!0),this.hasAuraContextAttachments||(this.hasAuraContextAttachments=W7(t)),this.hasAuraContextImageContent||(this.hasAuraContextImageContent=q7(t))),!this.hasFileSearchToolCall&&s===we.Tool&&r===ao.FILE_SEARCH&&(this.hasFileSearchToolCall=!0)}recordSystemHints(t){if(!(!this.isAuraRequest||this.hasSearchHint||!t)){for(const n of t)if(n===ce.Search){this.hasSearchHint=!0;break}}}getTags(){var s,i,o,a;if(!this.isAuraRequest)return;const t=c=>c?"true":"false",n=(i=(s=ze())==null?void 0:s.planType)!=null?i:"unknown",r=(o=this.modelSlug)!=null?o:"unknown";return[{key:"surface",value:(a=this.surface)!=null?a:"unknown"},{key:"is_search_request",value:t(this.hasSearchHint)},{key:"has_".concat(_c,"_tool"),value:t(this.hasAuraContextToolMessage)},{key:"has_".concat(_c,"_attachments"),value:t(this.hasAuraContextAttachments)},{key:"has_".concat(_c,"_image_content"),value:t(this.hasAuraContextImageContent)},{key:"has_file_search_tool_call",value:t(this.hasFileSearchToolCall)},{key:"plan_type",value:n},{key:"model_slug",value:r}]}resolveSurface(){return lt(()=>ap()?"mini-web":pl()?"sidebar":"unknown")}}var sO,LF;function FCe(){if(LF)return sO;LF=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s&&n(t[r],r,t)!==!1;);return t}return sO=e,sO}var iO,DF;function RE(){if(DF)return iO;DF=1;var e=P1(),t=I1();function n(r,s,i,o){var a=!i;i||(i={});for(var c=-1,l=s.length;++c<l;){var u=s[c],d=o?o(i[u],r[u],u,i,r):void 0;d===void 0&&(d=r[u]),a?t(i,u,d):e(i,u,d)}return i}return iO=n,iO}var oO,UF;function GCe(){if(UF)return oO;UF=1;var e=RE(),t=Ed();function n(r,s){return r&&e(s,t(s),r)}return oO=n,oO}var aO,FF;function jCe(){if(FF)return aO;FF=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return aO=e,aO}var cO,GF;function BCe(){if(GF)return cO;GF=1;var e=ai(),t=Yw(),n=jCe(),r=Object.prototype,s=r.hasOwnProperty;function i(o){if(!e(o))return n(o);var a=t(o),c=[];for(var l in o)l=="constructor"&&(a||!s.call(o,l))||c.push(l);return c}return cO=i,cO}var lO,jF;function w1(){if(jF)return lO;jF=1;var e=JW(),t=BCe(),n=vd();function r(s){return n(s)?e(s,!0):t(s)}return lO=r,lO}var uO,BF;function HCe(){if(BF)return uO;BF=1;var e=RE(),t=w1();function n(r,s){return r&&e(s,t(s),r)}return uO=n,uO}var Cf={exports:{}};Cf.exports;var HF;function $Ce(){return HF||(HF=1,(function(e,t){var n=oi(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,o=i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var d=l.length,f=a?a(d):new l.constructor(d);return l.copy(f),f}e.exports=c})(Cf,Cf.exports)),Cf.exports}var dO,$F;function WCe(){if($F)return dO;$F=1;function e(t,n){var r=-1,s=t.length;for(n||(n=Array(s));++r<s;)n[r]=t[r];return n}return dO=e,dO}var fO,WF;function qCe(){if(WF)return fO;WF=1;var e=RE(),t=$w();function n(r,s){return e(r,t(r),s)}return fO=n,fO}var hO,qF;function V7(){if(qF)return hO;qF=1;var e=XW(),t=e(Object.getPrototypeOf,Object);return hO=t,hO}var pO,VF;function z7(){if(VF)return pO;VF=1;var e=Hw(),t=V7(),n=$w(),r=YW(),s=Object.getOwnPropertySymbols,i=s?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return pO=i,pO}var _O,zF;function VCe(){if(zF)return _O;zF=1;var e=RE(),t=z7();function n(r,s){return e(r,t(r),s)}return _O=n,_O}var mO,YF;function Y7(){if(YF)return mO;YF=1;var e=zW(),t=z7(),n=w1();function r(s){return e(s,n,t)}return mO=r,mO}var gO,KF;function zCe(){if(KF)return gO;KF=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var s=r.length,i=new r.constructor(s);return s&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return gO=n,gO}var vO,JF;function R1(){if(JF)return vO;JF=1;var e=VW();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return vO=t,vO}var EO,XF;function YCe(){if(XF)return EO;XF=1;var e=R1();function t(n,r){var s=r?e(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}return EO=t,EO}var CO,QF;function KCe(){if(QF)return CO;QF=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return CO=t,CO}var yO,ZF;function JCe(){if(ZF)return yO;ZF=1;var e=pd(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(s){return n?Object(n.call(s)):{}}return yO=r,yO}var SO,e3;function XCe(){if(e3)return SO;e3=1;var e=R1();function t(n,r){var s=r?e(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return SO=t,SO}var TO,t3;function QCe(){if(t3)return TO;t3=1;var e=R1(),t=YCe(),n=KCe(),r=JCe(),s=XCe(),i="[object Boolean]",o="[object Date]",a="[object Map]",c="[object Number]",l="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",_="[object Float32Array]",m="[object Float64Array]",v="[object Int8Array]",E="[object Int16Array]",b="[object Int32Array]",C="[object Uint8Array]",y="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]";function N(I,w,M){var k=I.constructor;switch(w){case h:return e(I);case i:case o:return new k(+I);case p:return t(I,M);case _:case m:case v:case E:case b:case C:case y:case O:case A:return s(I,M);case a:return new k;case c:case d:return new k(I);case l:return n(I);case u:return new k;case f:return r(I)}}return TO=N,TO}var OO,n3;function ZCe(){if(n3)return OO;n3=1;var e=ai(),t=Object.create,n=(function(){function r(){}return function(s){if(!e(s))return{};if(t)return t(s);r.prototype=s;var i=new r;return r.prototype=void 0,i}})();return OO=n,OO}var bO,r3;function eye(){if(r3)return bO;r3=1;var e=ZCe(),t=V7(),n=Yw();function r(s){return typeof s.constructor=="function"&&!n(s)?e(t(s)):{}}return bO=r,bO}var AO,s3;function tye(){if(s3)return AO;s3=1;var e=tE(),t=ka(),n="[object Map]";function r(s){return t(s)&&e(s)==n}return AO=r,AO}var NO,i3;function nye(){if(i3)return NO;i3=1;var e=tye(),t=eE(),n=zw(),r=n&&n.isMap,s=r?t(r):e;return NO=s,NO}var IO,o3;function rye(){if(o3)return IO;o3=1;var e=tE(),t=ka(),n="[object Set]";function r(s){return t(s)&&e(s)==n}return IO=r,IO}var PO,a3;function sye(){if(a3)return PO;a3=1;var e=rye(),t=eE(),n=zw(),r=n&&n.isSet,s=r?t(r):e;return PO=s,PO}var wO,c3;function iye(){if(c3)return wO;c3=1;var e=jw(),t=FCe(),n=P1(),r=GCe(),s=HCe(),i=$Ce(),o=WCe(),a=qCe(),c=VCe(),l=QW(),u=Y7(),d=tE(),f=zCe(),h=QCe(),p=eye(),_=rs(),m=qw(),v=nye(),E=ai(),b=sye(),C=Ed(),y=w1(),O=1,A=2,N=4,I="[object Arguments]",w="[object Array]",M="[object Boolean]",k="[object Date]",D="[object Error]",L="[object Function]",G="[object GeneratorFunction]",K="[object Map]",V="[object Number]",Y="[object Object]",Q="[object RegExp]",z="[object Set]",F="[object String]",Te="[object Symbol]",fe="[object WeakMap]",$="[object ArrayBuffer]",W="[object DataView]",ee="[object Float32Array]",J="[object Float64Array]",Z="[object Int8Array]",ye="[object Int16Array]",me="[object Int32Array]",Ie="[object Uint8Array]",Ce="[object Uint8ClampedArray]",Me="[object Uint16Array]",ke="[object Uint32Array]",xe={};xe[I]=xe[w]=xe[$]=xe[W]=xe[M]=xe[k]=xe[ee]=xe[J]=xe[Z]=xe[ye]=xe[me]=xe[K]=xe[V]=xe[Y]=xe[Q]=xe[z]=xe[F]=xe[Te]=xe[Ie]=xe[Ce]=xe[Me]=xe[ke]=!0,xe[D]=xe[L]=xe[fe]=!1;function Ke(le,We,_e,U,be,ge){var Ge,ae=We&O,Fe=We&A,Je=We&N;if(_e&&(Ge=be?_e(le,U,be,ge):_e(le)),Ge!==void 0)return Ge;if(!E(le))return le;var qe=_(le);if(qe){if(Ge=f(le),!ae)return o(le,Ge)}else{var Ae=d(le),Xe=Ae==L||Ae==G;if(m(le))return i(le,ae);if(Ae==Y||Ae==I||Xe&&!be){if(Ge=Fe||Xe?{}:p(le),!ae)return Fe?c(le,s(Ge,le)):a(le,r(Ge,le))}else{if(!xe[Ae])return be?le:{};Ge=h(le,Ae,ae)}}ge||(ge=new e);var dt=ge.get(le);if(dt)return dt;ge.set(le,Ge),b(le)?le.forEach(function(Wt){Ge.add(Ke(Wt,We,_e,Wt,le,ge))}):v(le)&&le.forEach(function(Wt,Et){Ge.set(Et,Ke(Wt,We,_e,Et,le,ge))});var Ot=Je?Fe?u:l:Fe?y:C,$t=qe?void 0:Ot(le);return t($t||le,function(Wt,Et){$t&&(Et=Wt,Wt=le[Et]),n(Ge,Et,Ke(Wt,We,_e,Et,le,ge))}),Ge}return wO=Ke,wO}var RO,l3;function oye(){if(l3)return RO;l3=1;var e=iye(),t=1,n=4;function r(s){return e(s,t|n)}return RO=r,RO}var aye=oye();const ia=jt(aye);var xO,u3;function cye(){if(u3)return xO;u3=1;function e(t){return t===void 0}return xO=e,xO}var lye=cye();const uye=jt(lye);var MO,d3;function dye(){if(d3)return MO;d3=1;var e="Expected a function";function t(n){if(typeof n!="function")throw new TypeError(e);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}return MO=t,MO}var kO,f3;function K7(){if(f3)return kO;f3=1;var e=Kw(),t=ml(),n=k7(),r=Y7();function s(i,o){if(i==null)return{};var a=e(r(i),function(c){return[c]});return o=t(o),n(i,a,function(c,l){return o(c,l[0])})}return kO=s,kO}var LO,h3;function fye(){if(h3)return LO;h3=1;var e=ml(),t=dye(),n=K7();function r(s,i){return n(s,t(e(i)))}return LO=r,LO}var hye=fye();const pye=jt(hye);function Kd(e){return typeof e=="number"?Math.trunc(e):e}var hs=(e=>(e.Success="success",e.Error="error",e.Canceled="canceled",e))(hs||{});const Ic={logToDatadog:!0},yf=new Map;function _ye(e){return yf.get(e)}const mye=["time_since_prompt_sent_ms","time_since_last_event_ms","first_token_lat","api_start_delay","completion_request_time_to_first_visible_message","await_duration_ms","first_input_to_submit_ms"],Gl="is_kaur1br5";var ol,SI,X7;class J7{constructor(t){Ct(this,ol);R(this,"start_time_ms");R(this,"turn_trace_id");R(this,"turn_session_id");R(this,"turn_exchange_id");R(this,"trigger");R(this,"result");R(this,"time_since_prompt_sent_ms");R(this,"first_input_to_submit_ms");R(this,"stream_update_event_count",0);R(this,"first_token_lat");R(this,"first_visible_content_token_lat");R(this,"last_model_message_received");R(this,"api_start_time");R(this,"time_since_last_event_ms");R(this,"api_start_delay");R(this,"completion_request_time_to_first_visible_message");R(this,"model_slug");R(this,"last_message_model_slug");R(this,"tools_used");R(this,"num_tools_used",0);R(this,"last_tool_used");R(this,"system_hints");R(this,"gizmo_id");R(this,"promptSentTimestamp");R(this,"serverStats");R(this,"serverSteMetadata");R(this,"logger");R(this,"server_request_id");R(this,"client_request_id");R(this,"completed",!1);R(this,"lifecycleFinished",!1);R(this,"num_images_attached",0);R(this,"num_files_attached",0);R(this,"hasKaur1br5ContextAttachments",!1);R(this,"hasKaur1br5ContextImageContent",!1);R(this,"bytes_received",0);R(this,"model_message_update_count",0);R(this,"stream_encoding");R(this,"stream_protocol","sse");R(this,"stream_buffering",!0);R(this,"ws_stats");R(this,"wsSkewBaselineMs",null);R(this,"wsLastLagLogTimestampMs",0);R(this,"gizmo_type");R(this,"isStreamOpen",!1);R(this,"isTemporaryChat");R(this,"conversationId");R(this,"lastAssistantMessageId");R(this,"hasReceivedAgentMetadataMessage",!1);R(this,"streamTerminatedPrematurely",!1);R(this,"auraTimeToFirstTokenTracker");R(this,"mode","turn");R(this,"polling",{totalCount:0,source:void 0});R(this,"awaitTimings",new Map);R(this,"await_duration_ms",0);R(this,"messageMarkerLatencies",{});R(this,"resume",{currentAttemptCount:0,totalAttemptCount:0,successfulCount:0,attemptInFlight:!1});R(this,"messages",{});var u;const{clientRequestId:n,gizmoType:r,preflightTime:s,isTemporaryChat:i,conversationId:o,turnTraceId:a,firstInputTimestampMs:c}=t,l=(u=t.mode)!=null?u:"turn";this.client_request_id=n,this.start_time_ms=performance.now(),c!==void 0&&c<=this.start_time_ms&&(this.first_input_to_submit_ms=this.start_time_ms-c),this.turn_trace_id=a!=null?a:nr(),this.turn_session_id=nr(),this.mode=l,this.promptSentTimestamp=s!=null?s:performance.now(),this.tools_used=new Set,this.system_hints=new Set,this.logger=n7(this.turn_trace_id),this.logger.setContext({turn_session_id:this.turn_session_id,conversation_id:o}),this.auraTimeToFirstTokenTracker=new UCe,r&&(this.gizmo_type=r),this.isTemporaryChat=i,this.conversationId=o}onResumeSuccessful(t,n){this.resume.currentAttemptCount!==0&&(this.resume.attemptInFlight=!1,this.resume.successfulCount++,this.resume.currentAttemptCount=0,re.logEventWithStatsig("ChatGPT Convo Stream: Resume Succeeded","chatgpt_convo_stream_resume_succeeded",S(P(S({},this.createStatsigPayload()),{offset:t}),n)))}onStreamNetworkError(t,n,r){this.resume.currentAttemptCount===0&&re.logEventWithStatsig("ChatGPT Convo Stream: Error","chatgpt_convo_stream_error",P(S({},this.createStatsigPayload()),{offset:t,isNetworkError:r,errorMessage:n instanceof Error?n.message:String(n)}))}onResumeAttempted(t,n){const r=n.error instanceof Mt?n.error.status:void 0,s=this.resume.currentAttemptCount+1;this.logger.info("resume stream attempt",{resume_attempt_number:s,resume_status_code:r,resume_offset:t}),this.resume.currentAttemptCount===0&&re.logEventWithStatsig("ChatGPT Convo Stream: Resume Attempted","chatgpt_convo_stream_resume_attempted",P(S(S({},this.createStatsigPayload()),n),{offset:t})),this.resume.attemptInFlight=!0,this.resume.currentAttemptCount++,this.resume.totalAttemptCount++}onResumeFailed(t,n,r,s){const i=s.error instanceof Mt?s.error.status:void 0;this.resume.attemptInFlight=!1,this.logger.warn("resume stream failed",{resume_status_code:i,resume_offset:t,resume_is_404:n,resume_is_network_error:r}),re.logEventWithStatsig("ChatGPT Convo Stream: Resume Failed","chatgpt_convo_stream_resume_failed",S(P(S({},this.createStatsigPayload()),{offset:t,is404:n,isNetworkError:r}),s))}setFirstVisibleTokenLatency(t){this.first_token_lat=t-this.promptSentTimestamp,this.api_start_time&&(this.completion_request_time_to_first_visible_message=t-this.api_start_time);const n=this.auraTimeToFirstTokenTracker.getTags();n&&mt.hist(ft.DEFAULT,"conversation.kaur1br5.time_to_first_token",n,this.first_token_lat)}truncateValueForKey(t){const n=Kd(this[t]);n!==void 0&&(this[t]=n)}onUserMessages(t){t.forEach(n=>{var r,s,i,o;this.auraTimeToFirstTokenTracker.trackMessage(n),this.updateAuraContextToolMetadata(n),n.author.role==="user"&&((s=(r=n.metadata)==null?void 0:r.attachments)==null||s.forEach(a=>{a.height&&a.width?this.num_images_attached+=1:this.num_files_attached+=1}),(o=(i=n.metadata)==null?void 0:i.system_hints)==null||o.forEach(a=>{this.system_hints.add(a)}))})}addServerPerfStats(t){kF.appendServerStats(this.client_request_id,t),this.serverStats=t}addServerSteMetadata(t){this.serverSteMetadata=t.metadata;const n=t.metadata.turn_exchange_id;this.turn_exchange_id=typeof n=="string"?n:void 0,this.logger.setContext({conversation_id:t.conversation_id,turn_exchange_id:this.turn_exchange_id})}onMessageMarker(t){const n=performance.now(),s="".concat(t.event,"_").concat("received");this.messageMarkerLatencies[t.marker]=P(S({},this.messageMarkerLatencies[t.marker]),{[s]:n-this.promptSentTimestamp}),t.marker===V6.USER_VISIBLE_TOKEN&&t.event===z6.First&&this.setFirstVisibleTokenLatency(n)}onStreamOpen(t){this.isStreamOpen=!0,this.logCompletionStarted(),this.logTimeToInterruptToken(t!=null?t:!1),re.logStructuredEvent(uue,{userMessageMetadata:{modelSlug:this.model_slug,toolsUsed:[...this.tools_used],numFilesAttached:this.num_files_attached,numImagesAttached:this.num_images_attached,conversation:{id:this.conversationId,isTemporary:this.isTemporaryChat}},startTimeMs:Date.now()})}onReceivedServerRequestId(t){this.server_request_id=t}onStreamClose(){this.model_message_update_count>0?this.logCompletion({type:hs.Success}):this.logCompletion({type:hs.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}})}onPrematureStreamTermination(){var n,r,s;if(this.streamTerminatedPrematurely)return;this.streamTerminatedPrematurely=!0;const t=_n()?"true":"false";q.addAction("conversation.stream.terminated_prematurely",{turn_trace_id:this.turn_trace_id,turn_exchange_id:this.turn_exchange_id,client_request_id:this.client_request_id,server_request_id:this.server_request_id,system_hints:this.system_hints,model_slug:(r=(n=this.model_slug)!=null?n:this.last_message_model_slug)!=null?r:void 0,message_count:this.model_message_update_count,[Gl]:t}),mt.count(ft.DEFAULT,"conversation.stream.terminated_prematurely",[{key:"first_system_hint",value:[...this.system_hints][0]||"n/a"},{key:"trigger",value:(s=this.trigger)!=null?s:"unknown"},{key:Gl,value:t}])}onCompletionStarted(t,n){switch(t){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onConversationId(t){this.conversationId=t}onStreamEvent(t,n){this.bytes_received+=t,n||(this.stream_update_event_count+=1)}onWsSample(t){var p;const{topicId:n,streamItemId:r,parentStreamItemId:s,streamItemIndex:i,serverTimestampMs:o,lagLogThresholdMs:a,lagLogIntervalMs:c}=t;if(o===null){const _=It(this,ol,SI).call(this);_.missing_timestamp_count=((p=_.missing_timestamp_count)!=null?p:0)+1;return}const l=Date.now(),u=l-o;this.wsSkewBaselineMs===null&&(this.wsSkewBaselineMs=u);const d=u-this.wsSkewBaselineMs,f=Math.abs(d),h=a>0?a:void 0;if(It(this,ol,X7).call(this,f,h),h!==void 0&&f>=h&&(c===0||l-this.wsLastLagLogTimestampMs>=c)){this.wsLastLagLogTimestampMs=l;const m={topic_id:n,stream_item_id:r,parent_stream_item_id:s,stream_item_index:i,client_timestamp_ms:l,server_timestamp_ms:o,baseline_skew_ms:this.wsSkewBaselineMs,skew_ms:u,drift_ms:d,drift_abs_ms:f,threshold_ms:h,turn_exchange_id:this.turn_exchange_id,conversation_id:this.conversationId};this.logger.warn("ws stream item timestamp skew",m,void 0,Ic)}}onSentUserMessage(){this.api_start_time=performance.now(),this.api_start_delay=this.api_start_time-this.promptSentTimestamp}onMessageUpdate(t){var o,a;this.auraTimeToFirstTokenTracker.trackMessage(t),this.updateAuraContextToolMetadata(t),t.author.name===ao.n7jupd_m&&(this.hasReceivedAgentMetadataMessage=!0);const{model_slug:n,gizmo_id:r}=(o=t.metadata)!=null?o:{},{role:s,name:i}=t.author;s===we.Assistant&&(this.lastAssistantMessageId=t.id),this.gizmo_id=(a=this.gizmo_id)!=null?a:r,s===we.Tool&&i&&(this.tools_used.add(i),this.num_tools_used=this.tools_used.size,this.last_tool_used=i),s!==we.User&&s!==we.System&&s!==we.Developer&&s!==we.Root&&(this.model_message_update_count+=1,this.last_model_message_received=performance.now(),this.last_message_model_slug=n!=null?n:this.last_message_model_slug),!this.first_visible_content_token_lat&&t.author.role===we.Assistant&&Qw(t)&&(this.first_visible_content_token_lat=performance.now()-this.promptSentTimestamp)}updateAuraContextToolMetadata(t){t.author.role!==we.Tool||t.author.name!==_c||(this.hasKaur1br5ContextAttachments||(this.hasKaur1br5ContextAttachments=W7(t)),this.hasKaur1br5ContextImageContent||(this.hasKaur1br5ContextImageContent=q7(t)))}handleAbort(t){this.logCompletion({type:hs.Canceled})}handleRawError(t){var i;let n,r=null,s=null;t instanceof Error?(r=(i=t.message)!=null?i:"Something went wrong",s=t instanceof Mt?t.status:void 0):r=t,s===400||r===vte||r==="NetworkError when attempting to fetch resource."||r==="The network connection was lost."?n="network_error":r==="Request timed out"?n="timeout":n="request_failed",this.logCompletion({type:hs.Error,error:S({reason:n,message:r},s&&{status_code:s})})}getFeatureFlags(){const t={"resumable-streaming":ut("2489999880",{disableExposureLog:!0}).get("is_resume_enabled",!1)},n=Object.entries(t),r=n.filter(([i,o])=>o).map(([i])=>i),s=n.filter(([i,o])=>!o).map(([i])=>i);return{enabled_feature_flags:r,disabled_feature_flags:s}}createLogPayload(){var l,u,d,f,h,p,_,m,v,E;const{enabled_feature_flags:t,disabled_feature_flags:n}=this.getFeatureFlags(),r=this.ws_stats,i=r!==void 0&&(r.count>0||((l=r.missing_timestamp_count)!=null?l:0)>0)?{count:r.count,missing_timestamp_count:((u=r.missing_timestamp_count)!=null?u:0)>0?r.missing_timestamp_count:void 0,skew_avg_ms:Kd(r.skew_avg_ms),skew_min_ms:Kd(r.skew_min_ms),skew_max_ms:Kd(r.skew_max_ms),skew_over_threshold_count:r.skew_threshold_ms!==void 0?(d=r.skew_over_threshold_count)!=null?d:0:void 0,skew_threshold_ms:Kd(r.skew_threshold_ms)}:void 0,o=pt(),a=vI(),c=P(S({turn_trace_id:this.turn_trace_id,turn_session_id:this.turn_session_id,turn_exchange_id:this.turn_exchange_id,trigger:this.trigger,result:dr((f=this.result)==null?void 0:f.type)},((h=this.result)==null?void 0:h.type)===hs.Error?{error:this.result.error}:void 0),{time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,first_input_to_submit_ms:this.first_input_to_submit_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,first_visible_content_token_lat:this.first_visible_content_token_lat,api_start_delay:this.api_start_delay,completion_request_time_to_first_visible_message:this.completion_request_time_to_first_visible_message,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_protocol:this.stream_protocol,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used],num_tools_used:this.num_tools_used,last_tool_used:(p=this.last_tool_used)!=null?p:null,system_hints:[...this.system_hints],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached},has_kaur1br5_context_attachments:this.hasKaur1br5ContextAttachments,has_kaur1br5_context_image_content:this.hasKaur1br5ContextImageContent,[Gl]:_n(),plan_type:(_=a==null?void 0:a.planType)!=null?_:void 0,temporary_chat:this.isTemporaryChat,gizmo_type:this.gizmo_type,server_ste_metadata:this.serverSteMetadata,received_final_assistant_message:this.getFinalAssistantMessage("finished_successfully")!==void 0,ws_stats:i,message_marker_latencies:ia(this.messageMarkerLatencies),cluster:(m=o.cluster)!=null?m:void 0,residency_region:(v=a==null?void 0:a.residencyRegion)!=null?v:void 0,compute_residency:(E=a==null?void 0:a.computeResidency)!=null?E:void 0,await_timings:Object.fromEntries(this.awaitTimings),await_duration_ms:this.await_duration_ms,enabled_feature_flags:t,disabled_feature_flags:n,server_request_id:this.server_request_id});return{request_id:this.server_request_id,turn_analytics:c}}createStatsigPayload(){var t,n,r,s;return pye({conversation_id:String(this.conversationId),turn_trace_id:String(this.turn_trace_id),trigger:this.trigger,result:(t=this.result)==null?void 0:t.type,error:JSON.stringify(((n=this.result)==null?void 0:n.type)===hs.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),api_start_delay:String(this.api_start_delay),completion_request_time_to_first_visible_message:String(this.completion_request_time_to_first_visible_message),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used].join(", "),num_tools_used:String(this.num_tools_used),last_tool_used:this.last_tool_used,system_hints:[...this.system_hints].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}),has_kaur1br5_context_attachments:String(this.hasKaur1br5ContextAttachments),has_kaur1br5_context_image_content:String(this.hasKaur1br5ContextImageContent),[Gl]:String(_n()),plan_type:(s=(r=vI())==null?void 0:r.planType)!=null?s:void 0,temporary_chat:String(this.isTemporaryChat),gizmo_type:this.gizmo_type,server_ste_metadata:JSON.stringify(this.serverSteMetadata),received_final_assistant_message:String(this.getFinalAssistantMessage("finished_successfully")!==void 0),message_marker_latencies:JSON.stringify(this.messageMarkerLatencies),afterRetryCount:this.resume.currentAttemptCount,successfulResumeCount:this.resume.successfulCount},uye)}getFinalAssistantMessage(t){const n=this.lastAssistantMessageId;if(!n)return;const r=this.messages[n];if(r!==void 0&&(!t||r.status===t)&&r.recipient==="all"&&r.channel==="final")return r}toProtoMessageStatus(t){switch(t){case"finished_successfully":return _f.CHATGPT_MESSAGE_STATUS_FINISHED_SUCCESSFULLY;case"in_progress":return _f.CHATGPT_MESSAGE_STATUS_IN_PROGRESS;case"finished_partial_completion":return _f.CHATGPT_MESSAGE_STATUS_FINISHED_PARTIAL_COMPLETION;default:return _f.CHATGPT_MESSAGE_STATUS_UNSPECIFIED}}logStructuredTurnCompletionEvents(){var n,r,s;const t={userMessageMetadata:{modelSlug:this.model_slug,toolsUsed:[...this.tools_used],numFilesAttached:this.num_files_attached,numImagesAttached:this.num_images_attached,conversation:{id:this.conversationId,isTemporary:this.isTemporaryChat}},numSuccessfulResumes:this.resume.successfulCount,numResumeAttempts:this.resume.totalAttemptCount,offset:this.stream_update_event_count,finalAssistantMessageStatus:this.toProtoMessageStatus((n=this.getFinalAssistantMessage())==null?void 0:n.status),incompleteMessagesMetadata:Object.values(this.messages).filter(i=>i.status!=="finished_successfully").map(i=>({id:i.id,status:i.status,role:i.role,type:i.contentType}))};((r=this.result)==null?void 0:r.type)===hs.Error?re.logStructuredEvent(due,P(S({},t),{errorMessage:this.result.error.message,errorCode:this.result.error.status_code,errorType:this.getTurnErrorType(this.result.error),errorDetails:this.result.error.message})):re.logStructuredEvent(fue,P(S({},t),{turnCompletionStatus:((s=this.result)==null?void 0:s.type)===hs.Canceled?JN.CHATGPT_TURN_COMPLETION_STATUS_SUCCESS:JN.CHATGPT_TURN_COMPLETION_STATUS_CANCELED}))}getTurnErrorType(t){switch(t.reason){case"network_error":return Xl.CHATGPT_TURN_ERROR_TYPE_NETWORK_ERROR;case"timeout":return Xl.CHATGPT_TURN_ERROR_TYPE_TIMEOUT;case"request_failed":return Xl.CHATGPT_TURN_ERROR_TYPE_REQUEST_FAILED;case"unknown_error":return Xl.CHATGPT_TURN_ERROR_TYPE_UNKNOWN_ERROR;default:return Xl.CHATGPT_TURN_ERROR_TYPE_UNSPECIFIED}}getServerSteRequestId(){if(this.serverSteMetadata==null)return;const t=this.serverSteMetadata.request_id;return typeof t=="string"?t:void 0}onResumeRequestSucceeded(){this.resume.attemptInFlight=!1}onRequestError(t,n,r){this.resume.attemptInFlight=!1}onPollingStarted(t){this.polling.totalCount=Math.max(this.polling.totalCount,1),this.polling.source||(this.polling.source=t)}onPollingFinished(t,n){this.polling.totalCount=Math.max(n,this.polling.totalCount)}finalizeTurnLifecycle(t,n){this.mode==="turn"&&this.finalizeLifecycle(t,"turn_stream",n)}finalizeReloadLifecycle(t,n){this.mode==="reload"&&this.finalizeLifecycle(t,n)}finalizeLifecycle(t,n,r){this.lifecycleFinished||n==="turn_stream"&&r==null||this.canFinalize(n,r)&&(this.lifecycleFinished=!0,this.emitLifecycleLogs(t,n,r),this.onFinalized())}canFinalize(t,n){return!0}emitLifecycleLogs(t,n,r){}onFinalized(){}async awaitWrapper(t,n){const r=performance.now(),s=await t,i=performance.now()-r;return this.awaitTimings.set(n,i),this.await_duration_ms+=i,s}logCompletionStarted(){re.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_started","chatgpt_conversation_turn_turn_exchange_started",this.createStatsigPayload())}logTimeToInterruptToken(t){t&&mt.hist(ft.DEFAULT,"chatgpt_web_interrupt_token_latency",[],performance.now()-this.promptSentTimestamp),mt.count(ft.DEFAULT,"chatgpt_web_interrupt_token_exists",[{key:"has_conduit_token",value:t?"true":"false"}])}logCompletion(t){var s,i,o;if(this.completed)return;const n=performance.now();mt.count(ft.DEFAULT,"completion_request"),mt.hist(ft.DEFAULT,"completion_request_time",[],n-this.start_time_ms),this.completed=!0,this.result=t;for(const a of mye)this.truncateValueForKey(a);this.time_since_prompt_sent_ms=n-this.promptSentTimestamp,this.last_model_message_received&&(this.time_since_last_event_ms=n-this.last_model_message_received);const r=this.createLogPayload();if(this.lastAssistantMessageId&&kF.publishTurnAnalytics(this.lastAssistantMessageId,this.client_request_id,r.turn_analytics),this.finalizeTurnLifecycle(t.type,r),this.system_hints.has(Gv)&&!this.hasReceivedAgentMetadataMessage){const a=_n()?"true":"false";q.addAction("conversation.stream.agent_metadata_message_missing",{turn_trace_id:this.turn_trace_id,turn_exchange_id:this.turn_exchange_id,client_request_id:this.client_request_id,server_request_id:this.server_request_id,completion_result:t.type,stream_terminated_prematurely:this.streamTerminatedPrematurely,model_slug:(i=(s=this.model_slug)!=null?s:this.last_message_model_slug)!=null?i:void 0,trigger:this.trigger,[Gl]:a}),mt.count(ft.DEFAULT,"conversation.stream.agent_metadata_message_missing",[{key:"trigger",value:(o=this.trigger)!=null?o:"null"},{key:Gl,value:a}])}this.logStructuredTurnCompletionEvents(),re.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_complete","chatgpt_conversation_turn_turn_exchange_complete",this.createStatsigPayload()),re.logEventWithStatsig("ChatGPT Convo Stream: Stream Completed","chatgpt_convo_stream_completed",this.createStatsigPayload())}logWsStreamSummary(t,n,r,s,i){const o={topic_id:t,stream_item_count:n,reason:r,client_request_id:this.client_request_id,server_request_id:this.server_request_id,conversation_id:this.conversationId,error_message:s,stream_item_id_list:i};this.logger.info("ws stream summary",o,void 0,Ic),q.addAction("conversation.turn_topic.ws_summary",o),re.logValueEventWithStatsig({segmentEventName:"conversation_turn_topic_ws_summary",statsigEventName:"chatgpt_conversation_turn_topic_ws_summary",data:S(S({},o),this.createStatsigPayload())})}}ol=new WeakSet,SI=function(){return this.ws_stats||(this.ws_stats={count:0}),this.ws_stats},X7=function(t,n){const r=It(this,ol,SI).call(this),s=r.count+1;r.skew_avg_ms=r.skew_avg_ms===void 0?t:(r.skew_avg_ms*(s-1)+t)/s,r.count=s,r.skew_min_ms=r.skew_min_ms===void 0?t:Math.min(r.skew_min_ms,t),r.skew_max_ms=r.skew_max_ms===void 0?t:Math.max(r.skew_max_ms,t),n!==void 0&&(r.skew_threshold_ms=n,r.skew_over_threshold_count===void 0&&(r.skew_over_threshold_count=0),t>=n&&(r.skew_over_threshold_count+=1))};class gye extends J7{constructor(t){super(P(S({},t),{mode:"turn"}))}emitLifecycleLogs(t,n,r){n!=="turn_stream"||r==null||(t===hs.Error?this.logger.error("Turn exchange complete",r,void 0,Ic):(this.getFinalAssistantMessage("finished_successfully")||this.logger.warn("No final assistant message received"),this.logger.info("Turn exchange complete",r,void 0,Ic)))}}class vye extends J7{constructor(n){var r;super(n);R(this,"reloadResumeReason");R(this,"reloadLastError");this.beginReloadLifecycle(n.conversationId,(r=n.resumeReason)!=null?r:"reload")}onResumeRequestSucceeded(){super.onResumeRequestSucceeded()}onRequestError(n,r,s){super.onRequestError(n,r,s),this.reloadLastError=this.toReloadError(n),r&&s&&!this.polling.source&&(this.polling.source=s)}canFinalize(n){if(n==="turn_stream")return!1;const r=this.conversationId;return r!=null&&yf.get(r)===this}emitLifecycleLogs(n,r){var l,u;if(r==="turn_stream")return;const s=(l=this.model_slug)!=null?l:this.last_message_model_slug,i=this.getServerSteRequestId(),o=(u=this.reloadResumeReason)!=null?u:"reload",a=Math.max(0,this.resume.totalAttemptCount-this.resume.successfulCount),c=S({stage:"finished",source:r,result:n,conversation_id:this.conversationId,turn_trace_id:this.turn_trace_id,turn_session_id:this.turn_session_id,turn_exchange_id:this.turn_exchange_id,request_id:i,model_slug:s,duration_ms:Math.max(0,Math.round(performance.now()-this.start_time_ms)),resume_reason:o,num_resumes:this.resume.totalAttemptCount,num_failed_resumes:a,polling_count:this.polling.totalCount,polling_used:this.polling.totalCount>0,polling_source:this.polling.source},n===hs.Error&&this.reloadLastError?{error:this.reloadLastError.message,status_code:this.reloadLastError.statusCode}:void 0);re.logEvent("Turn Exchange Reload Complete",c),n===hs.Error?this.logger.error("Turn Exchange Reload Complete",c,void 0,Ic):this.logger.info("Turn Exchange Reload Complete",c,void 0,Ic)}onFinalized(){const n=this.conversationId;n&&yf.get(n)===this&&yf.delete(n)}beginReloadLifecycle(n,r){this.reloadResumeReason=r!=null?r:"reload",yf.set(n,this),re.logEvent("Turn Exchange Reload Start",{stage:"started",conversation_id:n,turn_trace_id:this.turn_trace_id,turn_session_id:this.turn_session_id,resume_reason:this.reloadResumeReason,num_resumes:0,num_failed_resumes:0}),this.logger.info("Turn Exchange Reload Start",{stage:"started",resume_reason:this.reloadResumeReason,num_resumes:0,num_failed_resumes:0},void 0,Ic)}toReloadError(n){return n instanceof Mt?{message:n.message,statusCode:n.status}:n instanceof Error?{message:n.message}:typeof n=="string"?{message:n}:{}}}function mYe(e){return e.mode==="reload"?new vye(e):new gye(e)}const co=hl(()=>({activeRequests:{}})),x1=ep(co),gYe=e=>{var t;return(t=x1().activeRequests[e])!=null?t:null};function vYe(e){"use forget";const t=j.c(2);let n;return t[0]!==e?(n=r=>Q7(e,r),t[0]=e,t[1]=n):n=t[1],sp(co,n)}const Eye=e=>Q7(e,x1());function Q7(e,t=co.getState()){return e!=null&&t.activeRequests[e]!=null}const Cye=()=>!1;function EYe(){"use forget";const e=sp(co,yye),t=Cye();return e||t}function yye(e){return Object.keys(e.activeRequests).length>0}const CYe=()=>Object.keys(x1().activeRequests).length>0,yYe=({eventName:e,data:t,conversationId:n})=>{const r=Object.values(co.getState().activeRequests);if(r.length===0)return;if(!n){for(const i of r)i.turnTracker.logger.info(e,t);return}const s=r.filter(i=>i.turnTracker.conversationId===n);if(s.length>0){for(const i of s)i.turnTracker.logger.info(e,t);return}r.length===1&&!r[0].turnTracker.conversationId&&r[0].turnTracker.logger.info(e,t)},SYe=e=>{if(!e)return null;const n=Object.values(co.getState().activeRequests).find(r=>r.turnTracker.conversationId===e);return n?n.turnTracker:_ye(e)},Sye={addRequest(e,t,n){co.setState(r=>({activeRequests:P(S({},r.activeRequests),{[e]:{id:e,abortController:t,turnTracker:n}})}))},removeRequest(e){co.setState(t=>{const n=S({},t.activeRequests);return delete n[e],{activeRequests:n}})},abortRequest(e){const{activeRequests:t}=co.getState();return t[e]!=null?(t[e].abortController.abort(),Sye.removeRequest(e),!0):!1}},M1=iv("Conversation"),TYe=L6(M1),ir=l6(M1),Rp=ot(()=>({conversations:{},newClientIdToServerId:{},allKnownConversationIds$:X([])}));function Z7(e,t,n){const{conversations:r}=Rp(),s=S({ctx:e,id:t,serverId$:X(T1(t))},n);return r[t]=s,Tye(),s}function OYe(e){return Z7(cl(),bve(),e)}function xE(e,t){const{conversations:n,newClientIdToServerId:r}=Rp();if(n[e]!=null)return n[e];if(Ap(e)){const s=r[e];if(s!=null&&n[s]!=null)return n[s]}return Z7(cl(),e,t)}function bYe(e,t){const n=xE(e);n.serverId$.set(t);const{conversations:r,newClientIdToServerId:s}=Rp();delete r[e],r[t]=n,Ap(e)&&(s[e]=t,l7.setServerIdForNewThread(e,t))}function AYe(){const{conversations:e,allKnownConversationIds$:t}=Rp();return t(),Object.values(e)}let DO;function Tye(){DO==null&&(DO=window.setTimeout(()=>{const{conversations:e,allKnownConversationIds$:t}=Rp();t.set(Object.keys(e)),DO=void 0},100))}const Oye=T.createContext(void 0);function NYe(){"use forget";return T.use(Oye)}var bye=(e=>(e.Unavailable="unavailable",e.Thinking="thinking",e.Generating="generating",e.AsyncGenerating="async_generating",e.AsyncHanging="async_hanging",e.Complete="complete",e.Errored="errored",e.Empty="empty",e))(bye||{});const IYe=["generating","async_generating","async_hanging","thinking"],Aye="sj1i4kz",Nye="".concat(ao.T2UAY3K,".").concat(Aye);function Iye(e){return e.author.role==="tool"&&e.author.name===Nye&&e.content.content_type===je.MultimodalText}function Pye(e,{skipSort:t}={skipSort:!1}){let n=e.filter(i=>{var o;return Iye(i)&&!((o=i.metadata)!=null&&o.is_visually_hidden_from_conversation)});t||(n=[...n].sort((i,o)=>{var a,c,l,u;return((c=(a=i.metadata)==null?void 0:a.generation_index)!=null?c:0)-((u=(l=o.metadata)==null?void 0:l.generation_index)!=null?u:0)}));const r=n.flatMap(i=>yp.getImageAssetPointers(i)),s=n.map(i=>i.id);return{imageMessages:n,imageAssetPointers:r,messageIds:s}}const Nd=ir(e=>ep(Np,{selector:t=>Ip(e.id,t)}));function wo(e,t){return ir(n=>ie(()=>e(Nd(n)),t))}wo(e=>e==null?void 0:e.title);const wye=wo(Oe.getIsNewConversation),Rye=wo(e=>e==null?void 0:e.defaultModelId),eV=wo(Oe.getTree),tV=wo(Oe.getCurrentLeafId),PYe=ir(e=>ie(()=>e1(eV(e),tV(e)))),wYe=ir(e=>ie(()=>{var i,o;const t=Nd(e);if(!t)return new Map;const n=Oe.getConversationTurns(t),r=new Map;for(const a of n){if(a.role!==we.Assistant)continue;const c=(o=(i=a.messages.at(-1))==null?void 0:i.metadata)==null?void 0:o.turn_exchange_id;if(!c||!a.messages.some(d=>{var f;return(f=d.metadata)==null?void 0:f.chime_version}))continue;const l=[];for(const d of a.messageGroups)d.type===Df&&l.push(...d.groups);const u=r.get(c);u?u.push(...l):r.set(c,[...l])}const s=new Map;for(const[a,c]of r)c.length>0&&s.set(a,{type:Df,groups:c});return s})),xye=(e,t,n=tV(e))=>eV(e).findNode(t,n),RYe=wo(e=>e==null?void 0:e.mode),xp=ir(e=>ie(()=>{var t;return(t=Oe.getGizmoId(Nd(e)))!=null?t:e.urlGizmoId}));ir(e=>ie(()=>{var t,n;return(n=(t=Nd(e))==null?void 0:t.isLoading)!=null?n:!Ap(e.id)}));const Mye=wo(Oe.getRequestId),xYe=ir(e=>ie(()=>Eye(Mye(e)))),MYe=wo(e=>e==null?void 0:e.startedWithByoMcp),kYe=wo(e=>{if(!e)return!1;const n=Oe.getConversationTurns(e).flatMap(s=>s.messages),{imageAssetPointers:r}=Pye(n);return r.some(s=>{var i;return(i=s.metadata)==null?void 0:i.is_no_auth_placeholder})});function nV(e){var t;return e.author.role===we.Assistant&&!!((t=e.metadata)!=null&&t.thinking_effort)}function LYe(e,t){var r;const n=Oe.getNode(e,t);return n!=null&&n.message&&nV(n.message)?(r=n.message.metadata)==null?void 0:r.thinking_effort:void 0}function kye(e){return Oe.findNode(e,t=>nV(t.message))}const rV=ie(()=>{const{data:e}=mp();return e?GW(e):UW()}),Lye=(e,t,n,r)=>{var s,i;if(e.value){const o=(i=(s=t.marks.startend)==null?void 0:s.create(n))!=null?i:null;return t.text(e.value,o?[o,...r!=null?r:[]]:r)}return null};function Hn(e){this.content=e}Hn.prototype={constructor:Hn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),i=r.content.slice();return s==-1?i.push(n||e,t):(i[s+1]=t,n&&(i[s]=n)),new Hn(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Hn(n)},addToStart:function(e,t){return new Hn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Hn(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),i=r.find(e);return s.splice(i==-1?s.length:i,0,t,n),new Hn(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Hn.from(e),e.size?new Hn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Hn.from(e),e.size?new Hn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Hn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Hn.from=function(e){if(e instanceof Hn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Hn(t)};function sV(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(r),i=t.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=sV(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function iV(e,t,n,r){for(let s=e.childCount,i=t.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=e.child(--s),a=t.child(--i),c=o.nodeSize;if(o==a){n-=c,r-=c;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let l=0,u=Math.min(o.text.length,a.text.length);for(;l<u&&o.text[o.text.length-l-1]==a.text[a.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let l=iV(o.content,a.content,n-1,r-1);if(l)return l}n-=c,r-=c}}class de{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,s=0,i){for(let o=0,a=0;a<n;o++){let c=this.content[o],l=a+c.nodeSize;if(l>t&&r(c,s+a,i||null,o)!==!1&&c.content.size){let u=a+1;c.nodesBetween(Math.max(0,t-u),Math.min(c.content.size,n-u),r,s+u)}a=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,s){let i="",o=!0;return this.nodesBetween(t,n,(a,c)=>{let l=a.isText?a.text.slice(Math.max(t,c)-c,n-c):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&r&&(o?o=!1:i+=r),i+=l},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)s.push(t.content[i]);return new de(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],s=0;if(n>t)for(let i=0,o=0;o<n;i++){let a=this.content[i],c=o+a.nodeSize;c>t&&((o<t||c>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),s+=a.nodeSize),o=c}return new de(r,s)}cutByIndex(t,n){return t==n?de.empty:t==0&&n==this.content.length?this:new de(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[t]=n,new de(s,i)}addToStart(t){return new de([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new de(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];t(s,r,n),r+=s.nodeSize}}findDiffStart(t,n=0){return sV(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return iV(this,t,n,r)}findIndex(t,n=-1){if(t==0)return x_(0,t);if(t==this.size)return x_(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position ".concat(t," outside of fragment (").concat(this,")"));for(let r=0,s=0;;r++){let i=this.child(r),o=s+i.nodeSize;if(o>=t)return o==t||n>0?x_(r+1,o):x_(r,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return de.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return de.empty;let n,r=0;for(let s=0;s<t.length;s++){let i=t[s];r+=i.nodeSize,s&&i.isText&&t[s-1].sameMarkup(i)?(n||(n=t.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new de(n||t,r)}static from(t){if(!t)return de.empty;if(t instanceof de)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new de([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const UO={index:0,offset:0};function x_(e,t){return UO.index=e,UO.offset=t,UO}function Tg(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Tg(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Tg(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class yt{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let s=0;s<t.length;s++){let i=t[s];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,s));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Tg(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError("There is no mark type ".concat(n.type," in this schema"));let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return yt.none;if(t instanceof yt)return[t];let n=t.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}}yt.none=[];class Og extends Error{}class Re{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=aV(this.content,t+this.openStart,n);return r&&new Re(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Re(oV(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Re.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Re(de.fromJSON(t,n.content),r,s)}static maxOpen(t,n=!0){let r=0,s=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new Re(t,r,s)}}Re.empty=new Re(de.empty,0,0);function oV(e,t,n){let{index:r,offset:s}=e.findIndex(t),i=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(s==t||i.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(oV(i.content,t-s-1,n-s-1)))}function aV(e,t,n,r){let{index:s,offset:i}=e.findIndex(t),o=e.maybeChild(s);if(i==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=aV(o.content,t-i-1,n);return a&&e.replaceChild(s,o.copy(a))}function Dye(e,t,n){if(n.openStart>e.depth)throw new Og("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Og("Inconsistent open depths");return cV(e,t,n,0)}function cV(e,t,n,r){let s=e.index(r),i=e.node(r);if(s==t.index(r)&&r<e.depth-n.openStart){let o=cV(e,t,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return wc(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=Uye(n,e);return wc(i,uV(e,o,a,t,r))}else return wc(i,bg(e,t,r))}function lV(e,t){if(!t.type.compatibleContent(e.type))throw new Og("Cannot join "+t.type.name+" onto "+e.type.name)}function TI(e,t,n){let r=e.node(n);return lV(r,t.node(n)),r}function Pc(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Ff(e,t,n,r){let s=(t||e).node(n),i=0,o=t?t.index(n):s.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Pc(e.nodeAfter,r),i++));for(let a=i;a<o;a++)Pc(s.child(a),r);t&&t.depth==n&&t.textOffset&&Pc(t.nodeBefore,r)}function wc(e,t){return e.type.checkContent(t),e.copy(t)}function uV(e,t,n,r,s){let i=e.depth>s&&TI(e,t,s+1),o=r.depth>s&&TI(n,r,s+1),a=[];return Ff(null,e,s,a),i&&o&&t.index(s)==n.index(s)?(lV(i,o),Pc(wc(i,uV(e,t,n,r,s+1)),a)):(i&&Pc(wc(i,bg(e,t,s+1)),a),Ff(t,n,s,a),o&&Pc(wc(o,bg(n,r,s+1)),a)),Ff(r,null,s,a),new de(a)}function bg(e,t,n){let r=[];if(Ff(null,e,n,r),e.depth>n){let s=TI(e,t,n+1);Pc(wc(s,bg(e,t,n+1)),r)}return Ff(t,null,n,r),new de(r)}function Uye(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)s=t.node(i).copy(de.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class gh{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=t.child(n);return r?t.child(n).cut(r):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)s+=r.child(i).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return yt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),s=t.maybeChild(n);if(!r){let a=r;r=s,s=a}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new jye(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=t;;){let{index:a,offset:c}=o.content.findIndex(i),l=i-c;if(r.push(o,a,s+c),!l||(o=o.child(a),o.isText))break;i=l-1,s+=c+1}return new gh(n,r,i)}static resolveCached(t,n){let r=p3.get(t);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else p3.set(t,r=new Fye);let s=r.elts[r.i]=gh.resolve(t,n);return r.i=(r.i+1)%Gye,s}}class Fye{constructor(){this.elts=[],this.i=0}}const Gye=12,p3=new WeakMap;class jye{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Bye=Object.create(null);let Rc=class OI{constructor(t,n,r,s=yt.none){this.type=t,this.attrs=n,this.marks=s,this.content=r||de.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,s=0){this.content.nodesBetween(t,n,r,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,s){return this.content.textBetween(t,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Tg(this.attrs,n||t.defaultAttrs||Bye)&&yt.sameSet(this.marks,r||yt.none)}copy(t=null){return t==this.content?this:new OI(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new OI(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Re.empty;let s=this.resolve(t),i=this.resolve(n),o=r?0:s.sharedDepth(n),a=s.start(o),l=s.node(o).content.cut(s.pos-a,i.pos-a);return new Re(l,s.depth-o,i.depth-o)}replace(t,n,r){return Dye(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(t){return gh.resolveCached(this,t)}resolveNoCache(t){return gh.resolve(this,t)}rangeHasMark(t,n,r){let s=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),dV(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=de.empty,s=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,s,i),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=yt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!yt.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(n=>n.type.name)));this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let s=de.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Rc.prototype.text=void 0;class Ag extends Rc{constructor(t,n,r,s){if(super(t,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):dV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Ag(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Ag(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function dV(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Qc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Hye(t,n);if(r.next==null)return Qc.empty;let s=fV(r);r.next&&r.err("Unexpected trailing text");let i=Kye(Yye(s));return Jye(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(t.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let s=[this];function i(o,a){let c=o.matchFragment(t,r);if(c&&(!n||c.validEnd))return de.from(a.map(l=>l.createAndFill()));for(let l=0;l<o.next.length;l++){let{type:u,next:d}=o.next[l];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let f=i(d,a.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(t)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:c}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError("There's no ".concat(t,"th edge in this content match"));return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let s=0;s<r.next.length;s++)t.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),t.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return i}).join("\n")}}Qc.empty=new Qc(!0);class Hye{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function fV(e){let t=[];do t.push($ye(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function $ye(e){let t=[];do t.push(Wye(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Wye(e){let t=zye(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=qye(e,t);else break;return t}function _3(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function qye(e,t){let n=_3(e),r=n;return e.eat(",")&&(e.next!="}"?r=_3(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Vye(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.groups.indexOf(t)>-1&&s.push(o)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function zye(e){if(e.eat("(")){let t=fV(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Vye(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Yye(e){let t=[[]];return s(i(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,c){let l={term:c,to:a};return t[o].push(l),l}function s(o,a){o.forEach(c=>c.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((c,l)=>c.concat(i(l,a)),[]);if(o.type=="seq")for(let c=0;;c++){let l=i(o.exprs[c],a);if(c==o.exprs.length-1)return l;s(l,a=n())}else if(o.type=="star"){let c=n();return r(a,c),s(i(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return s(i(o.expr,a),c),s(i(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(a)].concat(i(o.expr,a));if(o.type=="range"){let c=a;for(let l=0;l<o.min;l++){let u=n();s(i(o.expr,c),u),c=u}if(o.max==-1)s(i(o.expr,c),c);else for(let l=o.min;l<o.max;l++){let u=n();r(c,u),s(i(o.expr,c),u),c=u}return[r(c)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function hV(e,t){return t-e}function m3(e,t){let n=[];return r(t),n.sort(hV);function r(s){let i=e[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:a,to:c}=i[o];!a&&n.indexOf(c)==-1&&r(c)}}}function Kye(e){let t=Object.create(null);return n(m3(e,0));function n(r){let s=[];r.forEach(o=>{e[o].forEach(({term:a,to:c})=>{if(!a)return;let l;for(let u=0;u<s.length;u++)s[u][0]==a&&(l=s[u][1]);m3(e,c).forEach(u=>{l||s.push([a,l=[]]),l.indexOf(u)==-1&&l.push(u)})})});let i=t[r.join(",")]=new Qc(r.indexOf(e.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(hV);i.next.push({type:s[o][0],next:t[a.join(",")]||n(a)})}return i}}function Jye(e,t){for(let n=0,r=[e];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:c,next:l}=s.next[a];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(l)==-1&&r.push(l)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function pV(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function _V(e,t){let n=Object.create(null);for(let r in e){let s=t&&t[r];if(s===void 0){let i=e[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function mV(e,t,n,r){for(let s in t)if(!(s in e))throw new RangeError("Unsupported attribute ".concat(s," for ").concat(n," of type ").concat(s));for(let s in e){let i=e[s];i.validate&&i.validate(t[s])}}function gV(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Qye(e,r,t[r]);return n}let g3=class vV{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=gV(t,r.attrs),this.defaultAttrs=pV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:_V(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Rc(this,this.computeAttrs(t),de.from(n),yt.setFrom(r))}createChecked(t=null,n,r){return n=de.from(n),this.checkContent(n),new Rc(this,this.computeAttrs(t),n,yt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=de.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(de.empty,!0);return i?new Rc(this,t,n.append(i),yt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(t.toString().slice(0,50)))}checkAttrs(t){mV(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:yt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,o)=>r[i]=new vV(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Xye(e,t,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError("Expected value of type ".concat(r," for attribute ").concat(t," on type ").concat(e,", got ").concat(i))}}class Qye{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Xye(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ME{constructor(t,n,r,s){this.name=t,this.rank=n,this.schema=r,this.spec=s,this.attrs=gV(t,s.attrs),this.excluded=null;let i=pV(this.attrs);this.instance=i?new yt(this,i):null}create(t=null){return!t&&this.instance?this.instance:new yt(this,_V(this.attrs,t))}static compile(t,n){let r=Object.create(null),s=0;return t.forEach((i,o)=>r[i]=new ME(i,s++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){mV(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Zye{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=Hn.from(t.nodes),n.marks=Hn.from(t.marks||{}),this.nodes=g3.compile(this.spec.nodes,this),this.marks=ME.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=Qc.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?v3(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:v3(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof g3){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,s)}text(t,n){let r=this.nodes.text;return new Ag(r,r.defaultAttrs,t,yt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Rc.fromJSON(this,t)}markFromJSON(t){return yt.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function v3(e,t){let n=[];for(let r=0;r<t.length;r++){let s=t[r],i=e.marks[s],o=i;if(i)n.push(i);else for(let a in e.marks){let c=e.marks[a];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function eSe(e){return e.tag!=null}function tSe(e){return e.style!=null}class vh{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(eSe(s))this.tags.push(s);else if(tSe(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=t.nodes[s.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new C3(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new C3(this,n,!0);return r.addAll(t,n.from,n.to),Re.maxOpen(r.finish())}matchTag(t,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(sSe(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(t);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(t,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(t){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<i)break}n.splice(o,0,s)}for(let s in t.marks){let i=t.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=y3(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in t.nodes){let i=t.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=y3(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new vh(t,vh.schemaRules(t)))}}const EV={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nSe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},CV={ol:!0,ul:!0},Ng=1,Ig=2,Gf=4;function E3(e,t,n){return t!=null?(t?Ng:0)|(t==="full"?Ig:0):e&&e.whitespace=="pre"?Ng|Ig:n&~Gf}class M_{constructor(t,n,r,s,i,o,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=i,this.options=a,this.content=[],this.activeMarks=yt.none,this.stashMarks=[],this.match=o||(a&Gf?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(de.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(t.type))?(this.match=r,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ng)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=de.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):iSe(s.type,t))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!EV.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class C3{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,o=E3(null,n.preserveWhitespace,0)|(r?Gf:0);s?i=new M_(s.type,s.attrs,yt.none,yt.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new M_(null,null,yt.none,yt.none,!0,null,o):i=new M_(t.schema.topNodeType,null,yt.none,yt.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.style;if(!r||!r.length)return n();let s=this.readStyles(t.style);if(!s)return;let[i,o]=s,a=this.top;for(let c=0;c<o.length;c++)this.removePendingMark(o[c],a);for(let c=0;c<i.length;c++)this.addPendingMark(i[c]);n();for(let c=0;c<i.length;c++)this.removePendingMark(i[c],a);for(let c=0;c<o.length;c++)this.addPendingMark(o[c])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&Ig||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Ng)r.options&Ig?n=n.replace(/\r\n?/g,"\n"):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],i=t.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),s;CV.hasOwnProperty(r)&&this.parser.normalizeLists&&rSe(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,n));if(i?i.ignore:nSe.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let o,a=this.top,c=this.needsBlock;if(EV.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}i&&i.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),o&&this.sync(a),this.needsBlock=c}else this.withStyleRules(t,()=>{this.addElementByRule(t,i,i.consuming===!1?s:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=yt.none,r=yt.none;if(t.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=t.getPropertyValue(i);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(i,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{c.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[c.mark].create(c.attrs).addToSet(n),c.consuming===!1)a=c;else break}}return[n,r]}addElementByRule(t,n,r){let s,i,o;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(t):s=this.enter(i,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=t;typeof n.contentElement=="string"?c=t.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(t):n.contentElement&&(c=n.contentElement),this.findAround(t,c,!0),this.addAll(c)}s&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,n,r){let s=n||0;for(let i=n?t.childNodes[n]:t.firstChild,o=r==null?null:t.childNodes[r];i!=o;i=i.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(i);this.findAtPoint(t,s)}findPlace(t){let n,r;for(let s=this.open;s>=0;s--){let i=this.nodes[s],o=i.findWrapping(t);if(o&&(!n||n.length>o.length)&&(n=o,r=i,!o.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let s=0;s<t.marks.length;s++)(!n.type||n.type.allowsMarkType(t.marks[s].type))&&(r=t.marks[s].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let s=this.findPlace(t.create(n));return s&&this.enterInner(t,n,!0,r),s}enterInner(t,n=null,r=!1,s){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let o=E3(t,s,i.options);i.options&Gf&&i.content.length==0&&(o|=Gf),this.nodes.push(new M_(t,n,i.activeMarks,i.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)t+=r[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(a,c)=>{for(;a>=0;a--){let l=n[a];if(l==""){if(a==n.length-1||a==0)continue;for(;c>=i;c--)if(o(a-1,c))return!0;return!1}else{let u=c>0||c==0&&s?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!u||u.name!=l&&u.groups.indexOf(l)==-1)return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=oSe(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(t)>-1)s.pendingMarks=t.removeFromSet(s.pendingMarks);else{s.activeMarks=t.removeFromSet(s.activeMarks);let o=s.popFromStashMark(t);o&&s.type&&s.type.allowsMarkType(o.type)&&(s.activeMarks=o.addToSet(s.activeMarks))}if(s==n)break}}}function rSe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&CV.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function sSe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function y3(e){let t={};for(let n in e)t[n]=e[n];return t}function iSe(e,t){let n=t.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(e))continue;let i=[],o=a=>{i.push(a);for(let c=0;c<a.edgeCount;c++){let{type:l,next:u}=a.edge(c);if(l==t||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}function oSe(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Id{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=FO(n).createDocumentFragment());let s=r,i=[];return t.forEach(o=>{if(i.length||o.marks.length){let a=0,c=0;for(;a<i.length&&c<o.marks.length;){let l=o.marks[c];if(!this.marks[l.type.name]){c++;continue}if(!l.eq(i[a][0])||l.type.spec.spanning===!1)break;a++,c++}for(;a<i.length;)s=i.pop()[1];for(;c<o.marks.length;){let l=o.marks[c++],u=this.serializeMark(l,o.isInline,n);u&&(i.push([l,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:s}=pm(FO(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let i=this.serializeMark(t.marks[s],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let s=this.marks[t.type.name];return s&&pm(FO(r),s(t,n),null,t.attrs)}static renderSpec(t,n,r=null,s){return pm(t,n,r,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Id(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=S3(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return S3(t.marks)}}function S3(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function FO(e){return e.document||window.document}const T3=new WeakMap;function aSe(e){let t=T3.get(e);return t===void 0&&T3.set(e,t=cSe(e)),t}function cSe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(e),t}function pm(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=aSe(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,c=n?e.createElementNS(n,s):e.createElement(s),l=t[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let d in l)if(l[d]!=null){let f=d.indexOf(" ");f>0?c.setAttributeNS(d.slice(0,f),d.slice(f+1),l[d]):c.setAttribute(d,l[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:p}=pm(e,f,n,r);if(c.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:c,contentDOM:a}}const yV=65535,SV=Math.pow(2,16);function lSe(e,t){return e+t*SV}function O3(e){return e&yV}function uSe(e){return(e-(e&yV))/SV}const TV=1,OV=2,_m=4,bV=8;class bI{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&bV)>0}get deletedBefore(){return(this.delInfo&(TV|_m))>0}get deletedAfter(){return(this.delInfo&(OV|_m))>0}get deletedAcross(){return(this.delInfo&_m)>0}}class qr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&qr.empty)return qr.empty}recover(t){let n=0,r=O3(t);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+uSe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?s:0);if(c>t)break;let l=this.ranges[a+i],u=this.ranges[a+o],d=c+l;if(t<=d){let f=l?t==c?-1:t==d?1:n:n,h=c+s+(f<0?0:u);if(r)return h;let p=t==(n<0?c:d)?null:lSe(a/3,t-c),_=t==c?OV:t==d?TV:_m;return(n<0?t!=c:t!=d)&&(_|=bV),new bI(h,_,p)}s+=u-l}return r?t+s:new bI(t+s,0,null)}touches(t,n){let r=0,s=O3(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>t)break;let l=this.ranges[a+i],u=c+l;if(t<=u&&a==s*3)return!0;r+=this.ranges[a+o]-l}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),c=o+(this.inverted?0:i),l=this.ranges[s+n],u=this.ranges[s+r];t(a,a+l,c,c+u),i+=u-l}}invert(){return new qr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?qr.empty:new qr(t<0?[0,-t,0]:[0,0,t])}}qr.empty=new qr([]);class Au{constructor(t=[],n,r=0,s=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=s}slice(t=0,n=this.maps.length){return new Au(this.maps,this.mirror,t,n)}copy(){return new Au(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let s=t.getMirror(n);this.appendMap(t.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let t=new Au;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(t,n);if(a.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,t=this.maps[c].recover(a.recover);continue}}s|=a.delInfo,t=a.pos}return r?t:new bI(t,s,null)}}const GO=Object.create(null);class or{getMap(){return qr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=GO[n.stepType];if(!r)throw new RangeError("No step type ".concat(n.stepType," defined"));return r.fromJSON(t,n)}static jsonID(t,n){if(t in GO)throw new RangeError("Duplicate use of step JSON ID "+t);return GO[t]=n,n.prototype.jsonID=t,n}}class vn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new vn(t,null)}static fail(t){return new vn(null,t)}static fromReplace(t,n,r,s){try{return vn.ok(t.replace(n,r,s))}catch(i){if(i instanceof Og)return vn.fail(i.message);throw i}}}function k1(e,t,n){let r=[];for(let s=0;s<e.childCount;s++){let i=e.child(s);i.content.size&&(i=i.copy(k1(i.content,t,i))),i.isInline&&(i=t(i,n,s)),r.push(i)}return de.fromArray(r)}class oa extends or{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new Re(k1(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return vn.fromReplace(t,this.from,this.to,i)}invert(){return new Oi(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new oa(n.pos,r.pos,this.mark)}merge(t){return t instanceof oa&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new oa(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new oa(n.from,n.to,t.markFromJSON(n.mark))}}or.jsonID("addMark",oa);class Oi extends or{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Re(k1(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return vn.fromReplace(t,this.from,this.to,r)}invert(){return new oa(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Oi(n.pos,r.pos,this.mark)}merge(t){return t instanceof Oi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Oi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Oi(n.from,n.to,t.markFromJSON(n.mark))}}or.jsonID("removeMark",Oi);class aa extends or{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return vn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return vn.fromReplace(t,this.pos,this.pos+1,new Re(de.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new aa(this.pos,n.marks[s]);return new aa(this.pos,this.mark)}}return new Qu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new aa(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new aa(n.pos,t.markFromJSON(n.mark))}}or.jsonID("addNodeMark",aa);class Qu extends or{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return vn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return vn.fromReplace(t,this.pos,this.pos+1,new Re(de.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new aa(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Qu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qu(n.pos,t.markFromJSON(n.mark))}}or.jsonID("removeNodeMark",Qu);class Zn extends or{constructor(t,n,r,s=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=s}apply(t){return this.structure&&AI(t,this.from,this.to)?vn.fail("Structure replace would overwrite content"):vn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new qr([this.from,this.to-this.from,this.slice.size])}invert(t){return new Zn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Zn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof Zn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Re.empty:new Re(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Zn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Re.empty:new Re(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Zn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Zn(n.from,n.to,Re.fromJSON(t,n.slice),!!n.structure)}}or.jsonID("replace",Zn);class Kr extends or{constructor(t,n,r,s,i,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(t){if(this.structure&&(AI(t,this.from,this.gapFrom)||AI(t,this.gapTo,this.to)))return vn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return vn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?vn.fromReplace(t,this.from,this.to,r):vn.fail("Content does not fit in gap")}getMap(){return new qr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Kr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Kr(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Kr(n.from,n.to,n.gapFrom,n.gapTo,Re.fromJSON(t,n.slice),n.insert,!!n.structure)}}or.jsonID("replaceAround",Kr);function AI(e,t,n){let r=e.resolve(t),s=n-t,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function dSe(e,t,n,r){let s=[],i=[],o,a;e.doc.nodesBetween(t,n,(c,l,u)=>{if(!c.isInline)return;let d=c.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(l,t),h=Math.min(l+c.nodeSize,n),p=r.addToSet(d);for(let _=0;_<d.length;_++)d[_].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[_])?o.to=h:s.push(o=new Oi(f,h,d[_])));a&&a.to==f?a.to=h:i.push(a=new oa(f,h,r))}}),s.forEach(c=>e.step(c)),i.forEach(c=>e.step(c))}function fSe(e,t,n,r){let s=[],i=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;i++;let c=null;if(r instanceof ME){let l=o.marks,u;for(;u=r.isInSet(l);)(c||(c=[])).push(u),l=u.removeFromSet(l)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let l=Math.min(a+o.nodeSize,n);for(let u=0;u<c.length;u++){let d=c[u],f;for(let h=0;h<s.length;h++){let p=s[h];p.step==i-1&&d.eq(s[h].style)&&(f=p)}f?(f.to=l,f.step=i):s.push({style:d,from:Math.max(a,t),to:l,step:i})}}}),s.forEach(o=>e.step(new Oi(o.from,o.to,o.style)))}function AV(e,t,n,r=n.contentMatch,s=!0){let i=e.doc.nodeAt(t),o=[],a=t+1;for(let c=0;c<i.childCount;c++){let l=i.child(c),u=a+l.nodeSize,d=r.matchType(l.type);if(!d)o.push(new Zn(a,u,Re.empty));else{r=d;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||e.step(new Oi(a,u,l.marks[f]));if(s&&l.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(l.text);)p||(p=new Re(de.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new Zn(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let c=r.fillBefore(de.empty,!0);e.replace(a,a,new Re(c,0,0))}for(let c=o.length-1;c>=0;c--)e.step(o[c])}function hSe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function L1(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let s=e.$from.node(r),i=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!hSe(s,i,o))break}return null}function pSe(e,t,n){let{$from:r,$to:s,depth:i}=t,o=r.before(i+1),a=s.after(i+1),c=o,l=a,u=de.empty,d=0;for(let p=i,_=!1;p>n;p--)_||r.index(p)>0?(_=!0,u=de.from(r.node(p).copy(u)),d++):c--;let f=de.empty,h=0;for(let p=i,_=!1;p>n;p--)_||s.after(p+1)<s.end(p)?(_=!0,f=de.from(s.node(p).copy(f)),h++):l++;e.step(new Kr(c,l,o,a,new Re(u.append(f),d,h),u.size-d,!0))}function _Se(e,t,n=null,r=e){let s=mSe(e,t),i=s&&gSe(r,t);return i?s.map(b3).concat({type:t,attrs:n}).concat(i.map(b3)):null}function b3(e){return{type:e,attrs:null}}function mSe(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let o=i.length?i[0]:t;return n.canReplaceWith(r,s,o)?i:null}function gSe(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.child(r),o=t.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:t).contentMatch;for(let l=r;c&&l<s;l++)c=c.matchType(n.child(l).type);return!c||!c.validEnd?null:o}function vSe(e,t,n){let r=de.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=de.from(n[o].type.create(n[o].attrs,r))}let s=t.start,i=t.end;e.step(new Kr(s,i,s,i,new Re(r,0,0),n.length,!0))}function ESe(e,t,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,s)&&SSe(e.doc,e.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!h?c=!1:!f&&h&&(c=!0)}c===!1&&ySe(e,o,a,i),AV(e,e.mapping.slice(i).map(a,1),r,void 0,c===null);let l=e.mapping.slice(i),u=l.map(a,1),d=l.map(a+o.nodeSize,1);return e.step(new Kr(u,d,u+1,d-1,new Re(de.from(r.create(s,null,o.marks)),0,0),1,!0)),c===!0&&CSe(e,o,a,i),!1}})}function CSe(e,t,n,r){t.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let c=e.mapping.slice(r).map(n+1+i+o.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function ySe(e,t,n,r){t.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function SSe(e,t,n){let r=e.resolve(t),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function TSe(e,t,n,r,s){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Kr(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Re(de.from(o),0,0),1,!0))}function mm(e,t,n=1,r){let s=e.resolve(t),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let l=s.depth-1,u=n-2;l>i;l--,u--){let d=s.node(l),f=s.index(l);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let _=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!_.type.validContent(h))return!1}let a=s.indexAfter(i),c=r&&r[0];return s.node(i).canReplaceWith(a,a,c?c.type:s.node(i+1).type)}function OSe(e,t,n=1,r){let s=e.doc.resolve(t),i=de.empty,o=de.empty;for(let a=s.depth,c=s.depth-n,l=n-1;a>c;a--,l--){i=de.from(s.node(a).copy(i));let u=r&&r[l];o=de.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}e.step(new Zn(t,t,new Re(i.append(o),n,n),!0))}function NV(e,t){let n=e.resolve(t),r=n.index();return bSe(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function bSe(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function ASe(e,t,n){let r=new Zn(t-n,t+n,Re.empty,!0);e.step(r)}function NSe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function ISe(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(a>0?1:0),l=r.node(o),u=!1;if(i==1)u=l.canReplace(c,c,s);else{let d=l.contentMatchAt(c).findWrapping(s.firstChild.type);u=d&&l.canReplaceWith(c,c,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function D1(e,t,n=t,r=Re.empty){if(t==n&&!r.size)return null;let s=e.resolve(t),i=e.resolve(n);return IV(s,i,r)?new Zn(t,n,r):new PSe(s,i,r).fit()}function IV(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class PSe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=de.empty;for(let s=0;s<=t.depth;s++){let i=t.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=de.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(t<0?this.$to:r.doc.resolve(t));if(!s)return null;let i=this.placed,o=r.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let c=new Re(i,o,a);return t>-1?new Kr(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Zn(r.pos,s.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=jO(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:l}=this.frontier[a],u,d=null;if(n==1&&(o?l.matchType(o.type)||(d=l.fillBefore(de.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=jO(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Re(t,n+1,Math.max(r,s.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=jO(t,n);if(s.childCount<=1&&n>0){let i=t.size-n<=n+s.size;this.unplaced=new Re(Sf(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Re(Sf(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let _=0;_<i.length;_++)this.openFrontierNode(i[_]);let o=this.unplaced,a=r?r.content:o.content,c=o.openStart-t,l=0,u=[],{match:d,type:f}=this.frontier[n];if(s){for(let _=0;_<s.childCount;_++)u.push(s.child(_));d=d.matchFragment(s)}let h=a.size+t-(o.content.size-o.openEnd);for(;l<a.childCount;){let _=a.child(l),m=d.matchType(_.type);if(!m)break;l++,(l>1||c==0||_.content.size)&&(d=m,u.push(PV(_.mark(f.allowedMarks(_.marks)),l==1?c:0,l==a.childCount?h:-1)))}let p=l==a.childCount;p||(h=-1),this.placed=Tf(this.placed,n,de.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let _=0,m=a;_<h;_++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=p?t==0?Re.empty:new Re(Sf(o.content,t-1,1),t-1,h<0?o.openEnd:t-1):new Re(Sf(o.content,t,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!BO(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=BO(t,n,s,r,i);if(o){for(let a=n-1;a>=0;a--){let{match:c,type:l}=this.frontier[a],u=BO(t,a,l,c,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Tf(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let s=t.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,t.index(r));this.openFrontierNode(s.type,s.attrs,i)}return t}openFrontierNode(t,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Tf(this.placed,this.depth,de.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(de.empty,!0);n.childCount&&(this.placed=Tf(this.placed,this.frontier.length,n))}}function Sf(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Sf(e.firstChild.content,t-1,n)))}function Tf(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Tf(e.lastChild.content,t-1,n)))}function jO(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function PV(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,PV(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(de.empty,!0)))),e.copy(r)}function BO(e,t,n,r,s){let i=e.node(t),o=s?e.indexAfter(t):e.index(t);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!wSe(n,i.content,o)?a:null}function wSe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function RSe(e){return e.spec.defining||e.spec.definingForContent}function xSe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),i=e.doc.resolve(n);if(IV(s,i,r))return e.step(new Zn(t,n,r));let o=RV(s,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let f=s.depth,h=s.pos-1;f>0;f--,h--){let p=s.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:s.before(f)==h&&o.splice(1,0,-f)}let c=o.indexOf(a),l=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(l.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=l[f],p=RSe(h.type);if(p&&!h.sameMarkup(s.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=l[h];if(p)for(let _=0;_<o.length;_++){let m=o[(_+c)%o.length],v=!0;m<0&&(v=!1,m=-m);let E=s.node(m-1),b=s.index(m-1);if(E.canReplaceWith(b,b,p.type,p.marks))return e.replace(s.before(m),v?i.after(m):n,new Re(wV(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=o[f];h<0||(t=s.before(h),n=i.after(h))}}function wV(e,t,n,r,s){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(wV(i.content,t+1,n,r,i)))}if(t>r){let i=s.contentMatchAt(0),o=i.fillBefore(e).append(e);e=o.append(i.matchFragment(o).fillBefore(de.empty,!0))}return e}function MSe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=NSe(e.doc,t,r.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new Re(de.from(r),0,0))}function kSe(e,t,n){let r=e.doc.resolve(t),s=e.doc.resolve(n),i=RV(r,s);for(let o=0;o<i.length;o++){let a=i[o],c=o==i.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),s.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return e.delete(r.before(a),s.after(a))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}function RV(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let s=r;s>=0;s--){let i=e.start(s);if(i<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(i==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==i-1)&&n.push(s)}return n}class Nu extends or{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return vn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return vn.fromReplace(t,this.pos,this.pos+1,new Re(de.from(s),0,n.isLeaf?0:1))}getMap(){return qr.empty}invert(t){return new Nu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Nu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Nu(n.pos,n.attr,n.value)}}or.jsonID("attr",Nu);class Eh extends or{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return vn.ok(r)}getMap(){return qr.empty}invert(t){return new Eh(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Eh(n.attr,n.value)}}or.jsonID("docAttr",Eh);let Zu=class extends Error{};Zu=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Zu.prototype=Object.create(Error.prototype);Zu.prototype.constructor=Zu;Zu.prototype.name="TransformError";class LSe{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Au}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Zu(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Re.empty){let s=D1(this.doc,t,n,r);return s&&this.step(s),this}replaceWith(t,n,r){return this.replace(t,n,new Re(de.from(r),0,0))}delete(t,n){return this.replace(t,n,Re.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return xSe(this,t,n,r),this}replaceRangeWith(t,n,r){return MSe(this,t,n,r),this}deleteRange(t,n){return kSe(this,t,n),this}lift(t,n){return pSe(this,t,n),this}join(t,n=1){return ASe(this,t,n),this}wrap(t,n){return vSe(this,t,n),this}setBlockType(t,n=t,r,s=null){return ESe(this,t,n,r,s),this}setNodeMarkup(t,n,r=null,s){return TSe(this,t,n,r,s),this}setNodeAttribute(t,n,r){return this.step(new Nu(t,n,r)),this}setDocAttribute(t,n){return this.step(new Eh(t,n)),this}addNodeMark(t,n){return this.step(new aa(t,n)),this}removeNodeMark(t,n){if(!(n instanceof yt)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Qu(t,n)),this}split(t,n=1,r){return OSe(this,t,n,r),this}addMark(t,n,r){return dSe(this,t,n,r),this}removeMark(t,n,r){return fSe(this,t,n,r),this}clearIncompatible(t,n,r){return AV(this,t,n,r),this}}const HO=Object.create(null);class ct{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new DSe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Re.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let i=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:l}=o[a],u=t.mapping.slice(i);t.replaceRange(u.map(c.pos),u.map(l.pos),a?Re.empty:n),a==0&&I3(t,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],c=t.mapping.slice(r),l=c.map(o.pos),u=c.map(a.pos);i?t.deleteRange(l,u):(t.replaceRangeWith(l,u,n),I3(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let s=t.parent.inlineContent?new ht(t):Zl(t.node(0),t.parent,t.pos,t.index(),n,r);if(s)return s;for(let i=t.depth-1;i>=0;i--){let o=n<0?Zl(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):Zl(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Jr(t.node(0))}static atStart(t){return Zl(t,t,0,0,1)||new Jr(t)}static atEnd(t){return Zl(t,t,t.content.size,t.childCount,-1)||new Jr(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=HO[n.type];if(!r)throw new RangeError("No selection type ".concat(n.type," defined"));return r.fromJSON(t,n)}static jsonID(t,n){if(t in HO)throw new RangeError("Duplicate use of selection JSON ID "+t);return HO[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ht.between(this.$anchor,this.$head).getBookmark()}}ct.prototype.visible=!0;class DSe{constructor(t,n){this.$from=t,this.$to=n}}let A3=!1;function N3(e){!A3&&!e.parent.inlineContent&&(A3=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ht extends ct{constructor(t,n=t){N3(t),N3(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return ct.near(r);let s=t.resolve(n.map(this.anchor));return new ht(s.parent.inlineContent?s:r,r)}replace(t,n=Re.empty){if(super.replace(t,n),n==Re.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ht&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new kE(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ht(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let s=t.resolve(n);return new this(s,r==n?s:t.resolve(r))}static between(t,n,r){let s=t.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=ct.findFrom(n,r,!0)||ct.findFrom(n,-r,!0);if(i)n=i.$head;else return ct.near(n,r)}return t.parent.inlineContent||(s==0?t=n:(t=(ct.findFrom(t,-r,!0)||ct.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new ht(t,n)}}ct.jsonID("text",ht);class kE{constructor(t,n){this.anchor=t,this.head=n}map(t){return new kE(t.map(this.anchor),t.map(this.head))}resolve(t){return ht.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ze extends ct{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=t.resolve(s);return r?ct.near(i):new Ze(i)}content(){return new Re(de.from(this.node),0,0)}eq(t){return t instanceof Ze&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new U1(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ze(t.resolve(n.anchor))}static create(t,n){return new Ze(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ze.prototype.visible=!1;ct.jsonID("node",Ze);class U1{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new kE(r,r):new U1(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Ze.isSelectable(r)?new Ze(n):ct.near(n)}}class Jr extends ct{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Re.empty){if(n==Re.empty){t.delete(0,t.doc.content.size);let r=ct.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Jr(t)}map(t){return new Jr(t)}eq(t){return t instanceof Jr}getBookmark(){return USe}}ct.jsonID("all",Jr);const USe={map(){return this},resolve(e){return new Jr(e)}};function Zl(e,t,n,r,s,i=!1){if(t.inlineContent)return ht.create(e,n);for(let o=r-(s>0?0:1);s>0?o<t.childCount:o>=0;o+=s){let a=t.child(o);if(a.isAtom){if(!i&&Ze.isSelectable(a))return Ze.create(e,n-(s<0?a.nodeSize:0))}else{let c=Zl(e,a,n+s,s<0?a.childCount:0,s,i);if(c)return c}n+=a.nodeSize*s}return null}function I3(e,t,n){let r=e.steps.length-1;if(r<t)return;let s=e.steps[r];if(!(s instanceof Zn||s instanceof Kr))return;let i=e.mapping.maps[r],o;i.forEach((a,c,l,u)=>{o==null&&(o=u)}),e.setSelection(ct.near(e.doc.resolve(o),n))}const P3=1,k_=2,w3=4;class FSe extends LSe{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|P3)&~k_,this.storedMarks=null,this}get selectionSet(){return(this.updated&P3)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=k_,this}ensureMarks(t){return yt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&k_)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~k_,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||yt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(t,i)),this.selection.empty||this.setSelection(ct.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=w3,this}get scrolledIntoView(){return(this.updated&w3)>0}}function R3(e,t){return!t||!e?e:e.bind(t)}class Of{constructor(t,n,r){this.name=t,this.init=R3(n.init,r),this.apply=R3(n.apply,r)}}const GSe=[new Of("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Of("selection",{init(e,t){return e.selection||ct.atStart(t.doc)},apply(e){return e.selection}}),new Of("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Of("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class $O{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=GSe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Of(r.key,r.spec.state,r))})}}class ou{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=s?s[o].n:0,l=s?s[o].state:this,u=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,l,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ou(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new FSe(this)}static create(t){let n=new $O(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new ou(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(t,r);return r}reconfigure(t){let n=new $O(this.schema,t.plugins),r=n.fields,s=new ou(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new $O(t.schema,t.plugins),i=new ou(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Rc.fromJSON(t.schema,n.doc);else if(o.name=="selection")i.selection=ct.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],l=c.spec.state;if(c.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[o.name]=l.fromJSON.call(c,t,n[a],i);return}}i[o.name]=o.init(t,i)}}),i}}function xV(e,t,n){for(let r in e){let s=e[r];s instanceof Function?s=s.bind(t):r=="handleDOMEvents"&&(s=xV(s,t,{})),n[r]=s}return n}class ss{constructor(t){this.spec=t,this.props={},t.props&&xV(t.props,this,this.props),this.key=t.key?t.key.key:MV("plugin")}getState(t){return t[this.key]}}const WO=Object.create(null);function MV(e){return e in WO?e+"$"+ ++WO[e]:(WO[e]=0,e+"$")}class bs{constructor(t="key"){this.key=MV(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const kV=new bs("contentReference"),DYe=e=>{const t=lE(e).map(({newContentReference:n})=>n);return new ss({key:kV,state:{init:(n,{doc:r})=>({displayedContentReferences:t}),apply:(n,r)=>r},props:{}})},x3=30,jSe=["p",0],BSe=["br"],LV={paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p",preserveWhitespace:"full"}],toDOM(){return jSe}},text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return BSe}},doc:{content:"block+"}};LV.template_variable={group:"inline",inline:!0,atom:!0,attrs:{key:{default:""},id:{default:""},value:{default:""}},toDOM:e=>{const t=e.attrs.value||e.attrs.key,n=t.length>x3?t.slice(0,x3)+"...":t;return["span",{"data-bracket-tag-id":e.attrs.id,class:"pm-bracket-tag","data-template-key":e.attrs.key},n]},parseDOM:[{tag:"span[data-bracket-tag-id]",getAttrs:e=>({id:e.getAttribute("data-bracket-tag-id"),key:e.getAttribute("data-template-key"),value:e.textContent})}]};const HSe={ecosystemMentionMark:{attrs:{id:{default:null},kind:{default:null},keyword:{default:null}},inclusive:!1,excludes:"",parseDOM:[{tag:"span.ecosystem-mention",getAttrs:e=>({id:e.dataset.id||null,keyword:e.dataset.keyword||null,kind:e.dataset.kind||null})}],toDOM(e){const{id:t,kind:n,keyword:r}=e.attrs;return["span",{class:"ecosystem-mention","data-id":t!=null?t:"","data-keyword":r!=null?r:"","data-kind":n!=null?n:""},0]}}},Pg=new Zye({nodes:LV,marks:HSe}),DV=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function $Se(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const F1=(e,t,n)=>{let r=$Se(e,n);if(!r)return!1;let s=UV(r);if(!s){let o=r.blockRange(),a=o&&L1(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&HV(e,s,t))return!0;if(r.parent.content.size==0&&(ed(i,"end")||Ze.isSelectable(i))){let o=D1(e.doc,r.before(),r.after(),Re.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(ed(i,"end")?ct.findFrom(a.doc.resolve(a.mapping.map(s.pos,-1)),-1):Ze.create(a.doc,s.pos-i.nodeSize)),t(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1};function ed(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const WSe=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=UV(r)}let o=i&&i.nodeBefore;return!o||!Ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Ze.create(e.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function UV(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function qSe(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const VSe=(e,t,n)=>{let r=qSe(e,n);if(!r)return!1;let s=FV(r);if(!s)return!1;let i=s.nodeAfter;if(HV(e,s,t))return!0;if(r.parent.content.size==0&&(ed(i,"start")||Ze.isSelectable(i))){let o=D1(e.doc,r.before(),r.after(),Re.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(ed(i,"start")?ct.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):Ze.create(a.doc,a.mapping.map(s.pos))),t(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},zSe=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=FV(r)}let o=i&&i.nodeAfter;return!o||!Ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Ze.create(e.doc,i.pos)).scrollIntoView()),!0)};function FV(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const YSe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function G1(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const KSe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=G1(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(t){let a=n.after(),c=e.tr.replaceWith(a,a,o.createAndFill());c.setSelection(ct.near(c.doc.resolve(a),1)),t(c.scrollIntoView())}return!0},GV=(e,t)=>{let n=e.selection,{$from:r,$to:s}=n;if(n instanceof Jr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=G1(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=e.tr.insert(o,i.createAndFill());a.setSelection(ht.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},jV=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(mm(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&L1(r);return s==null?!1:(t&&t(e.tr.lift(r,s).scrollIntoView()),!0)};function JSe(e){return(t,n)=>{let{$from:r,$to:s}=t.selection;if(t.selection instanceof Ze&&t.selection.node.isBlock)return!r.parentOffset||!mm(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let i=s.parentOffset==s.parent.content.size,o=t.tr;(t.selection instanceof ht||t.selection instanceof Jr)&&o.deleteSelection();let a=r.depth==0?null:G1(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&a?[{type:a}]:void 0,l=mm(o.doc,o.mapping.map(r.pos),1,c);if(!c&&!l&&mm(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),l=!0),l&&(o.split(o.mapping.map(r.pos),1,c),!i&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),d=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const BV=JSe(),XSe=(e,t)=>(t&&t(e.tr.setSelection(new Jr(e.doc))),!0);function QSe(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,i=t.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(s.isTextblock||NV(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function HV(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,i,o;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(QSe(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(i=(o=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&o.matchType(i[0]||s.type).validEnd){if(n){let d=t.pos+s.nodeSize,f=de.empty;for(let _=i.length-1;_>=0;_--)f=de.from(i[_].create(null,f));f=de.from(r.copy(f));let h=e.tr.step(new Kr(t.pos-1,d,t.pos,d,new Re(f,1,0),i.length,!0)),p=d+2*i.length;NV(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let c=ct.findFrom(t,1),l=c&&c.$from.blockRange(c.$to),u=l&&L1(l);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(l,u).scrollIntoView()),!0;if(a&&ed(s,"start",!0)&&ed(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=s,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let _=de.empty;for(let v=f.length-1;v>=0;v--)_=de.from(f[v].copy(_));let m=e.tr.step(new Kr(t.pos-f.length,t.pos+s.nodeSize,t.pos+p,t.pos+s.nodeSize-p,new Re(_,f.length,0),0,!0));n(m.scrollIntoView())}return!0}}return!1}function $V(e){return function(t,n){let r=t.selection,s=e<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(t.tr.setSelection(ht.create(t.doc,e<0?s.start(i):s.end(i)))),!0):!1}}const ZSe=$V(-1),eTe=$V(1);function UYe(e,t=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&_Se(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function FYe(e,t=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(o,a,(c,l)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)s=!0;else{let u=n.doc.resolve(l),d=u.index();s=u.parent.canReplaceWith(d,d+1,e)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];i.setBlockType(a,c,e,t)}r(i.scrollIntoView())}return!0}}function tTe(e,t,n){for(let r=0;r<t.length;r++){let{$from:s,$to:i}=t[r],o=s.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(s.pos,i.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(n)}),o)return!0}return!1}function GYe(e,t=null){return function(n,r){let{empty:s,$cursor:i,ranges:o}=n.selection;if(s&&!i||!tTe(n.doc,o,e))return!1;if(r)if(i)e.isInSet(n.storedMarks||i.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let a=!1,c=n.tr;for(let l=0;!a&&l<o.length;l++){let{$from:u,$to:d}=o[l];a=n.doc.rangeHasMark(u.pos,d.pos,e)}for(let l=0;l<o.length;l++){let{$from:u,$to:d}=o[l];if(a)c.removeMark(u.pos,d.pos,e);else{let f=u.pos,h=d.pos,p=u.nodeAfter,_=d.nodeBefore,m=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,v=_&&_.isText?/\s*$/.exec(_.text)[0].length:0;f+m<h&&(f+=m,h-=v),c.addMark(f,h,e.create(t))}}r(c.scrollIntoView())}return!0}}function LE(...e){return function(t,n,r){for(let s=0;s<e.length;s++)if(e[s](t,n,r))return!0;return!1}}let qO=LE(DV,F1,WSe),M3=LE(DV,VSe,zSe);const Qi={Enter:LE(YSe,GV,jV,BV),"Mod-Enter":KSe,Backspace:qO,"Mod-Backspace":qO,"Shift-Backspace":qO,Delete:M3,"Mod-Delete":M3,"Mod-a":XSe},WV={"Ctrl-h":Qi.Backspace,"Alt-Backspace":Qi["Mod-Backspace"],"Ctrl-d":Qi.Delete,"Ctrl-Alt-Backspace":Qi["Mod-Delete"],"Alt-Delete":Qi["Mod-Delete"],"Alt-d":Qi["Mod-Delete"],"Ctrl-a":ZSe,"Ctrl-e":eTe};for(let e in Qi)WV[e]=Qi[e];const nTe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,VO=nTe?WV:Qi;function qV(e){var t,n,r;if(e.childCount===0)return!0;if(e.childCount===1&&((t=e.firstChild)!=null&&t.isTextblock)){const s=e.firstChild.content;if(s.size===0)return!0;if(s.childCount===1&&((n=s.firstChild)!=null&&n.isText))return/^\s*$/.test((r=s.firstChild.text)!=null?r:"")}return!1}function rTe(e){let t="",n=!1;const r=[];function s(i){if(n=!1,i.type.name==="paragraph")return i.descendants(o=>s(o)),t+="\n",n=!0,!1;if(i.marks.find(o=>o.type===Pg.marks.ecosystemMentionMark))return r.push({symbol:GN.EcosystemMention,startIndex:t.length,endIndex:t.length+i.textContent.length}),t+=i.textContent,!1;if(i.type.name==="command_token"){const o=sTe(i.textContent);return r.push({symbol:GN.SystemHint,startIndex:t.length,endIndex:t.length+o.length}),t+=o,!1}else{if(i.type.name==="template_variable")return t+=i.attrs.value||i.attrs.key,!1;i.isText&&i.text!==void 0&&(t+=i.text)}}return e.descendants(i=>s(i)),n&&t.endsWith("\n")&&(t=t.slice(0,-1)),{content:t,metadata:{custom_symbol_offsets:r}}}function sTe(e){return e.replace(new RegExp("[\\u{E0000}-\\u{E007F}]+","gu"),"")}const j1=LE(GV,jV,BV);function jYe(e,t){const{schema:n}=e.state,r=t.split(/\r?\n/),s=de.fromArray(r.map(i=>i===""?n.nodes.paragraph.create():n.nodes.paragraph.create(null,n.text(i))));e.dispatch(e.state.tr.replaceWith(0,e.state.doc.content.size,s)),e.hasFocus()&&e.dispatch(e.state.tr.setSelection(ht.atEnd(e.state.doc)).scrollIntoView())}function BYe(e){e.hasFocus()?e.dispatch(e.state.tr.scrollIntoView()):(e.focus(),e.dispatch(e.state.tr.setSelection(ht.atEnd(e.state.doc)).scrollIntoView()))}function HYe(e){return iTe(e,0,e.state.doc.content.size)}function iTe(e,t,n){e.dispatch(e.state.tr.delete(t,n))}function $Ye(e,t){VV(e,t,!1,!1)}function WYe(e,t){e.dispatch(e.state.tr.setSelection(ht.create(e.state.doc,0))),j1(e.state,e.dispatch),e.dispatch(e.state.tr.insertText(t,0))}function VV(e,t,n=!1,r=!0){if(n){aTe(e,t);return}const{schema:s}=e.state,i=t.split("\n");if(r&&e.dispatch(e.state.tr.deleteSelection()),e.dispatch(e.state.tr.insertText(i[0])),i.length>1){j1(e.state,e.dispatch);const o=i.slice(1),a=de.fromArray(o.map(l=>s.nodes.paragraph.create(null,l===""?null:s.text(l)))),c=new Re(a,0,0);e.dispatch(e.state.tr.replaceSelection(c)),F1(e.state,e.dispatch,e)}}const oTe=/oaicite:(\d+)/g;function aTe(e,t){const{schema:n}=e.state,r=t.split("\n");e.dispatch(e.state.tr.deleteSelection());const{tr:s}=e.state,{$from:i}=s.selection;i.parent.isTextblock||(s.insert(i.pos,n.nodes.paragraph.create()),e.dispatch(s),e.focus());const{selection:o}=e.state,{$from:a}=o,c=r[0],l=k3(c,n,e),u=de.fromArray(l);let d=u;a.parent.type.validContent(u)||(d=n.nodes.paragraph.create(null,u));const f=new Re(de.from(d),0,0);if(e.dispatch(e.state.tr.replaceSelection(f)),r.length>1){j1(e.state,e.dispatch);const p=r.slice(1).map(v=>{const E=k3(v,n,e);return n.nodes.paragraph.create(null,E)}),_=de.fromArray(p),m=new Re(_,0,0);e.dispatch(e.state.tr.replaceSelection(m)),F1(e.state,e.dispatch,e)}}function k3(e,t,n){const r=[];let s=0,i;if(!!!kV.get(n.state))return[t.text(e)];for(;(i=oTe.exec(e))!=null;){if(i.index>s){const l=e.slice(s,i.index);r.push(t.text(l))}const a=i[1],c=cTe(a,t);r.push(c),s=i.index+i[0].length}if(s<e.length){const a=e.slice(s);r.push(t.text(a))}return r}function cTe(e,t){const n=Lye({value:"oaicite:"+e},t);if(n==null)throw new Error("Failed to create text node for content reference");const r={index:e,displayLayout:"inline"},s=de.fromArray([n]);return t.nodes.contentReference.create(r,s)}const qYe=()=>Pe("223382091");function VYe(e,t){const r=e.state.tr;let s=0;return r.doc.descendants((i,o)=>{if(i.isText&&i.text){if(typeof t=="string"&&i.text.startsWith(t))s=t.length;else if(t instanceof RegExp){const a=i.text.match(t);(a==null?void 0:a.index)===0&&(s=a[0].length)}if(s){const a=i.text.substring(s).trimStart();s=i.text.length-a.length,r.delete(o,o+s)}}return!i.isLeaf}),s>0?(e.dispatch(r),!0):!1}function zYe(e,t,n){const s=e.state.tr,i=[];s.doc.descendants((o,a)=>{!o.isText||o.text===void 0||i.push({node:o,pos:a})}),i.reverse(),i.forEach(({node:o,pos:a})=>{!o.isText||o.text===void 0||o.text.includes(t)&&s.insertText(o.text.replaceAll(t,n),a,a+o.text.length)}),e.dispatch(s)}const zV=new bs("transactionEventPlugin"),NI="prosemirrorDispatchTransaction";function YV(e,t){const{eventTarget:n}=zV.getState(e.state);return n.addEventListener(NI,t),()=>{n.removeEventListener(NI,t)}}function lTe(e){return new ss({key:zV,state:{init(){return{eventTarget:e}},apply(t,n){return n}}})}function uTe(e,t){let n=!1;return Sv(()=>n=!t()&&(n||e()))}var zO,L3;function dTe(){if(L3)return zO;L3=1;var e=oi(),t=function(){return e.Date.now()};return zO=t,zO}var YO,D3;function KV(){if(D3)return YO;D3=1;var e=ai(),t=dTe(),n=E9(),r="Expected a function",s=Math.max,i=Math.min;function o(a,c,l){var u,d,f,h,p,_,m=0,v=!1,E=!1,b=!0;if(typeof a!="function")throw new TypeError(r);c=n(c)||0,e(l)&&(v=!!l.leading,E="maxWait"in l,f=E?s(n(l.maxWait)||0,c):f,b="trailing"in l?!!l.trailing:b);function C(D){var L=u,G=d;return u=d=void 0,m=D,h=a.apply(G,L),h}function y(D){return m=D,p=setTimeout(N,c),v?C(D):h}function O(D){var L=D-_,G=D-m,K=c-L;return E?i(K,f-G):K}function A(D){var L=D-_,G=D-m;return _===void 0||L>=c||L<0||E&&G>=f}function N(){var D=t();if(A(D))return I(D);p=setTimeout(N,O(D))}function I(D){return p=void 0,b&&u?C(D):(u=d=void 0,h)}function w(){p!==void 0&&clearTimeout(p),m=0,u=_=d=p=void 0}function M(){return p===void 0?h:I(t())}function k(){var D=t(),L=A(D);if(u=arguments,d=this,_=D,L){if(p===void 0)return y(_);if(E)return clearTimeout(p),p=setTimeout(N,c),C(_)}return p===void 0&&(p=setTimeout(N,c)),h}return k.cancel=w,k.flush=M,k}return YO=o,YO}var fTe=KV();const hTe=jt(fTe);var KO,U3;function pTe(){if(U3)return KO;U3=1;var e=KV(),t=ai(),n="Expected a function";function r(s,i,o){var a=!0,c=!0;if(typeof s!="function")throw new TypeError(n);return t(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),e(s,i,{leading:a,maxWait:i,trailing:c})}return KO=r,KO}var _Te=pTe();const JV=jt(_Te),gm=new bs("contextConnectorPaste");function mTe(){return new ss({key:gm,state:{init:()=>({}),apply(e,t){const n=e.getMeta(gm);return n!=null?n:t}},props:{transformPasted(e,t){var r;const n=(r=gm.getState(t.state))==null?void 0:r.transformPasted;return n?n(e,t):e}}})}function YYe(e,t){e.dispatch(e.state.tr.setMeta(gm,t))}const gTe=10,vTe=4,XV={duration:20,hasCloseButton:!0},ETe=512,KYe=ETe*1024*1024,et="/cdn/assets/sprites-external-d1g0p773.svg",CTe=Ee(et,"057430",24,24),yTe=Ee(et,"165b4c",24,24),STe=Ee(et,"629568",24,24),TTe="application/vnd.google-apps.spreadsheet",OTe="application/vnd.google-apps.presentation",bTe="application/vnd.google-apps.document",ATe=["xlsx","pptx","docx","page","issue"],NTe={[TTe]:"xlsx",[OTe]:"pptx",[bTe]:"docx"};function JYe(e){var t;return e&&(t=NTe[e.split(";")[0]])!=null?t:null}function ITe(e){return ATe.includes(e)}function PTe(e){return e&&ITe(e)?e:null}var yn=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e[e.Codex=6]="Codex",e))(yn||{});function XYe(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:PTe(e.synthetic_extension),type:e.type}}var Zi=(e=>(e.Uploading="uploading",e.Ready="ready",e))(Zi||{});function QV(e){return e===yn.Multimodal?vTe:gTe}function ZV(e,t){return t==null?e:Math.max(0,Math.min(e,t))}function wTe(){"use forget";var t;const e=Ace(RTe);return(t=e==null?void 0:e.remaining)!=null?t:null}function RTe(e){return e.feature_name===Nr.FILE_UPLOAD}function xTe(){var n;const{limitsProgress:e}=zr.getState(),t=e.find(r=>r.feature_name===Nr.FILE_UPLOAD);return(n=t==null?void 0:t.remaining)!=null?n:null}function MTe(){var n;const{limitsProgress:e}=zr.getState(),t=e.find(r=>r.feature_name===Nr.PASTE_TEXT_TO_FILE);return(n=t==null?void 0:t.remaining)!=null?n:null}function kTe(e){"use forget";const t=j.c(9),n=wTe();let r,s,i;if(t[0]!==n||t[1]!==e){const a=QV(e);r=a,s=n,i=ZV(a,n),t[0]=n,t[1]=e,t[2]=r,t[3]=s,t[4]=i}else r=t[2],s=t[3],i=t[4];let o;return t[5]!==r||t[6]!==s||t[7]!==i?(o={baseLimit:r,remaining:s,maxUploads:i},t[5]=r,t[6]=s,t[7]=i,t[8]=o):o=t[8],o}function LTe(e){const t=xTe(),n=QV(e);return{baseLimit:n,remaining:t,maxUploads:ZV(n,t)}}function QYe(e){"use forget";return kTe(e).maxUploads}function DTe(e){return LTe(e).maxUploads}const e8={shift:!1,ctrl:!1,meta:!1},II=zn(()=>e8),UTe=II.getState;function FTe(){const e=ze();return e&&at()?e.planType===se.FREE?jM("1535340810"):jM("4147197039"):null}const GTe=5e3;function jTe(){const e=MTe();if(e!=null&&e<=0)return!1;const{blockedFeatures:t}=zr.getState(),n=t.find(({name:r})=>r===Nr.FILE_UPLOAD);return!(n&&ki(n))}function BTe(e){var i;if(UTe().shift||!e||e.length<GTe||!jTe())return!1;const n=FTe(),r=(i=n==null?void 0:n.get("paste_threshold",0))!=null?i:0;return r>0?e.length>=r:!1}async function ZYe(e){const t=await ne(()=>import("./d7dabe88-d8jpeb93swb415oo.js"),__vite__mapDeps([16,2,1,3,17]));await new Promise(r=>setTimeout(r,0));const n=t.getFileTypeGuess(e);return await new Promise(r=>setTimeout(r,0)),n}var Ta={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},HTe=typeof navigator<"u"&&/Mac/.test(navigator.platform),$Te=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var $n=0;$n<10;$n++)Ta[48+$n]=Ta[96+$n]=String($n);for(var $n=1;$n<=24;$n++)Ta[$n+111]="F"+$n;for(var $n=65;$n<=90;$n++)Ta[$n]=String.fromCharCode($n+32),wg[$n]=String.fromCharCode($n);for(var JO in Ta)wg.hasOwnProperty(JO)||(wg[JO]=Ta[JO]);function WTe(e){var t=HTe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||$Te&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?wg:Ta)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const qTe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function VTe(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<t.length-1;a++){let c=t[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))qTe?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function zTe(e){let t=Object.create(null);for(let n in e)t[VTe(n)]=e[n];return t}function XO(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function YTe(e){return new ss({props:{handleKeyDown:t8(e)}})}function t8(e){let t=zTe(e);return function(n,r){let s=WTe(r),i,o=t[XO(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=t[XO(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=Ta[r.keyCode])&&i!=s){let a=t[XO(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Wn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Ch=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let PI=null;const Ki=function(e,t,n){let r=PI||(PI=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},KTe=function(){PI=null},Zc=function(e,t,n,r){return n&&(F3(e,t,n,r,-1)||F3(e,t,n,r,1))},JTe=/^(img|br|input|textarea|hr)$/i;function F3(e,t,n,r,s){for(;;){if(e==n&&t==r)return!0;if(t==(s<0?0:Ei(e))){let i=e.parentNode;if(!i||i.nodeType!=1||Mp(e)||JTe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Wn(e)+(s<0?0:1),e=i}else if(e.nodeType==1){if(e=e.childNodes[t+(s<0?-1:0)],e.contentEditable=="false")return!1;t=s<0?Ei(e):0}else return!1}}function Ei(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function XTe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ei(e)}else if(e.parentNode&&!Mp(e))t=Wn(e),e=e.parentNode;else return null}}function QTe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Mp(e))t=Wn(e)+1,e=e.parentNode;else return null}}function ZTe(e,t,n){for(let r=t==0,s=t==Ei(e);r||s;){if(e==n)return!0;let i=Wn(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,s=s&&i==Ei(e)}}function Mp(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const DE=function(e){return e.focusNode&&Zc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function fc(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function eOe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function tOe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Di=typeof navigator<"u"?navigator:null,G3=typeof document<"u"?document:null,ja=Di&&Di.userAgent||"",wI=/Edge\/(\d+)/.exec(ja),n8=/MSIE \d/.exec(ja),RI=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ja),Ir=!!(n8||RI||wI),da=n8?document.documentMode:RI?+RI[1]:wI?+wI[1]:0,Qs=!Ir&&/gecko\/(\d+)/i.test(ja);Qs&&+(/Firefox\/(\d+)/.exec(ja)||[0,0])[1];const xI=!Ir&&/Chrome\/(\d+)/.exec(ja),tr=!!xI,r8=xI?+xI[1]:0,pr=!Ir&&!!Di&&/Apple Computer/.test(Di.vendor),td=pr&&(/Mobile\/\w+/.test(ja)||!!Di&&Di.maxTouchPoints>2),ps=td||(Di?/Mac/.test(Di.platform):!1),nOe=Di?/Win/.test(Di.platform):!1,Us=/Android \d/.test(ja),kp=!!G3&&"webkitFontSmoothing"in G3.documentElement.style,rOe=kp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function sOe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function zi(e,t){return typeof e=="number"?e:e[t]}function iOe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function j3(e,t,n){let r=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let o=n||e.dom;o;o=Ch(o)){if(o.nodeType!=1)continue;let a=o,c=a==i.body,l=c?sOe(i):iOe(a),u=0,d=0;if(t.top<l.top+zi(r,"top")?d=-(l.top-t.top+zi(s,"top")):t.bottom>l.bottom-zi(r,"bottom")&&(d=t.bottom-t.top>l.bottom-l.top?t.top+zi(s,"top")-l.top:t.bottom-l.bottom+zi(s,"bottom")),t.left<l.left+zi(r,"left")?u=-(l.left-t.left+zi(s,"left")):t.right>l.right-zi(r,"right")&&(u=t.right-l.right+zi(s,"right")),u||d)if(c)i.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,_=a.scrollTop-h;t={left:t.left-p,top:t.top-_,right:t.right-p,bottom:t.bottom-_}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function oOe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,s;for(let i=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(i,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=n-20){r=a,s=c.top;break}}return{refDOM:r,refTop:s,stack:s8(e.dom)}}function s8(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Ch(r));return t}function aOe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;i8(n,r==0?0:r-t)}function i8(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:s,left:i}=e[n];r.scrollTop!=s+t&&(r.scrollTop=s+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let jl=null;function cOe(e){if(e.setActive)return e.setActive();if(jl)return e.focus(jl);let t=s8(e);e.focus(jl==null?{get preventScroll(){return jl={preventScroll:!0},!0}}:void 0),jl||(jl=!1,i8(t,0))}function o8(e,t){let n,r=2e8,s,i=0,o=t.top,a=t.top,c,l;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Ki(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let _=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(_<r){n=u,r=_,s=_&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&_&&(i=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!c&&p.left<=t.left&&p.right>=t.left&&(c=u,l={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=d+1)}}return!n&&c&&(n=c,s=l,r=0),n&&n.nodeType==3?lOe(n,s):!n||r&&n.nodeType==1?{node:e,offset:i}:o8(n,s)}function lOe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let i=Bo(r,1);if(i.top!=i.bottom&&B1(t,i))return{node:e,offset:s+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function B1(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function uOe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function dOe(e,t,n){let{node:r,offset:s}=o8(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,s,i)}function fOe(e,t,n,r){let s=-1;for(let i=t,o=!1;i!=e.dom;){let a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let c=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&c.left>r.left||c.top>r.top?s=a.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText)return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function a8(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=e.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let l=a[c];if(B1(t,l))return a8(o,t,l)}}if((i=(i+1)%r)==s)break}return e}function hOe(e,t){let n=e.dom.ownerDocument,r,s=0,i=tOe(n,t.left,t.top);i&&({node:r,offset:s}=i);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=e.dom.getBoundingClientRect();if(!B1(t,l)||(o=a8(e.dom,t,l),!o))return null}if(pr)for(let l=o;r&&l;l=Ch(l))l.draggable&&(r=void 0);if(o=uOe(o,t),r){if(Qs&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&s++}let l;kp&&s&&r.nodeType==1&&(l=r.childNodes[s-1]).nodeType==1&&l.contentEditable=="false"&&l.getBoundingClientRect().top>=t.top&&s--,r==e.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=fOe(e,r,s,t))}a==null&&(a=dOe(e,o,t));let c=e.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function B3(e){return e.top<e.bottom||e.left<e.right}function Bo(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(B3(r))return r}return Array.prototype.find.call(n,B3)||e.getBoundingClientRect()}const pOe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function c8(e,t,n){let{node:r,offset:s,atom:i}=e.docView.domFromPos(t,n<0?-1:1),o=kp||Qs;if(r.nodeType==3)if(o&&(pOe.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let c=Bo(Ki(r,s,s),n);if(Qs&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let l=Bo(Ki(r,s-1,s-1),-1);if(l.top==c.top){let u=Bo(Ki(r,s,s+1),-1);if(u.top!=c.top)return Jd(u,u.left<l.left)}}return c}else{let c=s,l=s,u=n<0?1:-1;return n<0&&!s?(l++,u=-1):n>=0&&s==r.nodeValue.length?(c--,u=1):n<0?c--:l++,Jd(Bo(Ki(r,c,l),u),u<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Ei(r))){let c=r.childNodes[s-1];if(c.nodeType==1)return QO(c.getBoundingClientRect(),!1)}if(i==null&&s<Ei(r)){let c=r.childNodes[s];if(c.nodeType==1)return QO(c.getBoundingClientRect(),!0)}return QO(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Ei(r))){let c=r.childNodes[s-1],l=c.nodeType==3?Ki(c,Ei(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(l)return Jd(Bo(l,1),!1)}if(i==null&&s<Ei(r)){let c=r.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let l=c?c.nodeType==3?Ki(c,0,o?0:1):c.nodeType==1?c:null:null;if(l)return Jd(Bo(l,-1),!0)}return Jd(Bo(r.nodeType==3?Ki(r):r,-n),n>=0)}function Jd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function QO(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function l8(e,t,n){let r=e.state,s=e.root.activeElement;r!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),s!=e.dom&&s&&s.focus()}}function _Oe(e,t,n){let r=t.selection,s=n=="up"?r.$from:r.$to;return l8(e,t,()=>{let{node:i}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=c8(e,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=Ki(a,0,a.nodeValue.length).getClientRects();else continue;for(let l=0;l<c.length;l++){let u=c[l];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const mOe=/[\u0590-\u08ac]/;function gOe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=e.domSelection();return!mOe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:o:l8(e,t,()=>{let{focusNode:c,focusOffset:l,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:_}=e.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||c==p&&l==_;try{a.collapse(u,d),c&&(c!=u||l!=d)&&a.extend&&a.extend(c,l)}catch(v){}return f!=null&&(a.caretBidiLevel=f),m})}let H3=null,$3=null,W3=!1;function vOe(e,t,n){return H3==t&&$3==n?W3:(H3=t,$3=n,W3=n=="up"||n=="down"?_Oe(e,t,n):gOe(e,t,n))}const ys=0,q3=1,mc=2,Ui=3;class Lp{constructor(t,n,r,s){this.parent=t,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=ys,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==t)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>Wn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return(s==null?r>0:s)?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,s=t;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let s=t;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==t&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(t<i)return s.descAt(t-r-s.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>t||o instanceof d8){s=t-i;break}i=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof u8&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Wn(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Wn(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,a=0;;a++){let c=this.children[a],l=o+c.size;if(s==-1&&t<=l){let u=o+c.border;if(t>=u&&n<=l-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,u);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=Wn(f.dom)+1;break}t-=f.size}s==-1&&(s=0)}if(s>-1&&(l>n||a==this.children.length-1)){n=l;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Wn(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,s=!1){let i=Math.min(t,n),o=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],_=h+p.size;if(i>h&&o<_)return p.setSelection(t-h-p.border,n-h-p.border,r,s);h=_}let a=this.domFromPos(t,t?-1:1),c=n==t?a:this.domFromPos(n,n?-1:1),l=r.getSelection(),u=!1;if((Qs||pr)&&t==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]=="\n"),u&&h==f.nodeValue.length)for(let p=f,_;p;p=p.parentNode){if(_=p.nextSibling){_.nodeName=="BR"&&(a=c={node:_.parentNode,offset:Wn(_)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Qs&&l.focusNode&&l.focusNode!=c.node&&l.focusNode.nodeType==1){let f=l.focusNode.childNodes[l.focusOffset];f&&f.contentEditable=="false"&&(s=!0)}if(!(s||u&&pr)&&Zc(a.node,a.offset,l.anchorNode,l.anchorOffset)&&Zc(c.node,c.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||t==n)&&!u){l.collapse(a.node,a.offset);try{t!=n&&l.extend(c.node,c.offset),d=!0}catch(f){}}if(!d){if(t>n){let h=a;a=c,c=h}let f=document.createRange();f.setEnd(c.node,c.offset),f.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+i.border,c=o-i.border;if(t>=a&&n<=c){this.dirty=t==r||n==o?mc:q3,t==a&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Ui:i.markDirty(t-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?mc:Ui}r=o}this.dirty=mc}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?mc:q3;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class u8 extends Lp{constructor(t,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==ys&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class EOe extends Lp{constructor(t,n,r,s){super(t,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class el extends Lp{constructor(t,n,r,s){super(t,[],r,s),this.mark=n}static create(t,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=Id.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new el(t,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Ui||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ui&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=ys){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ys}}slice(t,n,r){let s=el.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=LI(i,n,o,r)),t>0&&(i=LI(i,0,t,r));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}}class fa extends Lp{constructor(t,n,r,s,i,o,a,c,l){super(t,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(t,n,r,s,i,o){let a=i.nodeViews[n.type.name],c,l=a&&a(n,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,s),u=l&&l.dom,d=l&&l.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Id.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=p8(u,r,n),l?c=new COe(t,n,r,s,u,d||null,f,l,i,o+1):n.isText?new UE(t,n,r,s,u,f,i):new fa(t,n,r,s,u,d||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>de.empty)}return t}matchesNode(t,n,r){return this.dirty==ys&&t.eq(this.node)&&kI(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,s=n,i=t.composing?this.localCompositionInfo(t,n):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,c=new SOe(this,o&&o.node,t);bOe(this.node,this.innerDeco,(l,u,d)=>{l.spec.marks?c.syncToMarks(l.spec.marks,r,t):l.type.side>=0&&!d&&c.syncToMarks(u==this.node.childCount?yt.none:this.node.child(u).marks,r,t),c.placeWidget(l,t,s)},(l,u,d,f)=>{c.syncToMarks(l.marks,r,t);let h;c.findNodeMatch(l,u,d,f)||a&&t.state.selection.from>s&&t.state.selection.to<s+l.nodeSize&&(h=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(l,u,d,h,t)||c.updateNextNode(l,u,d,t,f,s)||c.addNode(l,u,d,t,s),s+=l.nodeSize}),c.syncToMarks([],r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==mc)&&(o&&this.protectLocalComposition(t,o),f8(this.contentDOM,this.children,t),td&&AOe(this.dom))}localCompositionInfo(t,n){let{from:r,to:s}=t.state.selection;if(!(t.state.selection instanceof ht)||r<n||s>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=NOe(this.node.content,o,r-n,s-n);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new EOe(this,i,n,s);t.input.compositionNodes.push(o),this.children=LI(this.children,r,r+s.length,t,o)}update(t,n,r,s){return this.dirty==Ui||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,s),!0)}updateInner(t,n,r,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ys}updateOuterDeco(t){if(kI(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=h8(this.dom,this.nodeDOM,MI(this.outerDeco,this.node,n),MI(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function V3(e,t,n,r,s){p8(r,t,e);let i=new fa(void 0,e,t,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class UE extends fa{constructor(t,n,r,s,i,o,a){super(t,n,r,s,i,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,s){return this.dirty==Ui||this.dirty!=ys&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ys||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=ys,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let s=this.node.cut(t,n),i=document.createTextNode(s.text);return new UE(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ui)}get domAtom(){return!1}isText(t){return this.node.text==t}}class d8 extends Lp{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ys&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class COe extends fa{constructor(t,n,r,s,i,o,a,c,l,u){super(t,n,r,s,i,o,a,l,u),this.spec=c}update(t,n,r,s){if(this.dirty==Ui)return!1;if(this.spec.update){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,s),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,s){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function f8(e,t,n){let r=e.firstChild,s=!1;for(let i=0;i<t.length;i++){let o=t[i],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=z3(r),s=!0;r=r.nextSibling}else s=!0,e.insertBefore(a,r);if(o instanceof el){let c=r?r.previousSibling:e.lastChild;f8(o.contentDOM,o.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=z3(r),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const jf=function(e){e&&(this.nodeName=e)};jf.prototype=Object.create(null);const gc=[new jf];function MI(e,t,n){if(e.length==0)return gc;let r=n?gc[0]:new jf,s=[r];for(let i=0;i<e.length;i++){let o=e[i].type.attrs;if(o){o.nodeName&&s.push(r=new jf(o.nodeName));for(let a in o){let c=o[a];c!=null&&(n&&s.length==1&&s.push(r=new jf(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return s}function h8(e,t,n,r){if(n==gc&&r==gc)return t;let s=t;for(let i=0;i<r.length;i++){let o=r[i],a=n[i];if(i){let c;a&&a.nodeName==o.nodeName&&s!=e&&(c=s.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(s),a=gc[0]),s=c}yOe(s,a||gc[0],o)}return s}function yOe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&e.classList.add(s[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function p8(e,t,n){return h8(e,e,gc,MI(t,n,e.nodeType!=1))}function kI(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function z3(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class SOe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=TOe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=ys,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let l=this.top.children[c];if(l.matchesMark(t[i])&&!this.isLocked(l.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=el.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let l=this.top.children[a];if(l.matchesNode(t,n,r)&&!this.preMatch.matched.has(l)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,s,i){let o=this.top.children[s];return o.dirty==Ui&&o.dom==o.contentDOM&&(o.dirty=mc),o.update(t,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}t=n}}updateNextNode(t,n,r,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof fa){let l=this.preMatch.matched.get(c);if(l!=null&&l!=i)return!1;let u=c.dom,d,f=this.isLocked(u)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=Ui&&kI(n,c.outerDeco));if(!f&&c.update(t,n,r,s))return this.destroyBetween(this.index,a),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(c,t,n,r,s,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=mc,d.updateChildren(s,o+1),d.dirty=ys),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,s,i,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=fa.create(this.top,n,r,s,i,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let c of a.children)c.parent=a}return t.destroy(),a}addNode(t,n,r,s,i){let o=fa.create(this.top,t,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new u8(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof el;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof UE)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((pr||tr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new d8(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function TOe(e,t){let n=t,r=n.children.length,s=e.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let l=n.children[r-1];if(l instanceof el)n=l,r=l.children.length;else{a=l,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=e.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function OOe(e,t){return e.type.side-t.type.side}function bOe(e,t,n,r){let s=t.locals(e),i=0;if(s.length==0){for(let l=0;l<e.childCount;l++){let u=e.child(l);r(u,s,t.forChild(i,u),l),i+=u.nodeSize}return}let o=0,a=[],c=null;for(let l=0;;){let u,d;for(;o<s.length&&s[o].to==i;){let m=s[o++];m.widget&&(u?(d||(d=[u])).push(m):u=m)}if(u)if(d){d.sort(OOe);for(let m=0;m<d.length;m++)n(d[m],l,!!c)}else n(u,l,!!c);let f,h;if(c)h=-1,f=c,c=null;else if(l<e.childCount)h=l,f=e.child(l++);else break;for(let m=0;m<a.length;m++)a[m].to<=i&&a.splice(m--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let p=i+f.nodeSize;if(f.isText){let m=p;o<s.length&&s[o].from<m&&(m=s[o].from);for(let v=0;v<a.length;v++)a[v].to<m&&(m=a[v].to);m<p&&(c=f.cut(m-i),f=f.cut(0,m-i),p=m,h=-1)}else for(;o<s.length&&s[o].to<p;)o++;let _=f.isInline&&!f.isLeaf?a.filter(m=>!m.inline):a.slice();r(f,_,t.forChild(i,f),h),i=p}}function AOe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function NOe(e,t,n,r){for(let s=0,i=0;s<e.childCount&&i<=r;){let o=e.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;s<e.childCount;){let l=e.child(s++);if(i+=l.nodeSize,!l.isText)break;c+=l.text}if(i>=n){if(i>=r&&c.slice(r-t.length-a,r-a)==t)return r-t.length;let l=a<r?c.lastIndexOf(t,r-a-1):-1;if(l>=0&&l+t.length+a>=n)return a+l;if(n==r&&c.length>=r+t.length-a&&c.slice(r-a,r-a+t.length)==t)return r}}return-1}function LI(e,t,n,r,s){let i=[];for(let o=0,a=0;o<e.length;o++){let c=e[o],l=a,u=a+=c.size;l>=n||u<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,r)),s&&(i.push(s),s=void 0),u>n&&i.push(c.slice(n-l,c.size,r)))}return i}function H1(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),c,l;if(DE(n)){for(c=a;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&Ze.isSelectable(u)&&s.parent&&!(u.isInline&&ZTe(n.focusNode,n.focusOffset,s.dom))){let d=s.posBefore;l=new Ze(o==d?a:r.resolve(d))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;c=r.resolve(u)}if(!l){let u=t=="pointer"||e.state.selection.head<a.pos&&!i?1:-1;l=$1(e,c,a,u)}return l}function _8(e){return e.editable?e.hasFocus():g8(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function lo(e,t=!1){let n=e.state.selection;if(m8(e,n),!!_8(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&tr){let r=e.domSelectionRange(),s=e.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Zc(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)POe(e);else{let{anchor:r,head:s}=n,i,o;Y3&&!(n instanceof ht)&&(n.$from.parent.inlineContent||(i=K3(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=K3(e,n.to))),e.docView.setSelection(r,s,e.root,t),Y3&&(i&&J3(i),o&&J3(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&IOe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Y3=pr||tr&&r8<63;function K3(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(pr&&s&&s.contentEditable=="false")return ZO(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return ZO(s);if(i)return ZO(i)}}function ZO(e){return e.contentEditable="true",pr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function J3(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function IOe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!_8(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function POe(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setEnd(r.parentNode,Wn(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!s&&!e.state.selection.visible&&Ir&&da<=11&&(r.disabled=!0,r.disabled=!1)}function m8(e,t){if(t instanceof Ze){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(X3(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else X3(e)}function X3(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function $1(e,t,n,r){return e.someProp("createSelectionBetween",s=>s(e,t,n))||ht.between(t,n,r)}function Q3(e){return e.editable&&!e.hasFocus()?!1:g8(e)}function g8(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function wOe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Zc(t.node,t.offset,n.anchorNode,n.anchorOffset)}function DI(e,t){let{$anchor:n,$head:r}=e.selection,s=t>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return i&&ct.findFrom(i,t)}function Vo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Z3(e,t,n){let r=e.state.selection;if(r instanceof ht)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=e.state.doc.resolve(s.pos+i.nodeSize*(t<0?-1:1));return Vo(e,new ht(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=DI(e.state,t);return s&&s instanceof Ze?Vo(e,s):!1}else if(!(ps&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=t<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?Ze.isSelectable(i)?Vo(e,new Ze(t<0?e.state.doc.resolve(s.pos-i.nodeSize):s)):kp?Vo(e,new ht(e.state.doc.resolve(t<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ze&&r.node.isInline)return Vo(e,new ht(t>0?r.$to:r.$from));{let s=DI(e.state,t);return s?Vo(e,s):!1}}}function Rg(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Bf(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Bl(e,t){return t<0?ROe(e):xOe(e)}function ROe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s,i,o=!1;for(Qs&&n.nodeType==1&&r<Rg(n)&&Bf(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Bf(a,-1))s=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(v8(n))break;{let a=n.previousSibling;for(;a&&Bf(a,-1);)s=n.parentNode,i=Wn(a),a=a.previousSibling;if(a)n=a,r=Rg(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?UI(e,n,r):s&&UI(e,s,i)}function xOe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s=Rg(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Bf(a,1))i=n,o=++r;else break}else{if(v8(n))break;{let a=n.nextSibling;for(;a&&Bf(a,1);)i=a.parentNode,o=Wn(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=Rg(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}i&&UI(e,i,o)}function v8(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function MOe(e,t){for(;e&&t==e.childNodes.length&&!Mp(e);)t=Wn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function kOe(e,t){for(;e&&!t&&!Mp(e);)t=Wn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function UI(e,t,n){if(t.nodeType!=3){let i,o;(o=MOe(t,n))?(t=o,n=0):(i=kOe(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(DE(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&lo(e)},50)}function eG(e,t){let n=e.state.doc.resolve(t);if(!(tr||nOe)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function tG(e,t,n){let r=e.state.selection;if(r instanceof ht&&!r.empty||n.indexOf("s")>-1||ps&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=DI(e.state,t);if(o&&o instanceof Ze)return Vo(e,o)}if(!s.parent.inlineContent){let o=t<0?s:i,a=r instanceof Jr?ct.near(o,t):ct.findFrom(o,t);return a?Vo(e,a):!1}return!1}function nG(e,t){if(!(e.state.selection instanceof ht))return!0;let{$head:n,$anchor:r,empty:s}=e.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function rG(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function LOe(e){if(!pr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;rG(e,r,"true"),setTimeout(()=>rG(e,r,"false"),20)}return!1}function DOe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function UOe(e,t){let n=t.keyCode,r=DOe(t);if(n==8||ps&&n==72&&r=="c")return nG(e,-1)||Bl(e,-1);if(n==46&&!t.shiftKey||ps&&n==68&&r=="c")return nG(e,1)||Bl(e,1);if(n==13||n==27)return!0;if(n==37||ps&&n==66&&r=="c"){let s=n==37?eG(e,e.state.selection.from)=="ltr"?-1:1:-1;return Z3(e,s,r)||Bl(e,s)}else if(n==39||ps&&n==70&&r=="c"){let s=n==39?eG(e,e.state.selection.from)=="ltr"?1:-1:1;return Z3(e,s,r)||Bl(e,s)}else{if(n==38||ps&&n==80&&r=="c")return tG(e,-1,r)||Bl(e,-1);if(n==40||ps&&n==78&&r=="c")return LOe(e)||tG(e,1,r)||Bl(e,1);if(r==(ps?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function E8(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:s,openEnd:i}=t;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=e.someProp("clipboardSerializer")||Id.fromSchema(e.state.schema),a=b8(),c=a.createElement("div");c.appendChild(o.serializeFragment(r,{document:a}));let l=c.firstChild,u,d=0;for(;l&&l.nodeType==1&&(u=O8[l.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p),d++}l=c.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice","".concat(s," ").concat(i).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n)));let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:c,text:f,slice:t}}function C8(e,t,n,r,s){let i=s.parent.type.spec.code,o,a;if(!n&&!t)return null;let c=t&&(r||i||!n);if(c){if(e.someProp("transformPastedText",f=>{t=f(t,i||r,e)}),i)return t?new Re(de.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):Re.empty;let d=e.someProp("clipboardTextParser",f=>f(t,s,r,e));if(d)a=d;else{let f=s.marks(),{schema:h}=e.state,p=Id.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(_=>{let m=o.appendChild(document.createElement("p"));_&&m.appendChild(p.serializeNode(h.text(_,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=jOe(n),kp&&BOe(o);let l=o&&o.querySelector("[data-pm-slice]"),u=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||vh.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!FOe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=HOe(sG(a,+u[1],+u[2]),u[4]);else if(a=Re.maxOpen(GOe(a.content,s),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=sG(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const FOe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function GOe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),i,o=[];if(e.forEach(a=>{if(!o)return;let c=s.findWrapping(a.type),l;if(!c)return o=null;if(l=o.length&&i.length&&S8(c,i,a,o[o.length-1],0))o[o.length-1]=l;else{o.length&&(o[o.length-1]=T8(o[o.length-1],i.length));let u=y8(a,c);o.push(u),s=s.matchType(u.type),i=c}}),o)return de.from(o)}return e}function y8(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,de.from(e));return e}function S8(e,t,n,r,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let i=S8(e,t,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==e.length-1?n.type:e[s+1]))return r.copy(r.content.append(de.from(y8(n,e,s+1))))}}function T8(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,T8(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(de.empty,!0);return e.copy(n.append(r))}function FI(e,t,n,r,s,i){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(i=0),s<r-1&&(a=FI(a,t,n,r,s+1,i)),s>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(de.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function sG(e,t,n){return t<e.openStart&&(e=new Re(FI(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Re(FI(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const O8={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let iG=null;function b8(){return iG||(iG=document.implementation.createHTMLDocument("title"))}function jOe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=b8().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),s;if((s=r&&O8[r[1].toLowerCase()])&&(e=s.map(i=>"<"+i+">").join("")+e+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=e,s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function BOe(e){let t=e.querySelectorAll(tr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function HOe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(a){return e}let{content:s,openStart:i,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let c=n.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;s=de.from(c.create(r[a+1],s)),i++,o++}return new Re(s,i,o)}const _r={},mr={},$Oe={touchstart:!0,touchmove:!0};class WOe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function qOe(e){for(let t in _r){let n=_r[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{zOe(e,r)&&!W1(e,r)&&(e.editable||!(r.type in mr))&&n(e,r)},$Oe[t]?{passive:!0}:void 0)}pr&&e.dom.addEventListener("input",()=>null),GI(e)}function ca(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function VOe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function GI(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>W1(e,r))})}function W1(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function zOe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function YOe(e,t){!W1(e,t)&&_r[t.type]&&(e.editable||!(t.type in mr))&&_r[t.type](e,t)}mr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!N8(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Us&&tr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),td&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",s=>s(e,fc(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||UOe(e,n)?n.preventDefault():ca(e,"key")};mr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};mr.keypress=(e,t)=>{let n=t;if(N8(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ps&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof ht)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",i=>i(e,r.$from.pos,r.$to.pos,s))&&e.dispatch(e.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function FE(e){return{left:e.clientX,top:e.clientY}}function KOe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function q1(e,t,n,r,s){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,a=>o>i.depth?a(e,n,i.nodeAfter,i.before(o),s,!0):a(e,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function Iu(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function JOe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Ze.isSelectable(r)?(Iu(e,new Ze(n)),!0):!1}function XOe(e,t){if(t==-1)return!1;let n=e.state.selection,r,s;n instanceof Ze&&(r=n.node);let i=e.state.doc.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(Ze.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(Iu(e,Ze.create(e.state.doc,s)),!0):!1}function QOe(e,t,n,r,s){return q1(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(s?XOe(e,n):JOe(e,n))}function ZOe(e,t,n,r){return q1(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",s=>s(e,t,r))}function ebe(e,t,n,r){return q1(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",s=>s(e,t,r))||tbe(e,n,r)}function tbe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Iu(e,ht.create(r,0,r.content.size)),!0):!1;let s=r.resolve(t);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)Iu(e,ht.create(r,a+1,a+1+o.content.size));else if(Ze.isSelectable(o))Iu(e,Ze.create(r,a));else continue;return!0}}function V1(e){return xg(e)}const A8=ps?"metaKey":"ctrlKey";_r.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=V1(e),s=Date.now(),i="singleClick";s-e.input.lastClick.time<500&&KOe(n,e.input.lastClick)&&!n[A8]&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let o=e.posAtCoords(FE(n));o&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new nbe(e,o,n,!!r)):(i=="doubleClick"?ZOe:ebe)(e,o.pos,o.inside,n)?n.preventDefault():ca(e,"pointer"))};class nbe{constructor(t,n,r,s){this.view=t,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[A8],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),o=n.inside;else{let u=t.state.doc.resolve(n.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:r.target,c=a?t.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:l}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||l instanceof Ze&&l.from<=o&&l.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Qs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ca(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>lo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(FE(t))),this.updateAllowDefault(t),this.allowDefault||!n?ca(this.view,"pointer"):QOe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||pr&&this.mightDrag&&!this.mightDrag.node.isAtom||tr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Iu(this.view,ct.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):ca(this.view,"pointer")}move(t){this.updateAllowDefault(t),ca(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}_r.touchstart=e=>{e.input.lastTouch=Date.now(),V1(e),ca(e,"pointer")};_r.touchmove=e=>{e.input.lastTouch=Date.now(),ca(e,"pointer")};_r.contextmenu=e=>V1(e);function N8(e,t){return e.composing?!0:pr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const rbe=Us?5e3:-1;mr.compositionstart=mr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),xg(e,!0),e.markCursor=null;else if(xg(e),Qs&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){e.domSelection().collapse(o,o.nodeValue.length);break}else s=o,i=-1}}e.input.composing=!0}I8(e,rbe)};mr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,I8(e,20))};function I8(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>xg(e),t))}function P8(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=ibe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function sbe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=XTe(t.focusNode,t.focusOffset),r=QTe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function ibe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function xg(e,t=!1){if(!(Us&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),P8(e),t||e.docView&&e.docView.dirty){let n=H1(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function obe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const yh=Ir&&da<15||td&&rOe<604;_r.copy=mr.cut=(e,t)=>{let n=t,r=e.state.selection,s=n.type=="cut";if(r.empty)return;let i=yh?null:n.clipboardData,o=r.content(),{dom:a,text:c}=E8(e,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",c)):obe(e,a),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function abe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function cbe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Sh(e,r.value,null,s,t):Sh(e,r.textContent,r.innerHTML,s,t)},50)}function Sh(e,t,n,r,s){let i=C8(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,s,i||Re.empty)))return!0;if(!i)return!1;let o=abe(i),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function w8(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}mr.paste=(e,t)=>{let n=t;if(e.composing&&!Us)return;let r=yh?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Sh(e,w8(r),r.getData("text/html"),s,n)?n.preventDefault():cbe(e,n)};class R8{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const x8=ps?"altKey":"ctrlKey";_r.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=e.state.selection,i=s.empty?null:e.posAtCoords(FE(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ze?s.to-1:s.to))){if(r&&r.mightDrag)o=Ze.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(o=Ze.create(e.state.doc,d.posBefore))}}let a=(o||e.state.selection).content(),{dom:c,text:l,slice:u}=E8(e,a);(!n.dataTransfer.files.length||!tr||r8>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(yh?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",yh||n.dataTransfer.setData("text/plain",l),e.dragging=new R8(u,!n[x8],o)};_r.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};mr.dragover=mr.dragenter=(e,t)=>t.preventDefault();mr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(FE(n));if(!s)return;let i=e.state.doc.resolve(s.pos),o=r&&r.slice;o?e.someProp("transformPasted",p=>{o=p(o,e)}):o=C8(e,w8(n.dataTransfer),yh?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&!n[x8]);if(e.someProp("handleDrop",p=>p(e,n,o||Re.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let c=o?ISe(e.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let l=e.state.tr;if(a){let{node:p}=r;p?p.replace(l):l.deleteSelection()}let u=l.mapping.map(c),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=l.doc;if(d?l.replaceRangeWith(u,u,o.content.firstChild):l.replaceRange(u,u,o),l.doc.eq(f))return;let h=l.doc.resolve(u);if(d&&Ze.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new Ze(h));else{let p=l.mapping.map(c);l.mapping.maps[l.mapping.maps.length-1].forEach((_,m,v,E)=>p=E),l.setSelection($1(e,h,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))};_r.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&lo(e)},20))};_r.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};_r.beforeinput=(e,t)=>{if(tr&&Us&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,fc(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in mr)_r[e]=mr[e];function Th(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Mg{constructor(t,n){this.toDOM=t,this.spec=n||xc,this.side=this.spec.side||0}map(t,n,r,s){let{pos:i,deleted:o}=t.mapResult(n.from+s,this.side<0?-1:1);return o?null:new fr(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Mg&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Th(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ha{constructor(t,n){this.attrs=t,this.spec=n||xc}map(t,n,r,s){let i=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new fr(i,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof ha&&Th(this.attrs,t.attrs)&&Th(this.spec,t.spec)}static is(t){return t.type instanceof ha}destroy(){}}class z1{constructor(t,n){this.attrs=t,this.spec=n||xc}map(t,n,r,s){let i=t.mapResult(n.from+s,1);if(i.deleted)return null;let o=t.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new fr(i.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:s}=t.content.findIndex(n.from),i;return s==n.from&&!(i=t.child(r)).isText&&s+i.nodeSize==n.to}eq(t){return this==t||t instanceof z1&&Th(this.attrs,t.attrs)&&Th(this.spec,t.spec)}destroy(){}}class fr{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new fr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new fr(t,t,new Mg(n,r))}static inline(t,n,r,s){return new fr(t,n,new ha(r,s))}static node(t,n,r,s){return new fr(t,n,new z1(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof ha}get widget(){return this.type instanceof Mg}}const eu=[],xc={};class Dt{constructor(t,n){this.local=t.length?t:eu,this.children=n.length?n:eu}static create(t,n){return n.length?kg(n,t,0,xc):Qn}find(t,n,r){let s=[];return this.findInner(t==null?0:t,n==null?1e9:n,s,0,r),s}findInner(t,n,r,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!i||i(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,s+a,i)}}map(t,n,r){return this==Qn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||xc)}mapInner(t,n,r,s,i){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(t,r,s);c&&c.type.valid(n,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?lbe(this.children,o||[],t,n,r,s,i):o?new Dt(o.sort(Mc),eu):Qn}add(t,n){return n.length?this==Qn?Dt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let s,i=0;t.forEach((a,c)=>{let l=c+r,u;if(u=k8(n,a,l)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(a,u,l+1):s.splice(i,0,c,c+a.nodeSize,kg(u,a,l+1,xc)),i+=3}});let o=M8(i?L8(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new Dt(o.length?this.local.concat(o).sort(Mc):this.local,s||this.children)}remove(t){return t.length==0||this==Qn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,a=r[i]+n,c=r[i+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<c&&(t[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let l=r[i+2].removeInner(o,a+1);l!=Qn?r[i+2]=l:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<t.length;i++)if(o=t[i])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Dt(s,r):Qn}forChild(t,n){if(this==Qn)return this;if(n.isLeaf)return Dt.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let i=t+1,o=i+n.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>i&&c.type instanceof ha){let l=Math.max(i,c.from)-i,u=Math.min(o,c.to)-i;l<u&&(s||(s=[])).push(c.copy(l,u))}}if(s){let a=new Dt(s.sort(Mc),eu);return r?new Ko([a,r]):a}return r||Qn}eq(t){if(this==t)return!0;if(!(t instanceof Dt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Y1(this.localsInner(t))}localsInner(t){if(this==Qn)return eu;if(t.inlineContent||!this.local.some(ha.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ha||n.push(this.local[r]);return n}}Dt.empty=new Dt([],[]);Dt.removeOverlap=Y1;const Qn=Dt.empty;class Ko{constructor(t){this.members=t}map(t,n){const r=this.members.map(s=>s.map(t,n,xc));return Ko.from(r)}forChild(t,n){if(n.isLeaf)return Dt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(t,n);i!=Qn&&(i instanceof Ko?r=r.concat(i.members):r.push(i))}return Ko.from(r)}eq(t){if(!(t instanceof Ko)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?Y1(r?n:n.sort(Mc)):eu}static from(t){switch(t.length){case 0:return Qn;case 1:return t[0];default:return new Ko(t.every(n=>n instanceof Dt)?t:t.reduce((n,r)=>n.concat(r instanceof Dt?r:r.members),[]))}}}function lbe(e,t,n,r,s,i,o){let a=e.slice();for(let l=0,u=i;l<n.maps.length;l++){let d=0;n.maps[l].forEach((f,h,p,_)=>{let m=_-p-(h-f);for(let v=0;v<a.length;v+=3){let E=a[v+1];if(E<0||f>E+u-d)continue;let b=a[v]+u-d;h>=b?a[v+1]=f<=b?-2:-1:f>=u&&m&&(a[v]+=m,a[v+1]+=m)}d+=m}),u=n.maps[l].map(u,-1)}let c=!1;for(let l=0;l<a.length;l+=3)if(a[l+1]<0){if(a[l+1]==-2){c=!0,a[l+1]=-1;continue}let u=n.map(e[l]+i),d=u-s;if(d<0||d>=r.content.size){c=!0;continue}let f=n.map(e[l+1]+i,-1),h=f-s,{index:p,offset:_}=r.content.findIndex(d),m=r.maybeChild(p);if(m&&_==d&&_+m.nodeSize==h){let v=a[l+2].mapInner(n,m,u+1,e[l]+i+1,o);v!=Qn?(a[l]=d,a[l+1]=h,a[l+2]=v):(a[l+1]=-2,c=!0)}else c=!0}if(c){let l=ube(a,e,t,n,s,i,o),u=kg(l,r,0,o);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Dt(t.sort(Mc),a)}function M8(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let s=e[r];n.push(new fr(s.from+t,s.to+t,s.type))}return n}function ube(e,t,n,r,s,i,o){function a(c,l){for(let u=0;u<c.local.length;u++){let d=c.local[u].map(r,s,l);d?n.push(d):o.onRemove&&o.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)a(c.children[u+2],c.children[u]+l+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&a(e[c+2],t[c]+i+1);return n}function k8(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,s=null;for(let i=0,o;i<e.length;i++)(o=e[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),e[i]=null);return s}function L8(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function kg(e,t,n,r){let s=[],i=!1;t.forEach((a,c)=>{let l=k8(e,a,c+n);if(l){i=!0;let u=kg(l,a,n+c+1,r);u!=Qn&&s.push(c,c+a.nodeSize,u)}});let o=M8(i?L8(e):e,-n).sort(Mc);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new Dt(o,s):Qn}function Mc(e,t){return e.from-t.from||e.to-t.to}function Y1(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let s=n+1;s<t.length;s++){let i=t[s];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[s]=i.copy(i.from,r.to),oG(t,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),oG(t,s,r.copy(i.from,r.to)));break}}}return t}function oG(e,t,n){for(;t<e.length&&Mc(n,e[t])>0;)t++;e.splice(t,0,n)}function eb(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Qn&&t.push(r)}),e.cursorWrapper&&t.push(Dt.create(e.state.doc,[e.cursorWrapper.deco])),Ko.from(t)}const dbe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fbe=Ir&&da<=11;class hbe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class pbe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new hbe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ir&&da<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),fbe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,dbe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Q3(this.view)){if(this.suppressingSelectionUpdates)return lo(this.view);if(Ir&&da<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Zc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=Ch(i))n.add(i);for(let i=t.anchorNode;i;i=Ch(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Q3(t)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,c=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],c);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Qs&&c.length){let u=c.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||gbe(t,d)!=h)&&f.remove()}}}let l=null;i<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&DE(r)&&(l=H1(t))&&l.eq(ct.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,lo(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||s)&&(i>-1&&(t.docView.markDirty(i,o),_be(t)),this.handleDOMChange(i,o,a,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||lo(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let s=t.previousSibling,i=t.nextSibling;if(Ir&&da<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(s=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==t.target?Wn(s)+1:0,a=r.localPosFromDOM(t.target,o,-1),c=i&&i.parentNode==t.target?Wn(i):t.target.childNodes.length,l=r.localPosFromDOM(t.target,c,1);return{from:a,to:l}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let aG=new WeakMap,cG=!1;function _be(e){if(!aG.has(e)&&(aG.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Qs,cG)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cG=!0}}function lG(e,t){let n=t.startContainer,r=t.startOffset,s=t.endContainer,i=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return Zc(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function mbe(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return lG(e,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?lG(e,n):null}function gbe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function vbe(e,t,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:a}=e.docView.parseRange(t,n),c=e.domSelectionRange(),l,u=c.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(l=[{node:u,offset:c.anchorOffset}],DE(c)||l.push({node:c.focusNode,offset:c.focusOffset})),tr&&e.input.lastKeyCode===8)for(let m=i;m>s;m--){let v=r.childNodes[m-1],E=v.pmViewDesc;if(v.nodeName=="BR"&&!E){i=m;break}if(!E||E.size)break}let d=e.state.doc,f=e.someProp("domParser")||vh.fromSchema(e.state.schema),h=d.resolve(o),p=null,_=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:l,ruleFromNode:Ebe,context:h});if(l&&l[0].pos!=null){let m=l[0].pos,v=l[1]&&l[1].pos;v==null&&(v=m),p={anchor:m+o,head:v+o}}return{doc:_,sel:p,from:o,to:a}}function Ebe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(pr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||pr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Cbe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ybe(e,t,n,r,s){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let I=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,w=H1(e,I);if(w&&!e.state.selection.eq(w)){if(tr&&Us&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",k=>k(e,fc(13,"Enter"))))return;let M=e.state.tr.setSelection(w);I=="pointer"?M.setMeta("pointer",!0):I=="key"&&M.scrollIntoView(),i&&M.setMeta("composition",i),e.dispatch(M)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let c=e.state.selection,l=vbe(e,t,n),u=e.state.doc,d=u.slice(l.from,l.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=Obe(d.content,l.doc.content,l.from,f,h);if((td&&e.input.lastIOSEnter>Date.now()-225||Us)&&s.some(I=>I.nodeType==1&&!Cbe.test(I.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",I=>I(e,fc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&c instanceof ht&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:c.from,endA:c.to,endB:c.to};else{if(l.sel){let I=uG(e,e.state.doc,l.sel);if(I&&!I.eq(e.state.selection)){let w=e.state.tr.setSelection(I);i&&w.setMeta("composition",i),e.dispatch(w)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof ht&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Ir&&da<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" "&&(p.start--,p.endA--,p.endB--);let _=l.doc.resolveNoCache(p.start-l.from),m=l.doc.resolveNoCache(p.endB-l.from),v=u.resolve(p.start),E=_.sameParent(m)&&_.parent.inlineContent&&v.end()>=p.endA,b;if((td&&e.input.lastIOSEnter>Date.now()-225&&(!E||s.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!E&&_.pos<l.doc.content.size&&!_.sameParent(m)&&(b=ct.findFrom(l.doc.resolve(_.pos+1),1,!0))&&b.head==m.pos)&&e.someProp("handleKeyDown",I=>I(e,fc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&Tbe(u,p.start,p.endA,_,m)&&e.someProp("handleKeyDown",I=>I(e,fc(8,"Backspace")))){Us&&tr&&e.domObserver.suppressSelectionUpdates();return}tr&&Us&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),Us&&!E&&_.start()!=m.start()&&m.parentOffset==0&&_.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,m=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{e.someProp("handleKeyDown",function(I){return I(e,fc(13,"Enter"))})},20));let C=p.start,y=p.endA,O,A,N;if(E){if(_.pos==m.pos)Ir&&da<=11&&_.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>lo(e),20)),O=e.state.tr.delete(C,y),A=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(N=Sbe(_.parent.content.cut(_.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))O=e.state.tr,N.type=="add"?O.addMark(C,y,N.mark):O.removeMark(C,y,N.mark);else if(_.parent.child(_.index()).isText&&_.index()==m.index()-(m.textOffset?0:1)){let I=_.parent.textBetween(_.parentOffset,m.parentOffset);if(e.someProp("handleTextInput",w=>w(e,C,y,I)))return;O=e.state.tr.insertText(I,C,y)}}if(O||(O=e.state.tr.replace(C,y,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let I=uG(e,O.doc,l.sel);I&&!(tr&&Us&&e.composing&&I.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(I.head==C||I.head==O.mapping.map(y)-1)||Ir&&I.empty&&I.head==C)&&O.setSelection(I)}A&&O.ensureMarks(A),i&&O.setMeta("composition",i),e.dispatch(O.scrollIntoView())}function uG(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:$1(e,t.resolve(n.anchor),t.resolve(n.head))}function Sbe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,s=n,i=r,o,a,c;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",c=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",c=u=>u.mark(a.removeFromSet(u.marks));else return null;let l=[];for(let u=0;u<t.childCount;u++)l.push(c(t.child(u)));if(de.from(l).eq(e))return{mark:a,type:o}}function Tbe(e,t,n,r,s){if(n-t<=s.pos-r.pos||tb(r,!0,!1)<s.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==t+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=e.resolve(tb(i,!0,!0));return!o.parent.isTextblock||o.pos>n||tb(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function tb(e,t,n){let r=e.depth,s=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,s++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function Obe(e,t,n,r,s){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let c=Math.max(0,i-Math.min(o,a));r-=o+c-i}if(o<i&&e.size<t.size){let c=r<=i&&r>=o?i-r:0;i-=c,i&&i<t.size&&dG(t.textBetween(i-1,i+1))&&(i+=c?1:-1),a=i+(a-o),o=i}else if(a<i){let c=r<=i&&r>=a?i-r:0;i-=c,i&&i<e.size&&dG(e.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function dG(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class bbe{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new WOe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(mG),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=pG(this),hG(this),this.nodeViews=_G(this),this.docView=V3(this.state.doc,fG(this),eb(this),this.dom,this),this.domObserver=new pbe(this,(r,s,i,o)=>ybe(this,r,s,i,o)),this.domObserver.start(),qOe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&GI(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(mG),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let s=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(P8(this),o=!0),this.state=t;let a=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=_G(this);Nbe(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&GI(this),this.editable=pG(this),hG(this);let c=eb(this),l=fG(this),u=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(t.doc,l,c);(d||!t.selection.eq(s.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&oOe(this);if(o){this.domObserver.stop();let h=d&&(Ir||tr)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&Abe(s.selection,t.selection);if(d){let p=tr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=sbe(this)),(i||!this.docView.update(t.doc,l,c,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=V3(t.doc,l,c,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&wOe(this))?lo(this,h):(m8(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&aOe(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&j3(this,n.getBoundingClientRect(),t)}else j3(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new R8(t.slice,t.move,s<0?void 0:Ze.create(this.state.doc,s))}someProp(t,n){let r=this._props&&this._props[t],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(s=n?n(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[t];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(Ir){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&cOe(this.dom),lo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return hOe(this,t)}coordsAtPos(t,n=1){return c8(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let s=this.docView.posFromDOM(t,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return vOe(this,n||this.state,t)}pasteHTML(t,n){return Sh(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Sh(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(VOe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],eb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,KTe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return YOe(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return pr&&this.root.nodeType===11&&eOe(this.dom.ownerDocument)==this.dom&&mbe(this,t)||t}domSelection(){return this.root.getSelection()}}function fG(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[fr.node(0,e.state.doc.content.size,t)]}function hG(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:fr.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function pG(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Abe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function _G(e){let t=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=r[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Nbe(e,t){let n=0,r=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)r++;return n!=r}function mG(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class an extends ct{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return an.valid(r)?new an(r):ct.near(r)}content(){return Re.empty}eq(t){return t instanceof an&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new an(t.resolve(n.pos))}getBookmark(){return new K1(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!Ibe(t)||!Pbe(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&an.valid(t))return t;let s=t.pos,i=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){i=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;s+=n;let c=t.doc.resolve(s);if(an.valid(c))return c}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Ze.isSelectable(i)){t=t.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let a=t.doc.resolve(s);if(an.valid(a))return a}return null}}}an.prototype.visible=!1;an.findFrom=an.findGapCursorFrom;ct.jsonID("gapcursor",an);class K1{constructor(t){this.pos=t}map(t){return new K1(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return an.valid(n)?new an(n):ct.near(n)}}function Ibe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Pbe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function wbe(){return new ss({props:{decorations:kbe,createSelectionBetween(e,t,n){return t.pos==n.pos&&an.valid(n)?new an(n):null},handleClick:xbe,handleKeyDown:Rbe,handleDOMEvents:{beforeinput:Mbe}}})}const Rbe=t8({ArrowLeft:L_("horiz",-1),ArrowRight:L_("horiz",1),ArrowUp:L_("vert",-1),ArrowDown:L_("vert",1)});function L_(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,s,i){let o=r.selection,a=t>0?o.$to:o.$from,c=o.empty;if(o instanceof ht){if(!i.endOfTextblock(n)||a.depth==0)return!1;c=!1,a=r.doc.resolve(t>0?a.after():a.before())}let l=an.findGapCursorFrom(a,t,c);return l?(s&&s(r.tr.setSelection(new an(l))),!0):!1}}function xbe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!an.valid(r))return!1;let s=e.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ze.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new an(r))),!0)}function Mbe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof an))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let s=de.empty;for(let o=r.length-1;o>=0;o--)s=de.from(r[o].createAndFill(null,s));let i=e.state.tr.replace(n.pos,n.pos,new Re(s,0,0));return i.setSelection(ht.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function kbe(e){if(!(e.selection instanceof an))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Dt.create(e.doc,[fr.widget(e.selection.head,t,{key:"gapcursor"})])}var Lg=200,Ln=function(){};Ln.prototype.append=function(t){return t.length?(t=Ln.from(t),!this.length&&t||t.length<Lg&&this.leafAppend(t)||this.length<Lg&&t.leafPrepend(this)||this.appendInner(t)):this};Ln.prototype.prepend=function(t){return t.length?Ln.from(t).append(this):this};Ln.prototype.appendInner=function(t){return new Lbe(this,t)};Ln.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Ln.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Ln.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Ln.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Ln.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(t(i,o))},n,r),s};Ln.from=function(t){return t instanceof Ln?t:t&&t.length?new D8(t):Ln.empty};var D8=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new t(this.values.slice(s,i))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,i,o,a){for(var c=i;c<o;c++)if(s(this.values[c],a+c)===!1)return!1},t.prototype.forEachInvertedInner=function(s,i,o,a){for(var c=i-1;c>=o;c--)if(s(this.values[c],a+c)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=Lg)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=Lg)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Ln);Ln.empty=new D8([]);var Lbe=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(s,a),i,o)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(Ln);const Dbe=500;class Fs{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=t.tr,a,c,l=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){s||(s=this.remapping(r,f+1),i=s.maps.length),i--,u.push(d);return}if(s){u.push(new mi(d.map));let h=d.step.map(s.slice(i)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],l.push(new mi(p,void 0,void 0,l.length+u.length))),i--,p&&s.appendMap(p,i)}else o.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(i)):d.selection,c=new Fs(this.items.slice(0,r).append(u.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(t,n,r,s){let i=[],o=this.eventCount,a=this.items,c=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new mi(t.mapping.maps[u],d,n),h;(h=c&&c.merge(f))&&(f=h,u?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(o++,n=void 0),s||(c=f)}let l=o-r.depth;return l>Fbe&&(a=Ube(a,l),o-=l),new Fs(a.append(i),o)}remapping(t,n){let r=new Au;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=t?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Fs(this.items.append(t.map(n=>new mi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},s);let c=n;this.items.forEach(f=>{let h=i.getMirror(--c);if(h==null)return;o=Math.min(o,h);let p=i.maps[h];if(f.step){let _=t.steps[h].invert(t.docs[h]),m=f.selection&&f.selection.map(i.slice(c+1,h));m&&a++,r.push(new mi(p,_,m))}else r.push(new mi(p))},s);let l=[];for(let f=n;f<o;f++)l.push(new mi(i.maps[f]));let u=this.items.slice(0,s).append(l).append(r),d=new Fs(u,a);return d.emptyItemCount()>Dbe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=t)s.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(n.slice(r)),l=c&&c.getMap();if(r--,l&&n.appendMap(l,r),c){let u=o.selection&&o.selection.map(n.slice(r));u&&i++;let d=new mi(l.invert(),c,u),f,h=s.length-1;(f=s.length&&s[h].merge(d))?s[h]=f:s.push(d)}}else o.map&&r--},this.items.length,0),new Fs(Ln.from(s.reverse()),i)}}Fs.empty=new Fs(Ln.empty,0);function Ube(e,t){let n;return e.forEach((r,s)=>{if(r.selection&&t--==0)return n=s,!1}),e.slice(n)}class mi{constructor(t,n,r,s){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new mi(n.getMap().invert(),n,this.selection)}}}class zo{constructor(t,n,r,s,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const Fbe=20;function Gbe(e,t,n,r){let s=n.getMeta(kc),i;if(s)return s.historyState;n.getMeta(Hbe)&&(e=new zo(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(kc))return o.getMeta(kc).redo?new zo(e.done.addTransform(n,void 0,r,vm(t)),e.undone,gG(n.mapping.maps),e.prevTime,e.prevComposition):new zo(e.done,e.undone.addTransform(n,void 0,r,vm(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),c=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!jbe(n,e.prevRanges)),l=o?nb(e.prevRanges,n.mapping):gG(n.mapping.maps);return new zo(e.done.addTransform(n,c?t.selection.getBookmark():void 0,r,vm(t)),Fs.empty,l,n.time,a==null?e.prevComposition:a)}else return(i=n.getMeta("rebased"))?new zo(e.done.rebased(n,i),e.undone.rebased(n,i),nb(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new zo(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),nb(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function jbe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&s>=t[i]&&(n=!0)}),n}function gG(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,s,i,o)=>t.push(i,o));return t}function nb(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let s=t.map(e[r],1),i=t.map(e[r+1],-1);s<=i&&n.push(s,i)}return n}function Bbe(e,t,n){let r=vm(t),s=kc.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),s,r),c=new zo(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(kc,{redo:n,historyState:c})}let rb=!1,vG=null;function vm(e){let t=e.plugins;if(vG!=t){rb=!1,vG=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){rb=!0;break}}return rb}const kc=new bs("history"),Hbe=new bs("closeHistory");function $be(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new ss({key:kc,state:{init(){return new zo(Fs.empty,Fs.empty,null,0,-1)},apply(t,n,r){return Gbe(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,s=r=="historyUndo"?F8:r=="historyRedo"?jI:null;return s?(n.preventDefault(),s(t.state,t.dispatch)):!1}}}})}function U8(e,t){return(n,r)=>{let s=kc.getState(n);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(r){let i=Bbe(s,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const F8=U8(!1,!0),jI=U8(!0,!0),Pu=new bs("customKeymapPlugin");function eKe(e,t){var r;const{allHandlers:n=[]}=(r=Pu.getState(e.state))!=null?r:{};return e.dispatch(e.state.tr.setMeta(Pu,{allHandlers:[t,...n]})),()=>{e.dispatch(e.state.tr.setMeta(Pu,{allHandlers:n.filter(s=>s!==t)}))}}function Wbe(e={allHandlers:[]}){return new ss({key:Pu,state:{init(){return S({},e)},apply(t,n){const r=t.getMeta(Pu);return r?S(S({},n),r):n}},props:{handleKeyDown(t,n){var s;if(uE(n))return!1;const{allHandlers:r=[]}=(s=Pu.getState(t.state))!=null?s:{};for(const i of r){const o=i[n.key];if(o&&o(n))return!0}}}})}const qbe=()=>Pe("1605274664"),EG=new bs("ecosystemSuggestionsPluginBetter"),sb="at-mention",ac={SELF_APPLIED:"eco/self-applied",UPDATE_CONFIG:"eco/update-config"};function Vbe(){return{activeSystemHintType:null,activeConnectorSystemTypes:new Set,keywordToSystemHintMap:{},matches:new Set,regex:void 0}}function zbe(e){const{markType:t}=e;return new ss({key:EG,state:{init(){return Vbe()},apply(n,r){var o;const s=(o=n.getMeta(ac.UPDATE_CONFIG))!=null?o:{};return S(S({},r),s)}},appendTransaction(n,r,s){var E,b;if(!n.some(C=>C.getMeta(ac.UPDATE_CONFIG))&&(!n.some(C=>C.docChanged)||n.some(C=>C.getMeta(ac.SELF_APPLIED))))return null;const{regex:i,activeSystemHintType:o,activeConnectorSystemTypes:a,keywordToSystemHintMap:c,matches:l}=(E=EG.getState(s))!=null?E:{},u=s.tr,{node:d,pos:f}=(b=Kbe(s.doc))!=null?b:{};if(!d||f===void 0)return null;const p=Pg.topNodeType.createChecked(null,de.from(d)),_=()=>{p.descendants((C,y,O,A)=>{var w,M,k;const N=C.marks.find(D=>D.type===t);if(!N)return!0;if(N.attrs.kind===sb){const D=f+y,L=D+((M=(w=C.text)==null?void 0:w.length)!=null?M:C.nodeSize),G=typeof N.attrs.keyword=="string"?N.attrs.keyword:void 0;return(!SG(C.text,G)||!yG(s.doc,L))&&u.removeMark(D,L,t).scrollIntoView(),!1}const I=(k=C.textContent)!=null?k:"";return(!i||!i.test(I)||A!==0)&&u.removeMark(f+y,f+y+C.nodeSize,t).scrollIntoView(),!1})};if(!c||o&&!Ou(o))return _(),u.steps.length&&u.setMeta(ac.SELF_APPLIED,!0),u;const m=new Set,v=(C,y)=>{!C||!y||[...m].some(O=>O.systemHintType===C&&O.keyword===y)||m.add({systemHintType:C,keyword:y})};return i?(p.descendants((C,y,O,A)=>{var I;const N=C.marks.find(w=>w.type===t);if(N){if(N.attrs.kind===sb)return!1;const w=(I=C.textContent)!=null?I:"";return(!i.test(w)||A!==0)&&u.removeMark(f+y,f+y+C.nodeSize,t).scrollIntoView(),!1}return!0}),p.descendants((C,y)=>{var N;if(!C.isTextblock)return;const O=C.textBetween(0,C.content.size);if(!O)return;i.lastIndex=0;let A;for(;A=i.exec(O);){const I=CG(C,f+y,A.index),w=CG(C,f+y,A.index+A[0].length),M=(N=c[A[1].toLowerCase()])!=null?N:{},{systemHint:k,name:D}=M;v(k,A[1]);const L=Ybe(u.doc,I,w,t);if(o&&Ou(o)&&(a!=null&&a.has(k))){if(!L){const G=t.create({id:D,kind:"app",keyword:A[1]});u.addMark(I,w,G).scrollIntoView()}}else L&&u.removeMark(I,w,t).scrollIntoView();i.lastIndex=A.index+A[0].length}})):_(),c&&s.doc.descendants((C,y)=>{var O,A,N;if(!(!C.isText||C.marks.length===0))for(const I of C.marks){if(I.type!==t||I.attrs.kind!==sb)continue;const w=y+((A=(O=C.text)==null?void 0:O.length)!=null?A:C.nodeSize),M=typeof I.attrs.keyword=="string"?I.attrs.keyword:void 0;if(!SG(C.text,M)||!yG(s.doc,w)){u.removeMark(y,w,t).scrollIntoView();continue}const D=typeof I.attrs.id=="string"&&Q6(I.attrs.id)?I.attrs.id:void 0;if(D){v(D,M||D);continue}if(M){const L=(N=c[M.toLowerCase()])!=null?N:{};v(L.systemHint,M)}}}),u.steps.length||!Jbe(m,l)?(u.setMeta(ac.SELF_APPLIED,!0),u.setMeta(ac.UPDATE_CONFIG,{matches:m}),u):null},view(n){return{destroy(){}}}})}function tKe(e,t){const n=e.state.tr.setMeta(ac.UPDATE_CONFIG,t);e.dispatch(n)}function CG(e,t,n){var i,o,a,c;let r=t+1,s=0;for(let l=0;l<e.childCount;l++){const u=e.child(l),d=u.isText&&(c=(a=(i=u.text)==null?void 0:i.length)!=null?a:(o=u.textContent)==null?void 0:o.length)!=null?c:0;if(s+d>=n)return u.isText?r+(n-s):r;s+=d,r+=u.nodeSize}return r}function Ybe(e,t,n,r){let s=!1;return e.nodesBetween(t,n,i=>i.marks.find(o=>o.type===r)?(s=!0,!1):!0),s}function yG(e,t){var r;if(t>=e.content.size)return!1;const n=e.nodeAt(t);if(!n)return!1;if(n.isText){const s=(r=n.text)==null?void 0:r[0];return!!(s&&/\s/.test(s))}return!!(n.type.name==="hard_break"||n.isBlock)}function SG(e,t){if(!e||!t)return!1;const n=e.trim(),r=t.trim();return!n||!r?!1:n.toLowerCase()==="@".concat(r).toLowerCase()}function Kbe(e){let t=null;return e.descendants((n,r)=>n.isTextblock&&!t?(t={node:n,pos:r},!1):!0),t}function Jbe(e,t){if(!e||!t||e.size!==t.size)return!1;const n=[...t];for(const r of e)if(!n.some(s=>s.systemHintType===r.systemHintType&&s.keyword===r.keyword))return!1;return!0}const J1=ot(()=>{var s,i;const e=(s=ln("463092697"))==null?void 0:s.value,t=ia(e);let n=(i=t==null?void 0:t.enabledConnectors)!=null?i:[];return Pe("3881721129")||(n=n.filter(o=>o!==x.GITHUB_CONNECTOR)),t&&(t.enabledConnectors=n),t}),G8=()=>T.useMemo(()=>J1(),[]),Xbe=()=>{const e=J1();return{enabled:!!(e!=null&&e.softmentionEnabled)}};function Qbe(){return{trackingKeywordsRegex:void 0,decorations:Dt.empty,highlightedKeywords:new Set,matchedKeywords:new Set}}const j8=({tr:e,regex:t,prevHighlightedKeywords:n,prevMatchedKeywords:r})=>{const s=[],i=new Set,o=new Set;return t?(e.doc.descendants((a,c)=>{if(!a.isText||!a.text)return;const l=a.text;for(const u of l.matchAll(t)){if(i.add(u[1]),!n.has(u[1])&&r.has(u[1]))continue;o.add(u[1]);const d=c+u.index,f=d+u[0].length;s.push(fr.inline(d,f,{class:"hint-pill"},{keyword:u[1]}))}}),{decorations:Dt.create(e.doc,s),matchedKeywords:i,highlightedKeywords:o}):{decorations:Dt.empty,matchedKeywords:i,highlightedKeywords:o}};function nKe(e){var n;const t=pa.getState(e);return[...(n=t==null?void 0:t.matchedKeywords)!=null?n:[]]}const rKe=(e,t)=>{const{state:n,dispatch:r}=t,s=n.tr,i=pa.getState(n);if(i){const o=e.length>0?new RegExp("\\b(".concat(e.join("|"),")\\b"),"gi"):void 0,{decorations:a,highlightedKeywords:c,matchedKeywords:l}=j8({tr:s,regex:o,prevHighlightedKeywords:i.highlightedKeywords,prevMatchedKeywords:i.matchedKeywords});s.setMeta(pa,P(S({},i),{trackingKeywordsRegex:o,decorations:a,highlightedKeywords:c,matchedKeywords:l}))}r(s)},sKe=(e,t)=>{if(e.length===0)return;const{state:n,dispatch:r}=t,s=n.tr,i=pa.getState(n);if(i){const o=i.decorations.remove(i.decorations.find(void 0,void 0,a=>a.keyword&&e.includes(a.keyword)));s.setMeta(pa,P(S({},i),{decorations:o,highlightedKeywords:new Set([...i.highlightedKeywords].filter(a=>!e.includes(a)))}))}r(s)},pa=new bs("keywordPlugin");function Zbe(){return new ss({key:pa,state:{init(){return Qbe()},apply(e,t){if(e.getMeta(pa))return S(S({},t),e.getMeta(pa));if(!e.docChanged)return t;const{decorations:n,matchedKeywords:r,highlightedKeywords:s}=j8({tr:e,regex:t.trackingKeywordsRegex,prevHighlightedKeywords:t.highlightedKeywords,prevMatchedKeywords:t.matchedKeywords});return P(S({},t),{decorations:n,highlightedKeywords:s,matchedKeywords:r})}},props:{decorations(e){const t=this.getState(e);return t?t.decorations:Dt.empty}}})}const vc=new bs("menuSelectorPlugin");function TG(e){e.dispatch(e.state.tr.setMeta(vc,{active:!1,onMenuAction:void 0}))}function iKe(e,t){e.dispatch(e.state.tr.setMeta(vc,{active:!0,onMenuAction:t}))}const oKe=Ao(e=>fl(()=>{var t,n;return(n=(t=vc.getState(e.state))==null?void 0:t.active)!=null?n:!1},t=>YV(e,t),{getServerFallback:()=>!1}));function e0e(e={submitKeys:["Enter","Tab"],cancelKeys:["Escape"],checkStrictMatchKeys:[" "]}){return new ss({key:vc,state:{init(){return P(S({},e),{active:!1})},apply(t,n){const r=t.getMeta(vc);return r?S(S({},n),r):n}},props:{handleKeyDown(t,n){var s,i,o,a,c,l;const r=vc.getState(t.state);if(!(r!=null&&r.active))return!1;if(!n.isComposing)return r.submitKeys.includes(n.key)?(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),TG(t),(i=(s=r.onMenuAction)==null?void 0:s.call(r,"submit"))!=null?i:!0):r.cancelKeys.includes(n.key)?(n.preventDefault(),(o=r.onMenuAction)==null||o.call(r,"cancel"),TG(t),!0):n.key==="ArrowUp"?(n.preventDefault(),(a=r.onMenuAction)==null||a.call(r,"up"),!0):n.key==="ArrowDown"?(n.preventDefault(),(c=r.onMenuAction)==null||c.call(r,"down"),!0):r.checkStrictMatchKeys.includes(n.key)&&(l=r.onMenuAction)!=null&&l.call(r,"checkMatch")?(n.preventDefault(),!0):!1},handleDOMEvents:{blur:t=>{var r;const n=vc.getState(t.state);(r=n==null?void 0:n.onMenuAction)==null||r.call(n,"cancel")}}}})}const bf=new bs("placeholderPlugin");function aKe(e,t){e.dispatch(e.state.tr.setMeta(bf,{placeholder:t}))}function t0e(e){return new ss({key:bf,state:{init(){return{placeholder:e}},apply(t,n){return t.getMeta(bf)?{placeholder:t.getMeta(bf).placeholder}:n}},props:{decorations(t){var s;const{doc:n}=t;if(n.childCount===1&&((s=n.firstChild)==null?void 0:s.isTextblock)&&n.firstChild.content.size===0){const i=[],{placeholder:o}=bf.getState(t);return t.doc.descendants((a,c)=>{const l=fr.node(c,c+a.nodeSize,{class:"placeholder","data-placeholder":o});i.push(l)}),Dt.create(n,i)}}}})}let BI;try{BI=new RegExp("^(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]*)$|\\s(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]+)$","u")}catch(e){BI=/^(\/|@)([\w.:_-]*)$|\s(\/|@)([\w.:_-]+)$/}function n0e(e,t){var r,s,i,o;if(e.depth===0)return;const n=(s=(r=e.nodeBefore)==null?void 0:r.text)==null?void 0:s.match(BI);if(n){const a=(i=n[1])!=null?i:n[3],c=(o=n[2])!=null?o:n[4],l=e.pos-c.length-1,u=e.pos;return c.length>0&&t?void 0:{triggerSymbol:a,queryText:c,range:{from:l,to:u}}}}const Af=new bs("systemHintPlugin");function r0e(e,t){return e.setMeta(Af,t),e}function cKe(e){e.dispatch(r0e(e.state.tr,P(S({},HI()),{isDismissed:!0})))}function HI(){return{triggerSymbol:"",queryText:"",active:!1,range:void 0,isDismissed:!1}}function OG(e){const{active:t,range:n,triggerSymbol:r,queryText:s,onHintMatch:i}=e;if(i)return i(!t||!n?void 0:{triggerSymbol:r,text:s,range:n})}function s0e(){return new ss({key:Af,state:{init(){return HI()},apply(e,t,n,r){const s=e.getMeta(Af),i=S(S(S({},HI()),t),s),o=e.selection;if(o.from!==o.to||r.doc.eq(n.doc))return OG(i),i;const a=o.$from,c=n0e(a,t.isDismissed);return i.active=c!=null,c&&(i.triggerSymbol=c.triggerSymbol,i.queryText=c.queryText,i.range=c.range,i.isDismissed=!1),OG(i),i}},view(){return{update(e,t){var i,o,a,c;const n=Af.getState(t),r=Af.getState(e.state);if(n.active===r.active&&((i=n.range)==null?void 0:i.from)===((o=r.range)==null?void 0:o.from)&&n.setReferencePosition===r.setReferencePosition)return;const s=r.range;!r.active||!s?(a=r.setReferencePosition)==null||a.call(r,null):(c=r.setReferencePosition)==null||c.call(r,{getBoundingClientRect:()=>i0e(e.coordsAtPos(s.from))})}}}})}function i0e({left:e,right:t,top:n,bottom:r}){return new DOMRect(e,n,t-e,r-n)}const o0e=ir(()=>X(!1)),B8=X(null);function lKe({prompt:e,referer:t,conversationId:n}){B8.set({prompt:e,skipConversationId:n,referer:t})}function uKe(){B8.set(null)}const a0e=/\{[^{}\n]+\}/g,bG=e=>!!(e&&o0e(e)),c0e=(e,t)=>{const n=[];return e.descendants((r,s)=>{if(!r.isText||!r.text)return;const i=new RegExp(a0e);for(const o of r.text.matchAll(i)){if(o.index==null)continue;const a=s+o.index,c=a+o[0].length,l=(t==null?void 0:t.from)===a&&(t==null?void 0:t.to)===c;n.push(fr.inline(a,c,S({class:"pm-bracket-tag","data-template-variable":"true"},l?{"data-template-active":"true"}:null),{templateVariable:!0}))}}),Dt.create(e,n)},AG=({doc:e,enabled:t,activeRange:n})=>({enabled:t,activeRange:n,decorations:t?c0e(e,n):Dt.empty}),Xd=new bs("promptTemplateVariablePlugin");function l0e({conversation:e}){const t=(r,s)=>{const i=bG(e);return AG({doc:s.doc,enabled:i,activeRange:null})},n=(r,s)=>{var l,u,d;const i=r.getMeta(Xd),o=bG(e);let a=(l=i==null?void 0:i.activeRange)!=null?l:s.activeRange;r.docChanged&&!(i!=null&&i.activeRange)&&(a=null),a&&(r.selection.from!==a.from||r.selection.to!==a.to)&&(a=null);const c=(a==null?void 0:a.from)!==((u=s.activeRange)==null?void 0:u.from)||(a==null?void 0:a.to)!==((d=s.activeRange)==null?void 0:d.to);return!r.docChanged&&o===s.enabled&&!c?s:AG({doc:r.doc,enabled:o,activeRange:a})};return new ss({key:Xd,state:{init:t,apply:n},props:{decorations(r){var s,i;return(i=(s=Xd.getState(r))==null?void 0:s.decorations)!=null?i:Dt.empty},handleClick(r,s,i){if(!(i.target instanceof HTMLElement)||!i.target.closest(".pm-bracket-tag"))return!1;const o=Xd.getState(r.state);if(!(o!=null&&o.enabled))return!1;const c=o.decorations.find(0,r.state.doc.content.size,l=>!!(l!=null&&l.templateVariable)).find(l=>s>=l.from&&s<=l.to);return c?(r.dispatch(r.state.tr.setSelection(ht.create(r.state.doc,c.from,c.to)).setMeta(Xd,{activeRange:{from:c.from,to:c.to}})),r.focus(),!0):!1}}})}function u0e(e){const t=new EventTarget,n=Xbe().enabled,r=qbe(),s=new bbe(null,{state:ou.create({schema:Pg,plugins:[$be(),e0e(),s0e(),...r?[zbe({markType:Pg.marks.ecosystemMentionMark})]:[],...n?[Zbe()]:[],l0e({conversation:e}),Wbe(),YTe(P(S({},VO),{"Shift-Enter":VO.Enter,"Alt-Enter":VO.Enter,"Mod-z":F8,"Mod-y":jI,"Mod-Shift-z":jI})),lTe(t),t0e(""),wbe(),mTe()]}),dispatchTransaction(o){const a=s.state.apply(o);s.updateState(a),o.docChanged&&t.dispatchEvent(new Event(NI))},handlePaste(o,a){var l;const c=(l=a.clipboardData)==null?void 0:l.getData("text/plain");return c===void 0?!1:(a.defaultPrevented||BTe(c)||VV(o,c),!0)},clipboardTextSerializer(o){return rTe(o.content).content}}),i=e&&Uce(e);return i!=null&&qV(s.state.doc)&&s.dispatch(s.state.tr.insertText(i)),s}class d0e{constructor(t,n){this.ctx=t,this.conversation=n}}const GE=iv("Composer"),Ro=l6(GE),$I=GE(()=>({current:null})),tl=GE(e=>u0e(e.conversation)),H8=Ro(e=>fl(()=>tl(e).state,t=>YV(tl(e),JV(t,50))));Ro(e=>ie(()=>tl(e),{getServerFallback:()=>null}));const dKe=Ro(e=>ie(()=>H8(e).doc.content.size,{getServerFallback:()=>0})),f0e=Ro(e=>ie(()=>qV(H8(e).doc),{getServerFallback:()=>!0})),h0e=Ro(()=>X(!1)),fKe=Ro(e=>uTe(()=>h0e(e),()=>f0e(e))),p0e=Ro(e=>fl(()=>tl(e).hasFocus(),t=>va(tl(e).dom,{focus:t,blur:t}),{getServerFallback:()=>!1})),hKe=Ro(e=>{const t=fl(()=>{const n=$I(e);return n.current!=null&&(n.current.contains(document.activeElement)||n.current.querySelector('[data-state="open"]')!=null)},n=>{const r=hTe(n,150);return va(document,{focusin:r,focusout:r})},{getServerFallback:()=>!1});return ie(()=>t()||p0e(e))}),pKe=Ro(e=>fl(()=>{const t=$I(e);return t.current!=null&&t.current.matches(":hover")},t=>{var r;const n=$I(e);return va((r=n.current)!=null?r:tl(e).dom,{pointerenter:t,pointerleave:t})},{getServerFallback:()=>!1})),_Ke=GE(e=>{const t=X(void 0),n=ie(()=>{var i,o,a;if(!at())return;const r=e.conversation;if(!r)return;const s=(o=(i=kye(Nd(r)))==null?void 0:i.message.metadata)==null?void 0:o.thinking_effort;return(a=s!=null?s:rV().effort)!=null?a:"standard"},{getServerFallback:()=>UW().effort});return{composerThinkingEffort$:ie(()=>{var r;return(r=t())!=null?r:n()}),setThinkingEffort:r=>{t.set(r)}}}),WI=T.createContext(null),mKe=e=>{"use forget";const t=j.c(7),{children:n,conversation:r,ignoreParentComposerController:s}=e,i=s===void 0?!1:s,o=ri(),a=i?null:T.use(WI);let c;t[0]!==r||t[1]!==o||t[2]!==a?(c=a!=null?a:new d0e(o,r),t[0]=r,t[1]=o,t[2]=a,t[3]=c):c=t[3];const l=c;let u;return t[4]!==n||t[5]!==l?(u=g.jsx(WI.Provider,{value:l,children:n}),t[4]=n,t[5]=l,t[6]=u):u=t[6],u},_0e=()=>{"use forget";const e=j.c(2),t=T.use(WI);let n;return e[0]!==t?(n=dr(t),e[0]=t,e[1]=n):n=e[1],n},bi=jv("connector_openai_deep_research"),D_=jv("connector_openai_sora"),gKe="venus_model_variant",vKe="standard",EKe=["standard","legacy"],CKe="g-2fkFE8rbu",uo={UNSET:"unset",GLOBAL:"global",PROJECT:"project",PROJECT_V2:"project_v2"};var Zt=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e[e.EMAIL=10]="EMAIL",e))(Zt||{});const $8={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},yKe={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},SKe={can_read:!0,can_view_config:!0,can_write:!0,can_delete:!1,can_export:!1,can_share:!1},St={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var m0e=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(m0e||{});const TKe=e=>{var t;return(t=e.gizmo.tags)==null?void 0:t.includes("first_party")},OKe=e=>{var t;return e.gizmo.gizmo_type!=="snorlax"&&!((t=e.gizmo.tags)!=null&&t.includes("unreviewable"))};var Dg=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(Dg||{}),X1=(e=>(e.FILE_SERVICE="fs",e))(X1||{});function g0e(e){return e.type===10||e.type===1||e.type===2}const NG=[1,2,3,4];function bKe(e){return e.length===0?null:e.reduce((t,n)=>NG.indexOf(n.type)<NG.indexOf(t.type)?t:n,e[0])}function AKe(e,t,n){return t=t.filter(r=>r.type===St.User||r.type===St.Group),e===St.Private||e===St.User||e===St.Group?[{type:St.Private,capabilities:$8},...t]:[...t,{type:e,capabilities:n}]}class W8{constructor(t){this.response=t}}var au=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(au||{});const v0e=()=>Pe("1448302202"),E0e=()=>Pe("3309894884"),C0e=()=>Pe("3298988695"),NKe=()=>Pe("1719378234"),IKe=()=>Pe("2484466781"),PKe=()=>Pe("2554021405"),wKe=()=>Pe("2245348949");function q8(){return Pe("491279851")}function RKe(){return Pe("2681665698")}function xKe(){return Pe("3969816174")}function y0e(e){return Q1(e)?"potion":null}function Pd(e){return Q1(e)||!1}function Q1(e){return!!e&&E0e()&&C0e()&&"gizmo_snorlax_type"in e.gizmo&&e.gizmo.gizmo_snorlax_type==="potion"}function MKe(e){return!1}function S0e(e){return As(e)&&q8()}function As(e){return(e==null?void 0:e.slice(0,4))==="g-p-"}function V8(e){return e!=null&&!As(e)}function Z1(e){return As(e.gizmo.id)}function T0e(e){return Z1(e)&&e.gizmo.share_recipient===St.Private&&e.gizmo.sharing.subjects.length===0}function O0e(e){return Z1(e)&&!T0e(e)}function kKe(e){if(e!=null)return S0e(e)?Dg.PROJECT:Dg.GPT}const qI={},b0e=["added","updated","removed"];let IG=!1;function A0e(e){IG||(IG=!0,e.getQueryCache().subscribe(t=>{var r,s;const n=t.query.queryHash;if(t.query.state.status==="success"&&n in qI&&b0e.includes(t.type)){const{cacheKey:i,cacheVersion:o}=qI[n];Kce((s=(r=vI())==null?void 0:r.id)!=null?s:null,i,t.query.state.data,o)}}))}function N0e(e,t,n,r){A0e(e),qI[lv(t)]={cacheKey:n,cacheVersion:r}}function jE(e,t,n){"use forget";const r=j.c(4);if(!md())return;let i;return r[0]!==e||r[1]!==t||r[2]!==n?(i=z8(e,t,n),r[0]=e,r[1]=t,r[2]=n,r[3]=i):i=r[3],i}function z8(e,t,n){const r=ze(),s=en();return N0e(s,n,e,t),()=>{var o;const i=Yce((o=r==null?void 0:r.id)!=null?o:null,e,t);if(i!=null)return i}}function I0e(e){var n,r,s;const t=(s=(r=(n=Pa())==null?void 0:n.account)==null?void 0:r.id)!=null?s:null;Jce(t,e)}const P0e="q",LKe="disable_auto_send",DKe="author",Y8="owner_user_id",VI="tab";function UKe(e,t={}){const{gizmo:n,project:r,ownerUserId:s,accountUserId:i,superWidgetTab:o}=t;if(n&&r)throw new Error("Cannot provide both GPT and project");if(n&&!V8(n.gizmo.id))throw new Error("Invalid gizmo ID");if(r&&!As(r.id))throw new Error("Invalid project ID ".concat(r.id));const a=new URLSearchParams;if(r&&s&&s!==i){a.set(Y8,s),o&&a.set(VI,o);const d="".concat(Lc(PG(r)),"/shared/c/").concat(e,"?").concat(a.toString());return yu(d).toString()}let c="/c/".concat(e);r?c="".concat(Lc(PG(r)),"/c/").concat(e):n&&(c="".concat(Lc(Oh(n)),"/c/").concat(e)),o&&a.set(VI,o);const l=a.toString(),u=l?"".concat(c,"?").concat(l):c;return yu(u).toString()}function FKe(e,t,n){const r="".concat(Lc(Oh(t)),"/shared/c/").concat(e,"?").concat(Y8,"=").concat(n);return"https://chatgpt.com".concat(r)}function Oh(e){var t,n;return(n=(t=e.gizmo.short_url)!=null?t:e.gizmo.id)!=null?n:"-"}function PG(e){var t,n;return e.gizmo_snorlax_type==="potion"?"health":(n=(t=e.short_url)!=null?t:e.id)!=null?n:"-"}function Lc(e){return"/g/".concat(e)}function GKe(){return"/gpts"}function jKe(){return"/schedules"}function BKe(){return"/gpts/mine"}function K8(e){return e?"/gpts/editor/".concat(e):"/gpts/editor"}function HKe(e){const t=w0e();return e==null?t:K8(e)}function w0e(e){return K8(e)}function R0e(e){if(!e)return null;try{return new URL(e).hostname}catch(t){return null}}function $Ke(e){const t=R0e(e);return t?t.replace(/^www\./,""):e}const BE="client-correlated-secret";function wG(){const e=localStorage.getItem(BE);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function J8(){wG()==null&&localStorage.setItem(BE,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=wG();if(t==null)throw new Error("Failed to get key from storage");return t}function x0e(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function M0e(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function k0e(e){const t=new URL(e),n=nn({queryKey:[BE,"generate-challenge",e.search],queryFn:async()=>M0e(await crypto.subtle.sign("HMAC",await J8(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function WKe(){const e=location==null?void 0:location.search,t=location==null?void 0:location.hash;return nn({queryKey:[BE,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await J8(),x0e(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}class Xt{static getMyGizmos(){return rt("gizmo_api.get_my_gizmos",()=>tt.get("".concat(Qe,"/gizmos?mine=true")))}static getGizmosByUser(t){return rt("gizmo_api.get_gizmos_by_user",()=>tt.get("".concat(Qe,"/gizmos/u/").concat(t)))}static getGizmo(t,n){const r=n?"?draft=true":"";return rt("gizmo_api.get_gizmo",()=>tt.get("".concat(Qe,"/gizmos/").concat(t).concat(r)))}static getGizmoPublic(t){return rt("gizmo_api.get_gizmo_public",()=>hle.safeGet("/gizmos/{gizmo_id_or_short_url}",{parameters:{path:{gizmo_id_or_short_url:t}},authOption:cn.Anonymous}))}static shareGizmo(t,n){return rt("gizmo_api.share",()=>tt.post("".concat(Qe,"/gizmos/").concat(t,"/share"),n))}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),rt("gizmo_api.discovery",()=>tt.get(n?"".concat(om,"/gizmos/discovery_anon?").concat(r):"".concat(om,"/gizmos/discovery?").concat(r),{authOption:cn.SendIfAvailable}))}static async getGizmoDiscoveryCut(t,n){const r=i=>{const o={};i!=null&&(o.cursor=i),(n==null?void 0:n.limit)!=null&&(o.limit="".concat(n.limit)),(n==null?void 0:n.locale)!=null&&(o.locale=n.locale);const a="".concat(om,"/gizmos/discovery/").concat(t);return rt("gizmo_api.discovery",()=>tt.get(a,{params:o,authOption:cn.SendIfAvailable}))},s=await r(n==null?void 0:n.cursor);return s.list.items.length===0&&s.list.cursor!=null?(await new Promise(i=>setTimeout(i,Math.random()*30)),await r(s.list.cursor)):s}static getGizmoBootstrap(t){return rt("gizmo_api.bootstrap",()=>tt.get("".concat(Qe,"/gizmos/bootstrap?limit=").concat(t)))}static getGizmoPinned(){return rt("gizmo_api.pinned",()=>tt.get("".concat(Qe,"/gizmos/pinned")))}static getGizmoSearch(t,n=null){return n?rt("gizmo_api.search_with_cursor",()=>tt.get("".concat(Qe,"/gizmos/search?q=").concat(t,"&cursor=").concat(n," "))):rt("gizmo_api.search",()=>tt.get("".concat(Qe,"/gizmos/search?q=").concat(t)))}static getGizmoSearchForWorkspace(t,n=null){return n?rt("gizmo_api.search_workspace_cursor",()=>tt.get("".concat(Qe,"/gizmos/search?q=").concat(t,"&workspace_only=true&cursor=").concat(n))):rt("gizmo_api.search_workspace",()=>tt.get("".concat(Qe,"/gizmos/search?q=").concat(t,"&workspace_only=true")))}static async postGizmoAppeal(t,n,r,s,i){await rt("gizmo_api.appeal",()=>tt.post("".concat(Qe,"/gizmos/").concat(n,"/appeal"),{reason:r,share_recipient:s,categories:i})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await rt("gizmo_api.cancel_appeal",()=>tt.post("".concat(Qe,"/gizmos/").concat(n,"/cancel_appeal"),{})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?rt("gizmo_api.upsert_gizmo",()=>tt.post("".concat(Qe,"/gizmos?gizmo_id=").concat(n),t)):rt("gizmo_api.upsert_gizmo",()=>tt.post("".concat(Qe,"/gizmos"),t))}static promoteDraft(t,n){return rt("gizmo_api.promote",()=>tt.post("".concat(Qe,"/gizmos/").concat(n,"/promote"),t))}static deleteGizmo(t){return rt("gizmo_api.delete_gizmos",()=>H.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}}))}static getBuilderProfile(){return rt("gizmo_api.gizmo_creator_profile",()=>tt.get("".concat(Qe,"/gizmo_creator_profile")))}static updateBuilderProfile(t){return rt("gizmo_api.gizmo_creator_profile",()=>tt.post("".concat(Qe,"/gizmo_creator_profile"),t))}static unverifySocialAuth(t){return rt("gizmo_api.delete_socials",()=>H.safeDelete("/gizmo_creator_profile/socials/{verifier_type}",{parameters:{path:{verifier_type:t}}}))}static async updateGizmoSidebar(t,n,r,s,i){const o=await rt("gizmo_api.update_sidebar",()=>tt.post("".concat(Qe,"/gizmos/").concat(r,"/sidebar"),{action:s}));switch(s){case"keep":re.logEvent("Sidebar Gizmo Keep",{location:i}),n.handleGizmoSidebarKeep(t,r);break;case"hide":re.logEvent("Sidebar Gizmo Hide",{location:i}),n.handleGizmoSidebarHide(t,r);break}return o}static async removeFromRecent(t,n){const r=await rt("gizmo_api.remove_recent",()=>tt.post("".concat(Qe,"/gizmos/").concat(n,"/remove_recent"),{}));return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return rt("gizmo_api.fetch_openapi",()=>tt.post("".concat(Qe,"/gizmos/fetch_openapi"),{url:t}))}static validateOpenAPISpec(t){return rt("gizmo_api.validate_openapi",()=>tt.post("".concat(Qe,"/gizmos/validate_openapi"),{raw_spec:t}))}static transformToOpenAPISpec(t,n){return rt("gizmo_api.transform_openapi",()=>tt.post("".concat(Qe,"/gizmos/transform_openapi"),P(S({},t),{auth:n})))}static async doOAuthRedirect(t,n,r,s,i){const o=await rt("gizmo_api.oauth_redirect",()=>tt.post("".concat(Qe,"/gizmos/oauth_redirect"),{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:s,draft:i}));window.location.href=o.redirect_uri}static async upsertUserActionSettings(t,n,r){return rt("gizmo_api.action_settings",()=>tt.post("".concat(Qe,"/gizmos/action_settings"),{gizmo_action_id:t,domain:n,action_settings:r}))}static async getUserActionSettings(t){return rt("gizmo_api.user_action_settings",()=>tt.get("".concat(Qe,"/gizmos/user_action_settings?gizmo_id=").concat(t)))}static async generateCategory(t,n){return rt("gizmo_api.gen_category",()=>tt.post("".concat(Qe,"/gizmos/gen_category"),{name:t,instructions:n}))}static async getConversations(t,n=null){return rt("gizmo_api.conversations",()=>tt.get("".concat(Qe,"/gizmos/").concat(t,"/conversations"),{params:S({},n?{cursor:n}:{})}))}static async getProjectConversations(t,n=null){return rt("gizmo_api.conversations",()=>tt.get("".concat(Qe,"/gizmos/").concat(t,"/conversations"),{params:S({},n?{cursor:n}:{})}))}static async getCategories(){return rt("gizmo_api.categories",()=>tt.get("".concat(Qe,"/gizmos/categories")))}static async getUserReview(t){return rt("gizmo_api.get_gizmo_reviews",()=>tt.get("".concat(Qe,"/gizmo_reviews/").concat(t)))}static async upsertUserReview(t,n,r,s){return rt("gizmo_api.upsert_gizmo_reviews",()=>tt.post("".concat(Qe,"/gizmo_reviews/").concat(t),{rating:n,message:r,include_from:s}))}static async sendFeedbackEmail(t,n,r){return rt("gizmo_api.feedback",()=>tt.post("".concat(Qe,"/gizmos/").concat(t,"/feedback"),{message:n,include_from:r}))}static async getAbout(t){return rt("gizmo_api.about",()=>tt.get("".concat(Qe,"/gizmos/").concat(t,"/about")))}static async getCreatorSlice({creatorId:t}){return rt("gizmo_api.gizmo_creators",()=>tt.get("".concat(Qe,"/gizmo_creators/").concat(t,"/gizmos")))}static async getVersion({gizmoId:t,version:n}){return n==null?rt("gizmo_api.latest_version",()=>tt.get("".concat(Qe,"/gizmos/").concat(t,"/version/latest"))):rt("gizmo_api.version",()=>tt.get("".concat(Qe,"/gizmos/").concat(t,"/version/").concat(n)))}static async listVersions({gizmoId:t,limit:n,cursor:r}){const s={};return n&&(s.limit=n),r&&(s.cursor=r),rt("gizmo_api.versions",()=>tt.get("".concat(Qe,"/gizmos/").concat(t,"/versions"),{params:s}))}static async copyGizmo({gizmoId:t}){return rt("gizmo_api.copy",()=>tt.post("".concat(Qe,"/gizmos/").concat(t,"/copy")))}}async function rt(e,t){return q.addAction("".concat(e,".start")),t().catch(n=>{throw q.addAction("".concat(e,".failure"),{error:n}),n})}const qKe=()=>Pe("1355972088"),Ns=()=>ln("2826703856"),VKe=()=>Ns().get("self_serve_page_enabled",!1),zKe=()=>Ns().get("models_display_in_rbac_page",!1),YKe=()=>Ns().get("features_display_in_rbac_page",!1),KKe=()=>Ns().get("beta_settings_display_in_rbac_page",!1),JKe=()=>Ns().get("beta_settings_display_in_rbac_page_advanced",!1),XKe=()=>Ns().get("gpt_settings_display_in_rbac_page",!1),L0e=()=>Ns().get("enable_gpt_fe_controls",!1),QKe=()=>Ns().get("enable_project_fe_controls",!1),ZKe=()=>Pe("1277555238"),eJe=()=>Ns().get("enable_agent_mode",!1),tJe=()=>Ns().get("enable_aura",!1),nJe=()=>Ns().get("enable_browser_memories",!1),rJe=()=>Ns().get("enable_thinking_mini",!1),sJe=()=>Pe("2401070674"),D0e=()=>Pe("1627064618"),iJe=()=>Pe("2219601507"),oJe=()=>Pe("831823566"),aJe=()=>Pe("1513410899"),cJe=()=>Pe("544603680");async function U0e(){const e=await H.safeGet("/me",{authOption:cn.SendIfAvailable});return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created,phone_number:e.phone_number,first_name:e.first_name,email_domain_type:["government","professional","education","social","unknown","missing"].includes(e.email_domain_type)?e.email_domain_type:"unknown"}}const X8=fn({queryKey:["user"],queryFn:U0e,staleTime:1/0}),eR=Qt(()=>X8),lJe=ie(()=>{var n,r,s;return((s=(r=(n=vl().data)==null?void 0:n.accountItems)==null?void 0:r.length)!=null?s:0)>1}),uJe=ie(()=>{const e=vl();return at()&&!!e.data&&!OEe(e.data)}),Q8=ie(()=>{const e=eR().data;return e||pt().user}),dJe=ie(()=>{var t,n;const e=Q8();return(n=(t=e==null?void 0:e.name)!=null?t:e==null?void 0:e.email)!=null?n:null});function F0e(){"use forget";return Le(G0e)}function G0e(){return eR().data}const j0e={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function B0e(e){"use forget";const t=j.c(2);let n;return t[0]!==e?(n=()=>{const r=H0e();return e?e(r):r},t[0]=e,t[1]=n):n=t[1],Le(n)}function H0e(){var n,r;const{data:e}=vl();if(e==null)return j0e;const t=sr();return{currentWorkspace:(n=t==null?void 0:t.data)!=null?n:null,subscriptionStatus:(r=t==null?void 0:t.data.subscriptionStatus)!=null?r:null,workspaces:e.accountItems.map($0e)}}function $0e(e){return e.data}const fJe={isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===Mn.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>gp(e==null?void 0:e.planType),isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&Qv(e.planType),isTeamPlan:({subscriptionStatus:e})=>(e==null?void 0:e.planType)===se.SELF_SERVE_BUSINESS,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,businessWorkspaceId:({currentWorkspace:e})=>(e==null?void 0:e.structure)===Mn.WORKSPACE?e.id:void 0,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e==null?void 0:e.accountUserId};function hJe(){"use forget";var e;return(e=Ga())==null?void 0:e.data.subscriptionStatus.lastActiveSubscription}function pJe(e){return e.email_domain_type==="professional"||e.email_domain_type==="government"||e.email_domain_type==="unknown"}function _Je(e){return e.email_domain_type==="professional"||e.email_domain_type==="unknown"}const tR=e=>{var a,c;const t=Ga(),n=t==null?void 0:t.getWorkspaceId(),r=L0e(),{data:s,isLoading:i}=A7(n);if(!(t!=null&&t.isWorkspaceAccount()))return{hasWorkspacePermission:!0,isLoading:!1};const o=(c=(a=s==null?void 0:s.permissions)==null?void 0:a.includes(e))!=null?c:!1;return{hasWorkspacePermission:r?o:!0,isLoading:i}},mJe=()=>{const e=Ga(),{hasWorkspacePermission:t,isLoading:n}=tR(bd.CrudGPT);return{canCreate:((e==null?void 0:e.hasPaidFeatures())||(e==null?void 0:e.isFreeWorkspace()))&&t,isLoading:n}};function gJe(e){var s,i;const{hasWorkspacePermission:t,isLoading:n}=tR(bd.CrudGPT);return{canDelete:(i=t&&((s=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:s.can_delete))!=null?i:!1,isLoading:n}}function vJe(e){var s,i;const{hasWorkspacePermission:t,isLoading:n}=tR(bd.CrudGPT);return{canEdit:(i=t&&((s=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:s.can_write))!=null?i:!1,isLoading:n}}function EJe(e){var t,n;return{canViewConfig:(n=(t=e.gizmo.current_user_permission)==null?void 0:t.can_view_config)!=null?n:!1}}function W0e(e,t,n){const r=t==null?void 0:t.name;switch(e){case St.Link:return n.formatMessage(U_.privacyAnyoneWithLink);case St.Private:return n.formatMessage(U_.privacyOnlyMe);case St.Group:case St.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case St.Marketplace:return n.formatMessage(U_.privacyMarketplace);case St.Workspace:return n.formatMessage(U_.privacyWorkspace,{workspaceName:r});case St.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function CJe(e){const t=vt(),n=B0e(r=>r.currentWorkspace);return W0e(e,n,t)}function q0e(e){return"gizmo"in e}function V0e(e){return"id"in e}function yJe(e){return"".concat(e.replaceAll(".","_").replaceAll("-","_"),"__jit_plugin")}const U_=Rt({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),SJe="GPT Builder",Z8="gizmo-bootstrap",ez=1;function TJe(e){if(e)return"ChatGPT - ".concat(e)}function OJe(e){return"https://chatgpt.com".concat(Lc(e))}function tz(e){return Pe("491279851")&&As(e.gizmo.id)?e.gizmo.gizmo_snorlax_type==="potion"?yu("/g/health"):yu("".concat(Lc(Oh(e)),"/project")):yu(Lc(Oh(e)))}function bJe(e,t){"use forget";const n=j.c(3);let r;if(n[0]!==e||n[1]!==t){const s=tz(e);r=new URL(s,"https://chatgpt.com"),t!=null&&r.searchParams.set(P0e,t),n[0]=e,n[1]=t,n[2]=r}else r=n[2];return k0e(r)}function AJe(e){return"/g/".concat(Oh(e))}function NJe(e){return q0e(e)&&e.gizmo.live_version===0||V0e(e)&&e.liveVersion===0}function IJe(e,t){"use forget";const n=j.c(3);let r;return n[0]!==t||n[1]!==e?(r={queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:()=>Xt.getGizmoDiscovery(e,t)},n[0]=t,n[1]=e,n[2]=r):r=n[2],nn(r)}function PJe(e){"use forget";const t=j.c(10),{cutId:n,locale:r,limit:s,cursor:i,enabled:o}=e,a=o===void 0?!0:o;let c,l;t[0]!==n||t[1]!==s||t[2]!==r?(c=["gizmos","discovery",{cutId:n,locale:r,limit:s}],l=d=>{const{pageParam:f}=d;return Xt.getGizmoDiscoveryCut(n,{locale:r,cursor:f,limit:s})},t[0]=n,t[1]=s,t[2]=r,t[3]=c,t[4]=l):(c=t[3],l=t[4]);let u;return t[5]!==i||t[6]!==a||t[7]!==c||t[8]!==l?(u={queryKey:c,queryFn:l,initialPageParam:i,getNextPageParam:z0e,enabled:a},t[5]=i,t[6]=a,t[7]=c,t[8]=l,t[9]=u):u=t[9],id(u)}function z0e(e){var t;return(t=e.list.cursor)!=null?t:void 0}const wJe=Qt(()=>fn({queryKey:["gizmos","discovery",{cutId:"recent",limit:20}],queryFn:()=>Xt.getGizmoDiscoveryCut("recent",{limit:20}),enabled:at()})),RJe=Qt(()=>fn({queryKey:["gizmos","pinned"],enabled:at(),queryFn:Xt.getGizmoPinned}));function Dc(e=2){return fn({queryKey:["gizmos","bootstrap"],experimental_prefetchInRender:!0,queryFn:async()=>Xt.getGizmoBootstrap(e).then(t=>(q.addFirstTiming("load.gizmoBootstrap"),{gizmos:Object.values(t).flat().filter(r=>r).filter(r=>{var s;return((s=r.resource.gizmo)==null?void 0:s.gizmo_type)!==Dg.PROJECT}).map(r=>({resource:r.resource,flair:r.flair}))}))})}const xJe=Qt(Dc);function MJe(){"use forget";const e=j.c(4),n=Pe("1524046265")?20:2,r=md();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=Dc(n),e[0]=s):s=e[0];const i=s,o=jE(Z8,ez,i.queryKey);let a;return e[1]!==r||e[2]!==o?(a=P(S({},i),{enabled:r,initialData:o}),e[1]=r,e[2]=o,e[3]=a):a=e[3],nn(a)}function kJe(){"use forget";const e=j.c(3),n=Pe("1524046265")?20:2;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=Dc(n),e[0]=r):r=e[0];const s=r,i=jE(Z8,ez,s.queryKey);let o;return e[1]!==i?(o=P(S({},s),{initialData:i}),e[1]=i,e[2]=o):o=e[2],HH(o)}function RG(e,t){const n=e.filter(s=>s.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(s=>s.flair.kind===au.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const LJe={handleGizmoInteracted(e,t){const n=e.getQueryData(Cn(e,t).queryKey);n==null||As(t)||e.setQueryData(Dc().queryKey,r=>{if(r==null)return r;const s=r.gizmos.find(i=>i.resource.gizmo.id===t);return(s==null?void 0:s.flair.kind)===au.FirstParty||(s==null?void 0:s.flair.kind)===au.SidebarKeep?r:{gizmos:RG(r.gizmos,{resource:n,flair:{kind:au.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(Cn(e,t).queryKey);n!=null&&e.setQueryData(Dc().queryKey,r=>r==null?r:{gizmos:RG(r.gizmos,{resource:n,flair:{kind:au.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(Dc().queryKey,n=>n!=null&&n.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}},Y0e=ci((e,t)=>Qt(()=>Cn(en(),t,!1,!at()))),DJe=ci((e,t)=>Qt(()=>Cn(en(),t,!0,!at())));function UJe(e,t){"use forget";const n=j.c(5),r=t===void 0?!1:t,s=tn();let i;n[0]===Symbol.for("react.memo_cache_sentinel")?(i=at(),n[0]=i):i=n[0];const o=!i;let a;return n[1]!==r||n[2]!==e||n[3]!==s?(a=Cn(s,e,r,o),n[1]=r,n[2]=e,n[3]=s,n[4]=a):a=n[4],nn(a)}function FJe(e){"use forget";const t=j.c(3),n=tn();let r;return t[0]!==e||t[1]!==n?(r=Cn(n,e),t[0]=e,t[1]=n,t[2]=r):r=t[2],nn(r)}const GJe=e=>{"use forget";const t=j.c(9),{gizmoId:n,limit:r,cursor:s}=e;let i;t[0]!==s||t[1]!==n||t[2]!==r?(i=["gizmo","versions",{gizmoId:n,limit:r,cursor:s}],t[0]=s,t[1]=n,t[2]=r,t[3]=i):i=t[3];let o;t[4]!==n?(o=()=>Xt.listVersions({gizmoId:n}),t[4]=n,t[5]=o):o=t[5];let a;return t[6]!==i||t[7]!==o?(a={queryKey:i,queryFn:o},t[6]=i,t[7]=o,t[8]=a):a=t[8],nn(a)};function jJe(e){"use forget";const t=j.c(5),{gizmoId:n,draft:r,version:s}=e,i=tn();let o;return t[0]!==r||t[1]!==n||t[2]!==i||t[3]!==s?(o=s?{queryKey:["gizmo","version",{gizmoId:n,version:s}],queryFn:()=>Xt.getVersion({gizmoId:n,version:s}),enabled:n!=null}:Cn(i,n,r),t[0]=r,t[1]=n,t[2]=i,t[3]=s,t[4]=o):o=t[4],nn(o)}function BJe(e,t){"use forget";const n=j.c(7);let r,s;n[0]!==e?(r=["gizmo","userActionSettings",{gizmoId:e}],s=()=>Xt.getUserActionSettings(e),n[0]=e,n[1]=r,n[2]=s):(r=n[1],s=n[2]);const i=e!=null&&t;let o;return n[3]!==r||n[4]!==s||n[5]!==i?(o={queryKey:r,queryFn:s,enabled:i},n[3]=r,n[4]=s,n[5]=i,n[6]=o):o=n[6],nn(o)}function Cn(e,t,n=!1,r=!1){return fn({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>r?Xt.getGizmoPublic(t):Xt.getGizmo(t,n),enabled:t!=null,initialData:()=>{var o,a;if(n===!0)return;const s=e.getQueryData(Dc().queryKey);if(s!=null)return(o=s.gizmos.find(c=>c.resource.gizmo.id===t))==null?void 0:o.resource;const i=e.getQueryData(["gizmos","discovery"]);if(i!=null)for(const c of i.cuts){const l=(a=c.list.items.find(u=>u.resource.gizmo.id===t))==null?void 0:a.resource;if(l!=null)return l}}})}function HJe(e,t){return e.fetchQuery(Cn(e,t))}function $Je(e){"use forget";const t=j.c(7);let n,r;t[0]!==e?(n=["gizmo",{search:e}],r=()=>Xt.getGizmoSearch(e),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const s=e.length>0;let i;return t[3]!==n||t[4]!==r||t[5]!==s?(i={queryKey:n,queryFn:r,enabled:s},t[3]=n,t[4]=r,t[5]=s,t[6]=i):i=t[6],nn(i)}function WJe(e,t){"use forget";const n=j.c(7);let r,s;n[0]!==e?(r=["gizmo-search-workspace",{search:e}],s=()=>Xt.getGizmoSearchForWorkspace(e),n[0]=e,n[1]=r,n[2]=s):(r=n[1],s=n[2]);const i=e.length>0&&t;let o;return n[3]!==r||n[4]!==s||n[5]!==i?(o={queryKey:r,queryFn:s,enabled:i},n[3]=r,n[4]=s,n[5]=i,n[6]=o):o=n[6],nn(o)}function qJe(e,t,n,r){"use forget";const s=j.c(14),i=t===void 0?!1:t,o=n===void 0?!1:n,a=r===void 0?null:r,c=o?"gizmo-search-workspace":"gizmo";let l;s[0]!==a||s[1]!==e?(l={query:e,cursor:a},s[0]=a,s[1]=e,s[2]=l):l=s[2];let u;s[3]!==c||s[4]!==l?(u=[c,l],s[3]=c,s[4]=l,s[5]=u):u=s[5];let d;s[6]!==e||s[7]!==o?(d=h=>{const{pageParam:p}=h;return o?Xt.getGizmoSearchForWorkspace(e,p):Xt.getGizmoSearch(e,p)},s[6]=e,s[7]=o,s[8]=d):d=s[8];let f;return s[9]!==a||s[10]!==i||s[11]!==u||s[12]!==d?(f={queryKey:u,queryFn:d,initialPageParam:a,getNextPageParam:K0e,enabled:i},s[9]=a,s[10]=i,s[11]=u,s[12]=d,s[13]=f):f=s[13],id(f)}function K0e(e){var t;return(t=e.cursor)!=null?t:void 0}function VJe(){"use forget";const e=j.c(2),t=tn();let n;return e[0]!==t?(n={mutationFn:J0e,onSettled:r=>{r&&(t.setQueryData(Cn(t,r.gizmo.id,!0).queryKey,r),t.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}},e[0]=t,e[1]=n):n=e[1],Fn(n)}function J0e(e){const{gizmoId:t,editorData:n}=e,{instructions:r,name:s,description:i,emoji:o,theme:a,profilePictureId:c,profilePictureUrl:l,promptStarters:u,tools:d,files:f,defaultModel:h,trainingDisabled:p}=n,_={instructions:r,display:{name:s,description:i,emoji:o,theme:a,profile_pic_id:c,profile_picture_url:l,prompt_starters:u},tools:d,files:f.map(X0e),training_disabled:p,default_model:h!=null?h:void 0};return Xt.upsertDraft(_,t)}function X0e(e){return P(S({},e),{location:X1.FILE_SERVICE})}function zJe(){"use forget";const e=j.c(2),t=tn();let n;return e[0]!==t?(n={mutationFn:Q0e,onSettled:r=>{t.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),t.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),r&&t.setQueryData(Cn(t,r.gizmo.id,!1).queryKey,r)}},e[0]=t,e[1]=n):n=e[1],Fn(n)}async function Q0e(e){const{gizmoId:t,data:n}=e,{sharingRecipient:r,categories:s}=n,i=await Xt.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:s},t);if(i.error)throw new W8(i);return i.resource}function YJe(){"use forget";const e=j.c(2),t=tn();let n;return e[0]!==t?(n={mutationFn:Z0e,onSettled:()=>{t.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}},e[0]=t,e[1]=n):n=e[1],Fn(n)}async function Z0e(e){const{gizmoId:t}=e;return Xt.deleteGizmo(t)}function KJe(){"use forget";const e=j.c(7),t=tn(),n=Kn();let r;e[0]!==t?(r=o=>{t.setQueryData(["builderProfile"],o)},e[0]=t,e[1]=r):r=e[1];let s;e[2]!==n?(s=o=>{n.warning(o.message)},e[2]=n,e[3]=s):s=e[3];let i;return e[4]!==r||e[5]!==s?(i={mutationFn:eAe,onSuccess:r,onError:s},e[4]=r,e[5]=s,e[6]=i):i=e[6],Fn(i)}function eAe(e){const{name:t,hideName:n,websiteUrl:r,willReceiveSupportEmails:s}=e;return Xt.updateBuilderProfile({name:t,hide_name:n,website_url:r,will_receive_support_emails:s})}function JJe(){"use forget";const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["builderProfile"],queryFn:tAe},e[0]=t):t=e[0],nn(t)}function tAe(){return Xt.getBuilderProfile()}function XJe(){"use forget";const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:nAe},e[0]=t):t=e[0],Fn(t)}function nAe(e){const{gizmoId:t}=e;return Xt.copyGizmo({gizmoId:t})}function QJe(){"use forget";const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["gizmoCategories"],queryFn:rAe},e[0]=t):t=e[0],nn(t)}function rAe(){return Xt.getCategories()}function ZJe(e,t){const n=Pe("2632917233");return!!(t!=null&&[Ys.PrimaryAssistant,Ys.GizmoInteraction].includes(t)&&(n||e!=null&&e.includes(q6.GPT_4)))}function eXe(e,t){"use forget";const n=j.c(12),r=tn(),s=Kn();let i;n[0]!==e?(i=async l=>{const{rating:u,message:d,includeFrom:f}=l;await Xt.upsertUserReview(e,u,d,f)},n[0]=e,n[1]=i):i=n[1];let o;n[2]!==e||n[3]!==t||n[4]!==r?(o=()=>{r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},n[2]=e,n[3]=t,n[4]=r,n[5]=o):o=n[5];let a;n[6]!==s?(a=l=>{s.danger(l.message,{toastId:"gizmo_review_error",loggingTitle:"useUpsertUserReviewMutation",loggingDescription:l.message})},n[6]=s,n[7]=a):a=n[7];let c;return n[8]!==i||n[9]!==o||n[10]!==a?(c={mutationFn:i,onSuccess:o,onError:a},n[8]=i,n[9]=o,n[10]=a,n[11]=c):c=n[11],Fn(c)}function nz(e,t){if(t!=null)return e.models.get(t)}function sAe(e){return nz(e,e.defaultModelSlug)}const Em=ot(()=>{var i;const e=at(),t=(i=ze())==null?void 0:i.hasPaidFeatures(),n=Pe("544603680"),r=n?["5.2","5.1","5"]:["5.1","5"],s=e?t?[xG(r[0]),...r.flatMap((o,a)=>[cAe(o,a===0),lAe(o,a===0),uAe(o,a===0)]),dAe()]:[aAe(),xG(n?"5.2":"5.1")]:[oAe()];return{title:t?n?"GPT-5.2":"GPT-5.1":"ChatGPT",secondaryTitle:"",modelPickerVersion:e?2:1,defaultModelSlug:rz(),categories:s,groups:[],models:iAe(fAe(),...r.flatMap(o=>[hAe(o),pAe(o),_Ae(o),vAe(o)]),mAe(),gAe(),EAe(),CAe(),yAe(),SAe(),TAe())}});function Zs(e){return e.replace(".","-")}function nR(e){return e.replace(".","_")}function rz(){var n;const e=(n=ze())==null?void 0:n.hasPaidFeatures(),t=Pe("544603680");return e?t?"gpt-5-2":"gpt-5-1":"auto"}function iAe(...e){return new Map(e.map(t=>[t.id,t]))}const oAe=()=>({categoryId:"auto",color:"#000000",defaultModel:"auto",description:"",label:"Auto",shortLabel:"",shorterLabel:"",tagline:"",subscriptionLevel:wa.FREE,renderHeaderType:Ra.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.AUDIO,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),aAe=()=>({categoryId:"auto_acd64",color:"#000000",defaultModel:"auto",description:"",label:"Auto",shortLabel:"",shorterLabel:"",tagline:"",subscriptionLevel:wa.FREE,renderHeaderType:Ra.SHORT_LABEL,supportedFeatures:[Be.AUDIO,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),xG=e=>{var t;return{categoryId:"gpt_5_auto",color:"#5B41F9",defaultModel:"gpt-".concat(Zs(e)),description:"",label:(t=ze())!=null&&t.hasPaidFeatures()?"Auto":"GPT-".concat(e),shortLabel:e,shorterLabel:e,tagline:"",subscriptionLevel:wa.FREE,renderHeaderType:Ra.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.CANVAS_SUPPORTED,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:["gpt-".concat(Zs(e))],slashCommandEnabled:!1,disabledByAdmin:!1}},cAe=(e,t)=>({categoryId:"gpt_".concat(nR(e),"_instant"),color:"#5B41F9",defaultModel:"gpt-".concat(Zs(e),"-instant"),description:"",label:t?"Instant":"GPT-".concat(e," Instant"),shortLabel:"".concat(e," Instant"),shorterLabel:"".concat(e," Instant"),subcategory:t?void 0:"Legacy models",tagline:"",subscriptionLevel:wa.PLUS,renderHeaderType:Ra.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.CANVAS_SUPPORTED,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:["gpt-".concat(Zs(e),"-instant")],slashCommandEnabled:!1,disabledByAdmin:!1}),lAe=(e,t)=>({categoryId:"gpt_".concat(nR(e),"_reasoning"),color:"#5B41F9",defaultModel:"gpt-".concat(Zs(e),"-thinking"),description:"",label:t?"Thinking":"GPT-".concat(e," Thinking"),shortLabel:"".concat(e," Thinking"),shorterLabel:"".concat(e," Thinking"),subcategory:t?void 0:"Legacy models",tagline:"",subscriptionLevel:wa.PLUS,renderHeaderType:Ra.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.CANVAS_SUPPORTED,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:["gpt-".concat(Zs(e),"-thinking")],slashCommandEnabled:!0,disabledByAdmin:!1}),uAe=(e,t)=>({categoryId:"gpt_".concat(nR(e),"_pro"),color:"#5B41F9",defaultModel:"gpt-".concat(Zs(e),"-pro"),description:"",label:t?"Pro":"GPT-".concat(e," Pro"),shortLabel:"".concat(e," Pro"),shorterLabel:"".concat(e," Pro"),subcategory:t?void 0:"Legacy models",tagline:"",subscriptionLevel:wa.PLUS,renderHeaderType:Ra.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),dAe=()=>({categoryId:"AG8PqS2q",color:"#00BCE5",defaultModel:"gpt-4o",description:"",label:"GPT-4o",shortLabel:"4o",shorterLabel:"4o",subcategory:"Legacy models",tagline:"",subscriptionLevel:wa.PLUS,renderHeaderType:Ra.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.AUDIO,Be.CANVAS_SUPPORTED,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),sz=e=>({id:e,maxTokens:10240,title:e,description:"",tags:[],product_features:{attachments:is},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.OFF,enabledTools:Is()}),fAe=()=>({id:"auto",maxTokens:at()?16384:10240,title:"Auto",description:"",tags:["history_off_approved","gpt4","gpt4o"],product_features:{attachments:is},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.OFF,enabledTools:Is()}),hAe=e=>{var t;return{id:"gpt-".concat(Zs(e)),maxTokens:(t=ze())!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT ".concat(e),description:"",tags:["gpt4","history_off_approved"],product_features:{attachments:is,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.AUTO,enabledTools:Is()}},pAe=e=>{var t;return{id:"gpt-".concat(Zs(e),"-instant"),maxTokens:(t=ze())!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT ".concat(e," Instant"),description:"",tags:["gpt4","history_off_approved"],product_features:{attachments:is,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.OFF,enabledTools:Is()}},_Ae=e=>{var t;return{id:"gpt-".concat(Zs(e),"-thinking"),maxTokens:(t=ze())!=null&&t.hasPaidFeatures()?4e5:16384,title:"GPT ".concat(e," Thinking"),description:"",tags:["history_off_approved"],product_features:{attachments:is,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.ON,enabledTools:Is(),configurableThinkingEffort:!0}},mAe=()=>{var e;return{id:"gpt-5-mini",maxTokens:(e=ze())!=null&&e.hasPaidFeatures()?128e3:16384,title:"GPT-5-mini",description:"",tags:["gpt4o","gpt3.5","gpt4","history_off_approved"],product_features:{attachments:is},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.OFF,enabledTools:Is()}},gAe=()=>{var e;return{id:"gpt-5-t-mini",maxTokens:(e=ze())!=null&&e.hasPaidFeatures()?196608:16384,title:"GPT-5 Thinking Mini",description:"",tags:["history_off_approved"],product_features:{attachments:is,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.ON,enabledTools:Is()}},vAe=e=>({id:"gpt-".concat(Zs(e),"-pro"),maxTokens:209608,title:"GPT ".concat(e," Pro"),description:"",tags:["history_off_approved"],product_features:{attachments:is},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.PRO,enabledTools:["tools","tools2","search"],configurableThinkingEffort:!0}),EAe=()=>{var e;return{id:"gpt-4o",maxTokens:(e=ze())!=null&&e.hasPaidFeatures()?128e3:10240,title:"GPT-4o",description:"",tags:["history_off_approved","gpt4","gpt4o"],product_features:{attachments:is,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.OFF,enabledTools:Is()}},CAe=()=>{var e;return{id:"gpt-4-1",maxTokens:(e=ze())!=null&&e.hasPaidFeatures()?128e3:10240,title:"GPT-4.1",description:"",tags:["history_off_approved","gpt4"],product_features:{attachments:is,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.OFF,enabledTools:Is()}},yAe=()=>({id:"gpt-4-1-mini",maxTokens:8191,title:"GPT-4.1-mini",description:"",tags:["gpt3.5","history_off_approved","gpt4","gpt4o"],product_features:{attachments:is},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.OFF,enabledTools:Is({noCanvas:!0})}),SAe=()=>({id:"o3",maxTokens:196608,title:"o3",description:"",tags:["history_off_approved"],product_features:{attachments:is,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.ON,enabledTools:Is()}),TAe=()=>{var e;return{id:"o4-mini",maxTokens:(e=ze())!=null&&e.hasPaidFeatures()?196608:16384,title:"o4-mini",description:"",tags:["history_off_approved"],product_features:{attachments:is,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:xr.ON,enabledTools:Is()}};function Is(e){var t;return["tools","tools2","search",e!=null&&e.noCanvas?null:"canvas",at()?"image_gen_tool_enabled":"dalle_3",(t=ze())!=null&&t.hasPaidFeatures()?"app_pairing":null].filter(n=>n!=null)}const is={type:ta.Retrieval,can_accept_all_mime_types:!0,image_mime_types:["image/png","image/gif","image/webp","image/jpeg"],accepted_mime_types:["application/javascript","application/json","application/msword","application/pdf","application/rtf","application/toml","application/vnd.apple.keynote","application/vnd.apple.pages","application/vnd.ms-powerpoint","application/vnd.oasis.opendocument.text","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/x-powershell","application/x-rust","application/x-scala","application/x-sql","application/x-yaml","message/rfc822","text/calendar","text/css","text/html","text/javascript","text/jsx","text/markdown","text/plain","text/rtf","text/tsx","text/vbscript","text/x-asm","text/x-astro","text/x-c","text/x-c++","text/x-clojure","text/x-csharp","text/x-dart","text/x-diff","text/x-ejs","text/x-elixir","text/x-erb","text/x-erlang","text/x-go","text/x-groovy","text/x-handlebars","text/x-haskell","text/x-jade","text/x-java","text/x-jinja2","text/x-julia","text/x-kotlin","text/x-liquid","text/x-lisp","text/x-lua","text/x-makefile","text/x-mustache","text/x-objectivec","text/x-objectivec++","text/x-perl","text/x-php","text/x-pug","text/x-python","text/x-r","text/x-rst","text/x-ruby","text/x-rust","text/x-scala","text/x-script.python","text/x-sh","text/x-shellscript","text/x-swift","text/x-tex","text/x-tmpl","text/x-twig","text/x-typescript","text/x-vcard","text/xml"]},iz=e=>oz({isGizmo:xp(e)!=null}),oz=({isGizmo:e})=>{var t;return(t=az(e).data)!=null?t:Em()},OAe=ir(e=>ie(()=>{const t=az(xp(e)!=null);return t.isSuccess&&!t.isStale})),az=e=>e?AAe():bAe(),bAe=Ts(()=>cz(!1)),AAe=Ts(()=>cz(!0));function cz(e){let t;if(e)t=()=>Em();else{const r=z8(Mhe,khe,A9());t=()=>{var s;return(s=r())!=null?s:Em()}}const n=Qt(()=>Lhe({isGizmo:e,IIM:!1,placeholderData:t}),{getServerData:()=>Em()});return NAe(n)}function NAe(e){return ie(()=>{const t=e();return Lce()&&t.data?P(S({},t),{data:Hhe(t.data)}):t})}const ib="model",lz=ir(()=>X(()=>{const e=Rw();if(e.searchParams.has(ib)){const t=e.searchParams.get(ib);if(e.searchParams.delete(ib),window.history.replaceState(window.history.state,"",e.toString()),t&&!ig(t))return t}return null}));function tXe(e,t){lz.set(e,t)}const IAe=ir(e=>ie(()=>{var n,r,s,i,o;const t=pl();return(o=(i=MG(e,lz(e)))!=null?i:MG(e,(s=(r=(n=Rye(e))!=null?n:PAe(e))!=null?r:!t&&wye(e)?rV().model:null)!=null?s:iz(e).defaultModelSlug))!=null?o:wAe()}));function PAe(e){var s,i,o,a;const{ctx:t}=e,n=xp(e);if(!n||!V8(n))return;const r=(s=Y0e(t,n).data)==null?void 0:s.gizmo;if((i=ze())!=null&&i.hasPaidFeatures()){const c=(o=Dhe().data)==null?void 0:o.model_override;if(r!=null&&r.default_model)return(a=c==null?void 0:c[r.default_model])!=null?a:r.default_model}if(r!=null&&r.created_at&&new Date(r.created_at)<new Date("2025-08-13"))return"gpt-4o"}const wAe=ie(()=>{const e=oz({isGizmo:!1}),t=sAe(e);if(t)return t;const{defaultModelSlug:n}=e;return q.addError(new Error("[models] Could not create default model"),{defaultModelSlug:n}),sz(n!=null?n:rz())});function MG(e,t){if(!t||bce().some(r=>r.model_slug===t))return;const n=nz(iz(e),t);return!n&&!OAe(e)?sz(t):n}function RAe(e){return(e==null?void 0:e.data.residencyRegion)!==""&&(e==null?void 0:e.data.residencyRegion)!=="no_constraint"}function Dp(){return Le(()=>uz())}function uz(){const e=sr();return RAe(e)?ln("3131667714").get("regions",[]).includes(e==null?void 0:e.data.residencyRegion):!0}var dz=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e.SB_1B9A6CB4="sb_1b9a6cb4",e))(dz||{});function wd(){return Le(()=>rR())}function rR(){return!at()||!uz()?!1:ln("1001765573").get("ca_enabled",!1)}function nXe(){const e=Dp(),t=ln("1001765573");return e?t.get("ca_enabled",!1)&&t.get("ca_sk_enabled",!1):!1}function rXe(){const e=Dp(),t=ln("1001765573");if(!e)return!1;const n=Pe("3881721129");return t.get("ca_enabled",!1)&&t.get("ca_github_sync_enabled",!1)&&n}function sXe(){const e=Dp(),t=ln("1001765573");return e?t.get("ca_enabled",!1)&&t.get("ca_sharepoint_sync_enabled",!1):!1}function xAe(e){const t=Dp(),n=ln("1001765573");return t?n.get("ca_enabled",!1)&&n.get("ca_".concat(e,"_sync_enabled"),!1):!1}function iXe(){return ln("1001765573").get("github_onboarding_paused",!1)}function oXe(){const e=Dp(),t=ln("1001765573");return e?t.get("ca_personal_enabled",!1):!1}function aXe(){const e=ln("1001765573");if(!e.get("ca_enabled",!1))return null;const n=e.get("feedback_format",null);return n&&Object.values(dz).includes(n)?n:null}const cXe=e=>Nc(e,t=>Oe.getConversationTurns(t).some(n=>n.messages.some(MAe))),MAe=e=>!!(e.author.role===we.Tool&&e.author.name==="file_search"&&e.metadata&&e.metadata.command===K6.Spinner&&e.metadata.retrieval_search_sources&&e.metadata.retrieval_search_sources.some(t=>t.product_type==="contextual_answers"||t.product_type==="slurm"));class Oa{static async admin_list_knowledge_connectors(t){return await H.safeGet("/ca/v2/admin/list_knowledge_connectors",{parameters:{query:{account_id:t}}})}static async admin_list_connection_instances(t){return await H.safeGet("/ca/v2/admin/list_connection_instances",{parameters:{query:{account_id:t}}})}static async admin_get_connection_instance(t,n){return await H.safeGet("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_create_connection_instance(t,n,r){return r===""&&(r=null),await H.safePost("/ca/v2/admin/create_connection_instance",{requestBody:{connection_config:n,connection_name:r!=null?r:null},parameters:{query:{account_id:t}}})}static async admin_request_connect_quickstart(t,n,r){return await H.safeGet("/ca/v2/admin/request_connect_quickstart",{parameters:{query:{account_id:t,connection_id:n,after_flow_redirect_to:r}}})}static async admin_connect_and_quickstart(t,n,r,s){return await H.safePost("/ca/v2/admin/connect_and_quickstart",{parameters:{query:{account_id:t}},requestBody:{plugin_id:n,code:r,state:s}})}static async admin_edit_name_connection_instance(t,n,r){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_name",{requestBody:r,parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_activate_connection_instance(t,n){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/activate",{requestBody:{},parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_delete_connection_instance(t,n){return await H.safeDelete("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_allow_user(t,n,r){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/allow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_disallow_user(t,n,r){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/disallow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_get_access_policy(t,n){return await H.safeGet("/ca/v2/admin/connection_instance/{connection_id}/get_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_update_access_policy(t,n,r){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{allow_all_in_workspace:r}})}static async admin_connection_update_credential(t,n,{admin_email:r,credential_id:s,new_service_credential_content:i}){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_credential",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{admin_email:r,credential_id:s,new_service_credential_content:i}})}static async admin_connection_list_item_scopes(t,n,r,s=null){return await H.safeGet("/ca/v2/admin/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:n},query:{page_token:s,account_id:t,object_type:r}}})}static async admin_connection_update_item_default_scope(t,n,r,s){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_item_default_scope",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,default_selection:s}})}static async admin_connection_block_items(t,n,r,s){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:s}})}static async admin_connection_unblock_items(t,n,r,s){return await H.safePost("/ca/v2/admin/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:s}})}static async user_activate_workspace_connection_and_user({link_id:t,user_extension:n}){return await H.safePost("/ca/v2/user/activate_workspace_connection_and_user",{requestBody:n?{link_id:t,user_extension:n}:{link_id:t}})}static async user_connection_status(){return await H.safeGet("/ca/v2/user/connection_status",{})}static async user_connection_list_item_scopes(t,n,r=null){return await H.safeGet("/ca/v2/user/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:t},query:{page_token:r,object_type:n}}})}static async user_connection_block_items(t,n,r){return await H.safePost("/ca/v2/user/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_unblock_items(t,n,r){return await H.safePost("/ca/v2/user/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_sync_configuration(t){return await H.safeGet("/ca/v2/user/connection_instance/{connection_id}/user_configuration",{parameters:{path:{connection_id:t}}})}static async user_connection_update_sync_configuration(t,n){return await H.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/user_configuration",{parameters:{path:{synced_knowledge_store_id:t}},requestBody:{extension:n}})}static async user_get_file_picker_token(t){return await H.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/file_picker_token",{parameters:{path:{synced_knowledge_store_id:t}}})}static async user_request_connect(t,n,r){return await H.safeGet("/ca/v2/user/request_connect",{parameters:{query:S({connection_id:t,after_flow_redirect_to:n},r?{use_connectors_platform_flow:r}:{})}})}static async user_request_connect_upgrade_to_sync({link_id:t,user_extension:n}){return await H.safePost("/ca/v2/user/upgrade_to_sync",{requestBody:{link_id:t,user_extension:n}})}static async user_connection_oauth_callback(t,n,r){return await H.safePost("/ca/v2/user/connect_and_activate",{requestBody:{plugin_id:t,code:n,state:r}})}static async user_delete_sync(t){return await H.safePost("/ca/v2/user/delete_synced",{requestBody:{link_id:t}})}static async user_disconnect(t){return await H.safePost("/ca/v2/user/disconnect",{requestBody:{connection_id:t}})}}const lXe=({skip:e=!1}={})=>{const{data:t,isLoading:n}=Le(()=>nl.if$(!e));return{gDriveOAuthConnectionId:T.useMemo(()=>{const s=t==null?void 0:t.connection_statuses;return s&&s.length===1&&s[0].user_connection_details.auth_status==="not_connected"&&s[0].user_connection_details.knowledge_connector_type==="google_drive_oauth"?s[0].user_connection_details.connection_instance_id:null},[t]),refetch:()=>nl.refetch(),isLoading:n}},fz=()=>{const{data:e}=nl();return e?hz(e):!1};function hz(e){return e.connection_statuses.some(t=>["partially_activated","activated"].includes(t.user_connection_details.activation_status))}const kAe=1.5,LAe=120*1e3;let pz=0;function kG(e){return Math.min(e*kAe**(pz-1),LAe)}const nl=Qt(()=>fn({queryKey:["user_connection_status"],queryFn:()=>(pz++,Oa.user_connection_status()),refetchInterval:e=>{const t=e.state.status==="success"&&e.state.data&&!e.state.data.connection_statuses.some(r=>r.user_connection_details.activation_status==="activating"||r.user_connection_details.activation_status==="partially_activated");return e.state.status==="success"&&e.state.data&&e.state.data.connection_statuses.some(r=>(r.user_connection_details.auth_status==="user_connected"||r.user_connection_details.auth_status==="admin_connected")&&!(r.user_connection_details.activation_status==="activating"||r.user_connection_details.activation_status==="partially_activated"||r.user_connection_details.activation_status==="activated"))?kG(2*1e3):t?!1:kG(30*1e3)}}),{enabled$:()=>rR()});function sR(){return nl.refetch()}const Up=e=>e!=null;function So(e=!1){return["fetchConnectorLinkData",e]}function _z(e,t,n){const r=["fetchPlatformConnectorData",e,!!t];return n!==void 0&&r.push(!!n),r}const uXe=(e,t)=>["connectors",e,t].filter(Up),dXe=(e,t)=>["roles",e,t].filter(Up),fXe=(e,t,n)=>["permissions",e,t,n].filter(Up),hXe=(e,t)=>["connectorTos",e,t].filter(Up),pXe=e=>["admin:knowledge_connectors_with_connections",e].filter(Up),DAe=()=>Pe("3999836663");function HE(){var s,i,o,a;const e=!!((i=(s=ln("463092697"))==null?void 0:s.value)!=null&&i.enabled),t=!!((a=(o=ln("1001765573"))==null?void 0:o.value)!=null&&a.ca_enabled),n=Pe("3544641259"),r=Pe("3933797510");return e||t||n||r||DAe()}var ob,LG;function UAe(){if(LG)return ob;LG=1;function e(t,n,r,s){for(var i=-1,o=t==null?0:t.length;++i<o;){var a=t[i];n(s,a,r(a),t)}return s}return ob=e,ob}var ab,DG;function FAe(){if(DG)return ab;DG=1;var e=c9();function t(n,r,s,i){return e(n,function(o,a,c){r(i,o,s(o),c)}),i}return ab=t,ab}var cb,UG;function GAe(){if(UG)return cb;UG=1;var e=UAe(),t=FAe(),n=ml(),r=rs();function s(i,o){return function(a,c){var l=r(a)?e:t,u=o?o():{};return l(a,i,n(c,2),u)}}return cb=s,cb}var lb,FG;function jAe(){if(FG)return lb;FG=1;var e=I1(),t=GAe(),n=Object.prototype,r=n.hasOwnProperty,s=t(function(i,o,a){r.call(i,a)?i[a].push(o):e(i,a,[o])});return lb=s,lb}var BAe=jAe();const HAe=jt(BAe),$Ae=async(e,t,n,r,s)=>{var o,a;const i=await H.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],purpose:n},parameters:{query:{skip_actions:r,external_logos:s}},additionalHeaders:t?{[zt]:t}:void 0});return{connectors:(o=i.connectors)!=null?o:[],templates:(a=i.app_templates)!=null?a:[]}};function _Xe(e,t,n,r,s){"use forget";const i=j.c(14),o=e===void 0?!0:e,a=t===void 0?void 0:t,c=n===void 0?void 0:n,l=r===void 0?!1:r,u=void 0,d=ri();let f;i[0]!==d||i[1]!==o||i[2]!==a||i[3]!==c||i[4]!==u?(f=()=>To.if$(d,{productSku:a,purpose:c,skipLogos:u},o),i[0]=d,i[1]=o,i[2]=a,i[3]=c,i[4]=u,i[5]=f):f=i[5];const{data:h,isLoading:p,isFetching:_,error:m}=Le(f);let v;i[6]!==h||i[7]!==l?(v=Fp(h,l),i[6]=h,i[7]=l,i[8]=v):v=i[8];let E;return i[9]!==m||i[10]!==_||i[11]!==p||i[12]!==v?(E={platformConnectors:v,isLoading:p,isFetching:_,error:m},i[9]=m,i[10]=_,i[11]=p,i[12]=v,i[13]=E):E=i[13],E}const To=ci((e,t)=>Qt(()=>WAe(t)),e=>JSON.stringify([e==null?void 0:e.productSku,e==null?void 0:e.purpose,e==null?void 0:e.skipLogos,e==null?void 0:e.skipActions])),mz=(e,t)=>{const{data:n}=To(e,t);return n&&Fp(n)};function WAe(e){var s,i,o;const t=(s=e==null?void 0:e.skipLogos)!=null?s:!0,n=(i=e==null?void 0:e.skipActions)!=null?i:!0,r=(o=ze())==null?void 0:o.normalizedAccountUserId;return fn({queryKey:_z(e==null?void 0:e.purpose,t,n),queryFn:async()=>await $Ae(dr(r),e==null?void 0:e.productSku,e==null?void 0:e.purpose,n,t),enabled:r!=null&&HE()})}const qAe=new Map,mXe=e=>{var t;return(t=e==null?void 0:e.templates)!=null?t:[]};function Fp(e,t=!1){return e?t?VAe(e.connectors):zAe(e.connectors):qAe}const VAe=Ao(e=>new Map(e.map(t=>[t.id,t]))),zAe=Ao(e=>{const t=e.filter(n=>{var r;return((r=n.labels)==null?void 0:r.admin_only_connector)!=="true"});return new Map(t.map(n=>[n.id,n]))}),YAe=async(e,t=!1,n=void 0)=>{const r=await H.safePost("/aip/connectors/links/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],link_refresh_strategy:t?"BLOCKING":"NONE"},additionalHeaders:n?{[zt]:n}:void 0});return HAe(r.links,({connector_id:s})=>s)};function iR({skip:e=!1,fetchValidLinksOnly:t=!1,productSku:n}={}){const r=Ez(t,n);e&&(r.enabled=!1);const{data:s,isLoading:i,isFetching:o,error:a,refetch:c}=nn(r);return{connectorLinks:T.useMemo(()=>s!=null?s:new Map,[s]),isLoading:i,isFetching:o,error:a,refetch:c}}const gz=(e,{fetchValidLinksOnly:t=!1,productSku:n}={})=>vz(e,t,n),vz=ci((e,t,n)=>Qt(()=>Ez(t,n)));function Ez(e,t){const n=ze(),r=n==null?void 0:n.normalizedAccountUserId,s=HE();return fn({refetchOnWindowFocus:"always",refetchOnReconnect:"always",queryKey:So(e),enabled:r!=null&&s,queryFn:()=>YAe(dr(r),e,t),select:i=>new Map(Object.entries(i))})}function gXe({skip:e=!1,productSku:t}={}){const n=ri();T.useEffect(()=>{e||(To.prefetch(n,{productSku:t}),vz.prefetch(n,!1,t))},[n,e,t])}const KAe=Ee(_t,"6e9bd1",28,28),Cz=Ee(et,"9cd8ab",24,24),yz=Ee(et,"c0815b",24,24),Sz=Ee(et,"27b797",24,24),Tz=Ee(et,"8b8ff4",24,24),Oz=Ee(et,"df22b4",24,24),JAe=Ee(et,"52c172",24,24),bz=Ee(et,"534fe3",24,24),$E=Ee(et,"41af4e",24,24),Az=Ee(et,"e457bf",24,24),Nz=Ee(et,"f7d6b7",24,24),Iz=Ee(et,"1a6f23",24,24),Pz=Ee(et,"df0119",24,24),GG=Ee(et,"9b4410",24,24),jG=Ee(et,"b4ae2d",24,24),BG=Ee(et,"d2ee17",24,24),rl=Ee(et,"030f5c",24,24),wz=Ee(et,"3ca002",24,24),Cm=Ee(et,"b6d04a",24,24),Rz=Ee(et,"2cdfa2",24,24),xz=Ee(et,"161acc",24,24),Mz=Ee(et,"fb7ac3",24,24),WE=Ee(et,"a95857",24,24),zI=Ee(et,"79227a",24,24),XAe=Ee(et,"162f25"),YI=Ee(et,"de6e9f",20,20),QAe=Ee(et,"6ab6f2",0,0),kz=Ee(et,"90dd0a",24,24),qE=Ee(et,"eef8f4",24,24),Lz=Ee(et,"d11ee2",24,24),Dz=Ee(et,"7e1042",24,24),Ec=Ee(et,"b5a8d1",24,24),Uz=Ee(et,"3df65b",24,24),Fz=Ee(et,"6e9417",24,24),Gz=Ee(_t,"a18104",20,20),vXe=Object.freeze(Object.defineProperty({__proto__:null,default:Gz},Symbol.toStringTag,{value:"Module"}));var Ut=(e=>(e.CODEX="CODEX",e.PROMPT_TEXT_AREA="PROMPT_TEXT_AREA",e.CONNECTOR_SETTING="CONNECTOR_SETTING",e.ADMIN_SETTING="ADMIN_SETTING",e.SLURM="SLURM",e.DEEP_RESEARCH="DEEP_RESEARCH",e.JIT_PLUGIN="JIT_PLUGIN",e.N7JUPD="N7JUPD",e))(Ut||{});const ZAe=Rt({github:{id:"platformConnectors.github",defaultMessage:"GitHub"},hubspot:{id:"platformConnectors.hubspot",defaultMessage:"HubSpot"},googleDrive:{id:"platformConnectors.googleDrive",defaultMessage:"Google Drive"},gmail:{id:"platformConnectors.gmail",defaultMessage:"Gmail"},googleContacts:{id:"platformConnectors.googleContacts",defaultMessage:"Google Contacts"},gcal:{id:"platformConnectors.gcal",defaultMessage:"Google Calendar"},dropbox:{id:"platformConnectors.dropbox",defaultMessage:"Dropbox"},linear:{id:"platformConnectors.linear",defaultMessage:"Linear"},sharepoint:{id:"platformConnectors.sharepoint",defaultMessage:"SharePoint"},outlookEmail:{id:"GJeJu+",defaultMessage:"Outlook Email"},outlookCalendar:{id:"ZaCgzD",defaultMessage:"Outlook Calendar"},teams:{id:"1F0GKN",defaultMessage:"Teams"},box:{id:"l5cshA",defaultMessage:"Box"},intercom:{id:"IeKzI2",defaultMessage:"Intercom"},notion:{id:"ewTDRt",defaultMessage:"Notion"},canva:{id:"2oFmyl",defaultMessage:"Canva"},confluence:{id:"9OL98Q",defaultMessage:"Confluence"},jira:{id:"Nm71Up",defaultMessage:"Jira"},jiraServiceManagement:{id:"cjC5DU",defaultMessage:"Jira Service Management"},slack:{id:"Do199+",defaultMessage:"Slack"},aha:{id:"MJ13Xc",defaultMessage:"Aha!"},asana:{id:"b+LuOp",defaultMessage:"Asana"},azureDevops:{id:"EMGnXy",defaultMessage:"Azure DevOps"},basecamp:{id:"WtFh36",defaultMessage:"Basecamp"},clickup:{id:"pP1J7F",defaultMessage:"ClickUp"},front:{id:"bP9Vhb",defaultMessage:"Front"},gitlab:{id:"U3zBPE",defaultMessage:"GitLab"},helpScout:{id:"7ST8TO",defaultMessage:"Help Scout"},ironclad:{id:"EgicM8",defaultMessage:"Ironclad"},pipedrive:{id:"PZc8St",defaultMessage:"Pipedrive"},salesforceServiceCloud:{id:"p3e7aq",defaultMessage:"Salesforce Service Cloud"},shortcut:{id:"fMr0j2",defaultMessage:"Shortcut"},teamwork:{id:"NC9s7t",defaultMessage:"Teamwork"},zendesk:{id:"eAbTKh",defaultMessage:"Zendesk"},zoho:{id:"2Xpxq+",defaultMessage:"Zoho"},zohoDesk:{id:"QWma/o",defaultMessage:"Zoho Desk"},disabledByAdmin:{id:"2+q1p8",defaultMessage:"Your admin has not enabled this connector."},medicalRecords:{id:"1ldLBw",defaultMessage:"Medical Records"},healthkit:{id:"eWUoSJ",defaultMessage:"HealthKit"}}),Ve=S({},ZAe),EXe={[x.GITHUB_CONNECTOR]:{title:Ve.github,icon:Iz},[x.GDRIVE_ACTION_CONNECTOR]:{title:Ve.googleDrive,icon:rl},[sg.GDRIVE_SYNC_CONNECTOR]:{title:Ve.googleDrive,icon:rl},[x.DROPBOX_CONNECTOR]:{title:Ve.dropbox,icon:Az},[x.HUBSPOT_CONNECTOR]:{title:Ve.hubspot,icon:Cm},[x.AHA_CONNECTOR]:{title:Ve.aha,icon:Cz},[x.ASANA_CONNECTOR]:{title:Ve.asana,icon:yz},[x.AZURE_DEVOPS_CONNECTOR]:{title:Ve.azureDevops,icon:Sz},[x.BASECAMP_CONNECTOR]:{title:Ve.basecamp,icon:Tz},[x.CLICKUP_CONNECTOR]:{title:Ve.clickup,icon:bz},[x.LINEAR_CONNECTOR]:{title:Ve.linear,icon:zI},[x.SHAREPOINT_CONNECTOR]:{title:Ve.sharepoint,icon:YI},[x.SHAREPOINT_ADMIN_CONNECTOR]:{title:Ve.sharepoint,icon:YI},[x.TEAMS_CONNECTOR]:{title:Ve.teams,icon:kz},[x.OUTLOOK_EMAIL_CONNECTOR]:{title:Ve.outlookEmail,icon:QAe},[x.OUTLOOK_CALENDAR_CONNECTOR]:{title:Ve.outlookCalendar,icon:XAe},[x.BOX_CONNECTOR]:{title:Ve.box,icon:Oz},[x.INTERCOM_CONNECTOR]:{title:Ve.intercom,icon:Rz},[x.FRONT_CONNECTOR]:{title:Ve.front,icon:Nz},[x.GITLAB_CONNECTOR]:{title:Ve.gitlab,icon:Pz},[x.HELP_SCOUT_CONNECTOR]:{title:Ve.helpScout,icon:wz},[x.NOTION_CONNECTOR]:{title:Ve.notion,icon:qE},[x.GOOGLE_CONTACTS_CONNECTOR]:{title:Ve.googleContacts,icon:BG},[um.GOOGLE_CONTACTS_CONNECTOR]:{title:Ve.googleContacts,icon:BG},[x.GCAL_CONNECTOR]:{title:Ve.gcal,icon:jG},[um.GCAL_CONNECTOR]:{title:Ve.gcal,icon:jG},[x.GMAIL_CONNECTOR]:{title:Ve.gmail,icon:GG},[um.GMAIL_CONNECTOR]:{title:Ve.gmail,icon:GG},[x.CANVA_CONNECTOR]:{title:Ve.canva,icon:JAe},[x.CONFLUENCE_CONNECTOR]:{title:Ve.confluence,icon:$E},[x.JIRA_CONNECTOR]:{title:Ve.jira,icon:WE},[x.JIRA_SERVICEMANAGEMENT_CONNECTOR]:{title:Ve.jiraServiceManagement,icon:Mz},[x.SLACK_CONNECTOR]:{title:Ve.slack,icon:Ec},[x.SLACK_CODEX_CONNECTOR]:{title:Ve.slack,icon:Ec},[x.SLACK_CODEX_BOT_CONNECTOR]:{title:Ve.slack,icon:Ec},[x.LINEAR_CODEX_BOT_CONNECTOR]:{title:Ve.linear,icon:zI},[x.IRONCLAD_CONNECTOR]:{title:Ve.ironclad,icon:xz},[x.PIPEDRIVE_CONNECTOR]:{title:Ve.pipedrive,icon:Lz},[x.SHORTCUT_CONNECTOR]:{title:Ve.shortcut,icon:Dz},[x.TEAMWORK_CONNECTOR]:{title:Ve.teamwork,icon:Uz},[x.ZENDESK_CONNECTOR]:{title:Ve.zendesk,icon:Fz},[x.ZOHO_CONNECTOR]:{title:Ve.zoho,icon:Cm},[x.ZOHO_DESK_CONNECTOR]:{title:Ve.zohoDesk,icon:Cm},[sg.SLACK_SYNC_CONNECTOR]:{title:Ve.slack,icon:Ec},[x.HEALTHKIT_CONNECTOR]:{title:Ve.healthkit,icon:Gz},[x.MEDICAL_RECORDS_CONNECTOR]:{title:Ve.medicalRecords,icon:KAe}},eNe={github:x.GITHUB_CONNECTOR,google_drive:x.GDRIVE_ACTION_CONNECTOR,dropbox:x.DROPBOX_CONNECTOR,linear:x.LINEAR_CONNECTOR,hubspot:x.HUBSPOT_CONNECTOR,sharepoint:x.SHAREPOINT_CONNECTOR,google_calendar:x.GCAL_CONNECTOR,gmail:x.GMAIL_CONNECTOR,google_contacts:x.GOOGLE_CONTACTS_CONNECTOR,teams:x.TEAMS_CONNECTOR,outlook_email:x.OUTLOOK_EMAIL_CONNECTOR,outlook_calendar:x.OUTLOOK_CALENDAR_CONNECTOR,box:x.BOX_CONNECTOR,intercom:x.INTERCOM_CONNECTOR,notion:x.NOTION_CONNECTOR,canva:x.CANVA_CONNECTOR,slack:x.SLACK_CONNECTOR,slack_codex:x.SLACK_CODEX_CONNECTOR,healthkit:x.HEALTHKIT_CONNECTOR,medicalRecords:x.MEDICAL_RECORDS_CONNECTOR},jz=[];function Gp(e,{includeDisabledByAdmin:t=!1,productSku:n,purpose:r,skipLogos:s}={}){const{data:i,isLoading:o}=To(e,{productSku:n,purpose:r,skipLogos:s});if(o)return;if(!i)return jz;const a=tNe(i);return t?a:nNe(a)}const tNe=Ao(e=>{const t=e.connectors.filter(r=>r.connector_type!=="MCP"&&rr[r.id]).map(r=>P(S({},r),{type:rr[r.id]})),n=e.connectors.filter(r=>r.connector_type==="MCP").map(r=>P(S({},r),{type:Cs.MCP_CONNECTOR}));return[...t,...n]}),nNe=Ao(e=>e.filter(t=>t.status!=="DISABLED_BY_ADMIN"));function rNe(){return Bz()&&Pe("3544641259")}const sNe=ot(()=>{const e=ln("3747383021"),t=rNe(),n=Object.entries(eNe).reduce((i,[o,a])=>(e.get(o,!1)&&i.push(a),i),[]),s=e.get("mcp",!1)?[...n,Cs.MCP_CONNECTOR]:n;return{enabled:t,availableConnectorsType:t?s:[]}});function Bz(){return Pe("733205176")}function CXe(){return Pe("3207737252")}function iNe(){return Pe("3927245414")}const oR=ot(()=>{var t,n;const e=ln("463092697");return(n=(t=e==null?void 0:e.value)==null?void 0:t.autoConnectors)!=null?n:[]}),Hz=ie(()=>{const{data:e,isLoading:t}=Ad();if(t)return{enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!0};const{disabledTools:n=[]}=e!=null?e:{},r=n.map(jge).filter(o=>o!=null);return r.includes(x.GMAIL_CONNECTOR)&&r.includes(x.GCAL_CONNECTOR)&&r.push(x.GOOGLE_CONTACTS_CONNECTOR),{enabledAutoConnectors:oR().filter(o=>!r.includes(o)),disabledAutoConnectors:r,isLoading:!1}}),$z=()=>Wz().enabled,Wz=ot(()=>{var s,i,o;const e=J1(),t=!!((s=e==null?void 0:e.enabled)!=null&&s),n=(i=e==null?void 0:e.autoConnectors)!=null?i:[],r=(o=e==null?void 0:e.enabledConnectors)!=null?o:[];return{enabled:t,availableConnectorsType:t?r:[],autoConnectors:n}}),oNe=({includeDisabledByAdmin:e}={})=>{const t=ri(),{enabled:n,availableConnectorsType:r}=sNe(),s=Le(()=>{if(n)return Gp(t,{includeDisabledByAdmin:e,productSku:Ut.DEEP_RESEARCH})}),i=n&&!s,o=T.useMemo(()=>s?s.filter(a=>r.includes(a.type)):[],[r,s]);return n?{enabled:!0,availableConnectors:o,isLoading:i}:{enabled:!1,availableConnectors:[],isLoading:!1}},VE=(e,t={})=>aNe(e,t),aNe=ci((e,{includeDisabledByAdmin:t,includeAutoConnectors:n,filterDisabledAutoConnectors:r})=>ie(()=>{var f;if(!$z())return[];const s=Wz();let i=s.availableConnectorsType;const o=Pe("2768222595");ln("112877228").get("enable_toggle_p13n_connectors",!1)&&(i=[...new Set([...i,x.GCAL_CONNECTOR,x.GMAIL_CONNECTOR,x.GOOGLE_CONTACTS_CONNECTOR])]);const{enabledAutoConnectors:c,isLoading:l}=o&&((f=s.autoConnectors)!=null?f:[]).length>0&&r?Hz():{enabledAutoConnectors:[],isLoading:!1};if(l)return;const u=o?r?c:oR():[],d=Gp(e,{includeDisabledByAdmin:t,productSku:Ut.SLURM});if(d)return n&&(i=[...new Set([...i,...u])]),i.flatMap(h=>h===Cs.MCP_CONNECTOR?d==null?void 0:d.filter(p=>p.type===h):[d==null?void 0:d.find(p=>p.type===h)]).filter(h=>!!h)}),e=>JSON.stringify([!!e.includeDisabledByAdmin,!!e.includeAutoConnectors,!!e.filterDisabledAutoConnectors])),yXe=({purpose:e=void 0}={})=>{const t=ri(),n=HE(),r=Le(()=>{if(n)return Gp(t,{includeDisabledByAdmin:!0,productSku:Ut.CONNECTOR_SETTING,purpose:e})}),s=n&&!r;return{enabled:!!(r&&r.length>0),isLoading:s,availableConnectors:r!=null?r:jz}},qz=e=>{"use forget";const t=j.c(17),{availableConnectors:n,fetchValidLinksOnly:r,productSku:s}=e,i=r===void 0?!1:r;let o;t[0]!==i||t[1]!==s?(o={fetchValidLinksOnly:i,productSku:s},t[0]=i,t[1]=s,t[2]=o):o=t[2];const{connectorLinks:a,isLoading:c}=iR(o);let l;t[3]!==a?(l=new Set(Array.from(a.values()).flatMap(dNe)),t[3]=a,t[4]=l):l=t[4];const u=l;let d;if(t[5]!==n||t[6]!==u){let _;t[8]!==u?(_=m=>m.type!==Cs.MCP_CONNECTOR&&u.has(m.type),t[8]=u,t[9]=_):_=t[9],d=new Set(n.filter(_).map(fNe)),t[5]=n,t[6]=u,t[7]=d}else d=t[7];const f=d;let h;t[10]!==n||t[11]!==a?(h=new Map,a.forEach((_,m)=>{if(!n.some(E=>E.id===m))return;const v=rr[m];v&&_.forEach(E=>{h.set(E.id,v)})}),t[10]=n,t[11]=a,t[12]=h):h=t[12];let p;return t[13]!==f||t[14]!==c||t[15]!==h?(p={connectedTypes:f,isLoading:c,linkIdToConnectedType:h},t[13]=f,t[14]=c,t[15]=h,t[16]=p):p=t[16],p},cNe=e=>{"use forget";const t=j.c(12);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r,includeAutoConnectors:s}=n,i=r===void 0?!0:r,o=s===void 0?!1:s,a=ri();let c;t[2]!==a||t[3]!==o?(c=()=>VE(a,{includeAutoConnectors:o}),t[2]=a,t[3]=o,t[4]=c):c=t[4];const l=Le(c);let u;t[5]!==i?(u=$z()&&i,t[5]=i,t[6]=u):u=t[6];let d;t[7]!==l?(d=l!=null?l:[],t[7]=l,t[8]=d):d=t[8];let f;return t[9]!==u||t[10]!==d?(f={enabled:u,availableConnectors:d,productSku:Ut.SLURM},t[9]=u,t[10]=d,t[11]=f):f=t[11],qz(f)},SXe=e=>{"use forget";const t=j.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,s=r===void 0?!0:r,{enabled:i,availableConnectors:o}=oNe(),a=i&&s;let c;return t[2]!==o||t[3]!==a?(c={enabled:a,availableConnectors:o,fetchValidLinksOnly:!0,productSku:Ut.DEEP_RESEARCH},t[2]=o,t[3]=a,t[4]=c):c=t[4],qz(c)},lNe=()=>{const e=G8();return!!(e!=null&&e.enablePopupRedirect)},TXe=({includeAutoConnectors:e=!1})=>{const{connectedTypes:t,isLoading:n}=cNe({includeAutoConnectors:e}),{data:r,isLoading:s}=Le(()=>nl());if(n||s)return{anyConnectorEnabled:!1,anyAccessConnectorEnabled:!1,anySyncConnectorEnabled:!1,isLoading:!0};const i=t.size>0,o=r?hz(r):!1;return{anyConnectorEnabled:i||o,anyAccessConnectorEnabled:i,anySyncConnectorEnabled:o,isLoading:!1}};function uNe(e){return rr[e.connector_id]}function dNe(e){return e.map(uNe)}function fNe(e){return e.type}const OXe="ChatGPT",bXe="Untitled",AXe=10,hNe=50,pNe=300,_Ne=8e3,NXe=12,IXe=300;function mNe(e){return e.resource!==void 0}const er={Private:"private",Email:"email",User:"user",Group:"group",WorkspaceLink:"workspace_link",Link:"link"};function PXe(e){return e.type===Zt.EMAIL||e.type===Zt.USER||e.type===Zt.GROUP}function gNe(e){var t,n,r,s,i,o,a,c,l;return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:(t=e.gizmo.display.description)!=null?t:"",emoji:(n=e.gizmo.display.emoji)!=null?n:void 0,theme:(r=e.gizmo.display.theme)!=null?r:void 0,profilePictureId:(s=e.gizmo.display.profile_pic_id)!=null?s:void 0,profilePictureUrl:(i=e.gizmo.display.profile_picture_url)!=null?i:void 0,promptStarters:(o=e.gizmo.display.prompt_starters)!=null?o:[],tools:ia(e.tools),files:ia(e.files),sharing:vNe(e.gizmo.sharing),trainingDisabled:(a=e.gizmo.training_disabled)!=null?a:!1,memoryScope:(c=e.gizmo.memory_scope)!=null?c:uo.UNSET,sharingTargets:e.gizmo.sharing_targets.map(CNe),liveVersion:(l=e.gizmo.live_version)!=null?l:0,contextStuffingBudget:e.gizmo.context_stuffing_budget}}function vNe(e){return{subjects:e.subjects.map(t=>{var n;switch(t.type){case Zt.EMAIL:return{type:t.type,user_email:t.user_email,capabilities:t.capabilities};case Zt.USER:return{type:t.type,user_id:t.user_id,capabilities:t.capabilities,user_name:t.user_name,user_email:t.user_email,avatar_url:(n=t.avatar_url)!=null?n:null};case Zt.GROUP:return{type:t.type,group_id:t.group_id,group_name:t.group_name,capabilities:t.capabilities};case Zt.WORKSPACE:return{type:t.type,capabilities:t.capabilities};case Zt.ALL:return{type:t.type,capabilities:t.capabilities}}throw new Error("Unknown subject type")}),recipient:ENe(e.recipient)}}function ENe(e){switch(e){case St.Group:return er.Group;case St.Link:return er.Link;case St.Marketplace:throw new Error("Marketplace sharing not supported for projects");case St.Private:return er.Private;case St.User:return er.User;case St.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case St.WorkspaceLink:return er.WorkspaceLink}}function CNe(e){switch(e.recipient){case St.Group:return{recipient:er.Group,allowed:e.allowed,moderated_fields:e.moderated_fields};case St.Link:return{recipient:er.Link,allowed:e.allowed,moderated_fields:e.moderated_fields};case St.Marketplace:throw new Error("Marketplace sharing not supported for projects");case St.Private:return{recipient:er.Private,allowed:e.allowed,moderated_fields:e.moderated_fields};case St.User:return{recipient:er.User,allowed:e.allowed,moderated_fields:e.moderated_fields};case St.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case St.WorkspaceLink:return{recipient:er.WorkspaceLink,allowed:e.allowed,moderated_fields:e.moderated_fields}}}const HG=[Zt.EMAIL,Zt.USER,Zt.GROUP,Zt.WORKSPACE,Zt.ALL];function wXe(e){return e.length===0?null:e.reduce((t,n)=>HG.indexOf(n.type)<HG.indexOf(t.type)?t:n,e[0])}function RXe(e,t){if(t==null)return e;function n(r){return typeof r=="object"&&r!=null?Array.isArray(r)?r.map(n):Object.fromEntries(Object.entries(r).map(([s,i])=>[s,n(i)])):r===null?void 0:r}return t=n(t),S(S({},e),t)}var yNe=(e=>(e[e.Loading=0]="Loading",e[e.UploadingProfilePic=1]="UploadingProfilePic",e[e.GeneratingProfilePic=2]="GeneratingProfilePic",e[e.GizmoNameTooLong=3]="GizmoNameTooLong",e[e.GizmoDescriptionTooLong=4]="GizmoDescriptionTooLong",e[e.GizmoInstructionsTooLong=5]="GizmoInstructionsTooLong",e[e.NameEmpty=6]="NameEmpty",e[e.MissingPublicActionPrivacyPolicyURL=7]="MissingPublicActionPrivacyPolicyURL",e[e.MissingCategory=8]="MissingCategory",e))(yNe||{});function xXe(e){switch(e){case 0:return"Loading";case 1:return"Uploading profile picture";case 2:return"Generating profile picture";case 3:return"GPT name too long";case 4:return"GPT description too long";case 5:return"GPT instructions too long";case 6:return"GPT name cannot be empty";case 7:return"Public actions require valid privacy policy URLs";case 8:return"Public GPTs must have a category"}}function SNe(e){return e==="link"||e==="marketplace"}function TNe(e){try{return new URL(e),!0}catch(t){return!1}}function MXe(e,t,n){var a,c,l,u,d,f;const r=e.name.length>hNe,s=((c=(a=e.description)==null?void 0:a.length)!=null?c:0)>pNe,i=((u=(l=e.instructions)==null?void 0:l.length)!=null?u:0)>_Ne,o=[];if((e==null?void 0:e.name)===""&&o.push(6),r&&o.push(3),s&&o.push(4),i&&o.push(5),t!=null&&SNe(t)){const h=(d=e.tools)==null?void 0:d.filter(p=>p.type===fp.JIT_PLUGIN);for(const p of h){const _=(f=p.metadata)==null?void 0:f.privacy_policy_url;if(_==null||!TNe(_)){o.push(7);break}}}return t===St.Marketplace&&n==null&&o.push(8),o}const kXe={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:St.Private,subjects:[]},tools:[{type:fp.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null,firstPartyProjectType:null},ONe={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:er.Private,subjects:[]},tools:[{type:fp.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},LXe=Rt({instructionsWarning:{id:"gizmo.instructionsWarning",defaultMessage:"Conversations with your GPT can potentially include part or all of the instructions provided."}}),Uc=new Map,nd=new Map,bNe=3e4;function aR(e){return typeof e=="object"&&e!=null}function ANe(e){return aR(e)&&typeof e.id=="string"}function NNe(e){if(!aR(e))return!1;const t=e.items;return!(!Array.isArray(t)||!t.every(ANe))}function $G(e){if(!aR(e))return!1;const t=e.pages;return!(!Array.isArray(t)||!t.every(NNe))}function DXe({conversation:e,previousGizmoId:t,newGizmoId:n}){const r=nd.get(e.id);r&&(clearTimeout(r),nd.delete(e.id)),Uc.set(e.id,{conversationId:e.id,conversation:e,previousGizmoId:t,newGizmoId:n,status:"pending",startedAtMs:Date.now()})}function UXe(e){const t=Uc.get(e);if(!t)return;t.status="committed",t.committedAtMs=Date.now();const n=nd.get(e);n&&clearTimeout(n),nd.set(e,setTimeout(()=>{Vz(e)},bNe))}function Vz(e){Uc.delete(e);const t=nd.get(e);t&&(clearTimeout(t),nd.delete(e))}function INe(e){const t=[],n=new Set;for(const r of Uc.values())r.previousGizmoId===e&&r.newGizmoId!==e&&n.add(r.conversationId),r.newGizmoId===e&&r.previousGizmoId!==e&&t.push(r.conversation);return t.sort((r,s)=>{var a,c;const i=Uc.get(r.id),o=Uc.get(s.id);return((a=o==null?void 0:o.startedAtMs)!=null?a:0)-((c=i==null?void 0:i.startedAtMs)!=null?c:0)}),{additions:t,removals:n}}function PNe(e,t){const{additions:n,removals:r}=INe(t);if(n.length===0&&r.size===0)return e;const s=new Set(n.map(o=>String(o.id))),i=e.pages.map((o,a)=>{const c=o.items.filter(l=>!r.has(l.id)&&!s.has(l.id));return a===0&&n.length>0?P(S({},o),{items:[...n,...c]}):P(S({},o),{items:c})});return P(S({},e),{pages:i})}function wNe(e,t,n){const r=PNe(n,e);return WP(t,r)}function RNe(e,t,n){return!$G(n)||!($G(t)||t===void 0)?n:wNe(e,t,n)}function xNe({gizmoId:e,conversationIdsInPage:t}){const n=new Set(t);for(const r of Uc.values())r.status==="committed"&&r.newGizmoId===e&&n.has(r.conversationId)&&Vz(r.conversationId)}const KI=5,FXe=5,js="snorlaxConversations";var MH;const GXe=Da.div(MH||(MH=$i(["text-sm text-red-500"])));class jXe extends Error{constructor(){super("Project file limit reached");R(this,"code","project_file_limit_reached");this.name="ProjectFileLimitSaveError"}}class MNe extends Error{constructor(t){var n;super((n=t==null?void 0:t.error)!=null?n:"Project share failed"),this.response=t,this.name="ProjectShareException"}}const kNe=5,LNe=25,DNe=40,UNe=500,FNe=(e,t,n)=>{if(e&&Pd(n))return UNe;switch(t){case se.GUEST:case se.FREE:case se.FREE_WORKSPACE:return kNe;case se.GO:case se.PLUS:case se.QUORUM:case se.K12:return LNe;case se.DEPRECATED_EDU:case se.EDUCATION_CBP:case se.DEPRECATED_ENTERPRISE:case se.PRO:case se.SELF_SERVE_BUSINESS:case se.ENTERPRISE_CBP:case se.HC:case se.FINSERV:return DNe}};function BXe({ctx:e,accountPlanType:t,numFiles:n,gizmo:r}){return e&&Pd(r)||!t||![se.GUEST,se.FREE,se.GO,se.PLUS].includes(t)?!1:n>=FNe(e,t)}const GNe=5,cR=Rt({newChatInProject:{id:"proj-new-chat-placeholder",defaultMessage:"New chat in {projectName}"},emptyFileInstructions:{id:"si7jJz",defaultMessage:"Add documents, code files, images, and more. {gizmoNameText} can access their contents when you chat inside the project."},emptyFileGizmoName:{id:"xr5T2P",defaultMessage:"{gizmoName}"},moveConversationToProject:{id:"M97tb/",defaultMessage:"Move to project"},moveConversationToNamedProject:{id:"OA1Ljx",defaultMessage:"Move to {projectName}"},removeConversationFromProject:{id:"xSI3aZ",defaultMessage:"Remove from {projectName}"},moveConversation:{id:"GM4pWN",defaultMessage:"Move this conversation"},moveConversationToProjectError:{id:"mA7nfR",defaultMessage:"Failed to move the conversation to the project"},newProjectButton:{id:"2qkMU1",defaultMessage:"New project"},newProjectButtonWithNoProjects:{id:"nL/Xy7",defaultMessage:"Projects"},createProjectDisabledByAdmin:{id:"WosQBt",defaultMessage:"Create project is disabled by your admin"},cancel:{id:"iz2OBQ",defaultMessage:"Cancel"},save:{id:"gTdsTU",defaultMessage:"Save"},filesCount:{id:"XKCsL9",defaultMessage:"{count} {count, plural, one {file} other {files}}"},sourcesCount:{id:"RWkolV",defaultMessage:"{count} {count, plural, one {source} other {sources}}"},limitedFileAccessLabel:{id:"interpreterOnlyLabel",defaultMessage:"File contents may not be accessible"},addInstructionsDropdownLabel:{id:"ArKRrM",defaultMessage:"Add instructions"},editInstructionsDropdownLabel:{id:"p3KE0Q",defaultMessage:"Edit instructions"},viewOnlyInstructionsDropdownLabel:{id:"wAT0FX",defaultMessage:"View instructions"},viewOnlyCustomInstructionsModalHeaderLabel:{id:"Kd53xN",defaultMessage:"View-only"},viewOnlyCustomInstructionsModalHeaderTooltip:{id:"hN4/oD",defaultMessage:"You can only chat in this project."},searchingProjectContext:{id:"oFO3zj",defaultMessage:"Searching project context"},searchingContext:{id:"RLHNDd",defaultMessage:"Searching context"},instructionsTooLong:{id:"hwBx62",defaultMessage:"Project instructions cannot be longer than {length} characters."},dragInstructions:{id:"yA3Jxu",defaultMessage:"Add anything"},dragAllAccepted:{id:"CJNN+O",defaultMessage:"Drop any file here to add it to the project"},dragTooManyFiles:{id:"O2Xr4P",defaultMessage:"Too many files"},unknownError:{id:"Eu2Hdz",defaultMessage:"Unknown error occurred"},dragTooManyFilesError:{id:"FJ8M/t",defaultMessage:"Error uploading: Projects can't contain more than {maxFileLimit} files"},dragTooManyFilesDescription:{id:"ZFLPRQ",defaultMessage:"Projects can't contain more than {maxFileLimit} files"},addFilesButtonLabel:{id:"yMVX4l",defaultMessage:"Add files"},addSourcesButtonLabel:{id:"z3xP2J",defaultMessage:"Add sources"},addTextModalTitle:{id:"v9NJcD",defaultMessage:"Add text source"},addTextModalDescription:{id:"25iwgs",defaultMessage:"Paste or type text to add it to this projects files."},addTextTitleLabel:{id:"jG3fjo",defaultMessage:"Title (optional)"},addTextTitlePlaceholder:{id:"8Bv+FN",defaultMessage:"e.g., Team onboarding notes"},addTextContentLabel:{id:"szFLG2",defaultMessage:"Text"},addTextContentPlaceholder:{id:"rQeXrc",defaultMessage:"Paste or type your text here"},addTextTooLargeError:{id:"sV1K9t",defaultMessage:"Text must be smaller than {maxSizeMb} MB."},fileAlreadyExistsTitle:{id:"XKZEZs",defaultMessage:"File already exists"},fileAlreadyExistsDescription:{id:"N5C3vE",defaultMessage:"A file with the name {fileName} already exists."},fileAlreadyExistsUploadAnyway:{id:"NCN6Bf",defaultMessage:"Upload anyway"},addButtonLabel:{id:"esi0g5",defaultMessage:"Add"},addFilesAndPhotos:{id:"FTI21I",defaultMessage:"Add files & photos"},addFilesReadOnlyTooltip:{id:"SOB8Af",defaultMessage:"You dont have permission to add files or connect sources. Contact the project owner to request edit access."},addTextDropdownLabel:{id:"lTmHP8",defaultMessage:"Add text"},viewFilesButtonLabel:{id:"2lu9im",defaultMessage:"Files not yet added"},projectCopyInProgressBanner:{id:"R1WXsJ",defaultMessage:"Your chats are still being copied and will appear here shortly."},projectHomeTabsLabel:{id:"projectHomeTabs.label",defaultMessage:"Project sections"},projectHomeTabChats:{id:"projectHomeTabs.chats",defaultMessage:"Chats"},projectHomeTabFiles:{id:"projectHomeTabs.files",defaultMessage:"Files"},projectHomeTabInternalBadge:{id:"projectHomeTabs.internalBadge",defaultMessage:"Internal"},seeMoreProjectItems:{id:"znMnZ9",defaultMessage:"See more"},recentChatsLabel:{id:"v02bJ+",defaultMessage:"Recent"},projectSettingsSubmitButton:{id:"TayvQF",defaultMessage:"Save"},unableToLoadHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingHistory:{id:"IoImQ5",defaultMessage:"Retry"},showProjectDetailsDropdown:{id:"LUjGtd",defaultMessage:"Show project details"},deleteProjectModalTitle:{id:"pPgHKT",defaultMessage:"Delete project?"},deleteProjectModalButton:{id:"w2DKG5",defaultMessage:"Delete"},cancelDeleteProjectModalButton:{id:"E7RoUe",defaultMessage:"Cancel"},deleteProjectModalDescription:{id:"Vl4p9p",defaultMessage:"<bold>This will permanently delete all project files and chats.</bold> To save chats, move them to your chat list or another project before deleting."},deleteProjectDropdownButton:{id:"dD0vWg",defaultMessage:"Delete project"},deleteProjectFailedToast:{id:"KAw2h3",defaultMessage:"Failed to delete project. Please try again."},leaveProjectDropdownButton:{id:"FCEK0r",defaultMessage:"Leave project"},reportProjectButtonLabel:{id:"snorlax.project.reportButton",defaultMessage:"Report project"},leaveProjectModalTitle:{id:"VTNOvq",defaultMessage:"Leave {projectName}?"},leaveProjectModalButton:{id:"YZjX2E",defaultMessage:"Leave"},cancelLeaveProjectModalButton:{id:"56ATCt",defaultMessage:"Cancel"},leaveProjectModalDescription:{id:"80hv7n",defaultMessage:"<bold>You'll lose access to all project content, including your chats.</bold> To keep your chats, save a copy by checking the box below or move them to your chat list or another project before leaving."},leaveProjectModalDescriptionNoChats:{id:"snorlax.leaveProjectModalDescriptionNoChats",defaultMessage:"You'll lose access to all project content."},leaveProjectSaveCopyLabel:{id:"emsuo1",defaultMessage:"Save a copy of my chats"},leaveProjectSaveCopyDescription:{id:"iwhK/O",defaultMessage:"A copy of this project will be made with only your chats. This can take a few minutes."},leaveProjectFailedToast:{id:"w6BO+i",defaultMessage:"Failed to leave project. Please try again."},projectInstructionsPlaceholder:{id:"w/NZvS",defaultMessage:"e.g. Respond in Spanish. Reference the latest JavaScript documentation. Keep answers short and focused."},projectSettings:{id:"snorlax.edit-actions.project-settings",defaultMessage:"Project settings"},editProjectNameDropdownButton:{defaultMessage:"Rename project",id:"snorlax.edit-actions.rename-project"},hideChatsForProjectTooltip:{id:"ZjBLTY",defaultMessage:"Hide chats"},projectHelperBoxDescription:{id:"QEsg2b",defaultMessage:"Projects keep chats, files, and custom instructions in one place. Use them for ongoing work, or just to keep things tidy."},projectsNuxTooltipTitle:{id:"Ub7Cl2",defaultMessage:"Introducing projects"},projectsUpdateTooltipTitle:{id:"OyZXt4",defaultMessage:"Projects can do more"},projectsToFreeTitle:{id:"mWKZ6S",defaultMessage:"New"},projectsNuxTooltipDescription:{id:"aLohnf",defaultMessage:"Keep chats, files, and custom instructions all in one place. Ideal for organizing work or shaping big ideas."},projectsUpdateTooltipDescription:{id:"ZzivYc",defaultMessage:"Now you can run deep research and use voice mode within your projects."},projectShareButton:{id:"Sc1ypd",defaultMessage:"Share"},firstPartyProjectShareForbidden:{id:"ABFn5a",defaultMessage:"Default projects cannot be shared."},projectShareTitle:{id:"Rpn+8/",defaultMessage:"Share {projectName}"},projectShareChatTitle:{id:"YgsrLO",defaultMessage:"Share link to chat"},shareProjectEmailInviteTooltip:{id:"snorlax.shareProjectEmailInviteTooltip",defaultMessage:"If this email belongs to a workspace member, theyll be added to the project. Otherwise, it will be ignored."},shareProjectPermissionCanEdit:{id:"snorlax.shareProjectPermissionCanEdit",defaultMessage:"Can edit"},shareProjectPermissionCanChat:{id:"snorlax.shareProjectPermissionCanChat",defaultMessage:"Can chat"},shareProjectPermissionUnknown:{id:"snorlax.shareProjectPermissionUnknown",defaultMessage:"Unknown"},shareProjectPermissionEditDescription:{id:"snorlax.shareProjectPermissionEditDescription",defaultMessage:"Chat and edit project content"},shareProjectPermissionViewDescription:{id:"snorlax.shareProjectPermissionViewDescription",defaultMessage:"Chat and view project content"},shareProjectGroupMembersCount:{id:"snorlax.shareProjectGroupMembersCount",defaultMessage:"{numMembers, plural, one {1 member} other {# members}}"},shareProjectSearchPeopleOrGroups:{id:"snorlax.shareProjectSearchPeopleOrGroups",defaultMessage:"Search people or groups"},shareProjectSearchPeopleGroupsOrEmail:{id:"snorlax.shareProjectSearchPeopleGroupsOrEmail",defaultMessage:"Search people, groups, or enter an email"},shareProjectInviteEmailOption:{id:"snorlax.shareProjectInviteEmailOption",defaultMessage:'Invite "{email}"'},shareProjectInviteEmailPressEnter:{id:"snorlax.shareProjectInviteEmailPressEnter",defaultMessage:"Press enter to invite this email"},shareProjectEnterEmailNoOptions:{id:"snorlax.shareProjectEnterEmailNoOptions",defaultMessage:"Enter a workspace member's email to invite them to the project."},shareProjectMemberAlreadyAdded:{id:"snorlax.shareProjectMemberAlreadyAdded",defaultMessage:"That person is already added"},shareProjectInviteEmailLimit:{id:"snorlax.shareProjectInviteEmailLimit",defaultMessage:"You can invite up to {limit} email addresses at a time."},shareProjectEmailPlaceholder:{id:"snorlax.shareProjectEmailPlaceholder",defaultMessage:"Email, separated by commas"},showChatsForProjectTooltip:{id:"FcBR2j",defaultMessage:"Show chats"},projectFileRateLimitBannerTitle:{id:"ghJIms",defaultMessage:"File limit reached"},projectFileRateLimitBannerPlusDescription:{id:"WOJ2H5",defaultMessage:"You can add up to {freeFileLimit} files on the free plan. Upgrade to plus to add {paidFileLimit} files."},projectFileRateLimitBannerProDescription:{id:"jXcJWN",defaultMessage:"You can add up to {paidFileLimit} files on the {planType} plan. Upgrade to pro to add {proFileLimit} files."},upgradeToPlus:{id:"ZO/XN9",defaultMessage:"Upgrade plan"},projectJoinModalWithCreatorTitle:{id:"q1fGPT",defaultMessage:"{projectCreator} invited you to join the project"},projectJoinModalWithoutCreatorTitle:{id:"j9rPp1",defaultMessage:"You've been invited to join the project"},membersCount:{id:"seSpmx",defaultMessage:"{count} {count, plural, one {member} other {members}}"},joinProjectButtonLabel:{id:"71Z5aG",defaultMessage:"Join project"},declineInviteButtonLabel:{id:"GSiZxu",defaultMessage:"Decline"}}),HXe=Rt({connectorScopeGoogleDriveLabel:{id:"snorlax-file-control.connectorScopeGoogleDriveLabel",defaultMessage:"Google Drive"},connectorScopeGoogleDriveFileLabel:{id:"snorlax-file-control.connectorScopeGoogleDriveFileLabel",defaultMessage:"Google Drive File"},connectorScopeGoogleDriveFolderLabel:{id:"snorlax-file-control.connectorScopeGoogleDriveFolderLabel",defaultMessage:"Google Drive Folder"},connectorScopesLoadingLabel:{id:"snorlax-file-control.connectorScopesLoadingLabel",defaultMessage:"Loading connected sources"},connectorScopeSlackLabel:{id:"snorlax-file-control.connectorScopeSlackLabel",defaultMessage:"Slack Channel"},connectorScopeLinearLabel:{id:"snorlax-file-control.connectorScopeLinearLabel",defaultMessage:"Linear"},connectorScopeLinearTeamLabel:{id:"snorlax-file-control.connectorScopeLinearTeamLabel",defaultMessage:"Linear Team"},connectorScopeLinearProjectLabel:{id:"snorlax-file-control.connectorScopeLinearProjectLabel",defaultMessage:"Linear Project"},connectorScopeDeleteErrorToast:{id:"snorlax-file-control.connectorScopeDeleteErrorToast",defaultMessage:"We couldn't remove that link. Try again."},connectorScopeSyncButton:{id:"snorlax-file-control.connectorScopeSyncButton",defaultMessage:"Sync"},connectorScopeSyncSuccess:{id:"snorlax-file-control.connectorScopeSyncSuccess",defaultMessage:"Started syncing {connectorName}"},connectorScopeSyncErrorFallback:{id:"snorlax-file-control.connectorScopeSyncErrorFallback",defaultMessage:"We couldn't start the sync. Please try again."},connectorScopeUnknownLabel:{id:"snorlax-file-control.connectorScopeUnknownLabel",defaultMessage:"Connected source"}}),$Xe=Rt({connectorSyncStatusRunning:{id:"snorlax-file-control.connectorSyncStatusRunning",defaultMessage:"Syncing"},connectorSyncStatusCompleted:{id:"snorlax-file-control.connectorSyncStatusCompleted",defaultMessage:"Synced"},connectorSyncStatusCompletedWithTime:{id:"snorlax-file-control.connectorSyncStatusCompletedWithTime",defaultMessage:"Last synced at {lastSyncedAt}"},connectorSyncStatusFailed:{id:"snorlax-file-control.connectorSyncStatusFailed",defaultMessage:"Sync failed"},connectorSyncStatusNotSynced:{id:"snorlax-file-control.connectorSyncStatusNotSynced",defaultMessage:"Not synced"},connectorSyncStatusPartial:{id:"snorlax-file-control.connectorSyncStatusPartial",defaultMessage:"Partial sync"}}),WXe=Rt({connectorScopeDivider:{id:"snorlax-file-control.connectorScopeDivider",defaultMessage:""}}),bh=new Map,Hf=new Map,jNe=3e4;function $f(e){return typeof e=="object"&&e!=null}function BNe(e){if(!$f(e))return!1;const t=e.gizmo;if(!$f(t))return!1;const n=t.gizmo;return $f(n)?typeof n.id=="string":!1}function HNe(e){if(!$f(e))return!1;const t=e.items;return Array.isArray(t)?t.every(BNe):!1}function WG(e){if(!$f(e))return!1;const t=e.pages;return Array.isArray(t)?t.every(HNe):!1}function Ug(e){return e.gizmo.gizmo.id}function $Ne(){return[...bh.values()].sort((e,t)=>t.addedAtMs-e.addedAtMs).map(e=>e.project)}function WNe(e){const t=$Ne();if(t.length===0)return e;const n=new Set(t.map(Ug)),r=e.pages.map((s,i)=>{const o=s.items.filter(a=>!n.has(Ug(a)));return i===0?P(S({},s),{items:[...t,...o]}):P(S({},s),{items:o})});return P(S({},e),{pages:r})}function zz(e){const t=Ug(e),n=Hf.get(t);n&&(clearTimeout(n),Hf.delete(t)),bh.set(t,{project:e,addedAtMs:Date.now()}),Hf.set(t,setTimeout(()=>{lR(t)},jNe))}function lR(e){bh.delete(e);const t=Hf.get(e);t&&(clearTimeout(t),Hf.delete(e))}function qNe(e,t){if(!WG(t)||!(WG(e)||e===void 0))return t;const n=WNe(t);return WP(e,n)}function VNe(e){if(bh.size===0)return;const t=new Set(e.map(Ug));for(const n of bh.keys())t.has(n)&&lR(n)}const zNe="starredConversations";function uR(){return Yz()}function Yz(){return pt().isElectron}const Kz=M1(()=>X(null));function YNe(e){return Kz(e)()}function KNe(e,t){const n=Kz(e);JNe(lt(()=>n()),t)&&n.set(t)}function JNe(e,t){return!((e==null?void 0:e.value)===Su.REALTIME&&(t==null?void 0:t.value)===Su.STREAMING)}const qXe=ir(e=>ie(()=>{const t=YNe(e);return(t==null?void 0:t.value)===Su.STREAMING||(t==null?void 0:t.value)===Su.REALTIME||(t==null?void 0:t.value)===Su.REALTIME_BUSY})),XNe="disable_history",VXe="user_latency_tools",zXe="mfa",YXe="chatgpt_allow_workspace_instruction",KXe="chatgpt_allow_workspace_policy",JXe="workspace_ip_allowlist";var QNe=(e=>(e.BrowsingAvailable="browsing_available",e.Sunshine="sunshine_available",e.WorkspaceGPTCustomActions="workspace_gpt_custom_actions",e.WorkspaceGPTApps="workspace_gpt_apps",e.WorkspaceShareLinks="workspace_share_links",e.GizmoSupportEmails="gizmo_support_emails",e.D3Editor="d3_editor",e.D3EditorAllGpts="d3_editor_gpts",e.DataAnalysisV2="graphite",e.ChartSerialization="chart_serialization",e.SearchTool="search_tool",e.SearchToolHoldout="search_tool_holdout",e.MemoryInSearch="memory_in_search",e.Canvas="canvas",e.CanvasCodeExecution="canvas_code_execution",e.CanvasCodeNetworkAccess="canvas_code_network_access",e.DisableWritingBlockRendering="disable_writing_block_rendering",e.GizmoCanvasToggle="gizmo_canvas_toggle",e.Moonshine="moonshine",e.VideoScreenSharing="video_screen_sharing",e.DeepResearch="caterpillar",e.AllowVoiceUse="breeze_available",e.ImageGenToggle="image_gen_toggle",e.EditInCanvas="edit_in_canvas",e.MagicEditEnabled="magic_edit_enabled",e.WritingBlockNux="writing_block_nux",e))(QNe||{});const JI=28,ZNe="conversationHistory";function cu(){return[ZNe]}const qG="conversation-history",eIe=1,Fg=X([]);function XXe(e,t){Pe("1753085879")&&Fg.set(n=>{const r=n.findIndex(s=>s.conversationId===e);if(r!==-1){const s=n.slice();return s[r]=P(S({},s[r]),{title:t}),s}return[{conversationId:e,title:t},...n]})}function Jz(){return $H({queryKey:cu(),queryFn:async({pageParam:e})=>{const t=await H.safeGet("/conversations",{parameters:{query:{offset:e,limit:JI,order:"updated",is_archived:!1,is_starred:!1}},authOption:cn.SendIfAvailable});return q.addFirstTiming("load.conversationHistory"),nh(()=>{const n=lt(()=>Fg());for(const r of t.items){if(r.async_status!=null){const s=xE(r.id);KNe(s,{source:I6.SERVER,value:r.async_status})}n.some(s=>s.conversationId===r.id)&&Fg.set(s=>s.filter(i=>i.conversationId!==r.id))}}),t},initialPageParam:0,getNextPageParam:e=>{var n,r,s;const t=((n=e.offset)!=null?n:0)+((r=e.limit)!=null?r:0);return t<((s=e.total)!=null?s:0)?t:void 0}})}function QXe(){"use forget";var L,G;const e=j.c(23),t=TEe();let n;e[0]!==t?(n=(L=t==null?void 0:t.includes(XNe))!=null?L:!1,e[0]=t,e[1]=n):n=e[1];const r=n;let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=ze(),e[2]=s):s=e[2];const o=!r&&!!s,a=uR(),c=Le(rIe),l=a;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=Jz(),e[3]=u):u=e[3];const d=u,f=jE(qG,eIe,d.queryKey),h=l?"always":!0,p=l?"always":!0,_=o?f:void 0;let m;e[4]!==o||e[5]!==h||e[6]!==p||e[7]!==_?(m=P(S({},d),{enabled:o,refetchOnReconnect:h,refetchOnWindowFocus:p,placeholderData:_}),e[4]=o,e[5]=h,e[6]=p,e[7]=_,e[8]=m):m=e[8];const{data:v,fetchNextPage:E,hasNextPage:b,isLoading:C,isFetchingNextPage:y,isError:O,refetch:A}=id(m);let N,I;e[9]!==O?(N=()=>{O&&I0e(qG)},I=[O],e[9]=O,e[10]=N,e[11]=I):(N=e[10],I=e[11]),T.useEffect(N,I);let w;if(e[12]!==(v==null?void 0:v.pages)||e[13]!==c){const K=(G=v==null?void 0:v.pages.flatMap(nIe))!=null?G:[];w=[...c.map(tIe).filter(Y=>!K.some(Q=>Q.id===Y.id)),...K],e[12]=v==null?void 0:v.pages,e[13]=c,e[14]=w}else w=e[14];const k=w;let D;return e[15]!==k||e[16]!==E||e[17]!==b||e[18]!==O||e[19]!==y||e[20]!==C||e[21]!==A?(D={conversations:k,fetchNextPage:E,hasNextPage:b,refetch:A,isLoading:C,isFetchingNextPage:y,isError:O},e[15]=k,e[16]=E,e[17]=b,e[18]=O,e[19]=y,e[20]=C,e[21]=A,e[22]=D):D=e[22],D}function tIe(e){return{id:e.conversationId,title:e.title}}function nIe(e){return e.items}function rIe(){return Fg()}function sIe(e,t){const n=cu();e.invalidateQueries({queryKey:n}),e.invalidateQueries({queryKey:[zNe]}),t?e.invalidateQueries({queryKey:[js,{gizmoId:t}]}):e.invalidateQueries({queryKey:[js]})}function ZXe(e,t){t&&As(t)&&e.invalidateQueries({queryKey:[js,{gizmoId:t}]})}function eQe(e,t){en().setQueryData(Jz().queryKey,n=>{if(n!==void 0){if(!Array.isArray(n.pages)){q.addError("Bad conversation history",{pages:n.pages});return}return Sr(n,r=>{for(const s of r.pages)for(const i of s.items)i.id===e&&(i.title=t)})}})}const XI="_tm",Wf="_m";var dR=(e=>(e.SHARE_NOT_FOUND="share_not_found",e.SHARED_POST_NOT_FOUND="shared_post_not_found",e.GIZMO_NOT_FOUND="gizmo_not_found",e.PROJECT_NOT_FOUND="project_not_found",e.NO_ACCESS="no_access",e.OAUTH_SUCCESS="oauth_success",e.OAUTH_FAILED_GENERIC="oauth_failed_generic",e.OAUTH_FAILED_SCOPE_MISMATCH="oauth_failed_scope_mismatch",e.OAUTH_FAILED_EMAIL_DOMAIN_ENFORCEMENT="oauth_failed_email_domain_enforcement",e.CUSTOM_ERROR="c_err",e.CUSTOM_MSG="c_msg",e.ACCOUNT_TRANSFER_ERROR="account_transfer_error",e.MFA_ENABLED="mfa_enabled",e.PASSKEY_CREATED="passkey_created",e.ENABLE_MFA_ERROR="enable_mfa_error",e.ENABLE_MFA_EMAIL_REQUIRED="enable_mfa_email_required",e.DISABLE_MFA_SUCCESS="disable_mfa_success",e.DISABLE_MFA_TIMEOUT="disable_mfa_timeout",e.CANVAS_NOT_FOUND="canvas_not_found",e))(dR||{});function Xz(e,t="/",n){const r=typeof window<"u",s=new URL(t,r?window.location.origin:"https://chatgpt.com");return s.searchParams.set(XI,e),(e==="c_err"||e==="c_msg")&&(n?s.searchParams.set(Wf,n):s.searchParams.set(Wf,"An error has occurred")),s.pathname+s.search+s.hash}function iIe(){const[e]=al(),{pathname:t,hash:n}=dn(),r=bo(),s=vt(),i=Kn();T.useEffect(()=>{const o=e.get(XI);if(o!==void 0){const a=(c,l,u,d,f)=>{const h=typeof c=="string"?c:s.formatMessage(c);i[d](h,{id:l,duration:u,hasCloseButton:f});const p=new URLSearchParams(e);p.delete(XI),p.delete(Wf),r({search:"?".concat(p.toString()),hash:n},{replace:!0})};switch(o){case"share_not_found":q.addAction("global_toast.conversation_inaccessible",{path:t}),a(Dr.conversationInaccessible,"share_not_found",10,"warning",!0);break;case"shared_post_not_found":a(Dr.sharedPostNotFound,"shared_post_not_found",10,"warning",!0);break;case"gizmo_not_found":a(Dr.gizmoNotFound,"gizmo_not_found",10,"warning",!0);break;case"project_not_found":a(Dr.projectNotFound,"project_not_found",10,"warning",!0);break;case"no_access":a(Dr.noAccess,"no_access",5,"warning",!0);break;case"oauth_success":a(Dr.oauthSuccess,"oauth_success",5,"success",!0);break;case"oauth_failed_generic":a(Dr.oauthFailedGeneric,"oauth_failed_generic",5,"warning",!0);break;case"oauth_failed_scope_mismatch":a(Dr.oauthFailedScopeMismatch,"oauth_failed_scope_mismatch",5,"warning",!0);break;case"oauth_failed_email_domain_enforcement":a(Dr.oauthFailedEmailDomainEnforcement,"oauth_failed_email_domain_enforcement",5,"warning",!0);break;case"c_msg":a(e.get(Wf),"c_msg",10,"success",!0);break;case"c_err":a(e.get(Wf),"c_err",5,"warning",!0);break;case"account_transfer_error":a({id:"globalToasts.accountTransferError",defaultMessage:"Error transferring account. To retry, go to Settings  Merge.",description:"Error when unable to transfer their personal account to the workspace"},"account_transfer_error",5,"warning",!0);break;case"mfa_enabled":a({id:"enableMfa.success",defaultMessage:"Multi-factor authentication enabled",description:"Confirmation toast after an MFA enable action is successfully executed"},"mfa_enabled",5,"success",!0);break;case"passkey_created":a({id:"passkey.create.success",defaultMessage:"Passkey created",description:"Confirmation toast shown after a passkey is successfully created"},"passkey_created",5,"success",!0);break;case"enable_mfa_error":a({id:"enrollMfa.failure",defaultMessage:"Error occurred. Please try again.",description:"Error toast after MFA token request failed"},"enable_mfa_error",5,"warning",!0);break;case"enable_mfa_email_required":a(Dr.enableMfaEmailRequired,"enable_mfa_email_required",5,"warning",!0);break;case"disable_mfa_success":a(Dr.disableMfaSuccess,"disable_mfa_success",5,"success",!0);break;case"disable_mfa_timeout":a(Dr.disableMfaTimeout,"disable_mfa_timeout",5,"warning",!0);break;case"canvas_not_found":a(Dr.canvasNotFound,"canvas_not_found",5,"warning",!1);break}}},[s,i,t,e,r,n])}const Dr=Rt({conversationInaccessible:{id:"globalToasts.conversationInaccessible",defaultMessage:"Conversation inaccessible or not found. You may need to switch accounts or request access if this conversation exists."},sharedPostNotFound:{id:"globalToasts.sharedPostNotFound",defaultMessage:"This share is inaccessible or not found."},gizmoNotFound:{id:"globalToasts.gizmoNotFound",defaultMessage:"This GPT is inaccessible or not found. Ensure you're using the right account."},projectNotFound:{id:"globalToasts.projectNotFound",defaultMessage:"This project is inaccessible or not found. Ensure you're using the right account."},noAccess:{id:"globalToasts.noAccess",defaultMessage:"You do not currently have access to this feature"},oauthSuccess:{id:"globalToasts.oauthSuccess",defaultMessage:"Your account is now connected"},oauthFailedGeneric:{id:"globalToasts.oauthFailedGeneric",defaultMessage:"Something went wrong with setting up the connection"},oauthFailedScopeMismatch:{id:"globalToasts.oauthFailedScopeMismatch",defaultMessage:"Not all requested permissions were granted"},oauthFailedEmailDomainEnforcement:{id:"globalToasts.oauthFailedEmailDomainEnforcement",defaultMessage:"Your company has an enterprise workspace that manages connector access. Contact your enterprise admin to get access."},enableMfaEmailRequired:{id:"enableMfa.emailRequired",defaultMessage:"Add an email address to your account to set up multi-factor authentication."},disableMfaSuccess:{id:"disableMfa.success",defaultMessage:"Multi-factor authentication disabled"},disableMfaTimeout:{id:"disableMfa.timeout",defaultMessage:"Your last log in was too long ago, please try again"},canvasNotFound:{id:"canvasNotFound",defaultMessage:"This canvas is inaccessible or not found. Ensure you are logged in, verify youre in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."}}),Vr="snorlax-history",qf="NEW_PROJECT_KEY",oIe="snorlax-history",aIe=1,Gg=new Set;class xo{static listConnectorScopes(t,n,r){return H.safeGet("/projects/{project_id}/connector_scopes",{parameters:{path:{project_id:t},query:S({limit:n},r?{cursor:r}:{})}})}static syncConnectorScope(t,n){return H.safePost("/projects/{project_id}/connector_scopes/{scope_id}/sync",{parameters:{path:{project_id:t,scope_id:n}}})}static upsert(t){return H.safePost("/gizmos/snorlax/upsert",{requestBody:t})}static async share(t){return await H.safePost("/projects/share",{requestBody:t})}static addHealthGoals(t,n){return H.safePost("/gizmos/snorlax/{gizmo_id}/health-goals",{parameters:{path:{gizmo_id:t}},requestBody:{health_goals:n}})}static getProjectSidebar(t=null){return tt.get("".concat(Qe,"/gizmos/snorlax/sidebar"),{params:P(S({},t?{cursor:t}:{}),{conversations_per_gizmo:"0",owned_only:"true",limit:"".concat(KI)})})}static async getProjectHistory(t=null){const n=[];let r=t,s=0;for(;s<15;){s++;const i=await tt.get("".concat(Qe,"/gizmos/snorlax/sidebar"),{params:S({conversations_per_gizmo:"".concat(GNe),owned_only:"true"},r?{cursor:r}:{})});if(n.push(...i.items),r=i.cursor,n.length>KI||!r)break;s===5&&mt.count(ft.DEFAULT,"projects.history.empty.load_more_5"),s===10&&mt.count(ft.DEFAULT,"projects.history.empty.load_more_10")}return r&&n.length===0&&mt.count(ft.DEFAULT,"projects.history.empty.load_more_15"),{items:n,cursor:r}}static async fetchProjectHistory(t=null,n){const r=await this.getProjectHistory(t);q.addFirstTiming("load.snorlaxHistory");const{items:s}=r;VNe(s),s.forEach(o=>{const a=o.gizmo.gizmo.id;n.setQueryData(Cn(n,a).queryKey,c=>{if(!c)return o.gizmo}),n.setQueryData([js,{gizmoId:a}],c=>{if(!c)return Gg.add(a),{pages:[o.conversations],pageParams:[]}})});const i=s.map(o=>({gizmo:o.gizmo}));return P(S({},r),{items:i})}static delete(t){return H.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}})}static join(t){return H.safePost("/gizmos/snorlax/join",{parameters:{query:{gizmo_id:t}}})}static decline(t){return H.safePost("/gizmos/snorlax/decline",{requestBody:{project_id:t}})}static leave(t){return H.safePost("/gizmos/snorlax/leave",{requestBody:t})}static createConnectorScope(t,n,r){return H.safePost("/projects/{project_id}/connector_scopes",{parameters:{path:{project_id:t}},requestBody:{connector_type:r,original_url:n}})}static deleteConnectorScope(t,n){return H.safeDelete("/projects/{project_id}/connector_scopes/{scope_id}",{parameters:{path:{project_id:t,scope_id:n}}})}}const cIe="snorlax-connector-scopes",VG=100,lIe=e=>[cIe,{projectId:e}];function uIe({projectId:e,enabled:t=!0}){return fn({queryKey:lIe(e),queryFn:async()=>{const n=await xo.listConnectorScopes(e,VG);return n.cursor!=null&&fo.warn("Cursor returned from connector scopes list request, pagination not implemented",{projectId:e,CONNECTOR_SCOPES_LIMIT:VG}),n},enabled:t})}const tQe=Qt(()=>fn({queryKey:["snorlax","recent",{limit:KI}],queryFn:()=>xo.getProjectSidebar(),enabled:Pe("491279851")}));function Qz(e){return{mutationFn:async({update:t,id:n})=>{var O,A,N,I;if(!n)throw new Error("No gizmo ID found for upsert");let r,s;if(n===qf)r=ONe;else{if(s=e.getQueryData(Cn(e,n,!1).queryKey),s||(s=await Xt.getGizmo(n,!1)),!s)throw new Error("No existing gizmo resource found for upsert");r=gNe(s)}const i=typeof t=="function"?t(r):S(S({},r),t);if(e9(i,r))return{id:n};const{id:o,instructions:a,name:c,description:l,emoji:u,theme:d,profilePictureId:f,profilePictureUrl:h,promptStarters:p,files:_,sharing:m,trainingDisabled:v}=i;if(((A=(O=s==null?void 0:s.gizmo)==null?void 0:O.gizmo_snorlax_type)!=null?A:null)&&m.subjects.length>0)throw new Error(cR.firstPartyProjectShareForbidden.defaultMessage);if(o!==n&&n!==qf)throw new Error("Error updating project. ID mismatch");const b=(N=i.memoryScope)!=null?N:uo.UNSET,C={gizmo_id:n!==qf?n:void 0,instructions:a,display:{name:c,description:l,emoji:u,theme:d,profile_pic_id:f,profile_picture_url:h,prompt_starters:p},tools:[],memory_scope:b,files:_.map(w=>P(S({},w),{location:X1.FILE_SERVICE})),training_disabled:v,sharing:[...m.subjects.some(w=>!g0e(w))?[]:[{type:St.Private,capabilities:$8}],...m.subjects.map(fIe)],categories:void 0},y=await xo.upsert(C);if(y.error)throw new W8;return{id:(I=y.resource)==null?void 0:I.gizmo.id,resource:y.resource}},scope:{id:"snorlax"},onSettled:t=>{if(t!=null&&t.resource&&(e.setQueryData(Cn(e,t.resource.gizmo.id,!1).queryKey,t.resource),!Pd(t.resource))){const n={gizmo:t.resource};zz(n),e.setQueryData([Vr],Zz(n))}jp(e)}}}function nQe(){const e=tn();return Fn(Qz(e))}function rQe(){return Fn({mutationFn:async e=>{const t=await xo.share(e);if(t.error)throw new MNe(t);return t}})}function Zz(e){const t={items:[e],cursor:null};return n=>n?P(S({},n),{pages:n.pages.map((r,s)=>s===0?P(S({},r),{items:[e,...r.items.filter(i=>i.gizmo.gizmo.id!==e.gizmo.gizmo.id)]}):P(S({},r),{items:r.items.filter(i=>i.gizmo.gizmo.id!==e.gizmo.gizmo.id)}))}):{pages:[t],pageParams:[]}}const dIe={[Zt.EMAIL]:er.Email,[Zt.USER]:er.User,[Zt.GROUP]:er.Group,[Zt.WORKSPACE]:er.WorkspaceLink,[Zt.ALL]:er.Link};function fIe(e){const t=dIe[e.type];if(!t)throw new Error("Unknown sharing subject type: "+e.type);return P(S({},e),{type:t})}const zG=ww(un.HasAnyProjects,()=>!1,{coerceStoredValue:w6});function sQe(e=null){const t=q8(),n=tn(),r=jE(oIe,aIe,[Vr]),{data:s,fetchNextPage:i,hasNextPage:o,isLoading:a,isFetchingNextPage:c,isError:l,refetch:u}=id({queryKey:[Vr],queryFn:async({pageParam:f})=>xo.fetchProjectHistory(f,n),initialPageParam:e,getNextPageParam:f=>{var h;return(h=f.cursor)!=null?h:void 0},enabled:t,placeholderData:r,structuralSharing:qNe}),d=T.useMemo(()=>{var f;return(f=s==null?void 0:s.pages.flatMap(h=>h.items))!=null?f:[]},[s]);return!lt(zG)&&d.length>0&&zG.set(!0),{projects:d,data:s,fetchNextPage:i,hasNextPage:o,refetch:u,isLoading:a,isFetchingNextPage:c,isError:l}}function iQe(e){"use forget";const t=j.c(4),n=tn();let r,s;t[0]!==e||t[1]!==n?(r=()=>{Gg.has(e)&&(n.invalidateQueries({queryKey:eY(e)}),Gg.delete(e))},s=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=s):(r=t[2],s=t[3]),T.useEffect(r,s)}function eY(e){return[js,{gizmoId:e}]}function tY(e){return $H({queryKey:eY(e),queryFn:async({pageParam:t})=>{Gg.delete(e);const n=await Xt.getProjectConversations(e,t);return xNe({gizmoId:e,conversationIdsInPage:n.items.map(r=>r.id)}),n},enabled:As(e),initialPageParam:"0",getNextPageParam:t=>{var n;return(n=t.cursor)!=null?n:void 0},structuralSharing:(t,n)=>RNe(e,t,n)})}function oQe(e){const{data:t,fetchNextPage:n,hasNextPage:r,isLoading:s,isPending:i,isFetchingNextPage:o,isError:a,isFetching:c,refetch:l}=id(tY(e));return{items:T.useMemo(()=>{var d;return(d=t==null?void 0:t.pages.flatMap(f=>f.items))!=null?d:[]},[t]),data:t,fetchNextPage:n,hasNextPage:r,refetch:l,isLoading:s,isPending:i,isFetching:c,isFetchingNextPage:o,isError:a}}function jp(e){e.invalidateQueries({queryKey:[Vr]})}function nY(e){return t=>{var n;return t&&(lR(e),P(S({},t),{pages:(n=t==null?void 0:t.pages)==null?void 0:n.map(r=>P(S({},r),{items:r.items.filter(s=>s.gizmo.gizmo.id!==e)}))}))}}function aQe(){const e=tn(),t=bo();return Fn({mutationFn:async({gizmoId:n})=>(await xo.join(n),{gizmoId:n}),onError:n=>{const r=cv(n);t(Xz(dR.CUSTOM_ERROR,void 0,r))},onSettled:async(n,r,{gizmoId:s})=>{jp(e),s&&await e.invalidateQueries({queryKey:Cn(e,s,!1).queryKey,refetchType:"all"})}})}function cQe(){const e=tn(),t=bo();return Fn({mutationFn:async({gizmoId:n})=>(await xo.decline(n),{gizmoId:n}),onError:n=>{const r=cv(n);t(Xz(dR.CUSTOM_ERROR,void 0,r))},onSettled:async(n,r,{gizmoId:s})=>{jp(e),s&&await e.invalidateQueries({queryKey:Cn(e,s,!1).queryKey,refetchType:"all"})}})}function lQe(){const e=tn(),t=Xv();return Fn({mutationFn:async({gizmoId:n})=>(await xo.delete(n),{gizmoId:n}),onMutate:async({gizmoId:n})=>{await e.cancelQueries({queryKey:Cn(e,n,!1).queryKey}),await e.cancelQueries({queryKey:[Vr]}),await e.cancelQueries({queryKey:[js,{gizmoId:n}]});const r=e.getQueryData([Vr]);return e.setQueryData([Vr],nY(n)),{prevProjectHistoryData:r}},onError:(n,r,s)=>{s!=null&&s.prevProjectHistoryData&&e.setQueryData([Vr],s.prevProjectHistoryData),t.danger(cR.deleteProjectFailedToast,{toastId:"snorlax_deletion_modal_delete_project_failed",hasCloseButton:!0})},onSettled:n=>{const r=n==null?void 0:n.gizmoId;jp(e),sIe(e,r),r&&e.invalidateQueries({queryKey:Cn(e,r,!1).queryKey})}})}function uQe(){const e=tn(),t=Xv();return Fn({mutationFn:async({gizmoId:n,saveCopy:r})=>{const s=await xo.leave({gizmo_id:n,save_copy:r});return{gizmoId:n,resource:mNe(s)?s.resource:void 0}},onMutate:async({gizmoId:n})=>{await e.cancelQueries({queryKey:Cn(e,n,!1).queryKey}),await e.cancelQueries({queryKey:[Vr]}),await e.cancelQueries({queryKey:[js,{gizmoId:n}]});const r=e.getQueryData([Vr]);return e.setQueryData([Vr],nY(n)),{prevProjectHistoryData:r}},onError:(n,r,s)=>{s!=null&&s.prevProjectHistoryData&&e.setQueryData([Vr],s.prevProjectHistoryData),t.danger(cR.leaveProjectFailedToast,{toastId:"snorlax_leave_modal_leave_project_failed",hasCloseButton:!0})},onSettled:n=>{if(n!=null&&n.resource&&(e.setQueryData(Cn(e,n.resource.gizmo.id,!1).queryKey,n.resource),!Pd(n.resource))){const r={gizmo:n.resource};zz(r),e.setQueryData([Vr],Zz(r))}jp(e)}})}const YG=new Map;function dQe(e){const t=YG.get(e);if(t)return t;const n=JV(hIe,2e3,{trailing:!0});return YG.set(e,n),n}async function hIe({projectId:e,upsertProjectMutation:t,pendingFileUpsertMutationsRef:n}){const r=[],s=o=>{const a=n.current;return a.forEach(({update:c})=>{o=c(o)}),r.push(...a),o};await t.mutateAsync({id:e,update:s}),r.forEach(({onSuccess:o})=>{o==null||o()});const i=r.map(({mutationId:o})=>o);n.current=n.current.filter(({mutationId:o})=>!i.includes(o))}const pIe=e=>{const t=Kse(()=>tY(e.id)),n=X(!1),r=X(!1),s=ie(()=>t().hasNextPage&&!i()),i=ie(()=>!r()&&(t().fetchStatus==="fetching"||n()||t().isFetchingNextPage)),o={awaitingManualRetry$:r,all$:ie(()=>{var a,c;return(c=(a=t().data)==null?void 0:a.pages.flatMap(l=>l.items))!=null?c:null}),preload$:()=>{t().refetch()},canFetchMore$:ie(()=>s()&&!i()&&!t().isFetchingNextPage&&!n()&&t().fetchStatus==="idle"&&!o.awaitingManualRetry$()),cursor$:ie(()=>{var l;const a=t().data;if(!a||!Array.isArray(a.pages)||a.pages.length===0)return null;const c=a.pages[a.pages.length-1];return(l=c==null?void 0:c.cursor)!=null?l:null}),canShowConversations$:ie(()=>{const a=o.all$();return!!(a&&a.length>0||i()||r())}),fetchMore$:()=>{n.set(!0),t().fetchNextPage(),setTimeout(()=>n.set(!1),1e3)},failureCount$:ie(()=>t().failureCount),error$:ie(()=>t().error),isFetchNextPageError$:ie(()=>t().isFetchNextPageError),hasNextPage$:s,isLoading$:i};return ga(()=>({isFetchNextPageError:o.isFetchNextPageError$(),failureCount:o.failureCount$()}),({isFetchNextPageError:a,failureCount:c})=>{a&&c>0&&o.awaitingManualRetry$.set(!0)}),o},Bp=X({});function _Ie(e){var r;const t=zE(Bp(),"theme",e.gizmo.id);let n;return t===void 0?n=(r=e.gizmo.display.theme)!=null?r:null:n=t,n}function mIe(e){var r;const t=zE(Bp(),"emoji",e.gizmo.id);return(r=t!=null?t:e.gizmo.display.emoji)!=null?r:null}function gIe(e){var r;const t=zE(Bp(),"name",e.gizmo.id);return(r=t!=null?t:e.gizmo.display.name)!=null?r:null}function rY(e){return zE(Bp(),"pendingFiles",e)}const zE=(e,t,n)=>{if(n===qf||!n)return;const r="".concat(n,"-").concat(t);return e[r]},Nf=(e,t,n)=>{e!==qf&&Bp.set(r=>{const s="".concat(e,"-").concat(t),i=S({},r);return n===void 0?delete i[s]:i[s]=n,i})},ub=(e,t)=>{Nf(e,t,void 0)};function vIe({id:e,theme:t,emoji:n,name:r,pendingFiles:s}){if(t!==void 0&&Nf(e,"theme",t),n!==void 0&&Nf(e,"emoji",n),r!==void 0&&Nf(e,"name",r),s!==void 0){let i=lt(()=>rY(e));i==null&&(i=new Map),s.value!=null?i.set(s.key,s.value):i.delete(s.key),Nf(e,"pendingFiles",i)}}const sY=Ee(_t,"680a3c",20,20),EIe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='106'%20fill='none'%3e%3cg%20clip-path='url(%23a)'%3e%3cg%20filter='url(%23b)'%3e%3cpath%20fill='%23fff'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3cpath%20stroke='%23000'%20stroke-linejoin='bevel'%20stroke-opacity='.1'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3c/g%3e%3cpath%20fill='%23000'%20d='M49.287%2048.12v-3.905c0-.263.075-.45.337-.601l7.246-4.205c.977-.563%202.216-.826%203.417-.826%204.58%200%207.471%203.53%207.471%207.321%200%20.3%200%20.714-.075%201.051l-7.584-4.43c-.375-.225-.788-.263-1.239%200l-9.573%205.594ZM66.03%2061.972V53.3c0-.488-.187-.825-.638-1.088l-9.611-5.594%203.379-1.953a.717.717%200%200%201%20.675%200l7.284%204.205c2.065%201.202%203.492%203.83%203.492%206.345%200%202.966-1.802%205.707-4.58%206.758Zm-18.734-7.471-3.342-1.99c-.262-.15-.338-.338-.338-.6v-8.373c0-4.092%203.117-7.171%207.36-7.171a7.23%207.23%200%200%201%204.504%201.577l-7.546%204.392c-.45.263-.638.601-.638%201.09v11.075Zm6.533%203.754-4.543-2.553v-5.406l4.543-2.553%204.505%202.553v5.406l-4.505%202.553Zm2.815%2011.376a7.23%207.23%200%200%201-4.505-1.577l7.546-4.392c.45-.263.639-.601.639-1.09V51.499l3.379%201.99c.262.15.337.338.337.6v8.373c0%204.093-3.153%207.171-7.396%207.171Zm-8.86-8.297L40.5%2057.13c-2.065-1.202-3.491-3.83-3.491-6.345%200-3.004%201.84-5.707%204.618-6.758v8.71c0%20.488.187.826.638%201.09l9.574%205.556-3.38%201.952a.718.718%200%200%201-.675%200Zm-.45%206.082c-4.318%200-7.472-3.229-7.472-7.246%200-.375.038-.75.075-1.089l7.546%204.355c.451.263.826.263%201.277%200l9.574-5.556v3.904c0%20.263-.075.451-.338.601l-7.246%204.205c-.976.563-2.215.826-3.417.826Zm9.31%204.243c4.506%200%208.26-3.23%209.086-7.51%204.205-1.05%206.908-4.955%206.908-8.935%200-2.628-1.126-5.143-3.191-6.983.188-.788.338-1.614.338-2.403%200-5.294-4.318-9.273-9.274-9.273a9.197%209.197%200%200%200-3.003.525c-1.69-1.69-3.98-2.74-6.533-2.74-4.505%200-8.26%203.228-9.086%207.508-4.205%201.052-6.908%204.956-6.908%208.936%200%202.628%201.127%205.144%203.191%206.983-.187.789-.337%201.615-.337%202.403%200%205.294%204.317%209.274%209.273%209.274a9.2%209.2%200%200%200%203.004-.526c1.69%201.69%203.98%202.74%206.532%202.74Z'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M.81%200h106v106H.81z'%20/%3e%3c/clipPath%3e%3cfilter%20id='b'%20width='105'%20height='105'%20x='1.311'%20y='4.5'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%20%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20/%3e%3cfeOffset%20dy='4'%20/%3e%3cfeGaussianBlur%20stdDeviation='12'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'%20/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1235_2762'%20/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_1235_2762'%20result='shape'%20/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function iY(s){var i=s,{children:e,className:t,style:n}=i,r=B(i,["children","className","style"]);return g.jsx("svg",P(S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t},r),{style:n,children:e}))}const CIe=({className:e})=>g.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:e,xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M15.75 12V5.99999C15.7497 5.73694 15.6803 5.4786 15.5487 5.25086C15.417 5.02312 15.2278 4.83401 15 4.70249L9.75 1.70249C9.52197 1.57084 9.26331 1.50153 9 1.50153C8.73669 1.50153 8.47803 1.57084 8.25 1.70249L3 4.70249C2.7722 4.83401 2.58299 5.02312 2.45135 5.25086C2.31971 5.4786 2.25027 5.73694 2.25 5.99999V12C2.25027 12.263 2.31971 12.5214 2.45135 12.7491C2.58299 12.9769 2.7722 13.166 3 13.2975L8.25 16.2975C8.47803 16.4291 8.73669 16.4985 9 16.4985C9.26331 16.4985 9.52197 16.4291 9.75 16.2975L15 13.2975C15.2278 13.166 15.417 12.9769 15.5487 12.7491C15.6803 12.5214 15.7497 12.263 15.75 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),yIe="ChatGPT",fR=({className:e})=>g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[g.jsx("text",{x:"-9999",y:"-9999",children:yIe}),g.jsx("path",{d:"M9.20509 8.76511V6.50545C9.20509 6.31513 9.27649 6.17234 9.44293 6.0773L13.9861 3.46088C14.6046 3.10413 15.342 2.93769 16.103 2.93769C18.9573 2.93769 20.7651 5.14983 20.7651 7.50454C20.7651 7.67098 20.7651 7.86129 20.7412 8.05161L16.0316 5.2924C15.7462 5.12596 15.4607 5.12596 15.1753 5.2924L9.20509 8.76511ZM19.8135 17.5659V12.1664C19.8135 11.8333 19.6708 11.5955 19.3854 11.429L13.4152 7.95633L15.3656 6.83833C15.5321 6.74328 15.6749 6.74328 15.8413 6.83833L20.3845 9.45474C21.6928 10.216 22.5728 11.8333 22.5728 13.4031C22.5728 15.2108 21.5025 16.8758 19.8135 17.5657V17.5659ZM7.80173 12.8088L5.8513 11.6671C5.68486 11.5721 5.61346 11.4293 5.61346 11.239V6.00613C5.61346 3.46111 7.56389 1.53433 10.2042 1.53433C11.2033 1.53433 12.1307 1.86743 12.9159 2.46202L8.2301 5.17371C7.94475 5.34015 7.80195 5.57798 7.80195 5.91109V12.809L7.80173 12.8088ZM12 15.2349L9.20509 13.6651V10.3351L12 8.76534L14.7947 10.3351V13.6651L12 15.2349ZM13.7958 22.4659C12.7967 22.4659 11.8693 22.1328 11.0841 21.5382L15.7699 18.8265C16.0553 18.6601 16.198 18.4222 16.198 18.0891V11.1912L18.1723 12.3329C18.3388 12.4279 18.4102 12.5707 18.4102 12.761V17.9939C18.4102 20.5389 16.4359 22.4657 13.7958 22.4657V22.4659ZM8.15848 17.1617L3.61528 14.5452C2.30696 13.784 1.42701 12.1667 1.42701 10.5969C1.42701 8.76534 2.52115 7.12414 4.20987 6.43428V11.8574C4.20987 12.1905 4.35266 12.4284 4.63802 12.5948L10.5846 16.0436L8.63415 17.1617C8.46771 17.2567 8.32492 17.2567 8.15848 17.1617ZM7.897 21.0625C5.20919 21.0625 3.23488 19.0407 3.23488 16.5432C3.23488 16.3529 3.25875 16.1626 3.2824 15.9723L7.96817 18.6839C8.25352 18.8504 8.53911 18.8504 8.82446 18.6839L14.7947 15.2351V17.4948C14.7947 17.6851 14.7233 17.8279 14.5568 17.9229L10.0136 20.5393C9.39518 20.8961 8.6578 21.0625 7.89677 21.0625H7.897ZM13.7958 23.8929C16.6739 23.8929 19.0762 21.8474 19.6235 19.1357C22.2874 18.4459 24 15.9484 24 13.4034C24 11.7383 23.2865 10.121 22.002 8.95542C22.121 8.45588 22.1924 7.95633 22.1924 7.45702C22.1924 4.0557 19.4331 1.51045 16.2458 1.51045C15.6037 1.51045 14.9852 1.60549 14.3668 1.81968C13.2963 0.773071 11.8215 0.107086 10.2042 0.107086C7.32606 0.107086 4.92383 2.15256 4.37653 4.86425C1.7126 5.55411 0 8.05161 0 10.5966C0 12.2617 0.713506 13.879 1.99795 15.0446C1.87904 15.5441 1.80764 16.0436 1.80764 16.543C1.80764 19.9443 4.56685 22.4895 7.75421 22.4895C8.39632 22.4895 9.01478 22.3945 9.63324 22.1803C10.7035 23.2269 12.1783 23.8929 13.7958 23.8929Z",fill:"currentColor"})]});function SIe({className:e}){const t=vt();return g.jsx("img",{src:EIe,alt:t.formatMessage({id:"VJmCc9",defaultMessage:"ChatGPT logo"}),className:e})}const TIe=({className:e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",fill:"none",className:e,children:g.jsx("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.9 1.6 1.2 11a1.3 1.3 0 0 0 1.2 2h11.2a1.3 1.3 0 0 0 1.2-2L9 1.6a1.3 1.3 0 0 0-2.2 0Z"})}),fQe=Object.freeze(Object.defineProperty({__proto__:null,Hexagon:CIe,IconBase:iY,OpenaiLogo:fR,OpenaiLogoConditionalSvg:SIe,TriangleIcon:TIe},Symbol.toStringTag,{value:"Module"})),oY=Ee(_t,"865db3",20,20),hQe=Object.freeze(Object.defineProperty({__proto__:null,default:oY},Symbol.toStringTag,{value:"Module"})),aY=Ee(_t,"d28ccf",20,20),pQe=Object.freeze(Object.defineProperty({__proto__:null,default:aY},Symbol.toStringTag,{value:"Module"})),OIe=Ee(_t,"d4bd76",20,20),bIe=Ee(_t,"a35fbc",20,20),QI=Ee(_t,"86811d",20,20),_Qe=Object.freeze(Object.defineProperty({__proto__:null,default:QI},Symbol.toStringTag,{value:"Module"})),KG=Ee(_t,"be4859",20,20),AIe=Ee(_t,"52bc20",20,20),JG=Ee(_t,"ac6d36",20,20),XG=Ee(_t,"284217",20,20),cY=Ee(_t,"1af12c",20,20),mQe=Object.freeze(Object.defineProperty({__proto__:null,default:cY},Symbol.toStringTag,{value:"Module"})),NIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{d:"M9.64978 13.0257L6.36281 14.2164C5.32547 14.5922 4.17846 14.0599 3.8009 13.0274L3.45909 12.0927L4.0564 10.8177L1.75 7.41901L4.09784 6.56847L6.66195 8.05349C7.17468 8.35044 7.79343 8.40537 8.35086 8.20343L16.8625 5.11998C17.1541 5.01435 17.4664 4.97773 17.7746 5.01305L20.6083 5.33764C21.3056 5.41751 21.8977 5.88262 22.1377 6.53907C22.4878 7.49623 21.9919 8.55457 21.0303 8.90295L15.7542 10.8143M16.3515 9.53934L13 14.5L10.1826 15.5206L9.84014 11.8982",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),IIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4044 2.98475C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99183 10L3.84325 9.89871C3.83307 9.89177 3.82303 9.88465 3.81311 9.87733C2.55917 8.9526 2.79737 7.01262 4.23778 6.41871L6.35774 5.5446L7.08184 3.36883C7.57382 1.8905 9.49246 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.59381 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47125 14.8357 9.52793 14.8451 9.58262C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79819 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86122 15.9282 3.97455 15.8176 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84122 12.8358 9.66998 12.8289 9.50115C12.8194 9.26483 12.8254 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00091 8.26739L7.06338 9.67378C7.19188 9.7614 7.29353 9.87369 7.3663 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94771 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94771 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"})),PIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{d:"M5 16.584C3.2341 15.8124 2 14.0503 2 12C2 9.46726 3.88316 7.37436 6.32568 7.04508C7.13649 4.69118 9.37075 3 12 3C15.3137 3 18 5.68629 18 9C20.2091 9 22 10.7909 22 13C22 14.2632 21.4145 15.3896 20.5 16.1227",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M9.25 16L6.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M13.25 16L10.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M17.25 16L14.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),wIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{d:"M4.5 17.5L7.56881 14.3817C8.32655 13.6117 9.55878 13.5826 10.352 14.316L16.5 20",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M19 12H18.3798C17.504 12 16.672 11.6173 16.102 10.9524L11.898 6.04763C11.328 5.38269 10.496 5 9.6202 5H6C4.89543 5 4 5.89543 4 7V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M19 5H18.3798C17.504 5 16.672 5.38269 16.102 6.04763L14 8.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("circle",{cx:8.5,cy:9.5,r:1.5,fill:"currentColor"}),T.createElement("path",{d:"M18 14V10C18 9.58798 18.4704 9.35279 18.8 9.6L21.4667 11.6C21.7333 11.8 21.7333 12.2 21.4667 12.4L18.8 14.4C18.4704 14.6472 18 14.412 18 14Z",fill:"currentColor"}),T.createElement("path",{d:"M18 7V3C18 2.58798 18.4704 2.35279 18.8 2.6L21.4667 4.6C21.7333 4.8 21.7333 5.2 21.4667 5.4L18.8 7.4C18.4704 7.64721 18 7.41202 18 7Z",fill:"currentColor"})),RIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{d:"M15.5 14V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("rect",{x:5,y:3,width:14,height:18,rx:2,stroke:"currentColor",strokeWidth:2}),T.createElement("circle",{cx:8.5,cy:14,r:1,fill:"currentColor"}),T.createElement("circle",{cx:8.5,cy:17,r:1,fill:"currentColor"}),T.createElement("circle",{cx:12,cy:17,r:1,fill:"currentColor"}),T.createElement("circle",{cx:12,cy:14,r:1,fill:"currentColor"}),T.createElement("circle",{cx:8.5,cy:11,r:1,fill:"currentColor"}),T.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"}),T.createElement("circle",{cx:15.5,cy:11,r:1,fill:"currentColor"})),xIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("circle",{cx:12,cy:10.5,r:7.5,stroke:"currentColor",strokeWidth:2}),T.createElement("path",{d:"M8 17V22L12 21L16 22V17",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})),MIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{d:"M17 8H19C20.1046 8 21 8.89543 21 10V17C21 18.1046 20.1046 19 19 19M19 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H15C16.1046 5 17 5.89543 17 7V17C17 18.1046 17.8954 19 19 19Z",stroke:"currentColor",strokeWidth:2}),T.createElement("path",{d:"M7 10H13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M7 13H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),kIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{d:"M6 5H5C3.89543 5 3 5.89543 3 7V8M18 5H19C20.1046 5 21 5.89543 21 7V8M21 16V17C21 18.1046 20.1046 19 19 19H18M6 19H5C3.89543 19 3 18.1046 3 17V16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),T.createElement("path",{d:"M8 10H16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),T.createElement("path",{d:"M8 14H14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),LIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{d:"M4 18V7H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),T.createElement("path",{d:"M9 10V6C9 4.34315 10.3431 3 12 3V3C13.6569 3 15 4.34315 15 6V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),DIe=e=>T.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T.createElement("path",{d:"M3 6H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),T.createElement("path",{d:"M3 10H7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),T.createElement("path",{d:"M13.4282 17.5718L20.5 10.5C21.6046 9.39543 21.6046 7.60457 20.5 6.5C19.3954 5.39543 17.6046 5.39543 16.5 6.5L9.42819 13.5718C9.14899 13.851 8.95868 14.2066 8.88124 14.5938L8 19L12.4062 18.1188C12.7934 18.0413 13.149 17.851 13.4282 17.5718Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function UIe(e){switch(e){case"genius":return aY;case"idea":return KG;case"code":return cY;case"data-vis":return oY;case"dalle":return wIe;case"local":return AIe;case"math":return RIe;case"misc":return IIe;case"news":return MIe;case"teach-or-explain":return QI;case"read-or-analyze":return kIe;case"rank-or-rate":return xIe;case"current-event":return JG;case"shop":return LIe;case"travel":return NIe;case"weather":return PIe;case"work":return QI;case"write":return DIe;case"vision":return OIe;case"file-upload-document":return bIe;case"browse":return JG;case"onboarding":return XG;case"for-you":return XG;default:return KG}}function FIe(e){switch(e){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"for-you":return"#ED6262";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const lu=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function GIe(e){switch(e){case"write":case"shop":return lu[0];case"idea":case"travel":return lu[1];case"code":case"vision":return lu[2];case"teach-or-explain":case"misc":default:return lu[3]}}function gQe({category:e,useV2Colors:t}){if(e==null)return null;const n=UIe(e);return g.jsx(n,{className:"icon",style:{color:t?FIe(e):GIe(e)}})}const lY=e=>{var i,o,a,c;const t=e.split(" ").map(l=>l.trim()).filter(Boolean);if(t.length===0)return"";const n=(o=(i=t[0])==null?void 0:i[0])!=null?o:"",r=t.length>1&&(c=(a=t[t.length-1])==null?void 0:a[0])!=null?c:"";return(t.length>1?"".concat(n).concat(r):n).toUpperCase()},jIe=e=>{const t=["bg-blue-800","bg-red-800","bg-green-800","bg-blue-500","bg-yellow-800","bg-gray-800","bg-orange-800"],n=e.split("").map(r=>r.charCodeAt(0)).reduce((r,s)=>r+s,0);return t[n%t.length]},BIe=({IconComponent:e,className:t,size:n="default",rounded:r=!1})=>g.jsx("div",{className:oe("relative flex items-center justify-center",Fc[n],r?"rounded-full":"rounded-xs",t),children:g.jsx(e,{className:uY[n]})}),vQe=({iconName:e,className:t,size:n="default"})=>{let r=fR;return e==="user"&&(r=sY),g.jsx(BIe,{IconComponent:r,className:t,size:n})},Fc={default:"h-6 w-6 shrink-0",xsmall:"h-4 w-4 shrink-0",small:"h-5 w-5 shrink-0",medium:"h-7 w-7 shrink-0",mediumLarge:"h-9 w-9 shrink-0",large:"h-12 w-12 shrink-0"},uY={default:"icon",xsmall:"icon-xs",small:"icon-sm",medium:"icon",mediumLarge:"icon-lg",large:"icon-lg"},QG=({user:e,size:t="default",fallbackTextClassName:n,isLoading:r,dotted:s=!1,className:i})=>{var a;const o=vt();return g.jsx("div",{className:oe("flex overflow-hidden rounded-full select-none",s?"border-global-border-heavy border-token-border-heavy border border-dashed":"bg-gray-500/30",Fc[t],i),children:g.jsx(dY,{fallback:!r&&g.jsx(HIe,{user:e,size:t,dotted:s,textClassName:n}),src:(a=e==null?void 0:e.picture)!=null?a:void 0,alt:o.formatMessage({id:"avatar.profileimage",defaultMessage:"Profile image"}),className:oe(Fc[t],r&&"invisible","object-cover")})})};function HIe({user:e,size:t,dotted:n=!1,textClassName:r}){var i;const s=lY((i=e==null?void 0:e.name)!=null?i:"");return g.jsx("div",{className:oe("flex h-full w-full items-center justify-center",n?"text-token-text-tertiary":"bg-blue-300 text-white dark:bg-blue-500"),children:s?g.jsx("div",{className:oe(r!=null?r:t==="small"||t==="default"?"text-xs":"indent-[0.1em] text-sm tracking-widest"),children:s}):g.jsx(sY,{className:uY[t]})})}function dY(s){var i=s,{fallback:e,src:t,alt:n}=i,r=B(i,["fallback","src","alt"]);const[o,a]=T.useState(!1),c=T.useRef(null);return T.useEffect(()=>a(!1),[t]),T.useEffect(()=>{const l=c.current;!l||!t||l.complete&&l.naturalWidth===0&&a(!0)},[t]),o||!t?e:g.jsx("img",P(S({ref:c,src:t,alt:n},r),{onError:()=>{a(!0)},referrerPolicy:"no-referrer"}))}const $Ie=e=>g.jsxs(iY,P(S({viewBox:"0 0 36 36",fill:"none"},e),{children:[g.jsx("circle",{cx:"18",cy:"18",r:"18",fill:"#3c46ff"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.358 14.641 5.056-5.055A2 2 0 0 1 13.828 9h8.343a2 2 0 0 1 1.414.586l5.056 5.055a2 2 0 0 1 .055 2.771l-9.226 9.996a2 2 0 0 1-2.94 0l-9.227-9.996a2 2 0 0 1 .055-2.77Zm6.86-1.939-.426 1.281a2.07 2.07 0 0 1-1.31 1.31l-1.28.426a.296.296 0 0 0 0 .561l1.28.428a2.07 2.07 0 0 1 1.31 1.309l.427 1.28c.09.27.471.27.56 0l.428-1.28a2.07 2.07 0 0 1 1.309-1.31l1.281-.427a.296.296 0 0 0 0-.56l-1.281-.428a2.07 2.07 0 0 1-1.309-1.309l-.427-1.28a.296.296 0 0 0-.561 0z",fill:"#fff"})]})),WIe=({size:e="default",src:t,alt:n,className:r})=>g.jsx("div",{className:oe("overflow-hidden rounded-full bg-gray-500/30 select-none",Fc[e],r),children:g.jsx(dY,{fallback:g.jsx($Ie,{className:oe(Fc[e],r)}),src:t!=null?t:void 0,alt:n!=null?n:"",className:oe(Fc[e],r)})});function EQe(e){"use forget";const t=j.c(7),{iconSize:n,workspace:r,showPlanTypeBadge:s,className:i}=e,o=n===void 0?"default":n,a=s===void 0?!1:s,c=ze(),l=Ga(),u=r!=null?r:l,d=Le(qIe),f=Le(Q8),h=!u||d,_=a&&!h&&((c==null?void 0:c.isPro())||(c==null?void 0:c.isPlus()))&&ut("2775247110").get("show_plan_type_badge",!1)&&(c!=null&&c.isPlus()?g.jsx(zIe,{}):c!=null&&c.isPro()?g.jsx(VIe,{}):null);let m;return t[0]!==f||t[1]!==_||t[2]!==i||t[3]!==u||t[4]!==o||t[5]!==h?(m=u&&!u.isPersonalAccount()?g.jsx(WIe,{src:u.data.profilePictureUrl,size:o,className:i}):_?g.jsxs("div",{className:"relative",children:[g.jsx(QG,{user:f,size:o,isLoading:h,className:i}),_]}):g.jsx(QG,{user:f,size:o,isLoading:h,className:i}),t[0]=f,t[1]=_,t[2]=i,t[3]=u,t[4]=o,t[5]=h,t[6]=m):m=t[6],m}function qIe(){return eR().isLoading}const VIe=()=>g.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex items-center justify-center rounded-full bg-black text-[8px] font-medium text-white",style:{height:"0.75rem",width:"1.4rem",letterSpacing:"-0.4px"},children:"PRO"}),zIe=()=>g.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex h-3 items-center justify-center rounded-full bg-white text-[8px] font-medium text-black",style:{width:"1.6rem",boxShadow:"0 0 0 1.1px rgba(128, 128, 128, 0.1)",letterSpacing:"-0.5px"},children:"PLUS"});function CQe({name:e,size:t="default",className:n,initialsCount:r=1}){let s="";return r===1?s=e.charAt(0):s=e.split(" ").slice(0,2).map(i=>i[0]).join(""),g.jsx("div",{className:oe("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",Fc[t],n),style:{backgroundColor:YIe(e)},children:s})}function YIe(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return lu[Math.abs(t)%lu.length]}function KIe(e){"use forget";const t=j.c(16),{items:n,variant:r,maxVisible:s,overflowClassName:i}=e,o=r===void 0?"knockout":r,a=s===void 0?2:s;let c,l,u,d;t[0]!==n||t[1]!==a||t[2]!==o?(d=n.slice(0,a),c=n.length-a,l="flex",u=d.map((p,_)=>g.jsx("div",{className:oe("relative rounded-full",o==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:d.length-_,marginInlineStart:_===0?0:-6},children:p.node},p.key)),t[0]=n,t[1]=a,t[2]=o,t[3]=c,t[4]=l,t[5]=u,t[6]=d):(c=t[3],l=t[4],u=t[5],d=t[6]);let f;t[7]!==i||t[8]!==c||t[9]!==o||t[10]!==d?(f=c>0&&g.jsx("div",{className:oe("relative rounded-full",o==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:0,marginInlineStart:d.length>0?-6:0},children:g.jsx("div",{className:oe("icon-lg relative flex items-center justify-center rounded-full text-[10px]","text-token-text-primary bg-token-bg-tertiary",i),children:g.jsx(xt,{id:"QY9mVO",values:{remaining:c},defaultMessage:"+{remaining}"})})}),t[7]=i,t[8]=c,t[9]=o,t[10]=d,t[11]=f):f=t[11];let h;return t[12]!==l||t[13]!==u||t[14]!==f?(h=g.jsxs("div",{className:l,children:[u,f]}),t[12]=l,t[13]=u,t[14]=f,t[15]=h):h=t[15],h}const JIe=(e,t)=>{window.__reactRouterDataRouter.navigate(e,t)},ZI=e=>{const t=window.__reactRouterDataRouter.state.location.pathname;return Ree(e,t)},yQe=e=>{var t,n;return(n=(t=window.history.state)==null?void 0:t.usr)==null?void 0:n[e]},SQe=e=>{window.history.replaceState(P(S({},window.history.state),{usr:P(S({},window.history.state.usr),{[e]:void 0})}),"")};function TQe(){const e=Wm("/gg/*"),t=Wm("/g/:projectId/gg/*");return e!=null||t!=null}function OQe(){var n,r;const e=Wm("/gg/:id"),t=Wm("/g/:projectId/gg/:id");return(r=(n=e==null?void 0:e.params.id)!=null?n:t==null?void 0:t.params.id)!=null?r:null}function XIe(){var n,r;const e=ZI("/gg/:id"),t=ZI("/g/:projectId/gg/:id");return(r=(n=e==null?void 0:e.params.id)!=null?n:t==null?void 0:t.params.id)!=null?r:null}function QIe(){var t;const e=ZI("/g/:projectId/*");return(t=e==null?void 0:e.params.projectId)!=null?t:null}function ZIe(e,t=240){var i;const r=((i=e.preview)!=null?i:"").trim().replace(/\s+/g," ");return r.length>t?"".concat(r.slice(0,t),""):r}function bQe(e,t){const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(n.getFullYear(),n.getMonth(),n.getDate()-1),i=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1),o=new Date(r);o.setDate(o.getDate()-6);const a=new Intl.DateTimeFormat(t,{hour:"numeric",minute:"2-digit"}).format(e),c=new Intl.RelativeTimeFormat(t,{numeric:"auto"});if(e>=r&&e<i)return{date:db(c.format(0,"day"),t),time:a};if(e>=s&&e<r)return{date:db(c.format(-1,"day"),t),time:a};if(e>=o&&e<s){const h=new Intl.DateTimeFormat(t,{weekday:"long"});return{date:db(h.format(e),t),time:a}}const l=e.getFullYear()===n.getFullYear(),u=S({month:"long",day:"numeric"},l?{}:{year:"numeric"});return{date:new Intl.DateTimeFormat(t,u).format(e),time:a}}function db(e,t){const[n="",...r]=Nde(e);return n?"".concat(n.toLocaleUpperCase(t)).concat(r.join("")):e}var ym=(e=>(e.CreateRoom="calpico_create_room",e.SendMessage="calpico_send_message",e))(ym||{});const ePe="https://chatgpt.com/backend-api/sentinel/sdk.js",rd=globalThis,fY=!!(rd.window&&rd.document)&&!0;function tPe(){return new Promise((e,t)=>{var s;const n=rd.document;if(!n){t(new Error("Sentinel SDK script cannot be injected outside the browser"));return}const r=n.createElement("script");r.type="text/javascript",r.src=ePe,r.async=!0,r.defer=!0,r.onload=e,r.onerror=i=>{t(i!=null?i:new Error("Failed to load Sentinel SDK script"))},(s=n.head)==null||s.appendChild(r)})}const nPe=(()=>{let e;return()=>(e||(fY?(e=tPe(),e.then(()=>{var t;try{(t=rd.SentinelSDK)==null||t.init("calpico_init")}catch(n){q.addError("Sentinel SDK init failed",{error:n})}})):e=Promise.resolve()),e)})();function fb(e){const t={};return e&&(t["OpenAI-Sentinel-Token"]=e),t}function ZG(e){return fY?nPe().then(()=>{if(!rd.SentinelSDK)throw new Error("Sentinel SDK not initialized");return rd.SentinelSDK.token(e)}):Promise.resolve("disabled")}function AQe(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function NQe(e){return e.startsWith("file_")?"sediment://"+e:"file-service://"+e}function IQe(e){return e.startsWith("file-service://")}function eP(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(Nn.fileZeroBytes,n);case"file_too_large":return e.formatMessage(Nn.fileTooLarge,n);case"over_user_quota":return e.formatMessage(Nn.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(Nn.fileNoLongerAvailable,n);case"file_timed_out":return e.formatMessage(Nn.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(Nn.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(Nn.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(Nn.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(Nn.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(Nn.fileEmpty,n);case"too_many_tokens":return e.formatMessage(Nn.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(Nn.fileEncrypted,n);case"file_corrupted":return e.formatMessage(Nn.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(Nn.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(Nn.unknownError)}}function PQe(){const e=vt();return T.useCallback((t,n)=>eP(e,t,n),[e])}const rPe=1e3*60*58,ej=new Set(["file_not_found","file_expired"]);async function sPe(e,t={}){var h;const{gizmoId:n,isUnauthenticated:r=!1,conversationId:s,showInline:i,postId:o,checkContextScopesForConversationId:a}=t,[,c,l]=(h=/^(.*?)(\?.*)?$/.exec(e))!=null?h:[],u=new URLSearchParams(l),d=c.replaceAll("#","*"),f=await H.safeGet("/files/download/{file_id}",{parameters:{path:{file_id:d},query:S(P(S({gizmo_id:n,post_id:o},Object.fromEntries(u.entries())),{conversation_id:s,inline:i}),a?{check_context_scopes_for_conversation_id:a}:{})},authOption:r?cn.Anonymous:void 0});if(f.status===ih.Success||f.status===ih.Retry)return f;throw new Gt("Could not get file download link","error_code"in f?f.error_code:"unknown_error")}function wQe(){const{session:e}=wie(),t=!at(),n=Kn();return async(r,s,i)=>{const{conversationId:o,gizmoId:a}=typeof i=="string"?{conversationId:i}:i!=null?i:{};if(!t&&e==null)return n.danger(Nn.fileDownloadFailed,{toastId:"file_download_failed"}),!1;try{const c=await sPe(r,{gizmoId:a,isUnauthenticated:t,checkContextScopesForConversationId:o});if(c.status!==ih.Success)throw new Error("File is not ready to download: "+JSON.stringify(c));const l=c.download_url,u=document.createElement("a");u.href=l,u.download=s,u.rel="noopener",document.body.appendChild(u),u.click(),u.remove()}catch(c){const l=hY(c)?Nn.fileNoLongerAvailable:Nn.fileDownloadFailed;return n.danger(l,{toastId:"file_download_failed"}),!1}return!0}}function hY(e){return e instanceof Gt&&e.code?ej.has(e.code):!!(e instanceof Mt&&(e.status===404||e.code&&ej.has(e.code)))}function RQe({error:e,getErrorMessage:t,fileName:n,fallbackMessage:r}){const s=hY(e),i=!s;if((e instanceof Gt||e instanceof Mt)&&e.code)return{message:t(e.code,{fileName:n}),isRetryable:i};if(s)return{message:t("file_not_found",{fileName:n}),isRetryable:!1};const o=cv(e);return o?{message:o,isRetryable:i}:{message:r,isRetryable:i}}function hR(e,t){var n;return((t==null?void 0:t.kind)===Ys.GizmoInteraction||(t==null?void 0:t.kind)===Ys.GizmoTest)&&!(t!=null&&t.gizmo&&Z1(t==null?void 0:t.gizmo))?(n=t.gizmo)==null?void 0:n.product_features:e==null?void 0:e.product_features}function xQe(e,t,n){var s,i,o,a;const r=hR(e,t);return n===ce.Research?yn.Retrieval:((s=r==null?void 0:r.attachments)==null?void 0:s.type)===ta.CodeInterpreter?yn.Interpreter:((i=r==null?void 0:r.attachments)==null?void 0:i.type)===ta.Multimodal?yn.Multimodal:((o=r==null?void 0:r.attachments)==null?void 0:o.type)===ta.Retrieval?yn.Retrieval:((a=r==null?void 0:r.attachments)==null?void 0:a.type)===ta.ContextConnector?yn.ContextConnector:yn.None}function pY(e){var r;const t=(r=e.split(".").pop())==null?void 0:r.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t!=null?t:""]||""}function iPe(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function _Y(e,t,n){const r=pY(e);return r&&(t=r),n&&(t=iPe(t)),t}function oPe(e,t,n,r,s){if(s==null)return e;const i=_Y(t,n,r),{accepted_mime_types:o,can_accept_all_mime_types:a}=s;return o==null||o.length===0||!a||o.includes(i)?e:yn.Interpreter}function MQe(e,t,n,r){var o,a,c;const s=_Y(n,t,r),i=(o=e==null?void 0:e.product_features)==null?void 0:o.attachments;if(i!=null)return(a=i.accepted_mime_types)!=null&&a.includes(s)?i.type:(c=i.image_mime_types)!=null&&c.includes(s)?ta.Multimodal:ta.CodeInterpreter}function kQe(e,t){var r,s;const n=hR(e,t);return(r=n==null?void 0:n.attachments)!=null&&r.can_accept_all_mime_types||(s=n==null?void 0:n.attachments)==null?void 0:s.accepted_mime_types}function LQe(e,t){var s;const n=hR(e,t),{attachments:r}=n!=null?n:{};return r!=null&&r.image_mime_types?r.image_mime_types:(r==null?void 0:r.type)==="multimodal"?(s=r.accepted_mime_types)!=null?s:aPe:[]}const aPe=["image/png","image/jpeg","image/gif","image/webp","image/heic","image/heif"],tj={"image/jpeg":[".jpg",".jpeg"],"image/heic":[".heic"],"image/heif":[".heif"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"],"application/pdf":[".pdf"],"text/plain":[".txt"]};function cPe(e){return e.reduce((t,n)=>(n in tj?t[n]=tj[n]:n.includes("/")&&(t[n]=[".".concat(n.split("/")[1])]),t),{})}function DQe(e){return T.useMemo(()=>e===void 0?{}:{accept:cPe(e)},[e])}function YE(e){var t;return(t=e.split(".").pop())==null?void 0:t.toLowerCase()}function UQe(e){const t=YE(e);return t!=null&&["jpg","jpeg","png","gif","webp","heic","heif"].includes(t)}function FQe(e){const t=YE(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function GQe(e){const t=YE(e);return t!=null&&["xls","xlsx"].includes(t)}function jQe(e){if(typeof e=="string")return!0;const t=YE(e.name);return t!=null&&["txt"].includes(t)}function mY(e,t,n="fit"){return new Promise((r,s)=>{const i=new FileReader;i.onerror=o=>{q.addError(new Error("File reading has failed:",{cause:o})),s(new Error("Failed to read the file."))},i.onload=o=>{const a=new Image;a.onerror=c=>{q.addError(new Error("Image loading has failed:",{cause:c})),s(new Error("Failed to load the image."))},a.onload=()=>{const c=document.createElement("canvas");let l,u=0,d=0;switch(n){case"fill":l=t/Math.min(a.width,a.height);break;case"square":l=t/Math.min(a.width,a.height);break;case"fit":l=t/Math.max(a.width,a.height);break}const f=a.width*l,h=a.height*l;n==="square"?(c.width=t,c.height=t,u=(t-f)/2,d=(t-h)/2):(c.width=f,c.height=h);const p=c.getContext("2d");if(p==null){q.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),s(new Error("Failed to create canvas context."));return}p.drawImage(a,u,d,f,h);const _=e.type||"image/png";c.toBlob(m=>{m?r(new File([m],e.name,{type:_})):(q.addError("Blob creation failed. Blob is null."),s(new Error("Failed to create blob from image data.")))},_)},o.target==null?(q.addError("Event target is null. Failed to load image."),s("Failed to load image.")):a.src=o.target.result},i.readAsDataURL(e)})}function BQe(e,t){return mY(e,t,"square")}function HQe(e){var r,s;const t=(r=e.name.split("/"))!=null?r:[];return((s=t[t.length-1])!=null?s:"").replace(/[-_]/g," ").split(".")[0]}function lPe(e,t){return t?e.slice(0,-t.length-1):e}const uPe="1733738619",dPe="993789611";function $Qe(){return T.useMemo(()=>()=>!Pe(uPe)&&!Pe(dPe),[])}const Nn=Rt({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNoLongerAvailable:{id:"filesModal.fileNoLongerAvailable",defaultMessage:"This file is no longer available."},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}}),fPe=new Set(["image/heic","image/heif"]),hPe=new Set([".heic",".heif"]);function pPe(e){const t=e.type.toLowerCase(),n=e.name.toLowerCase().split(".").pop();return fPe.has(t)||n!=null&&hPe.has(".".concat(n))}async function _Pe(e){var s;const t=await createImageBitmap(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");if(!r)throw new Error("Failed to get 2d context while converting HEIC");return r.drawImage(t,0,0),(s=t.close)==null||s.call(t),new Promise((i,o)=>{n.toBlob(a=>{a?i(a):o(new Error("Failed to convert HEIC to JPEG"))},"image/jpeg",.95)})}function mPe(e){const t=e.lastIndexOf("."),n=t===-1?e:e.slice(0,t);return"".concat(n,".jpg")}function gPe(e,t){switch(e){case"heic_conversion_failed":return t.formatMessage({id:"NsV+2a",defaultMessage:"This browser doesn't support processing .heic image files. For best results, please convert the .heic image to a .jpeg and try again."})}}function WQe(e,t,n){const r=gPe(e,t);n.danger(r,{toastId:"file_normalization_".concat(e)})}async function vPe(e){try{const t=await _Pe(e),n=mPe(e.name);return mt.count(ft.DEFAULT,"file_upload.heic_conversion",{status:"success"}),{file:new File([t],n,{type:"image/jpeg",lastModified:e.lastModified})}}catch(t){return console.error("Failed to normalize HEIC file for upload",t),mt.count(ft.DEFAULT,"file_upload.heic_conversion",{status:"failed"}),{file:e,failureReason:"heic_conversion_failed"}}}async function qQe(e){return pPe(e)?await vPe(e):{file:e}}const EPe=["notificationSettings"];class CPe{static async getOrCreateSubscription({endpoint:t,p256dh:n,auth:r}){return H.safePost("/notifications/subscription/register",{requestBody:{platform:"web",web_metadata:{endpoint:t,p256dh:n},token:r}})}static async deregisterSubscription({token:t}){const n={token:t,platform:"web"};return H.safeDelete("/notifications/subscription/deregister",{requestBody:n})}static async getSettings(){return H.safeGet("/notifications/settings")}static async updateSettings(t){const s=t,{category:n}=s,r=B(s,["category"]);return H.safePatch("/notifications/settings",{requestBody:{updates:{[n]:r}}})}}const yPe=1e4,gY=zn(xa(()=>({notifications:[]}))),SPe=e=>{var r;const t=crypto.randomUUID();gY.setState(s=>{s.notifications.push(P(S({},e),{id:t}))});const n=(r=e.timeout)!=null?r:yPe;setTimeout(()=>{TPe(t)},n)},TPe=e=>{gY.setState(t=>{t.notifications=t.notifications.filter(n=>n.id!==e)})},VQe=({onSuccess:e,alwaysRefetchOnMount:t=!1})=>nn({queryKey:EPe,queryFn:async()=>{const r=(await CPe.getSettings()).settings;return e==null||e(r),r},refetchOnMount:t?"always":!0}),tP=fl(()=>document.hasFocus(),e=>{const t=()=>e();return window.addEventListener("focus",t),window.addEventListener("blur",t),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",t),document.removeEventListener("visibilitychange",t)}},{name:"isWindowFocused",getServerFallback:()=>!0}),nP=new bE;var Wh;class OPe{constructor(){R(this,"start",0);R(this,"connectTime",0);R(this,"hasLoggedGetSocketURL",!1);R(this,"didLogPingFromWorker",!1);R(this,"didLogPingFromServer",!1);R(this,"pingId",nr());R(this,"actionMetadata",{});R(this,"onFetchSocketURL",()=>{if(!this.hasLoggedGetSocketURL){const t=performance.now()-this.start;this.actionMetadata.socket_url_duration=t,this.actionMetadata.socket_url_time=t,q.addAction("ws.get-socket-url",this.actionMetadata),mt.hist(ft.WEBSOCKET,"get-socket-url",[],t),this.hasLoggedGetSocketURL=!0}});Ct(this,Wh,({payload:t})=>{const{ping_id:n,source:r}=t;if(!(n!=null&&n!==this.pingId)){if(r==="server"&&!this.didLogPingFromServer){this.didLogPingFromServer=!0;const s=performance.now()-this.start,i=s-this.connectTime;this.actionMetadata.receive_server_ping_time=s,this.actionMetadata.receive_server_ping_duration=i,q.addAction("ws.receive-server-ping",this.actionMetadata),mt.hist(ft.WEBSOCKET,"receive-server-ping",[],i)}if((r==="worker"||r==null)&&!this.didLogPingFromWorker){this.didLogPingFromWorker=!0;const s=performance.now()-this.start,i=s-this.connectTime;this.actionMetadata.receive_ping_time=s,this.actionMetadata.receive_ping_duration=i,q.addAction("ws.receive-ping",this.actionMetadata),mt.hist(ft.WEBSOCKET,"receive-ping",[],i)}this.didLogPingFromWorker&&this.didLogPingFromServer&&nP.off("ping",te(this,Wh))}})}onInit(){q.addAction("ws.init"),mt.count(ft.WEBSOCKET,"init"),this.start=performance.now()}onConnect(){if(!(this.connectTime>0))try{this.connectTime=performance.now()-this.start;const t=this.connectTime-Number(this.actionMetadata.socket_url_time);this.actionMetadata.connect_time=this.connectTime,this.actionMetadata.connect_duration=t,q.addAction("ws.connect",this.actionMetadata),mt.hist(ft.WEBSOCKET,"connect",[],t),nP.on("ping",te(this,Wh)),q.addAction("ws.send-ping",this.actionMetadata),H.safePost("/celsius/ping",{requestBody:{ping_id:this.pingId}})}catch(t){q.addAction("ws.error",{error:t}),mt.count(ft.WEBSOCKET,"error")}}}Wh=new WeakMap;const bPe=ot(()=>Pe("1281927149")?new OPe:void 0);function APe(e,t){let n=null;const r=()=>{const s=Date.now(),i=n!=null?s-n.time:null;return n!=null&&i!=null&&i<t?(q.addAction("websocket-url-cache.hit",{timeSinceLastValue:i}),n.promise):(q.addAction("websocket-url-cache.miss",{timeSinceLastValue:i}),n={promise:e().catch(o=>{throw q.addAction("websocket-url-cache.error"),n=null,o}),time:s},n.promise)};return r.invalidate=()=>{q.addAction("websocket-url-cache.invalidate"),n=null},r}const NPe=async()=>(await H.safeGet("/celsius/ws/user")).websocket_url,IPe=APe(NPe,15e5);(!globalThis.EventTarget||!globalThis.Event)&&console.error("\n  PartySocket requires a global 'EventTarget' class to be available!\n  You can polyfill this global by adding this to your code before any partysocket imports: \n  \n  ```\n  import 'partysocket/event-target-polyfill';\n  ```\n  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.\n");var vY=class extends Event{constructor(n,r){super("error",r);R(this,"message");R(this,"error");this.message=n.message,this.error=n}},EY=class extends Event{constructor(t=1e3,n="",r){super("close",r);R(this,"code");R(this,"reason");R(this,"wasClean",!0);this.code=t,this.reason=n}},hb={Event,ErrorEvent:vY,CloseEvent:EY};function PPe(e,t){if(!e)throw new Error(t)}function wPe(e){return new e.constructor(e.type,e)}function RPe(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new EY(e.code||1999,e.reason||"unknown reason",e):"error"in e?new vY(e.error,e):new Event(e.type,e)}var nj,xPe=typeof process<"u"&&typeof((nj=process.versions)==null?void 0:nj.node)<"u"&&typeof document>"u",F_=xPe?RPe:wPe,Ja={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},rj=!1,MPe=class cc extends EventTarget{constructor(n,r,s={}){super();R(this,"_ws");R(this,"_retryCount",-1);R(this,"_uptimeTimeout");R(this,"_connectTimeout");R(this,"_shouldReconnect",!0);R(this,"_connectLock",!1);R(this,"_binaryType","blob");R(this,"_closeCalled",!1);R(this,"_messageQueue",[]);R(this,"_debugLogger",console.log.bind(console));R(this,"_url");R(this,"_protocols");R(this,"_options");R(this,"onclose",null);R(this,"onerror",null);R(this,"onmessage",null);R(this,"onopen",null);R(this,"_handleOpen",n=>{this._debug("open event");const{minUptime:r=Ja.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),PPe(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(s=>{var i;return(i=this._ws)==null?void 0:i.send(s)}),this._messageQueue=[],this.onopen&&this.onopen(n),this.dispatchEvent(F_(n))});R(this,"_handleMessage",n=>{this._debug("message event"),this.onmessage&&this.onmessage(n),this.dispatchEvent(F_(n))});R(this,"_handleError",n=>{this._debug("error event",n.message),this._disconnect(void 0,n.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(n),this._debug("exec error listeners"),this.dispatchEvent(F_(n)),this._connect()});R(this,"_handleClose",n=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(n),this.dispatchEvent(F_(n))});this._url=n,this._protocols=r,this._options=s,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return cc.CONNECTING}get OPEN(){return cc.OPEN}get CLOSING(){return cc.CLOSING}get CLOSED(){return cc.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((r,s)=>(typeof s=="string"?r+=s.length:s instanceof Blob?r+=s.size:r+=s.byteLength,r),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?cc.CLOSED:cc.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(n=1e3,r){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,r)}reconnect(n,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,r),this._connect())}send(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{const{maxEnqueuedMessages:r=Ja.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}}_debug(...n){this._options.debug&&this._debugLogger("RWS>",...n)}_getNextDelay(){const{reconnectionDelayGrowFactor:n=Ja.reconnectionDelayGrowFactor,minReconnectionDelay:r=Ja.minReconnectionDelay,maxReconnectionDelay:s=Ja.maxReconnectionDelay}=this._options;let i=0;return this._retryCount>0&&(i=r*n**(this._retryCount-1),i>s&&(i=s)),this._debug("next delay",i),i}_wait(){return new Promise(n=>{setTimeout(n,this._getNextDelay())})}_getNextProtocols(n){if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(typeof n=="function"){const r=n();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){const r=n();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:n=Ja.maxRetries,connectionTimeout:r=Ja.connectionTimeout}=this._options;if(this._retryCount>=n){this._debug("max retries reached",this._retryCount,">=",n);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([s,i])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!rj&&(console.error(" No WebSocket implementation available. You should define options.WebSocket. \n\nFor example, if you're using node.js, run `npm install ws`, and then in your code:\n\nimport PartySocket from 'partysocket';\nimport WS from 'ws';\n\nconst partysocket = new PartySocket({\n  host: \"127.0.0.1:1999\",\n  room: \"test-room\",\n  WebSocket: WS\n});\n\n"),rj=!0);const o=this._options.WebSocket||WebSocket;this._debug("connect",{url:s,protocols:i}),this._ws=i?new o(s,i):new o(s),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(s=>{this._connectLock=!1,this._handleError(new hb.ErrorEvent(Error(s.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new hb.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(n=1e3,r){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(n,r),this._handleClose(new hb.CloseEvent(n,r,this))}catch(s){}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */const pR=ot(e=>new DPe(e));function kPe(e){return pR().getTopic(e)}const sj={maxRetries:20,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.5,maxReconnectionDelay:1/0},LPe={maxRetries:5,minReconnectionDelay:2e3+Math.random()*8e3,reconnectionDelayGrowFactor:2,maxReconnectionDelay:1/0};var Ac,gr,CY,yY,SY,TY,OY,rP;class DPe{constructor(t){Ct(this,gr);R(this,"ws");R(this,"pingTest");R(this,"nextRequestId",1);R(this,"commandCallbacks",{});R(this,"topics",new Map);Ct(this,Ac,new bE);R(this,"isTransportOpen",!1);R(this,"hasConnectedOnce",!1);R(this,"isBatchingCommands",!1);R(this,"batchCommands",[]);R(this,"keepaliveInterval");this.ctx=t}init(){var n;this.pingTest=bPe(),(n=this.pingTest)==null||n.onInit();const t=new MPe(async()=>{var s;const r=await IPe();return(s=this.pingTest)==null||s.onFetchSocketURL(),r},void 0,sj);this.ws=t,t.addEventListener("open",()=>{It(this,gr,CY).call(this)}),t.addEventListener("close",r=>{It(this,gr,SY).call(this,r)}),t.addEventListener("message",r=>{It(this,gr,TY).call(this,r)}),t.addEventListener("error",r=>{It(this,gr,OY).call(this,r)}),It(this,gr,yY).call(this)}connect(){this.ws.reconnect()}disconnect(){this.ws.close()}onConnect(t){return te(this,Ac).on("connected",n=>t(n.payload))}onDisconnect(t){return te(this,Ac).on("disconnected",n=>t(n.payload))}getTopic(t){const n=this.topics.get(t);if(n)return n;const r=new UPe(t,this);return this.topics.set(t,r),r}startBatchCommands(){this.isBatchingCommands=!0,this.batchCommands=[]}endBatchCommands(){this.isBatchingCommands=!1,this.ws.send(JSON.stringify(this.batchCommands)),this.batchCommands=[]}async sendCommand(t){const n=this.nextRequestId++;this.commandCallbacks[n]=Promise.withResolvers();const r={id:n,command:t};this.isBatchingCommands?this.batchCommands.push(r):this.ws.send(JSON.stringify([r]));const s=await this.commandCallbacks[n].promise;return delete this.commandCallbacks[n],s}}Ac=new WeakMap,gr=new WeakSet,CY=function(){var i;const t=this.hasConnectedOnce,n=It(this,gr,rP).call(this),r=n.filter(o=>o.state==="Subscribing").map(o=>o.topic_id),s={connection_type:t?"reconnect":"initial",topic_count:n.length,topics:n,subscribing_topic_ids:r};te(this,Ac).publish({kind:"connected",payload:s}),(i=this.pingTest)==null||i.onConnect(),this.isTransportOpen=!0,this.hasConnectedOnce=!0,this.startBatchCommands(),this.sendCommand({type:"connect",presence:{type:"presence",state:lt(tP)?"foreground":"background"}});for(const o of this.topics.values())o.state===1&&o.subscribe();this.endBatchCommands(),Pe("3274829134")&&(this.keepaliveInterval=setInterval(()=>{this.ws.send(JSON.stringify({type:"keepalive-ping"}))},2e4))},yY=function(){ga(tP,t=>{this.ws._options=t?sj:LPe,this.isTransportOpen&&this.sendCommand({type:"presence",state:t?"foreground":"background"})})},SY=function(t){const n={was_transport_open:this.isTransportOpen,close_code:t==null?void 0:t.code,close_reason:t==null?void 0:t.reason,was_clean:t==null?void 0:t.wasClean,topic_count:this.topics.size,topics:It(this,gr,rP).call(this)};te(this,Ac).publish({kind:"disconnected",payload:n}),this.isTransportOpen=!1;for(const r of this.topics.values())r.handleDisconnect();this.endBatchCommands(),this.keepaliveInterval&&(clearInterval(this.keepaliveInterval),this.keepaliveInterval=void 0)},TY=function(t){const n=JSON.parse(t.data);if(Array.isArray(n)){const s=n;for(const i of s)if("type"in i&&i.type==="message"){const{topic_id:o}=i,a=this.topics.get(o);a&&a.handleMessage(i)}else"id"in i&&"reply"in i&&this.commandCallbacks[i.id].resolve(i.reply)}else{const r=n,{type:i}=r,o=B(r,["type"]),a=S({kind:i},o);nP.publish(a)}},OY=function(t){q.addAction("websocket error",{error:t.error,message:t.message})},rP=function(){return Array.from(this.topics.values()).map(t=>({topic_id:t.topicId,state:bY[t.state],has_offset:t.offset!=null,has_ever_subscribed:t.hasEverSubscribed,was_disconnected:t.wasDisconnected}))};var bY=(e=>(e[e.Subscribed=0]="Subscribed",e[e.Subscribing=1]="Subscribing",e[e.Unsubscribed=2]="Unsubscribed",e))(bY||{}),Fr,Qo;class UPe{constructor(t,n){R(this,"state",2);R(this,"offset",null);R(this,"hasEverSubscribed",!1);R(this,"wasDisconnected",!1);Ct(this,Fr,new bE);Ct(this,Qo,!1);this.topicId=t,this.client=n}onMessage(t){return te(this,Fr).on("message",n=>t(n.payload))}onPotentialMissedMessages(t){return te(this,Fr).on("recovery-failed",()=>t())}handleMessage(t){te(this,Fr).publish({kind:"message",payload:t.payload}),t.offset!=null&&t.offset!==""&&(this.offset=t.offset)}onReconnect(t){return te(this,Fr).on("reconnected",()=>t())}onDisconnect(t){return te(this,Fr).on("disconnected",()=>t())}onSubscribe(t){return te(this,Fr).on("subscribed",n=>t(n.payload))}handleDisconnect(){this.state=1,Lt(this,Qo,!1),this.wasDisconnected=!0,te(this,Fr).publish({kind:"disconnected"})}async subscribe(t={}){var r,s,i,o;if(t.includeAllHistory&&this.offset==null&&(this.offset="0"),this.state===0)return;const n=this.hasEverSubscribed&&this.wasDisconnected;if(n&&te(this,Fr).publish({kind:"reconnected"}),this.state=1,this.hasEverSubscribed=!0,this.wasDisconnected=!1,this.client.isTransportOpen&&!te(this,Qo)){Lt(this,Qo,!0);const a=this.offset,c=await this.client.sendCommand(S({type:"subscribe",topic_id:this.topicId},a!=null?{offset:a}:{}));if(Lt(this,Qo,!1),c.type==="subscribe"&&c.topic_id===this.topicId){this.state=0,this.offset=(r=c.last_offset)!=null?r:null;const l={topic_id:this.topicId,is_reconnect:n,include_all_history:(s=t.includeAllHistory)!=null?s:!1,prev_offset_present:a!=null,recovered:c.recovered,last_offset_present:c.last_offset!=null,catchup_count:(o=(i=c.catchups)==null?void 0:i.length)!=null?o:0};if(te(this,Fr).publish({kind:"subscribed",payload:l}),c.recovered&&c.catchups!=null)for(const u of c.catchups)this.handleMessage(u);a!=null&&!c.recovered&&te(this,Fr).publish({kind:"recovery-failed"})}else throw new Error("Unexpected reply to subscribe command")}}unsubscribe(){this.state!==2&&((this.state===0||te(this,Qo))&&this.client.sendCommand({type:"unsubscribe",topic_id:this.topicId}),this.state=2)}}Fr=new WeakMap,Qo=new WeakMap;const ij=3e3,oj=20,FPe=5;function GPe(e){var n;const t=(n=ze())==null?void 0:n.normalizedAccountUserId;return e.role==="user"&&e.accountUserId===t}function jPe(e,t,n){var s;return{id:(s=e.id)!=null?s:"".concat(t,":raw:").concat(n),author:e.author,content:e.content,create_time:e.create_time,update_time:e.update_time,end_turn:e.end_turn,weight:e.weight,metadata:e.metadata,recipient:e.recipient,channel:e.channel,status:e.status}}function aj(e){if(!e)return null;const t=e.message;if(!t)return P(S({},e),{message:null});const n=uu(t);return P(S({},e),{message:n})}function BPe(e){return e?P(S({},e),{message:null}):null}function uu(e){var t,n,r,s,i,o,a;if(e.role==="user")return{id:e.id,role:"user",accountUserId:e.account_user_id,content:e.content,reactions:(t=e.reactions)!=null?t:{},replyTo:aj(e.reply_to),createdAt:new Date(e.created_at),deletedAt:e.deleted_at?new Date(e.deleted_at):null,preview:(n=e.preview)!=null?n:null};if(e.role==="assistant")return{id:e.id,role:"assistant",rawMessages:((r=e.raw_messages)!=null?r:[]).map((c,l)=>jPe(c,e.id,l)),reactions:(s=e.reactions)!=null?s:{},replyTo:aj(e.reply_to),createdAt:new Date(e.created_at),attachments:(i=e.attachments)!=null?i:[],deletedAt:e.deleted_at?new Date(e.deleted_at):null,preview:(o=e.preview)!=null?o:null,modelSlug:(a=e.model_slug)!=null?a:null};if(e.role==="system")return{id:e.id,role:"system",content:e.content,createdAt:new Date(e.created_at),message:e.content.text,preview:e.preview};throw new Error("Unknown message response type: ".concat(e.role))}function cj(e,t){nh(()=>{const n=e(),r=t.map(uu),s=new Map;for(const o of[...n,...r]){const a=s.get(o.id);a&&a.role==="assistant"&&o.role==="assistant"?s.set(o.id,AY(a,o)):s.set(o.id,o)}const i=Array.from(s.values()).sort((o,a)=>o.createdAt.getTime()-a.createdAt.getTime());e.set(i)})}function AY(e,t){var r;const n=((r=t.attachments)!=null?r:[]).map((s,i)=>{var a;const o=(a=e.attachments)==null?void 0:a[i];return(s==null?void 0:s.type)==="post"&&(o==null?void 0:o.type)==="post"&&(s.loading_message==null||s.summary==null)?P(S({},s),{loading_message:s.loading_message==null&&o.loading_message!=null?o.loading_message:s.loading_message,summary:s.summary==null&&o.summary!=null?o.summary:s.summary}):s});return P(S({},t),{attachments:n})}function HPe(e,t){var s,i;const n=(s=e.text)!=null?s:"",r=(i=e.attachments)==null?void 0:i.map((o,a)=>{switch(o==null?void 0:o.type){case"file":return{type:"file",file_id:o.file_id};case"link":return{type:"link",url:o.url,title:o.title};case"post":return{type:"post",post_id:o.post_id};case"conversation":return{type:"conversation",conversation_id:o.conversation_id};case"media":return{type:"media",post_id:o.post_id,generation_id:o.generation_id,generation_type:o.generation_type,title:o.title,conversation_id:o.conversation_id,message_id:o.message_id};case"sticker":{let c=null;const l=t==null?void 0:t[a];return(l==null?void 0:l.type)==="sticker"&&(c=l.image_url),{type:"sticker",sticker_id:o.sticker_id,image_url:c}}case"sticker_pack":return{type:"sticker_pack",sticker_ids:o.sticker_ids};default:return o}});return{text:n,attachments:r}}class $Pe{constructor(t){R(this,"hasFetchedRooms$",X(!1));R(this,"rooms$",X(new Map));R(this,"liveMessageIds$",X(new Set));R(this,"users$",X(new Map));R(this,"userAttributes$",X(null));R(this,"userProfileSnapshots$",X(new Map));R(this,"sortedRooms$",ie(()=>Array.from(this.rooms$().values()).filter(n=>n.projectId==null).sort(this._compareRooms)));R(this,"sortedProjectRooms$",t=>ie(()=>Array.from(this.rooms$().values()).filter(r=>r.projectId===t).sort(this._compareRooms)));R(this,"totalUnreadMessageCount$",ie(()=>Array.from(this.rooms$().values()).reduce((t,n)=>t+n.unreadMessageCount$(),0)));R(this,"messageDebugMode$",X(!1));R(this,"roomsPaginationCursor$",X(VPe));R(this,"isFetchingMoreRooms$",X(!1));R(this,"selfProfile$",ie(()=>{var n,r;const t=(n=ze())==null?void 0:n.normalizedAccountUserId;return t==null?null:(r=this.users$().get(t))!=null?r:null}));R(this,"_markMessageArrivedViaPubSub$",t=>{var r;(t==null?void 0:t.role)!=="assistant"||!t.id||!((r=t.attachments)!=null?r:[]).some(s=>(s==null?void 0:s.type)==="post"&&s.post_type==="report")||(this.liveMessageIds$.set(s=>{if(s.has(t.id))return s;const i=new Set(s);return i.add(t.id),i}),console.log("[CalpicoState] live report message via pubsub",{messageId:t.id}))});R(this,"_compareRooms",(t,n)=>{const r=t.pinned$(),s=n.pinned$();return r!==s?r?-1:1:n.updatedAt$().getTime()-t.updatedAt$().getTime()});R(this,"_handlePubSubMessage",t=>{switch(t.type){case"calpico-message-add":{const{room_id:n,message:r}=t.payload;this._markMessageArrivedViaPubSub$(r),this._handleMessagesResponse$(n,[r]),this._cancelHeartbeat$(n,r),this._drawNotification$(n,r);break}case"calpico-message-update":{const{room_id:n,message:r}=t.payload;this._handleMessageUpdate$(n,r);break}case"calpico-room-update":{const{room:n}=t.payload;this._handleRoomsResponse$({response:[n],fetchSource:"pubsub"});break}case"calpico-room-read":{const{room_id:n,last_read_at:r}=t.payload;this._markRoomRead$(n,new Date(r));break}case"calpico-room-read-receipt":break;case"calpico-is-responding-heartbeat":{this._handleHeartbeatPayload$(t.payload);break}case"calpico-room-leave":{const{room_id:n}=t.payload;this.rooms$.set(r=>(r.delete(n),r));break}}});R(this,"_drawNotification$",(t,n)=>{var c;if(t===XIe())return;const r=uu(n);if(r.role==="system")return;const s=(c=ze())==null?void 0:c.normalizedAccountUserId;if(r.role==="user"&&r.accountUserId===s)return;const i=this.rooms$().get(t);if(i==null||i.projectId!=null&&QIe()!==i.projectId)return;let o=ZIe(r,50),a=null;if(r.role==="user"){const l=this.users$().get(r.accountUserId);if(l==null)return;a={name:l.name,picture:l.avatarUrl},o="".concat(l.name,": ").concat(o)}SPe({clientThreadId:t,title:i.name$(),subtitle:o,userAvatar:a,timeout:5e3,onClick:()=>{const l=i.projectId!=null?"/g/".concat(i.projectId,"/gg/").concat(t):"/gg/".concat(t);JIe(l)}})});R(this,"_handleRoomsResponse$",({response:t,fetchSource:n})=>{nh(()=>{t.forEach(r=>{var d,f,h,p,_,m,v,E,b;const s=this.rooms$(),i=(d=r.project_id)!=null?d:null,o=r.members.flatMap(C=>{var y,O;return C.role==="user"?[{role:"user",accountUserId:C.account_user_id,name:C.name,avatarUrl:C.avatar_url,avatarFileId:C.avatar_file_id,username:C.username,isBlocked:(y=C.is_blocked)!=null?y:!1,canMessage:(O=C.can_message)!=null?O:!1}]:[]}),a=r.member_profile_snapshots.map(C=>({accountUserId:C.account_user_id,name:C.name,avatarUrl:C.avatar_url,username:C.username})),c=s.get(r.id);if(c){if(n==="summary"&&c.fetchSource$()!=="summary")return;r.latest_messages&&(pb(r.latest_messages),cj(c.messages$,r.latest_messages)),c.members$.set(o),c.memberProfileSnapshots$.set(a),c.name$.set(r.name),c.shouldAutoRespond$.set((f=r.should_auto_respond)!=null?f:null),c.pinned$.set(r.pinned===!0),c.assistantPersonality$.set(typeof r.assistant_personality=="string"&&r.assistant_personality||""),c.groupLink$.set((h=r.magic_link_url)!=null?h:null),c.groupLinkShareText$.set((p=r.magic_link_share_text)!=null?p:null),c.fetchSource$.set(n),i&&c.projectId==null&&(c.projectId=i)}else{r.latest_messages&&pb(r.latest_messages);const C={id:r.id,type:r.type,projectId:i,name$:X(r.name),assistantPersonality$:X(typeof r.assistant_personality=="string"&&r.assistant_personality||""),members$:X(o),memberProfileSnapshots$:X(a),messages$:X(r.latest_messages?r.latest_messages.map(uu):[]),optimisticMessages$:X([]),threadSidebar$:X(null),viewMessages$:ie(()=>{const O=C.messages$(),A=C.optimisticMessages$();let N=[...O,...A];return N.sort((I,w)=>I.createdAt.getTime()-w.createdAt.getTime()),N=N.filter(I=>I.role==="system"?!0:I.deletedAt==null),N}),lastReadAt$:X(r.last_read_at?new Date(r.last_read_at):null),isFetchingMessages$:X(!1),hasFetchedBeginning$:X(!1),createdAt:new Date,assistantHeartbeats$:X([]),userHeartbeats$:X([]),updatedAt$:ie(()=>{var A,N;const O=C.viewMessages$();return(N=(A=vs(O))==null?void 0:A.createdAt)!=null?N:new Date(r.updated_at)}),pinned$:X(r.pinned===!0),unreadMessageCount$:ie(()=>{const O=C.lastReadAt$();return O==null?0:C.messages$().filter(N=>!GPe(N)&&N.createdAt>O).length}),shouldAutoRespond$:X((_=r.should_auto_respond)!=null?_:null),groupLink$:X((m=r.magic_link_url)!=null?m:null),groupLinkShareText$:X((v=r.magic_link_share_text)!=null?v:null),shouldInsertHeader$:ie(()=>C.messages$().some(O=>O.role==="system"&&O.content.type==="create_magic_link")),creatorAccountUserId$:X(dr(r.creator_account_user_id)),fetchSource$:X(n),_oai_internal_roomSystemInstructions:(E=r.oai_internal_system_instructions)!=null?E:null,_oai_internal_speakDecisionToolDescription:(b=r.oai_internal_speak_decision_tool_description)!=null?b:null},y=new Map(s);y.set(r.id,C),this.rooms$.set(y)}const l=new Map(this.users$());for(const C of o)l.set(C.accountUserId,{accountUserId:C.accountUserId,name:C.name,avatarUrl:C.avatarUrl,username:C.username});this.users$.set(l);const u=new Map(this.userProfileSnapshots$());for(const C of a)u.set(C.accountUserId,C);this.userProfileSnapshots$.set(u)})})});R(this,"_handleMessagesResponse$",(t,n)=>{var i;const r=this.rooms$().get(t);if(!r)return;const s=(i=ze())==null?void 0:i.normalizedAccountUserId;for(const o of n)o.role==="user"&&o.account_user_id===s&&o.request_id&&r.optimisticMessages$.set(a=>a.filter(c=>c.requestId!==o.request_id));pb(n),cj(r.messages$,n)});R(this,"_handleMessageUpdate$",(t,n)=>{const r=this.rooms$().get(t);r&&r.messages$.set(Sr(s=>{const i=s.findIndex(o=>o.id===n.id);if(i!==-1){const o=uu(n);s[i].role==="assistant"&&o.role==="assistant"?s[i]=AY(s[i],o):s[i]=o}else return[...s,uu(n)].sort((a,c)=>a.createdAt.getTime()-c.createdAt.getTime())},r.messages$()))});R(this,"_handleHeartbeatPayload$",t=>{var a,c,l;const{source:n,room_id:r,timestamp:s}=t,i=this.rooms$().get(r);if(i==null)return;const o=new Date(s*1e3);switch(n.role){case"user":{i.userHeartbeats$.set(u=>{const d=setTimeout(()=>{i.userHeartbeats$.set(h=>h.filter(p=>p.accountUserId!==n.account_user_id))},ij),f=u.find(h=>h.accountUserId===n.account_user_id);if(f!=null){const h=S({},f);return h.timestamp=o,clearTimeout(h.timeoutRef),h.timeoutRef=d,u.map(p=>p.accountUserId===n.account_user_id?h:p)}else return[...u,{accountUserId:n.account_user_id,timestamp:o,timeoutRef:d}]});break}case"assistant":{for(const d of i.assistantHeartbeats$())clearTimeout(d.timeoutRef);const u=setTimeout(()=>{i.assistantHeartbeats$.set(d=>d.filter(f=>f.modelSlug!==n.model_slug))},ij);i.assistantHeartbeats$.set([{modelSlug:n.model_slug,taskType:(a=n.task_type)!=null?a:null,timestamp:o,timeoutRef:u,message:(c=n.message)!=null?c:null,triggerId:(l=n.trigger_message_id)!=null?l:null}]);break}}});R(this,"_cancelHeartbeat$",(t,n)=>{if(n.role==null)return;const r=this.rooms$().get(t);if(r!=null)switch(n.role){case"assistant":{for(const s of r.assistantHeartbeats$())clearTimeout(s.timeoutRef);r.assistantHeartbeats$.set([]);break}case"user":{r.userHeartbeats$.set(s=>{const i=s.find(o=>o.accountUserId===n.account_user_id);return i==null?s:(clearTimeout(i.timeoutRef),s.filter(o=>o.accountUserId!==n.account_user_id))});break}}});R(this,"_mapRoomPreviewToRoomResponse$",t=>{var n,r,s;return P(S({},t),{creator_account_user_id:(n=t.creator_account_user_id)!=null?n:null,magic_link_url:(r=t.magic_link_url)!=null?r:null,magic_link_share_text:(s=t.magic_link_share_text)!=null?s:null,member_profile_snapshots:[]})});R(this,"_fetchRoomsSidebarLightweight$",async(t=null)=>{const n=await H.safeGet("/calpico/chatgpt/rooms/summary",{parameters:{query:{cursor:t,limit:FPe}}});return nh(()=>{var r;this.hasFetchedRooms$.set(!0),this._handleRoomsResponse$({response:n.items.map(s=>this._mapRoomPreviewToRoomResponse$(s)),fetchSource:"summary"}),this.roomsPaginationCursor$.set((r=n.cursor)!=null?r:null)}),n});R(this,"fetchProjectRoomListLightweight$",async(t,n=null)=>({items:[],cursor:null}));R(this,"fetchMoreRooms$",async()=>{const t=this.roomsPaginationCursor$();if(!(this.isFetchingMoreRooms$()||t==null)){this.isFetchingMoreRooms$.set(!0);try{await this._fetchRoomsSidebarLightweight$(t)}finally{this.isFetchingMoreRooms$.set(!1)}}});R(this,"fetchRoom$",async(t,n)=>{const r=n?await H.safeGet("/calpico/chatgpt/project/{project_id}/rooms/{room_id}",{parameters:{path:{project_id:n,room_id:t}}}):await H.safeGet("/calpico/chatgpt/rooms/{room_id}",{parameters:{path:{room_id:t}}});return this._handleRoomsResponse$({response:[r],fetchSource:"rest-full"}),r});R(this,"createRoom$",async t=>{const n=await this._getSentinelHeadersForFlow$(ym.CreateRoom),r=await H.safePost("/calpico/chatgpt/rooms",{requestBody:t,additionalHeaders:n});return this._handleRoomsResponse$({response:[r],fetchSource:"rest-full"}),r});R(this,"createProjectRoom$",async(t,n)=>{const r=await ZG(ym.CreateRoom),s=fb(r),i=await H.safePost("/calpico/chatgpt/project/{project_id}/rooms",{parameters:{path:{project_id:t}},requestBody:n,additionalHeaders:s});return this._handleRoomsResponse$({response:[i],fetchSource:"rest-full"}),i});R(this,"shareThreadToCalpico$",async(t,n)=>{if(!t)throw new Error("Cannot share conversation without server thread id");return await this._createRoomFromSinglePlayerThread$(t,n)});R(this,"_createRoomFromSinglePlayerThread$",async(t,n)=>{const r={room_type:"GROUP_DM",with_user_emails:[],with_account_user_ids:[],with_conversation_id:t};return n?await this.createProjectRoom$(n,r):await this.createRoom$(r)});R(this,"removeMemberFromRoom$",async(t,n)=>{const r=await H.safeDelete("/calpico/chatgpt/rooms/{room_id}/members/{account_user_id}",{parameters:{path:{room_id:t,account_user_id:n}}});return this._handleRoomsResponse$({response:[r],fetchSource:"rest-full"}),r});R(this,"addMembersToSharedProjectRoom$",async(t,n)=>{throw new Error("This operation is not supported.")});R(this,"editRoom$",async(t,n)=>{const r=await H.safePatch("/calpico/chatgpt/rooms/{room_id}",{parameters:{path:{room_id:t}},requestBody:n});return this._handleRoomsResponse$({response:[r],fetchSource:"rest-full"}),r});R(this,"leaveRoom$",async t=>{await H.safePost("/calpico/chatgpt/rooms/{room_id}/leave",{parameters:{path:{room_id:t}}});const n=new Map(this.rooms$());n.delete(t),this.rooms$.set(n)});R(this,"deleteRoom$",async t=>{await H.safeDelete("/calpico/chatgpt/rooms/{room_id}",{parameters:{path:{room_id:t}}});const n=new Map(this.rooms$());n.delete(t),this.rooms$.set(n)});R(this,"sendMessage$",async(t,n,r)=>{var o;const s=this.rooms$().get(t),i=(o=ze())==null?void 0:o.normalizedAccountUserId;s&&i&&n.request_id?await this._postAndUpdateOptimisticMessage$(s,i,n,r):await this._postAndUpdateMessages$(t,n)});R(this,"_setOptimisticMessageDeliveryState$",(t,n,r,s)=>{t.optimisticMessages$.set(i=>i.map(o=>o.requestId===n?P(S({},o),{deliveryState:r,deliveryErrorMessage:s}):o))});R(this,"_postAndUpdateOptimisticMessage$",async(t,n,r,s)=>{if(!r.request_id)return await this._postAndUpdateMessages$(t.id,r);const i={id:r.request_id,role:"user",accountUserId:n,content:HPe(r.content,s),createdAt:new Date,reactions:{},replyTo:BPe(r.reply_to),deliveryState:"pending",requestId:r.request_id,deletedAt:null,preview:r.content.text,deliveryErrorMessage:null};t.optimisticMessages$.set(o=>{const a=[...o,i];return a.sort((c,l)=>c.createdAt.getTime()-l.createdAt.getTime()),a});try{await this._postAndUpdateMessages$(t.id,r)}catch(o){const a=cv(o);this._setOptimisticMessageDeliveryState$(t,r.request_id,"failed",a)}});R(this,"fetchMessages$",async({roomId:t,before:n=null,after:r=null})=>{const s=this.rooms$().get(t);if(!s)return[];if(n!=null&&s.hasFetchedBeginning$()||s.isFetchingMessages$())return[];s.isFetchingMessages$.set(!0);try{const i=s.projectId!=null?await H.safeGet("/calpico/chatgpt/project/{project_id}/rooms/{room_id}/messages",{parameters:{path:{project_id:s.projectId,room_id:t},query:{before:n,after:r,limit:oj}}}):await H.safeGet("/calpico/chatgpt/rooms/{room_id}/messages",{parameters:{path:{room_id:t},query:{before:n,after:r,limit:oj}}});return n!=null&&i.items.length===0&&s.hasFetchedBeginning$.set(!0),this._handleMessagesResponse$(t,i.items),i.items}finally{s.isFetchingMessages$.set(!1)}});R(this,"fetchMoreMessages$",(t,n)=>{const r=this.rooms$().get(t);if(!r)return;const s=r.messages$(),i=n==="before"&&s[0]?s[0].id:null,o=n==="after"&&s.length>0?s[s.length-1].id:null;return this.fetchMessages$({roomId:t,before:i,after:o})});R(this,"deleteMessage$",async(t,n)=>{const r=this.rooms$().get(t);r&&(r.messages$.set(s=>s.filter(i=>i.id!==n)),await H.safeDelete("/calpico/chatgpt/rooms/{room_id}/messages/{message_id}",{parameters:{path:{room_id:t,message_id:n}}}))});R(this,"_markRoomRead$",(t,n)=>{const r=this.rooms$().get(t);r&&r.lastReadAt$.set(n)});R(this,"markRoomRead$",async(t,n)=>{var s;await Tv(()=>tP());const r=(s=this.rooms$().get(t))==null?void 0:s.lastReadAt$();(r==null||n>r)&&(await H.safePost("/calpico/chatgpt/rooms/{room_id}/read",{parameters:{path:{room_id:t}},requestBody:{last_read_at:new Date().toISOString()}}),this._markRoomRead$(t,n))});R(this,"_addReactionLocal$",(t,n,r,s)=>{const i=this.rooms$().get(t);i&&i.messages$.set(Sr(o=>{const a=o.find(c=>c.id===n);a&&a.role!=="system"&&(a.reactions[r]=s)},i.messages$()))});R(this,"_removeReactionLocal$",(t,n,r)=>{const s=this.rooms$().get(t);s&&s.messages$.set(Sr(i=>{const o=i.find(a=>a.id===n);o&&o.role!=="system"&&delete o.reactions[r]},s.messages$()))});R(this,"addMessageReaction$",async(t,n,r)=>{var i;const s=(i=ze())==null?void 0:i.normalizedAccountUserId;s&&this._addReactionLocal$(t,n,s,r.reaction),await H.safePost("/calpico/chatgpt/rooms/{room_id}/messages/{message_id}/reactions",{parameters:{path:{room_id:t,message_id:n}},requestBody:r})});R(this,"removeMessageReaction$",async(t,n)=>{var s;const r=(s=ze())==null?void 0:s.normalizedAccountUserId;r&&this._removeReactionLocal$(t,n,r),await H.safeDelete("/calpico/chatgpt/rooms/{room_id}/messages/{message_id}/reactions",{parameters:{path:{room_id:t,message_id:n}}})});R(this,"fetchProfile$",async t=>{if(!t)return null;const n=await H.safeGet("/calpico/chatgpt/profile/{user_id}",{parameters:{path:{user_id:t}}});return this.users$.set(r=>{var i;const s=new Map(r);return s.set(t,{accountUserId:t,name:(i=n.display_name)!=null?i:"User",avatarUrl:n.profile_picture_url,username:n.username}),s}),n});R(this,"updateSelfProfile$",async t=>{var i,o;const n=(i=ze())==null?void 0:i.normalizedAccountUserId;if(n==null)return null;const r=await H.safePost("/calpico/chatgpt/profile/{user_id}",{parameters:{path:{user_id:n}},requestBody:t}),s=new Map(this.users$());return s.set(n,{accountUserId:n,name:(o=r.display_name)!=null?o:"User",avatarUrl:r.profile_picture_url,username:r.username}),this.users$.set(s),r});R(this,"updateSelfUsername$",async t=>{var i,o;const n=(i=ze())==null?void 0:i.normalizedAccountUserId;if(n==null)return null;const r=await H.safePost("/calpico/chatgpt/profile/{user_id}/username",{parameters:{path:{user_id:n}},requestBody:t}),s=new Map(this.users$());return s.set(n,{accountUserId:n,name:(o=r.display_name)!=null?o:"User",avatarUrl:r.profile_picture_url,username:r.username}),this.users$.set(s),r});R(this,"acceptMagicLink$",async t=>{const n=await H.safePost("/calpico/chatgpt/links",{requestBody:t});switch(n.content.type){case"invitation_redeemed":{const r=n.content.room_id;return this.fetchRoom$(r),{roomId:r}}case"noop":return null;default:throw new Error("Unknown redeem response type: ".concat(n.content.type))}});R(this,"createGroupLink$",async({roomId:t})=>{const n=await H.safePost("/calpico/chatgpt/rooms/{room_id}/group_link",{parameters:{path:{room_id:t}}}),r=dr(n.magic_link_url),s=dr(n.magic_link_share_text),o=this.rooms$().get(n.room_id);return o==null||(o.groupLink$.set(r),o.groupLinkShareText$.set(s)),r});R(this,"deleteGroupLink$",async({roomId:t})=>{await H.safeDelete("/calpico/chatgpt/rooms/{room_id}/group_link",{parameters:{path:{room_id:t}}});const r=this.rooms$().get(t);if(r==null)return null;r.groupLink$.set(null),r.groupLinkShareText$.set(null)});R(this,"resetGroupLink$",async({roomId:t})=>{const n=await H.safePatch("/calpico/chatgpt/rooms/{room_id}/group_link",{parameters:{path:{room_id:t}}}),r=dr(n.magic_link_url),s=dr(n.magic_link_share_text),o=this.rooms$().get(n.room_id);return o==null||(o.groupLink$.set(r),o.groupLinkShareText$.set(s)),r});R(this,"openThreadSidebar$",(t,n)=>{if(n.type!=="product")return;const r=t.messages$().find(s=>s.role!=="assistant"?!1:s.rawMessages.find(i=>i.id===n.messageId));if(r!=null)return t.threadSidebar$.set(P(S({},n),{calpicoMessageId:r.id}))});R(this,"closeThreadSidebar$",t=>{t.threadSidebar$.set(null)});R(this,"fetchUserAttributes$",async()=>{const t=await H.safeGet("/calpico/chatgpt/user_attributes"),n={onboardedAt:t.onboarded_at?new Date(t.onboarded_at):null};return this.userAttributes$.set(n),n});R(this,"setUserOnboardingCompletion$",async()=>{const t=await H.safePost("/calpico/chatgpt/user_attributes/onboarding_completion");this.userAttributes$.set({onboardedAt:t.onboarded_at?new Date(t.onboarded_at):null})});if(this.ctx=t,!this.hasAccess)return;Pe("1746750389")&&this._fetchRoomsSidebarLightweight$();const n=pR(),r=n.getTopic("calpico-chatgpt");if(r.subscribe(),r.onMessage(this._handlePubSubMessage),Pe("4105134853")){const s=n.getTopic("calpico-chatgpt-shared-project");s.subscribe(),s.onMessage(this._handlePubSubMessage)}}get hasAccess(){return Pe("3096078201")}async _getSentinelHeadersForFlow$(t){const n={};try{const r=await ZG(t);Object.assign(n,fb(r))}catch(r){const s=r instanceof Error?r.message:"Failed to get sentinel token";Object.assign(n,fb(s)),q.addError("Calpico sentinel token fetch failed",{error:r,sentinelFlow:t,errorMessage:s})}return n}async _postAndUpdateMessages$(t,n){const r=await this._getSentinelHeadersForFlow$(ym.SendMessage);await H.safePost("/calpico/chatgpt/rooms/{room_id}/messages",{parameters:{path:{room_id:t}},requestBody:n,additionalHeaders:r}),await this.fetchMoreMessages$(t,"after")}}const WPe=ot(e=>new $Pe(e));function qPe({calpicoState:e,accountUserId:t,skipFetch:n=!1}){const s=!Le(()=>e.users$().has(t)),i=!n&&e.hasAccess&&!!t&&s;return nn({queryKey:["calpico","profile",t],queryFn:()=>e.fetchProfile$(t),enabled:i})}const VPe=null;function NY(e,t){const n=WPe(),r=Le(()=>{var s,i;return n.hasAccess&&(i=(s=n.users$().get(e))!=null?s:n.userProfileSnapshots$().get(e))!=null?i:null});return qPe({calpicoState:n,accountUserId:e,skipFetch:t==null?void 0:t.skipFetch}),r}function YQe(e){var t,n;return(n=(t=NY(e))==null?void 0:t.name)!=null?n:"User"}function KQe(e){var t,n;return(n=(t=NY(e))==null?void 0:t.avatarUrl)!=null?n:""}function zPe(e){return fn({queryKey:["calpico-file",e],queryFn:()=>H.safeGet("/calpico/chatgpt/files/{file_id}",{parameters:{path:{file_id:e}}}),staleTime:rPe})}function pb(e){var n;const t=en();for(const r of e)if(r.role==="user"){const s=(n=r.content.attachments)!=null?n:[];for(const i of s)i.type==="file"&&i.file&&t.setQueryData(zPe(i.file_id).queryKey,i.file)}}const YPe=e=>{var t;return e.type===Zt.EMAIL?{id:e.user_email,label:e.user_email}:e.type===Zt.GROUP?{id:e.group_id,label:e.group_name}:e.type===Zt.USER?{id:e.user_id,label:(t=e.user_name)!=null?t:"Unknown",sublabel:e.user_email}:null};var kH;const KPe=Da.div(kH||(kH=$i(["icon-lg relative flex items-center justify-center rounded-full text-[10px]"]))),JQe=({monograms:e,variant:t="knockout",showTooltip:n=!0,userAccountUserIds:r})=>{const i=e.map(o=>({key:o.id,node:g.jsx(JPe,{monogram:o,showTooltip:n})}));return g.jsx(KIe,{items:i,variant:t,maxVisible:2})},JPe=({monogram:e,zIndex:t=0,className:n,showTooltip:r=!0})=>{const s=ze(),i=s==null?void 0:s.isWorkspaceAccount();if(!e)return null;const o=g.jsx(KPe,{className:oe("text-white group-data-[disabled]/sharing-row:opacity-50",jIe(e.id),n),style:{zIndex:t},"aria-label":e.label,children:lY(e.label)});return r?g.jsx(Ua,{label:e.label,secondaryLabel:!i&&e.sublabel,contentClassName:"touch:hidden",labelClassName:"max-w-[200px] truncate",secondaryLabelClassName:"max-w-[200px] truncate",side:"top",children:o}):o},XPe="Loading project",Rd=iv("Project"),XQe=T.createContext(null),QPe=Rd(()=>ie(()=>{var e,t;return(t=(e=sr())==null?void 0:e.isWorkspaceAccount())!=null?t:!1})),ZPe=Rd(e=>ie(()=>{var o,a;const t=sr(),r=(t==null?void 0:t.getWorkspaceId())!=null?A1().data:void 0;return Pe("2913573978")?(o=r==null?void 0:r.beta_settings)==null?void 0:o.project_sharing:((a=r==null?void 0:r.share_settings)==null?void 0:a.chat_share_setting)!==N6.NO_ONE})),ewe=Rd(e=>ie(()=>{const t=ZPe(e)(),n=QPe(e)();return Pe("773249106")&&(t!=null?t:!n)})),IY=Rd(e=>ie(()=>{var a,c,l,u;const t=e.gizmo$(),n=(l=(c=(a=t==null?void 0:t.gizmo)==null?void 0:a.sharing)==null?void 0:c.subjects)!=null?l:[],r=[],s=[],i=[],o=(u=t==null?void 0:t.gizmo)==null?void 0:u.author;return o&&o.display_name&&r.push({id:o.user_id,label:o.display_name,sublabel:o.user_email}),n.forEach(d=>{const f=YPe(d);if(f){if(d.type===Zt.USER){s.push(f);return}i.push(f)}}),[...r,...s,...i]})),QQe=Rd(e=>ie(()=>IY(e)().length>1)),ZQe=Rd(e=>ie(()=>{var s,i,o;const t=e.gizmo$(),n=(o=(i=(s=t==null?void 0:t.gizmo)==null?void 0:s.sharing)==null?void 0:i.subjects)!=null?o:[],r=IY(e)();return r.length<=1?!1:ewe(e)()&&n.length>0&&r.length>1})),twe=(e,t)=>{const n=en(),r=Qt(()=>Cn(n,t)),s={ctx:e,id:t,serverState$:r,queueUpdate$:async({theme:i,emoji:o,name:a,options:c,withPostUpdate:l=!0})=>{if(vIe({id:t,theme:i,emoji:o,name:a}),l){const{resource:u}=await s.postUpdate$(c);return{id:s.id,resource:u}}return{id:s.id}},lastScrollPosition$:X(null),mobileHeaderState$:X(null),postUpdate$:async i=>{var c,l,u,d;const{mutate:o,result$:a}=bv(Qz(n));return o({update:S({name:(c=s.title$())!=null?c:void 0,theme:(l=s.theme$())!=null?l:void 0,emoji:(u=s.emoji$())!=null?u:void 0},i),id:s.id}),await Tv(()=>!a().isPending),ub(s.id,"name"),ub(s.id,"theme"),ub(s.id,"emoji"),{id:s.id,resource:(d=a().data)==null?void 0:d.resource}},conversations$:X(()=>pIe(s)),isSkeleton$:ie(()=>r().data===void 0),gizmo$:ie(()=>{var i;return(i=r().data)!=null?i:null}),status$:ie(()=>{const i=s.conversations$().all$();return i?i.length>0?"has-conversations":"empty":"loading"}),theme$:ie(()=>{const i=r().data;return i?_Ie(i):null}),isShared$:ie(()=>{const i=r().data;return i?O0e(i):null}),emoji$:ie(()=>{var a;const i=r().data;if(!i)return null;const o=mIe(i);return(a=o!=null?o:i.gizmo.display.emoji)!=null?a:null}),title$:ie(()=>{var c;const i=r().data;if(s.isSkeleton$())return XPe;if(!i)return null;const a=gIe(i);return(c=a!=null?a:i.gizmo.display.name)!=null?c:null}),filesCount$:ie(()=>{var a,c;const i=r().data;if(!i)return null;const o=rY(i.gizmo.id);return((a=i.files.length)!=null?a:0)+((c=o==null?void 0:o.size)!=null?c:0)})};return s},Hp=Yoe(twe),nwe=ir(()=>X(void 0));function rwe(e,t,n){var r;try{const s=JSON.parse((r=window.localStorage.getItem(e))!=null?r:"");return n(s)?s:t}catch(s){return t}}function swe(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const lj=zn(e=>({data:{},setItem:(t,n)=>e(r=>({data:P(S({},r.data),{[t]:n})}))}));function iwe(e,t,n){const[r,s]=T.useState(!1),i=lj(c=>c.data[e]),o=lj(c=>c.setItem);T.useEffect(()=>{if(!r){const c=rwe(e,t,n);o(e,c),s(!0)}},[r,e,t,n,o]),T.useEffect(()=>{r&&swe(e,i)},[e,i,r]);const a=c=>{o(e,c)};return[i!=null?i:t,a]}function qt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function De(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Sm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sm=function(n){return typeof n}:Sm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sm(e)}function He(e){De(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Sm(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function KE(e,t){De(2,arguments);var n=He(e),r=qt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function PY(e,t){De(2,arguments);var n=He(e),r=qt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function owe(e,t){De(2,arguments);var n=He(e).getTime(),r=qt(t);return new Date(n+r)}var awe={};function xd(){return awe}function jg(e,t){var n,r,s,i,o,a,c,l;De(1,arguments);var u=xd(),d=qt((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=He(e),h=f.getDay(),p=(h<d?7:0)+h-d;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function sP(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Bg(e){De(1,arguments);var t=He(e);return t.setHours(0,0,0,0),t}var cwe=864e5;function lwe(e,t){De(2,arguments);var n=Bg(e),r=Bg(t),s=n.getTime()-sP(n),i=r.getTime()-sP(r);return Math.round((s-i)/cwe)}function wY(e,t){De(2,arguments);var n=qt(t),r=n*7;return KE(e,r)}function uwe(e,t){De(2,arguments);var n=qt(t);return PY(e,n*12)}function _b(e,t){De(2,arguments);var n=He(e),r=He(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var _R=6e4,RY=36e5;function mR(e,t){De(2,arguments);var n=Bg(e),r=Bg(t);return n.getTime()===r.getTime()}function Tm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tm=function(n){return typeof n}:Tm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tm(e)}function dwe(e){return De(1,arguments),e instanceof Date||Tm(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fwe(e){if(De(1,arguments),!dwe(e)&&typeof e!="number")return!1;var t=He(e);return!isNaN(Number(t))}function hwe(e,t){De(2,arguments);var n=He(e),r=He(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function uj(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function eZe(e,t){De(2,arguments);var n=He(e),r=He(t),s=uj(n,r),i=Math.abs(lwe(n,r));n.setDate(n.getDate()-s*i);var o=+(uj(n,r)===-s),a=s*(i-o);return a===0?0:a}function pwe(e,t){return De(2,arguments),He(e).getTime()-He(t).getTime()}var _we={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},mwe="trunc";function gwe(e){return _we[mwe]}function tZe(e,t,n){De(2,arguments);var r=pwe(e,t)/_R;return gwe()(r)}function xY(e){De(1,arguments);var t=He(e);return t.setHours(23,59,59,999),t}function vwe(e){De(1,arguments);var t=He(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ewe(e){De(1,arguments);var t=He(e);return xY(t).getTime()===vwe(t).getTime()}function nZe(e,t){De(2,arguments);var n=He(e),r=He(t),s=_b(n,r),i=Math.abs(hwe(n,r)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var a=_b(n,r)===-s;Ewe(He(e))&&i===1&&_b(e,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function rZe(e,t){var n;De(1,arguments);var r=e||{},s=He(r.start),i=He(r.end),o=i.getTime();if(!(s.getTime()<=o))throw new RangeError("Invalid interval");var a=[],c=s;c.setHours(0,0,0,0);var l=Number((n=void 0)!==null&&n!==void 0?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)a.push(He(c)),c.setDate(c.getDate()+l),c.setHours(0,0,0,0);return a}function sZe(e,t){De(1,arguments);var n=e||{},r=He(n.start),s=He(n.end),i=s.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var o=jg(r,t),a=jg(s,t);o.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],l=o;l.getTime()<=i;)l.setHours(0),c.push(He(l)),l=wY(l,1),l.setHours(15);return c}function iZe(e){De(1,arguments);var t=He(e);return t.setDate(1),t.setHours(0,0,0,0),t}function oZe(e,t){var n,r,s,i,o,a;De(1,arguments);var c=xd(),l=qt((n=(r=(s=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&s!==void 0?s:c.weekStartsOn)!==null&&r!==void 0?r:(o=c.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:0);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=He(e),d=u.getDay(),f=(d<l?-7:0)+6-(d-l);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}function aZe(){return xY(Date.now())}function Cwe(e,t){De(2,arguments);var n=qt(t);return owe(e,-n)}var ywe=864e5;function Swe(e){De(1,arguments);var t=He(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/ywe)+1}function Hg(e){De(1,arguments);var t=1,n=He(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function MY(e){De(1,arguments);var t=He(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Hg(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Hg(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Twe(e){De(1,arguments);var t=MY(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Hg(n);return r}var Owe=6048e5;function bwe(e){De(1,arguments);var t=He(e),n=Hg(t).getTime()-Twe(t).getTime();return Math.round(n/Owe)+1}function $g(e,t){var n,r,s,i,o,a,c,l;De(1,arguments);var u=xd(),d=qt((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=He(e),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function kY(e,t){var n,r,s,i,o,a,c,l;De(1,arguments);var u=He(e),d=u.getUTCFullYear(),f=xd(),h=qt((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var _=$g(p,t),m=new Date(0);m.setUTCFullYear(d,0,h),m.setUTCHours(0,0,0,0);var v=$g(m,t);return u.getTime()>=_.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function Awe(e,t){var n,r,s,i,o,a,c,l;De(1,arguments);var u=xd(),d=qt((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=kY(e,t),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=$g(h,t);return p}var Nwe=6048e5;function Iwe(e,t){De(1,arguments);var n=He(e),r=$g(n,t).getTime()-Awe(n,t).getTime();return Math.round(r/Nwe)+1}function wt(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Go={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return wt(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):wt(r+1,2)},d:function(t,n){return wt(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return wt(t.getUTCHours()%12||12,n.length)},H:function(t,n){return wt(t.getUTCHours(),n.length)},m:function(t,n){return wt(t.getUTCMinutes(),n.length)},s:function(t,n){return wt(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return wt(i,n.length)}},Hl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pwe={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Go.y(t,n)},Y:function(t,n,r,s){var i=kY(t,s),o=i>0?i:1-i;if(n==="YY"){var a=o%100;return wt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):wt(o,n.length)},R:function(t,n){var r=MY(t);return wt(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return wt(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return wt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return wt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Go.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return wt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=Iwe(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):wt(i,n.length)},I:function(t,n,r){var s=bwe(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):wt(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Go.d(t,n)},D:function(t,n,r){var s=Swe(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):wt(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return wt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return wt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return wt(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=Hl.noon:s===0?i=Hl.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=Hl.evening:s>=12?i=Hl.afternoon:s>=4?i=Hl.morning:i=Hl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Go.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Go.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):wt(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):wt(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Go.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Go.s(t,n)},S:function(t,n){return Go.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return fj(o);case"XXXX":case"XX":return lc(o);case"XXXXX":case"XXX":default:return lc(o,":")}},x:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"x":return fj(o);case"xxxx":case"xx":return lc(o);case"xxxxx":case"xxx":default:return lc(o,":")}},O:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+dj(o,":");case"OOOO":default:return"GMT"+lc(o,":")}},z:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+dj(o,":");case"zzzz":default:return"GMT"+lc(o,":")}},t:function(t,n,r,s){var i=s._originalDate||t,o=Math.floor(i.getTime()/1e3);return wt(o,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,o=i.getTime();return wt(o,n.length)}};function dj(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=t;return n+String(s)+o+wt(i,2)}function fj(e,t){if(e%60===0){var n=e>0?"-":"+";return n+wt(Math.abs(e)/60,2)}return lc(e,t)}function lc(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=wt(Math.floor(s/60),2),o=wt(s%60,2);return r+i+n+o}var hj=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},LY=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},wwe=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return hj(t,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",hj(s,n)).replace("{{time}}",LY(i,n))},Rwe={p:LY,P:wwe},xwe=["D","DD"],Mwe=["YY","YYYY"];function kwe(e){return xwe.indexOf(e)!==-1}function Lwe(e){return Mwe.indexOf(e)!==-1}function pj(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Dwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uwe=function(t,n,r){var s,i=Dwe[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function mb(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Fwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bwe={date:mb({formats:Fwe,defaultWidth:"full"}),time:mb({formats:Gwe,defaultWidth:"full"}),dateTime:mb({formats:jwe,defaultWidth:"full"})},Hwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$we=function(t,n,r,s){return Hwe[t]};function Qd(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[a]}var l=e.argumentCallback?e.argumentCallback(t):t;return s[l]}}var Wwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ywe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jwe=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xwe={ordinalNumber:Jwe,era:Qd({values:Wwe,defaultWidth:"wide"}),quarter:Qd({values:qwe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Qd({values:Vwe,defaultWidth:"wide"}),day:Qd({values:zwe,defaultWidth:"wide"}),dayPeriod:Qd({values:Ywe,defaultWidth:"wide",formattingValues:Kwe,defaultFormattingWidth:"wide"})};function Zd(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?Zwe(a,function(d){return d.test(o)}):Qwe(a,function(d){return d.test(o)}),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;var u=t.slice(o.length);return{value:l,rest:u}}}function Qwe(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Zwe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function e1e(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(s.length);return{value:o,rest:a}}}var t1e=/^(\d+)(th|st|nd|rd)?/i,n1e=/\d+/i,r1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s1e={any:[/^b/i,/^(a|c)/i]},i1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},o1e={any:[/1/i,/2/i,/3/i,/4/i]},a1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},c1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},l1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},u1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},f1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},h1e={ordinalNumber:e1e({matchPattern:t1e,parsePattern:n1e,valueCallback:function(t){return parseInt(t,10)}}),era:Zd({matchPatterns:r1e,defaultMatchWidth:"wide",parsePatterns:s1e,defaultParseWidth:"any"}),quarter:Zd({matchPatterns:i1e,defaultMatchWidth:"wide",parsePatterns:o1e,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Zd({matchPatterns:a1e,defaultMatchWidth:"wide",parsePatterns:c1e,defaultParseWidth:"any"}),day:Zd({matchPatterns:l1e,defaultMatchWidth:"wide",parsePatterns:u1e,defaultParseWidth:"any"}),dayPeriod:Zd({matchPatterns:d1e,defaultMatchWidth:"any",parsePatterns:f1e,defaultParseWidth:"any"})},p1e={code:"en-US",formatDistance:Uwe,formatLong:Bwe,formatRelative:$we,localize:Xwe,match:h1e,options:{weekStartsOn:0,firstWeekContainsDate:1}},_1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g1e=/^'([^]*?)'?$/,v1e=/''/g,E1e=/[a-zA-Z]/;function cZe(e,t,n){var r,s,i,o,a,c,l,u,d,f,h,p,_,m;De(2,arguments);var v=String(t),E=xd(),b=(r=(s=void 0)!==null&&s!==void 0?s:E.locale)!==null&&r!==void 0?r:p1e,C=qt((i=(o=(a=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&a!==void 0?a:E.firstWeekContainsDate)!==null&&o!==void 0?o:(l=E.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=qt((d=(f=(h=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&h!==void 0?h:E.weekStartsOn)!==null&&f!==void 0?f:(_=E.locale)===null||_===void 0||(m=_.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&d!==void 0?d:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var O=He(e);if(!fwe(O))throw new RangeError("Invalid time value");var A=sP(O),N=Cwe(O,A),I={firstWeekContainsDate:C,weekStartsOn:y,locale:b,_originalDate:O},w=v.match(m1e).map(function(M){var k=M[0];if(k==="p"||k==="P"){var D=Rwe[k];return D(M,b.formatLong)}return M}).join("").match(_1e).map(function(M){if(M==="''")return"'";var k=M[0];if(k==="'")return C1e(M);var D=Pwe[k];if(D)return Lwe(M)&&pj(M,t,String(e)),kwe(M)&&pj(M,t,String(e)),D(N,M,b.localize,I);if(k.match(E1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return M}).join("");return w}function C1e(e){var t=e.match(g1e);return t?t[1].replace(v1e,"'"):e}function y1e(e){De(1,arguments);var t=qt(e);return He(t*1e3)}function S1e(e){De(1,arguments);var t=He(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function lZe(e){De(1,arguments);var t=He(e),n=t.getMonth();return n}function T1e(e){De(1,arguments);var t=He(e),n=t.getTime();return n}function O1e(e){return De(1,arguments),Math.floor(T1e(e)/1e3)}function uZe(e){return De(1,arguments),He(e).getFullYear()}function dZe(e,t,n){var r;De(1,arguments);var s;return n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,s).format(e)}function fZe(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getTime()>r.getTime()}function hZe(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getTime()<r.getTime()}function pZe(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getTime()===r.getTime()}function b1e(e,t,n){De(2,arguments);var r=jg(e,n),s=jg(t,n);return r.getTime()===s.getTime()}function _Ze(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function A1e(e,t){De(2,arguments);var n=He(e),r=He(t);return n.getFullYear()===r.getFullYear()}function mZe(e,t){return De(1,arguments),b1e(e,Date.now(),t)}function gZe(e){return De(1,arguments),A1e(e,Date.now())}function vZe(e){return De(1,arguments),mR(e,Date.now())}function EZe(e){return De(1,arguments),mR(e,KE(Date.now(),1))}function N1e(e,t){De(2,arguments);var n=qt(t);return KE(e,-n)}function CZe(e){return De(1,arguments),mR(e,N1e(Date.now(),1))}function yZe(e,t){var n;De(1,arguments);var r=qt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=R1e(e),i;if(s.date){var o=x1e(s.date,r);i=M1e(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,l;if(s.time&&(c=k1e(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(l=L1e(s.timezone),isNaN(l))return new Date(NaN)}else{var u=new Date(a+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+c+l)}var G_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},I1e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,P1e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,w1e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function R1e(e){var t={},n=e.split(G_.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],G_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(G_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=G_.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function x1e(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function M1e(e,t){if(t===null)return new Date(NaN);var n=e.match(I1e);if(!n)return new Date(NaN);var r=!!n[4],s=ef(n[1]),i=ef(n[2])-1,o=ef(n[3]),a=ef(n[4]),c=ef(n[5])-1;if(r)return j1e(t,a,c)?D1e(t,a,c):new Date(NaN);var l=new Date(0);return!F1e(t,i,o)||!G1e(t,s)?new Date(NaN):(l.setUTCFullYear(t,i,Math.max(s,o)),l)}function ef(e){return e?parseInt(e):1}function k1e(e){var t=e.match(P1e);if(!t)return NaN;var n=gb(t[1]),r=gb(t[2]),s=gb(t[3]);return B1e(n,r,s)?n*RY+r*_R+s*1e3:NaN}function gb(e){return e&&parseFloat(e.replace(",","."))||0}function L1e(e){if(e==="Z")return 0;var t=e.match(w1e);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return H1e(r,s)?n*(r*RY+s*_R):NaN}function D1e(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var U1e=[31,null,31,30,31,30,31,31,30,31,30,31];function DY(e){return e%400===0||e%4===0&&e%100!==0}function F1e(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(U1e[t]||(DY(e)?29:28))}function G1e(e,t){return t>=1&&t<=(DY(e)?366:365)}function j1e(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function B1e(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function H1e(e,t){return t>=0&&t<=59}function $1e(e,t){De(2,arguments);var n=He(e),r=qt(t),s=n.getFullYear(),i=n.getDate(),o=new Date(0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);var a=S1e(o);return n.setMonth(r,Math.min(i,a)),n}function Om(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Om=function(n){return typeof n}:Om=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Om(e)}function SZe(e,t){if(De(2,arguments),Om(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=He(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=$1e(n,t.month)),t.date!=null&&n.setDate(qt(t.date)),t.hours!=null&&n.setHours(qt(t.hours)),t.minutes!=null&&n.setMinutes(qt(t.minutes)),t.seconds!=null&&n.setSeconds(qt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(qt(t.milliseconds)),n)}function TZe(e,t){De(2,arguments);var n=qt(t);return PY(e,-n)}function OZe(e,t){De(2,arguments);var n=qt(t);return wY(e,-n)}function bZe(e,t){De(2,arguments);var n=qt(t);return uwe(e,-n)}const W1e=3,q1e=3;function V1e(){return ut("1092897457",{disableExposureLog:!0}).get("is_tatertot_enabled",!0)?Pe("3240576626"):!1}function z1e(e){return e?new Date>KE(e,W1e):!0}function AZe(e){var c;const[t,n]=iwe(un.TatertotInContextUpsellBannerV2,null,l=>l!=null&&typeof l=="object"&&typeof l.messageId=="string"&&typeof l.lastSeenAt=="number"&&typeof l.interacted=="boolean"&&typeof l.viewCount=="number"),r=Pe("3240576626"),s=t?y1e(t.lastSeenAt):null,i=t&&(c=t.viewCount)!=null?c:0;return{canBeSeen:e!==""&&(!t||i<=q1e&&(z1e(s)||t.messageId===e&&t.interacted===!1))&&r,markSeen:l=>{const u={messageId:e,lastSeenAt:O1e(new Date),interacted:l,viewCount:(t?t.viewCount:0)+(l?0:1)};mt.count(ft.TATERTOT,"tatertot_upsell_banner_shown"),n(u),localStorage.setItem(un.TatertotInContextUpsellBannerV2,JSON.stringify(u))}}}var vb,_j;function Y1e(){if(_j)return vb;_j=1;function e(t){return t!==t}return vb=e,vb}var Eb,mj;function K1e(){if(mj)return Eb;mj=1;function e(t,n,r){for(var s=r-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return Eb=e,Eb}var Cb,gj;function J1e(){if(gj)return Cb;gj=1;var e=v9(),t=Y1e(),n=K1e();function r(s,i,o){return i===i?n(s,i,o):e(s,t,o)}return Cb=r,Cb}var yb,vj;function X1e(){if(vj)return yb;vj=1;var e=J1e();function t(n,r){var s=n==null?0:n.length;return!!s&&e(n,r,0)>-1}return yb=t,yb}var Sb,Ej;function Q1e(){if(Ej)return Sb;Ej=1;function e(t,n,r){for(var s=-1,i=t==null?0:t.length;++s<i;)if(r(n,t[s]))return!0;return!1}return Sb=e,Sb}var Tb,Cj;function UY(){if(Cj)return Tb;Cj=1;function e(){}return Tb=e,Tb}var Ob,yj;function Z1e(){if(yj)return Ob;yj=1;var e=ZW(),t=UY(),n=Bw(),r=1/0,s=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return Ob=s,Ob}var bb,Sj;function FY(){if(Sj)return bb;Sj=1;var e=$W(),t=X1e(),n=Q1e(),r=WW(),s=Z1e(),i=Bw(),o=200;function a(c,l,u){var d=-1,f=t,h=c.length,p=!0,_=[],m=_;if(u)p=!1,f=n;else if(h>=o){var v=l?null:s(c);if(v)return i(v);p=!1,f=r,m=new e}else m=l?[]:_;e:for(;++d<h;){var E=c[d],b=l?l(E):E;if(E=u||E!==0?E:0,p&&b===b){for(var C=m.length;C--;)if(m[C]===b)continue e;l&&m.push(b),_.push(E)}else f(m,b,u)||(m!==_&&m.push(b),_.push(E))}return _}return bb=a,bb}var Ab,Tj;function eRe(){if(Tj)return Ab;Tj=1;var e=FY();function t(n){return n&&n.length?e(n):[]}return Ab=t,Ab}var tRe=eRe();const nRe=jt(tRe),gR="hints",vR="system_hints";function rRe(e){const t=new URLSearchParams(e);return t.delete(gR),t.delete(vR),t}function GY(e,t){var i;const n=!!(bi&&((i=t==null?void 0:t.availableHints)!=null&&i.some(o=>o.systemHint===bi))),r=sRe(t==null?void 0:t.availableHints),s=[gR,vR].flatMap(o=>e.getAll(o)).flatMap(o=>o.split(",")).flatMap(o=>{var l,u;const a=o.trim();if(!a)return[];const c=(u=(l=sce(a))!=null?l:r.get(a))!=null?u:r.get(a.toLowerCase());return n&&c===ce.Research&&bi?[bi]:c?[c]:[]});return nRe(s)}function sRe(e){var n,r;const t=new Map;if(!e)return t;for(const s of e)Nb(t,s.systemHint,s.systemHint),(n=s.aliases)==null||n.forEach(i=>Nb(t,i,s.systemHint)),(r=s.keywordInvocations)==null||r.forEach(i=>Nb(t,i,s.systemHint));return t}function Nb(e,t,n){if(!t)return;const r=t.trim();r&&(e.set(r,n),e.set(r.toLowerCase(),n))}const iRe=ir(e=>ie(()=>{var n;const t=xye(e,r=>qo(r.message));return(n=t==null?void 0:t.message.metadata)==null?void 0:n.system_hints}));var iP=(e=>(e.Hover="hover",e.Enable="enable",e.Disable="disable",e))(iP||{}),bm=(e=>(e.SuggestionTrigger="suggestion_trigger",e.SuggestionClick="suggestion_click",e.SuggestionAccept="suggestion_accept",e.Enable="enable",e.Disable="disable",e.PrefixMatch="prefix_match",e.PrefixRemove="prefix_remove",e.AtMention="at_mention",e.SlashCommand="slash_command",e.ConnectorPromptShown="connector_prompt_shown",e.ConnectorPromptAccept="connector_prompt_accept",e.ConnectorPromptReject="connector_prompt_reject",e.ConnectorSettingsConnectClick="connector_settings_connect_click",e.ConnectorLinkContinueClick="connector_link_continue_click",e))(bm||{});const oRe=new Map([["suggestion_trigger",["Composer System Hint Suggestion Shown","composer_system_hint_suggestion_shown"]],["suggestion_click",["Composer System Hint Suggestion Clicked","composer_system_hint_suggestion_clicked"]],["suggestion_accept",["Composer System Hint Suggestion Selected","composer_system_hint_suggestion_selected"]],["enable",["Composer System Hint Elevated Selected","composer_system_hint_elevated_selected"]],["disable",["Composer System Hint Elevated Deselected","composer_system_hint_elevated_deselected"]],["prefix_match",["Composer System Hint Connector Prefix Selected","composer_system_hint_connector_prefix_selected"]],["prefix_remove",["Composer System Hint Connector Prefix Removed","composer_system_hint_connector_prefix_removed"]],["at_mention",["Composer System Hint Connector At Mention Selected","composer_system_hint_connector_at_mention_selected"]],["slash_command",["Composer System Hint Connector Slash Command Selected","composer_system_hint_connector_slash_command_selected"]],["connector_prompt_shown",["Composer System Hint Connector Prompt Shown","composer_system_hint_connector_prompt_shown"]],["connector_prompt_accept",["Composer System Hint Connector Prompt Accepted","composer_system_hint_connector_prompt_accepted"]],["connector_prompt_reject",["Composer System Hint Connector Prompt Rejected","composer_system_hint_connector_prompt_rejected"]],["connector_settings_connect_click",["Composer System Hint Connector Settings Connect Click","composer_system_hint_connector_settings_connect_click"]],["connector_link_continue_click",["Composer System Hint Connector Link Continue Click","composer_system_hint_connector_link_continue_click"]]]),aRe=new Map([[ce.Search,{hover:["Composer Search Button Hovered","composer_search_button_hovered"],enable:["Composer Search Button Clicked","composer_search_button_clicked"],disable:["Composer Search Button Clicked","composer_search_button_clicked"]}],[ce.Think,{hover:["Composer Think Button Hovered","composer_think_button_hovered"],enable:["Composer Think Button Enabled","composer_think_button_enabled"],disable:["Composer Think Button Disabled","composer_think_button_disabled"]}],[ce.Research,{hover:["Composer Research Button Hovered","composer_research_button_hovered"],enable:["Composer Research Button Enabled","composer_research_button_enabled"],disable:["Composer Research Button Disabled","composer_research_button_disabled"]}],[ce.Agent,{hover:["Composer Agent System Hint Button Hovered","composer_agent_system_hint_button_hovered"],enable:["Composer Agent System Hint Button Enabled","composer_agent_system_hint_button_enabled"],disable:["Composer Agent System Hint Button Disabled","composer_agent_system_hint_button_disabled"]}],[ce.PictureV2,{hover:["Composer Create Image Button Hovered","composer_create_image_button_hovered"],enable:["Composer Create Image Button Enabled","composer_create_image_button_enabled"],disable:["Composer Create Image Button Disabled","composer_create_image_button_disabled"]}],[ce.Slurm,{hover:["Composer Slurm Button Hovered","composer_slurm_button_hovered"],enable:["Composer Slurm Button Enabled","composer_slurm_button_enabled"],disable:["Composer Slurm Button Disabled","composer_slurm_button_disabled"]}]]);function Oj(e,t,n){var i,o;const[r,s]=(o=(i=aRe.get(e))==null?void 0:i[t])!=null?o:[];r&&s&&re.logEventWithStatsig(r,s,n)}function Ib(e,t,n){var o;const r=P(S({},n),{connector_id:e.replace(/^connector:/,"")}),[s,i]=(o=oRe.get(t))!=null?o:[];s&&i&&re.logEventWithStatsig(s,i,r)}let Wg;async function jY(){const e=ne(()=>Promise.resolve({}),__vite__mapDeps([18]));return Wg=await ne(()=>import("./f4e264a1-iziopvi4k74gq70s.js"),__vite__mapDeps([19,1])),await e,BY.set(!0),Wg}const BY=X(!1);function bj(e){"use forget";const t=j.c(2);if("children"in e){let n;return t[0]!==e.children?(n=g.jsx(g.Fragment,{children:e.children}),t[0]=e.children,t[1]=n):n=t[1],n}return null}function In(e,t){const n=Yn(()=>jY().then(i=>e(i)),{loading:t});function r(i){"use forget";const o=j.c(5),[a]=T.useState(s);if(a){let l;return o[0]!==a||o[1]!==i?(l=g.jsx(a,S({},i)),o[0]=a,o[1]=i,o[2]=l):l=o[2],l}let c;return o[3]!==i?(c=g.jsx(n,S({},i)),o[3]=i,o[4]=c):c=o[4],c}function s(){if(Wg)return e(Wg)}return r}const so={Root:In(e=>e.Sheet.Root,bj),Trigger:In(e=>e.Sheet.Trigger,bj),View:In(e=>e.Sheet.View),Backdrop:In(e=>e.Sheet.Backdrop),Content:In(e=>e.Sheet.Content),BleedingBackground:In(e=>e.Sheet.BleedingBackground),Handle:In(e=>e.Sheet.Handle),Outlet:In(e=>e.Sheet.Outlet),Portal:In(e=>e.Sheet.Portal),Title:In(e=>e.Sheet.Title),Description:In(e=>e.Sheet.Description),SpecialWrapper:{Root:In(e=>e.Sheet.SpecialWrapper.Root),Content:In(e=>e.Sheet.SpecialWrapper.Content)}},cRe={Root:In(e=>e.AutoFocusTarget.Root)},Pb={Root:In(e=>e.Scroll.Root),Trigger:In(e=>e.Scroll.Trigger),View:In(e=>e.Scroll.View),Content:In(e=>e.Scroll.Content)};function lRe(){return pt().windowStyle==="chatbar_view"}const NZe=ie(()=>BY()&&at()&&!ns()&&!lRe()&&!cte());function Xa(e){return ut("3081064739",e)}function Aj(e){return e==="control"||e==="treatment"?e:!1}const IZe=ot(()=>{const e=X(void 0);return{get$(){return e()},recordModeOpened$:t=>{const n=e();n===void 0||n==="dropdown"||e.set(t)}}}),Nj=ot(()=>({assignment:void 0,exposureLogged:!1})),uRe={getIsInExperimentWithExpsoure:()=>{const e=Nj();if(e.exposureLogged&&e.assignment!==void 0)return e.assignment;const t=Xa(),n=Aj(t.get("composer-menu-sheet",""));return e.assignment=n,e.exposureLogged=!0,n},getIsInExperiment:()=>{const e=Nj();if(e.assignment!==void 0)return e.assignment;const t=Xa({disableExposureLog:!0}),n=Aj(t.get("composer-menu-sheet",""));return e.assignment=n,n},getDetentSize:()=>Xa({disableExposureLog:!0}).get("detent-size",""),getBackClosesSheet:()=>Xa({disableExposureLog:!0}).get("back-closes-sheet",!1),getCanBounce:()=>Xa({disableExposureLog:!0}).get("can-bounce",!1),getSystemHintsByPlan:()=>{if(Xa({disableExposureLog:!0}).get("system-hints-by-plan",!1))return dRe},getNoExplicitAddFromSocial:()=>Xa({disableExposureLog:!0}).get("no-explicit-add-from-social",!1)},dRe={pro:["picture_v2","picture","reason","research","search","tatertot","agent","slurm","canvas","video"],free:["picture_v2","picture","reason","research","search","tatertot","agent"],go:["picture_v2","picture","reason","research","search","tatertot","agent"],plus:["picture_v2","picture","research","search","slurm","agent","tatertot","canvas","video"]};function j_(e){e&&e.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0,toastId:"copy_to_clipboard_failed_to_copy"})}const fRe=120;function hRe(e,t=fRe){if(!e)return;const n=e.replace(/\s+/g," ").trim();if(!n)return;if(n.length<=t)return n;const r="...",s=Math.max(t-r.length,0),i=n.slice(0,s);return"".concat(i).concat(r)}function pRe(e){var n;if(typeof e=="string")return e;const t=(n=e["text/plain"])!=null?n:e["text/html"];if(typeof t=="string")return t;if(e["image/png"])return"PNG image";if(e["image/jpeg"])return"JPEG image";if(e["image/webp"])return"WEBP image"}function wb(e,t,n){if(!t||!(n!=null&&n.showSuccessSnackbar))return;const r=hRe(pRe(e)),s=r?"Copied: ".concat(r):"Copied to clipboard";t.success(s,{duration:3})}function _Re(e,t,n,r){var i,o,a;const{navigator:s}=(a=(o=(i=n==null?void 0:n.target)==null?void 0:i.ownerDocument)==null?void 0:o.defaultView)!=null?a:window;return new Promise((c,l)=>{var u;if(!(s!=null&&s.clipboard)){j_(t),l();return}try{if("write"in s.clipboard&&"supports"in ClipboardItem){const d=Object.entries(typeof e=="string"?{"text/plain":e}:e).map(([h,p])=>[h,typeof p=="string"?new Blob([p],{type:h}):p]);if(d.length===0){wb(e,t,r),c("success");return}const f=new ClipboardItem(Object.fromEntries(d));s.clipboard.write([f]).then(()=>{wb(e,t,r),c("success")},()=>{j_(t),l()})}else{const d=typeof e=="string"?e:(u=e["text/plain"])!=null?u:"";s.clipboard.writeText(d).then(()=>{wb(e,t,r),c("success")},()=>{j_(t),l()})}}catch(d){j_(t),l()}})}function mRe(e){return"https://chatgpt.com".concat(tz(e))}async function PZe(e,t,n,r){await _Re(mRe(e),t,n),r&&t.info(r,{id:"gizmo-copy-url",testId:"copy-gizmo-url-toast"})}function wZe(e){return e.some(t=>t.type===fp.JIT_PLUGIN)}function RZe(e){var t;return"gizmo_id"in e&&(t=e.gizmo_id)!=null?t:null}function xZe(e){var t,n,r,s,i,o,a,c,l,u,d,f;return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:(t=e.gizmo.display.description)!=null?t:"",emoji:(n=e.gizmo.display.emoji)!=null?n:void 0,theme:(r=e.gizmo.display.theme)!=null?r:void 0,profilePictureId:(s=e.gizmo.display.profile_pic_id)!=null?s:void 0,profilePictureUrl:(i=e.gizmo.display.profile_picture_url)!=null?i:void 0,promptStarters:(o=e.gizmo.display.prompt_starters)!=null?o:[],tools:ia(e.tools),files:ia(e.files),sharing:e.gizmo.sharing?ia(e.gizmo.sharing):{subjects:[],recipient:e.gizmo.share_recipient},trainingDisabled:(a=e.gizmo.training_disabled)!=null?a:!1,goal:(c=e.gizmo.goal)!=null?c:void 0,memoryScope:(l=e.gizmo.memory_scope)!=null?l:uo.UNSET,sharingRecipient:e.gizmo.share_recipient,sharingTargets:ia(e.gizmo.sharing_targets),liveVersion:(u=e.gizmo.live_version)!=null?u:0,contextStuffingBudget:e.gizmo.context_stuffing_budget,defaultModel:(d=e.gizmo.default_model)!=null?d:void 0,firstPartyProjectType:(f=e.gizmo.gizmo_snorlax_type)!=null?f:null}}function HY(e){return e===uo.GLOBAL||e===uo.UNSET||e===uo.PROJECT}function gRe(e){return e===uo.PROJECT_V2}function MZe(e){return HY(e)?uo.GLOBAL:uo.PROJECT_V2}function B_(e,t){return n=>n?P(S({},n),{pages:n.pages.map((r,s)=>s===0?P(S({},r),{items:[e,...r.items]}):r)}):{pages:[t],pageParams:[]}}function H_(e){return t=>t&&P(S({},t),{pages:t.pages.map(n=>P(S({},n),{items:n.items.filter(r=>r.id!==e)}))})}function kZe({queryClient:e,newGizmoId:t,conversation:n,previousGizmoId:r}){const s=[],i=n.gizmo_id;return n.gizmo_id=t,s.push(()=>{n.gizmo_id=i}),t?(e.setQueryData([js,{gizmoId:t}],B_(n,{items:[n],cursor:null})),s.push(()=>{e.setQueryData([js,{gizmoId:t}],H_(n.id))})):(e.setQueryData(cu(),B_(n,{items:[n],total:1,limit:JI,offset:0})),s.push(()=>{e.setQueryData(cu(),H_(n.id))})),r?(e.setQueryData([js,{gizmoId:r}],H_(n.id)),s.push(()=>{e.setQueryData([js,{gizmoId:r}],B_(n,{items:[n],cursor:null}))})):(e.setQueryData(cu(),H_(n.id)),s.push(()=>{e.setQueryData(cu(),B_(n,{items:[n],total:1,limit:JI,offset:0}))})),sa(n.id,o=>{o.mode=fg(Ij(t))}),s.push(()=>{sa(n.id,o=>{o.mode=fg(Ij(i!=null?i:null))})}),()=>{s.forEach(o=>o())}}function Ij(e){return e?{kind:Ys.GizmoInteraction,gizmo_id:e}:{kind:Ys.PrimaryAssistant}}const vRe=(e,t)=>{if(!t)return!0;const n=sr();return n==null?void 0:n!=null&&(n.isAdminOfAccount()||n.isOwnerOfAccount())?!0:I7(e)},ERe=ie(()=>{if(Pe("2042715633"))return!0;const t=D0e();if(!t)return!0;const n=vRe(bd.DeveloperModeConnector,t);return n!=null?n:!1}),JE=ie(()=>ERe()&&Xue(Ii.DeveloperMode)===!0);function LZe(){if(!Pe("735368229"))return!1;const e=sr();return e!=null&&!(e.isSelfServeBusiness()&&e.isStandardUserOfAccount())}const CRe=e=>{var t,n;return(t=e.branding)!=null&&t.is_discoverable_app?((n=e.conformance)==null?void 0:n.implements_retrievable)===!0:!0};function Ps(){return ln("3401870206")}function $p(){return Ps().get("enabled",!1)}function yRe(){return Ps().get("latest_model","alpha:gpt-5-t-mini:alpha.gpt5_mini_scout_v4_2")}function DZe(e){return bRe({id:e})?e:yRe()}function UZe(){return Ps().get("nux_type","")}function FZe(){return Ps().get("enable_toggling",!1)}function GZe(){return Ps().get("enable_github_repo_selection",!1)}function jZe(){return Ps().get("max_repos",3)}function SRe(){return Ps().get("force_system_hint",!1)}function TRe(){return Ps().get("available_connectors",[])}function ORe(){return Ps().get("available_sync_connectors",[])}function BZe(e){var o,a;if(!rR())return[];const n=ORe(),r=Gp(e,{});if(!r)return;const s=nl();if(!s)return;const i=(a=(o=s.data)==null?void 0:o.connection_statuses)!=null?a:[];return n.flatMap(c=>i.filter(l=>l.user_connection_details.connection_type===c)).filter(c=>{if(!c)return!1;if(c.user_connection_details.auth_status==="admin_connected")return!0;const u=c.user_connection_details.connector_id;return u?!!r.find(f=>f.id===u):!1})}function $Y(){return Ps().get("enable_all_mcps",!1)===!0}function WY(){return Ps().get("enable_retrieval_apps",!1)===!0}function HZe(){return["gdrive_sync_connector","github_connector","gmail_connector","notion_sync_connector","slack_sync_connector"]}function bRe(e){if(!(e!=null&&e.id))return!1;const t=Ps();if(!t.get("enabled"))return!1;const n=t.get("latest_model");return!!(n&&e.id===n||new Set(t.get("glaux_model_ids",[])).has(e.id)||t.get("glaux_model_prefixes",[]).some(i=>e.id.startsWith(String(i))))}function $Ze(e){return e!=null&&e==="glaux"}const qY="MCP",ARe=["search","fetch"];function NRe(e){var r;const t=(r=e.actions)!=null?r:[];if(t.length===0)return!1;const n=new Map(t.map(s=>[s.name,s]));return ARe.every(s=>{const i=n.get(s);return i!=null&&i.is_consequential===!1})}function IRe(e){if(!e)return new Set;const t=e.map(n=>n.systemHint).filter(Si).map(n=>Aw(n));return new Set(t)}function PRe(e){const t=new Set;return e.forEach(n=>{const r=rr[n];r&&t.add(r)}),t}function VY({connectors:e,isDeveloperMode:t,systemHintConnectorIds:n}){return e.filter(r=>{var s,i;return r.connector_type!==qY||((s=r.conformance)==null?void 0:s.implements_retrievable)!==!0||r.status==="ONLY_ME"&&!t||(i=r.branding)!=null&&i.is_discoverable_app&&!n.has(r.id)?!1:NRe(r)})}function zY(e,t){return new Set(e.filter(n=>t.has(n.id)).map(n=>n.id))}const wRe=e=>e.connector_type===qY?Cs.MCP_CONNECTOR:rr[e.connector_id],YY=ie(()=>{if(!$p()||!WY())return new Set;const{data:e}=CW();return IRe(e)}),RRe=Ts(e=>ie(()=>{if(!$p())return new Set;if(!WY())return new Set;const{data:t,isLoading:n}=To(e,{skipActions:!1});if(n||!t)return;const r=YY(),s=Array.from(Fp(t).values()),i=JE(),o=VY({connectors:s,isDeveloperMode:i,systemHintConnectorIds:r});return zY(o,r)})),WZe=Ts(e=>ie(()=>{var c;if(!$p())return new Set;const n=KY(),r=gz(e,{fetchValidLinksOnly:!0}),s=$Y(),i=RRe(),o=s||((c=i==null?void 0:i.size)!=null?c:0)>0;if(r.isLoading||!n)return;const a=new Set;if(r!=null&&r.data)for(const l of r.data.values())for(const u of l){const d=wRe(u);if(d){if(d===Cs.MCP_CONNECTOR){(s||i!=null&&i.has(u.connector_id))&&a.add(d);continue}a.add(d)}}return new Set(n.filter(l=>{var u;return(o&&l.type===Cs.MCP_CONNECTOR&&((u=l.conformance)==null?void 0:u.implements_retrievable)===!0&&(s||!i||i.has(l.id))||l.type!==Cs.MCP_CONNECTOR)&&a.has(l.type)}).map(l=>l.type))})),KY=Ts(e=>ie(()=>JY(e,!1))),qZe=Ts(e=>ie(()=>JY(e,!0)));function JY(e,t){if(!$p())return[];const r=TRe(),s=$Y(),i=JE(),o=YY(),a=PRe(o),c=o.size>0,{data:l,isLoading:u}=To(e,{skipActions:!1});if(u||!c&&r.length===0)return;const d=Fp(l),f=Array.from(d.values()),h=f.filter(O=>O.connector_type!=="MCP").filter(O=>CRe(O)).map(O=>P(S({},O),{type:rr[O.id]})),p=VY({connectors:f,isDeveloperMode:i,systemHintConnectorIds:o}).map(O=>P(S({},O),{type:Cs.MCP_CONNECTOR})),_=zY(p,o),m=s||_.size>0,v=s?p:p.filter(O=>_.has(O.id)),E=[...h,...v].filter(O=>!!O.type&&(t||O.status!=="DISABLED_BY_ADMIN")),b=new Set([...r,...a]);return m&&b.add(Cs.MCP_CONNECTOR),Array.from(b).flatMap(O=>O===Cs.MCP_CONNECTOR?E.filter(A=>A.type===O):[E.find(A=>A.type===O)]).filter(O=>!!O)}const xRe=ie(()=>{var t;if(!((t=sr())!=null&&t.isEnterprisey())||SRe())return!0;const e=KY();return fz()||e!=null&&e.length>0}),Pj=50,ER=X([]);function MRe(e){"use forget";const t=j.c(4),{children:n}=e,r=dn(),s=xee();let i,o;return t[0]!==s||t[1]!==r?(i=()=>{ER.set(a=>{const c={action:s,location:r},l=[...a,c];return l.length>Pj?l.slice(l.length-Pj):l})},o=[s,r],t[0]=s,t[1]=r,t[2]=i,t[3]=o):(i=t[2],o=t[3]),T.useEffect(i,o),n}function kRe(e,t){return m6(e)||(t==null?void 0:t.hasPaidFeatures())}function LRe(){var n,r;const e=ze();return t9((n=e==null?void 0:e.planType)!=null?n:se.FREE)||kRe((r=Pa())==null?void 0:r.user,e)&&!!1}const DRe=Ee(_t,"44c6db",20,20),URe=({icon:e,title:t,badge:n,description:r,statusIndicator:s,showGitHubConfigure:i})=>{const o=Uge("installations/select_target");return g.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[g.jsxs("div",{className:"me-4 flex items-center gap-3 text-start text-sm",children:[e,!r&&!n?t:g.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[g.jsx("div",{children:t}),n]}),g.jsx("div",{className:"text-token-text-secondary text-xs",children:r})]})]}),i&&g.jsx(li,{onClick:()=>{window.open(o,"_blank")},color:"secondary",size:"small",children:g.jsx(DRe,{className:"icon-sm"})}),s]})};function VZe(e,t){const n=T.useRef(e);T.useEffect(()=>{n.current=e},[e]),T.useEffect(()=>{function r(){n.current()}if(t!=null){const s=window.setInterval(r,t);return()=>clearInterval(s)}},[t])}const Ah=T.createContext({});function El(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const CR=typeof window<"u",Md=CR?T.useLayoutEffect:T.useEffect,Wp=T.createContext(null);function yR(e,t){e.indexOf(t)===-1&&e.push(t)}function XE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ei=(e,t,n)=>n>t?t:n<e?e:n;let Nh=()=>{};const Oo={},XY=e=>new RegExp("^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$","u").test(e);function QY(e){return typeof e=="object"&&e!==null}const ZY=e=>new RegExp("^0[^.\\s]+$","u").test(e);function SR(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pr=e=>e,FRe=(e,t)=>n=>t(e(n)),qp=(...e)=>e.reduce(FRe),sl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class TR{constructor(){this.subscriptions=[]}add(t){return yR(this.subscriptions,t),()=>XE(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qs=e=>e*1e3,Es=e=>e/1e3;function OR(e,t){return t?e*(1e3/t):0}const GRe=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},eK=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,jRe=1e-7,BRe=12;function HRe(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=eK(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>jRe&&++a<BRe);return o}function Vp(e,t,n,r){if(e===t&&n===r)return Pr;const s=i=>HRe(i,0,1,e,n);return i=>i===0||i===1?i:eK(s(i),t,r)}const tK=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nK=e=>t=>1-e(1-t),rK=Vp(.33,1.53,.69,.99),bR=nK(rK),sK=tK(bR),iK=e=>(e*=2)<1?.5*bR(e):.5*(2-Math.pow(2,-10*(e-1))),AR=e=>1-Math.sin(Math.acos(e)),oK=nK(AR),aK=tK(AR),$Re=Vp(.42,0,1,1),WRe=Vp(0,0,.58,1),cK=Vp(.42,0,.58,1);function zZe(e,t="end"){return n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return ei(0,1,s/e)}}const lK=e=>Array.isArray(e)&&typeof e[0]!="number";function uK(e,t){return lK(e)?e[GRe(0,e.length,t)]:e}const dK=e=>Array.isArray(e)&&typeof e[0]=="number",qRe={linear:Pr,easeIn:$Re,easeInOut:cK,easeOut:WRe,circIn:AR,circInOut:aK,circOut:oK,backIn:bR,backInOut:sK,backOut:rK,anticipate:iK},VRe=e=>typeof e=="string",oP=e=>{if(dK(e)){Nh(e.length===4);const[t,n,r,s]=e;return Vp(t,n,r,s)}else if(VRe(e))return qRe[e];return e},$_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zRe(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,d=!1,f=!1)=>{const p=f&&s?n:r;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,l.process(u))}};return l}const YRe=40;function fK(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=$_.reduce((b,C)=>(b[C]=zRe(i),b),{}),{setup:a,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:h,postRender:p}=o,_=()=>{const b=Oo.useManualTiming?s.timestamp:performance.now();n=!1,Oo.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,YRe),1)),s.timestamp=b,s.isProcessing=!0,a.process(s),c.process(s),l.process(s),u.process(s),d.process(s),f.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(_))},m=()=>{n=!0,r=!0,s.isProcessing||e(_)};return{schedule:$_.reduce((b,C)=>{const y=o[C];return b[C]=(O,A=!1,N=!1)=>(n||m(),y.schedule(O,A,N)),b},{}),cancel:b=>{for(let C=0;C<$_.length;C++)o[$_[C]].cancel(b)},state:s,steps:o}}const{schedule:Tt,cancel:ti,state:Rn,steps:Rb}=fK(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0);let Am;function KRe(){Am=void 0}const Ar={now:()=>(Am===void 0&&Ar.set(Rn.isProcessing||Oo.useManualTiming?Rn.timestamp:performance.now()),Am),set:e=>{Am=e,queueMicrotask(KRe)}},hK=e=>t=>typeof t=="string"&&t.startsWith(e),NR=hK("--"),JRe=hK("var(--"),IR=e=>JRe(e)?XRe.test(e.split("/*")[0].trim()):!1,XRe=new RegExp("var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$","iu"),kd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ih=P(S({},kd),{transform:e=>ei(0,1,e)}),W_=P(S({},kd),{default:1}),Vf=e=>Math.round(e*1e5)/1e5,PR=new RegExp("-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","gu");function QRe(e){return e==null}const ZRe=new RegExp("^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$","iu"),wR=(e,t)=>n=>!!(typeof n=="string"&&ZRe.test(n)&&n.startsWith(e)||t&&!QRe(n)&&Object.prototype.hasOwnProperty.call(n,t)),pK=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(PR);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},exe=e=>ei(0,255,e),xb=P(S({},kd),{transform:e=>Math.round(exe(e))}),Cc={test:wR("rgb","red"),parse:pK("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+xb.transform(e)+", "+xb.transform(t)+", "+xb.transform(n)+", "+Vf(Ih.transform(r))+")"};function txe(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const aP={test:wR("#"),parse:txe,transform:Cc.transform},zp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Ho=zp("deg"),xi=zp("%"),$e=zp("px"),nxe=zp("vh"),rxe=zp("vw"),wj=P(S({},xi),{parse:e=>xi.parse(e)/100,transform:e=>xi.transform(e*100)}),du={test:wR("hsl","hue"),parse:pK("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+xi.transform(Vf(t))+", "+xi.transform(Vf(n))+", "+Vf(Ih.transform(r))+")"},gn={test:e=>Cc.test(e)||aP.test(e)||du.test(e),parse:e=>Cc.test(e)?Cc.parse(e):du.test(e)?du.parse(e):aP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cc.transform(e):du.transform(e),getAnimatableNone:e=>{const t=gn.parse(e);return t.alpha=0,gn.transform(t)}},sxe=new RegExp("(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))","giu");function ixe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(PR))==null?void 0:t.length)||0)+(((n=e.match(sxe))==null?void 0:n.length)||0)>0}const _K="number",mK="color",oxe="var",axe="var(",Rj="${}",cxe=new RegExp("var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","giu");function Ph(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(cxe,c=>(gn.test(c)?(r.color.push(i),s.push(mK),n.push(gn.parse(c))):c.startsWith(axe)?(r.var.push(i),s.push(oxe),n.push(c)):(r.number.push(i),s.push(_K),n.push(parseFloat(c))),++i,Rj)).split(Rj);return{values:n,split:a,indexes:r,types:s}}function gK(e){return Ph(e).values}function vK(e){const{split:t,types:n}=Ph(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===_K?i+=Vf(s[o]):a===mK?i+=gn.transform(s[o]):i+=s[o]}return i}}const lxe=e=>typeof e=="number"?0:gn.test(e)?gn.getAnimatableNone(e):e;function uxe(e){const t=gK(e);return vK(e)(t.map(lxe))}const ba={test:ixe,parse:gK,createTransformer:vK,getAnimatableNone:uxe};function Mb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dxe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;s=Mb(c,a,e+1/3),i=Mb(c,a,e),o=Mb(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function qg(e,t){return n=>n>0?t:e}const Jt=(e,t,n)=>e+(t-e)*n,kb=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},fxe=[aP,Cc,du],hxe=e=>fxe.find(t=>t.test(e));function xj(e){const t=hxe(e);if(!t)return!1;let n=t.parse(e);return t===du&&(n=dxe(n)),n}const Mj=(e,t)=>{const n=xj(e),r=xj(t);if(!n||!r)return qg(e,t);const s=S({},n);return i=>(s.red=kb(n.red,r.red,i),s.green=kb(n.green,r.green,i),s.blue=kb(n.blue,r.blue,i),s.alpha=Jt(n.alpha,r.alpha,i),Cc.transform(s))},cP=new Set(["none","hidden"]);function pxe(e,t){return cP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _xe(e,t){return n=>Jt(e,t,n)}function RR(e){return typeof e=="number"?_xe:typeof e=="string"?IR(e)?qg:gn.test(e)?Mj:vxe:Array.isArray(e)?EK:typeof e=="object"?gn.test(e)?Mj:mxe:qg}function EK(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>RR(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function mxe(e,t){const n=S(S({},e),t),r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=RR(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function gxe(e,t){var s;const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][r[o]],c=(s=e.values[a])!=null?s:0;n[i]=c,r[o]++}return n}const vxe=(e,t)=>{const n=ba.createTransformer(t),r=Ph(e),s=Ph(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?cP.has(e)&&!s.values.length||cP.has(t)&&!r.values.length?pxe(e,t):qp(EK(gxe(r,s),s.values),n):qg(e,t)};function CK(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Jt(e,t,n):RR(e)(e,t)}const Exe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Tt.update(t,n),stop:()=>ti(t),now:()=>Rn.isProcessing?Rn.timestamp:Ar.now()}},yK=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Vg=2e4;function xR(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Vg;)t+=n,r=e.next(t);return t>=Vg?1/0:t}function SK(e,t=100,n){const r=n(P(S({},e),{keyframes:[0,t]})),s=Math.min(xR(r),Vg);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Es(s)}}const Cxe=5;function TK(e,t,n){const r=Math.max(t-Cxe,0);return OR(n-e(r),t-r)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lb=.001;function yxe({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:r=on.mass}){let s,i,o=1-t;o=ei(on.minDamping,on.maxDamping,o),e=ei(on.minDuration,on.maxDuration,Es(e)),o<1?(s=l=>{const u=l*o,d=u*e,f=u-n,h=lP(l,o),p=Math.exp(-d);return Lb-f/h*p},i=l=>{const d=l*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(l,2)*e,p=Math.exp(-d),_=lP(Math.pow(l,2),o);return(-s(l)+Lb>0?-1:1)*((f-h)*p)/_}):(s=l=>{const u=Math.exp(-l*e),d=(l-n)*e+1;return-Lb+u*d},i=l=>{const u=Math.exp(-l*e),d=(n-l)*(e*e);return u*d});const a=5/e,c=Txe(s,i,a);if(e=qs(e),isNaN(c))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const Sxe=12;function Txe(e,t,n){let r=n;for(let s=1;s<Sxe;s++)r=r-e(r)/t(r);return r}function lP(e,t){return e*Math.sqrt(1-t*t)}const Oxe=["duration","bounce"],bxe=["stiffness","damping","mass"];function kj(e,t){return t.some(n=>e[n]!==void 0)}function Axe(e){let t=S({velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1},e);if(!kj(e,bxe)&&kj(e,Oxe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ei(.05,1,1-(e.bounce||0))*Math.sqrt(s);t=P(S({},t),{mass:on.mass,stiffness:s,damping:i})}else{const n=yxe(e);t=P(S(S({},t),n),{mass:on.mass}),t.isResolvedFromDuration=!0}return t}function wh(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Axe(P(S({},n),{velocity:-Es(n.velocity||0)})),p=f||0,_=l/(2*Math.sqrt(c*u)),m=o-i,v=Es(Math.sqrt(c/u)),E=Math.abs(m)<5;r||(r=E?on.restSpeed.granular:on.restSpeed.default),s||(s=E?on.restDelta.granular:on.restDelta.default);let b;if(_<1){const y=lP(v,_);b=O=>{const A=Math.exp(-_*v*O);return o-A*((p+_*v*m)/y*Math.sin(y*O)+m*Math.cos(y*O))}}else if(_===1)b=y=>o-Math.exp(-v*y)*(m+(p+v*m)*y);else{const y=v*Math.sqrt(_*_-1);b=O=>{const A=Math.exp(-_*v*O),N=Math.min(y*O,300);return o-A*((p+_*v*m)*Math.sinh(N)+y*m*Math.cosh(N))/y}}const C={calculatedDuration:h&&d||null,next:y=>{const O=b(y);if(h)a.done=y>=d;else{let A=y===0?p:0;_<1&&(A=y===0?qs(p):TK(b,y,O));const N=Math.abs(A)<=r,I=Math.abs(o-O)<=s;a.done=N&&I}return a.value=a.done?o:O,a},toString:()=>{const y=Math.min(xR(C),Vg),O=yK(A=>C.next(y*A).value,y,30);return y+"ms "+O},toTransition:()=>{}};return C}wh.applyToOptions=e=>{const t=SK(e,100,wh);return e.ease=t.ease,e.duration=qs(t.duration),e.type="keyframes",e};function uP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=N=>a!==void 0&&N<a||c!==void 0&&N>c,p=N=>a===void 0?c:c===void 0||Math.abs(a-N)<Math.abs(c-N)?a:c;let _=n*t;const m=d+_,v=o===void 0?m:o(m);v!==m&&(_=v-d);const E=N=>-_*Math.exp(-N/r),b=N=>v+E(N),C=N=>{const I=E(N),w=b(N);f.done=Math.abs(I)<=l,f.value=f.done?v:w};let y,O;const A=N=>{h(f.value)&&(y=N,O=wh({keyframes:[f.value,p(f.value)],velocity:TK(b,N,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:u}))};return A(0),{calculatedDuration:null,next:N=>{let I=!1;return!O&&y===void 0&&(I=!0,C(N),A(N)),y!==void 0&&N>=y?O.next(N-y):(!I&&C(N),f)}}}function Nxe(e,t,n){const r=[],s=n||Oo.mix||CK,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Pr:t;a=qp(c,a)}r.push(a)}return r}function MR(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Nh(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Nxe(t,r,s),c=a.length,l=u=>{if(o&&u<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=sl(e[d],e[d+1],u);return a[d](f)};return n?u=>l(ei(e[0],e[i-1],u)):l}function OK(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=sl(0,t,r);e.push(Jt(n,1,s))}}function kR(e){const t=[0];return OK(t,e.length-1),t}function Ixe(e,t){return e.map(n=>n*t)}function Pxe(e,t){return e.map(()=>t||cK).splice(0,e.length-1)}function zf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=lK(r)?r.map(oP):oP(r),i={done:!1,value:t[0]},o=Ixe(n&&n.length===t.length?n:kR(t),e),a=MR(o,t,{ease:Array.isArray(s)?s:Pxe(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}const wxe=e=>e!==null;function LR(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(wxe),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Rxe={decay:uP,inertia:uP,tween:zf,keyframes:zf,spring:wh};function bK(e){typeof e.type=="string"&&(e.type=Rxe[e.type])}class DR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const xxe=e=>e/100;class QE extends DR{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ar.now()&&this.tick(Ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bK(t);const{type:n=zf,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const c=n||zf;c!==zf&&typeof a[0]!="number"&&(this.mixKeyframes=qp(xxe,CK(a[0],a[1])),a=[0,100]);const l=c(P(S({},t),{keyframes:a}));i==="mirror"&&(this.mirroredGenerator=c(P(S({},t),{keyframes:[...a].reverse(),velocity:-o}))),l.calculatedDuration===null&&(l.calculatedDuration=xR(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=l}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:h,type:p,onUpdate:_,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-l*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,C=r;if(d){const N=Math.min(this.currentTime,s)/a;let I=Math.floor(N),w=N%1;!w&&N>=1&&(w=1),w===1&&I--,I=Math.min(I,d+1),!!(I%2)&&(f==="reverse"?(w=1-w,h&&(w-=h/a)):f==="mirror"&&(C=o)),b=ei(0,1,w)*a}const y=E?{done:!1,value:u[0]}:C.next(b);i&&(y.value=i(y.value));let{done:O}=y;!E&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return A&&p!==uP&&(y.value=LR(u,this.options,m,this.speed)),_&&_(y.value),A&&this.finish(),y}then(t,n){return this.finished.then(t,n)}get duration(){return Es(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Es(t)}get time(){return Es(this.currentTime)}set time(t){var n;t=qs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ar.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Es(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=Exe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Mxe(e){var t;for(let n=1;n<e.length;n++)(t=e[n])!=null||(e[n]=e[n-1])}const yc=e=>e*180/Math.PI,dP=e=>{const t=yc(Math.atan2(e[1],e[0]));return fP(t)},kxe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dP,rotateZ:dP,skewX:e=>yc(Math.atan(e[1])),skewY:e=>yc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fP=e=>(e=e%360,e<0&&(e+=360),e),Lj=dP,Dj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Uj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Lxe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dj,scaleY:Uj,scale:e=>(Dj(e)+Uj(e))/2,rotateX:e=>fP(yc(Math.atan2(e[6],e[5]))),rotateY:e=>fP(yc(Math.atan2(-e[2],e[0]))),rotateZ:Lj,rotate:Lj,skewX:e=>yc(Math.atan(e[4])),skewY:e=>yc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function hP(e){return e.includes("scale")?1:0}function pP(e,t){if(!e||e==="none")return hP(t);const n=e.match(new RegExp("^matrix3d\\(([-\\d.e\\s,]+)\\)$","u"));let r,s;if(n)r=Lxe,s=n;else{const a=e.match(new RegExp("^matrix\\(([-\\d.e\\s,]+)\\)$","u"));r=kxe,s=a}if(!s)return hP(t);const i=r[t],o=s[1].split(",").map(Uxe);return typeof i=="function"?i(o):o[i]}const Dxe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return pP(n,t)};function Uxe(e){return parseFloat(e.trim())}const Ld=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dd=new Set(Ld),Fj=e=>e===kd||e===$e,Fxe=new Set(["x","y","z"]),Gxe=Ld.filter(e=>!Fxe.has(e));function jxe(e){const t=[];return Gxe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Gc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>pP(t,"x"),y:(e,{transform:t})=>pP(t,"y")};Gc.translateX=Gc.x;Gc.translateY=Gc.y;const jc=new Set;let _P=!1,mP=!1,gP=!1;function AK(){if(mP){const e=Array.from(jc).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=jxe(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}mP=!1,_P=!1,jc.forEach(e=>e.complete(gP)),jc.clear()}function NK(){jc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mP=!0)})}function Bxe(){gP=!0,NK(),AK(),gP=!1}class UR{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(jc.add(this),_P||(_P=!0,Tt.read(NK),Tt.resolveKeyframes(AK))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Mxe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jc.delete(this)}cancel(){this.state==="scheduled"&&(jc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Hxe=e=>e.startsWith("--");function $xe(e,t,n){Hxe(t)?e.style.setProperty(t,n):e.style[t]=n}const IK=SR(()=>window.ScrollTimeline!==void 0),Wxe={};function qxe(e,t){const n=SR(e);return()=>{var r;return(r=Wxe[t])!=null?r:n()}}const PK=qxe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),If=([e,t,n,r])=>"cubic-bezier(".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,")"),Gj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:If([0,.65,.55,1]),circOut:If([.55,0,1,.45]),backIn:If([.31,.01,.66,-.59]),backOut:If([.33,1.53,.69,.99])};function wK(e,t){if(e)return typeof e=="function"?PK()?yK(e,t):"ease-out":dK(e)?If(e):Array.isArray(e)?e.map(n=>wK(n,t)||Gj.easeOut):Gj[e]}function Vxe(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},l=void 0){const u={[t]:n};c&&(u.offset=c);const d=wK(a,s);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),e.animate(u,f)}function FR(e){return typeof e=="function"&&"applyToOptions"in e}function zxe(n){var r=n,{type:e}=r,t=B(r,["type"]);var s,i;return FR(e)&&PK()?e.applyToOptions(t):((s=t.duration)!=null||(t.duration=300),(i=t.ease)!=null||(t.ease="easeOut"),t)}class Yxe extends DR{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Nh(typeof t.type!="string");const l=zxe(t);this.animation=Vxe(n,r,s,l,i),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=LR(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):$xe(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Es(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Es(t)}get time(){return Es(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&IK()?(this.animation.timeline=t,Pr):n(this)}}const RK={anticipate:iK,backInOut:sK,circInOut:aK};function Kxe(e){return e in RK}function Jxe(e){typeof e.ease=="string"&&Kxe(e.ease)&&(e.ease=RK[e.ease])}const jj=10;class Xxe extends Yxe{constructor(t){Jxe(t),bK(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){var u;const l=this.options,{motionValue:n,onUpdate:r,onComplete:s,element:i}=l,o=B(l,["motionValue","onUpdate","onComplete","element"]);if(!n)return;if(t!==void 0){n.set(t);return}const a=new QE(P(S({},o),{autoplay:!1})),c=qs((u=this.finishedTime)!=null?u:this.time);n.setWithVelocity(a.sample(c-jj).value,a.sample(c).value,jj),a.stop()}}const Bj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ba.test(e)||e==="0")&&!e.startsWith("url("));function Qxe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Zxe(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Bj(s,t),a=Bj(i,t);return!o||!a?!1:Qxe(e)||(n==="spring"||FR(n))&&r}function vP(e){e.duration=0,e.type="keyframes"}const eMe=new Set(["opacity","clipPath","filter","transform"]),tMe=SR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nMe(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return tMe()&&n&&eMe.has(n)&&(n!=="transform"||!l)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const rMe=40;class sMe extends DR{constructor(f){var h=f,{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:l,element:u}=h,d=B(h,["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"]);var m;super(),this.stop=()=>{var v,E;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Ar.now();const p=S({autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:l,element:u},d),_=(u==null?void 0:u.KeyframeResolver)||UR;this.keyframeResolver=new _(a,(v,E,b)=>this.onKeyframesResolved(v,E,p,!b),c,l,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:l,onUpdate:u}=r;this.resolvedAt=Ar.now(),Zxe(t,i,o,a)||((Oo.instantAnimations||!c)&&(u==null||u(LR(t,r,n))),t[0]=t[t.length-1],vP(r),r.repeat=0);const d=s?this.resolvedAt?this.resolvedAt-this.createdAt>rMe?this.resolvedAt:this.createdAt:this.createdAt:void 0,f=P(S({startTime:d,finalKeyframe:n},r),{keyframes:t}),h=!l&&nMe(f)?new Xxe(P(S({},f),{element:f.motionValue.owner.current})):new QE(f);h.finished.then(()=>this.notifyFinished()).catch(Pr),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Bxe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class iMe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return Hj(this.animations,"duration")}get iterationDuration(){return Hj(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Hj(e,t){let n=0;for(let r=0;r<e.length;r++){const s=e[r][t];s!==null&&s>n&&(n=s)}return n}class oMe extends iMe{then(t,n){return this.finished.finally(t).then(()=>{})}}const aMe=new RegExp("^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)","u");function cMe(e){const t=aMe.exec(e);if(!t)return[,];const[,n,r,s]=t;return["--".concat(n!=null?n:r),s]}function xK(e,t,n=1){const[r,s]=cMe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return XY(o)?parseFloat(o):o}return IR(s)?xK(s,t,n+1):s}function GR(e,t){var n,r;return(r=(n=e==null?void 0:e[t])!=null?n:e==null?void 0:e.default)!=null?r:e}const MK=new Set(["width","height","top","left","right","bottom",...Ld]),lMe={test:e=>e==="auto",parse:e=>e},kK=e=>t=>t.test(e),LK=[kd,$e,xi,Ho,rxe,nxe,lMe],$j=e=>LK.find(kK(e));function uMe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ZY(e):!0}const dMe=new Set(["brightness","contrast","saturate","opacity"]);function fMe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(PR)||[];if(!r)return e;const s=n.replace(r,"");let i=dMe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const hMe=new RegExp("\\b([a-z-]*)\\(.*?\\)","gu"),EP=P(S({},ba),{getAnimatableNone:e=>{const t=e.match(hMe);return t?t.map(fMe).join(" "):e}}),Wj=P(S({},kd),{transform:Math.round}),pMe={rotate:Ho,rotateX:Ho,rotateY:Ho,rotateZ:Ho,scale:W_,scaleX:W_,scaleY:W_,scaleZ:W_,skew:Ho,skewX:Ho,skewY:Ho,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Ih,originX:wj,originY:wj,originZ:$e},jR=P(S({borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e},pMe),{zIndex:Wj,fillOpacity:Ih,strokeOpacity:Ih,numOctaves:Wj}),_Me=P(S({},jR),{color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:EP,WebkitFilter:EP}),DK=e=>_Me[e];function UK(e,t){let n=DK(e);return n!==EP&&(n=ba),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mMe=new Set(["auto","none","0"]);function gMe(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!mMe.has(i)&&Ph(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=UK(n,s)}class vMe extends UR{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),IR(l))){const u=xK(l,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!MK.has(r)||t.length!==2)return;const[s,i]=t,o=$j(s),a=$j(i);if(o!==a)if(Fj(o)&&Fj(a))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else Gc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||uMe(t[s]))&&r.push(s);r.length&&gMe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Gc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function BR(e,t,n){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(r=n==null?void 0:n[e])!=null?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const FK=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function HR(e){return QY(e)&&"offsetHeight"in e}const qj=30,EMe=e=>!isNaN(parseFloat(e)),Yf={current:void 0};class CMe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Ar.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=EMe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new TR);const r=this.events[t].add(n);return t==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Yf.current&&Yf.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qj);return OR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bs(e,t){return new CMe(e,t)}const{schedule:$R}=fK(queueMicrotask,!1),Ds={x:!1,y:!1};function GK(){return Ds.x||Ds.y}function yMe(e){return e==="x"||e==="y"?Ds[e]?null:(Ds[e]=!0,()=>{Ds[e]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}function jK(e,t){const n=BR(e),r=new AbortController,s=P(S({passive:!0},t),{signal:r.signal});return[n,s,()=>r.abort()]}function Vj(e){return!(e.pointerType==="touch"||GK())}function SMe(e,t,n={}){const[r,s,i]=jK(e,n),o=a=>{if(!Vj(a))return;const{target:c}=a,l=t(c,a);if(typeof l!="function"||!c)return;const u=d=>{Vj(d)&&(l(d),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const BK=(e,t)=>t?e===t?!0:BK(e,t.parentElement):!1,WR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,TMe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OMe(e){return TMe.has(e.tagName)||e.tabIndex!==-1}const Nm=new WeakSet;function zj(e){return t=>{t.key==="Enter"&&e(t)}}function Db(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bMe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=zj(()=>{if(Nm.has(n))return;Db(n,"down");const s=zj(()=>{Db(n,"up")}),i=()=>Db(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Yj(e){return WR(e)&&!GK()}function AMe(e,t,n={}){const[r,s,i]=jK(e,n),o=a=>{const c=a.currentTarget;if(!Yj(a))return;Nm.add(c);const l=t(c,a),u=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Nm.has(c)&&Nm.delete(c),Yj(h)&&typeof l=="function"&&l(h,{success:p})},d=h=>{u(h,c===window||c===document||n.useGlobalTarget||BK(c,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),HR(a)&&(a.addEventListener("focus",l=>bMe(l,s)),!OMe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function ZE(e){return QY(e)&&"ownerSVGElement"in e}const Im=new WeakMap;let $o;const HK=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:ZE(r)&&"getBBox"in r?r.getBBox()[t]:r[n],NMe=HK("inline","width","offsetWidth"),IMe=HK("block","height","offsetHeight");function PMe({target:e,borderBoxSize:t}){var n;(n=Im.get(e))==null||n.forEach(r=>{r(e,{get width(){return NMe(e,t)},get height(){return IMe(e,t)}})})}function wMe(e){e.forEach(PMe)}function RMe(){typeof ResizeObserver>"u"||($o=new ResizeObserver(wMe))}function xMe(e,t){$o||RMe();const n=BR(e);return n.forEach(r=>{let s=Im.get(r);s||(s=new Set,Im.set(r,s)),s.add(t),$o==null||$o.observe(r)}),()=>{n.forEach(r=>{const s=Im.get(r);s==null||s.delete(t),s!=null&&s.size||$o==null||$o.unobserve(r)})}}const Pm=new Set;let fu;function MMe(){fu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Pm.forEach(t=>t(e))},window.addEventListener("resize",fu)}function kMe(e){return Pm.add(e),fu||MMe(),()=>{Pm.delete(e),!Pm.size&&typeof fu=="function"&&(window.removeEventListener("resize",fu),fu=void 0)}}function LMe(e,t){return typeof e=="function"?kMe(e):xMe(e,t)}function $K(e,t){let n;const r=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;n!==o&&e(o),n=o};return Tt.preUpdate(r,!0),()=>ti(r)}function WK(e){return ZE(e)&&e.tagName==="svg"}function DMe(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function YZe(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(s,i)=>{const o=typeof n=="number"?n:DMe(n,i),a=Math.abs(o-s);let c=e*a;if(r){const l=i*e;c=oP(r)(c/l)*l}return t+c}}function UMe(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],i=e[2+n],o=e[3+n],a=MR(s,i,o);return t?a(r):a}const En=e=>!!(e&&e.getVelocity);function FMe(e,t,n){const r=e.get();let s=null,i=r,o;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,c=()=>{s&&(s.stop(),s=null)},l=()=>{c(),s=new QE(P(S({keyframes:[Jj(e.get()),Jj(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01},n),{onUpdate:o}))};if(e.attach((u,d)=>{i=u,o=f=>d(Kj(f,a)),Tt.postRender(l)},c),En(t)){const u=t.on("change",f=>e.set(Kj(f,a))),d=e.on("destroy",u);return()=>{u(),d()}}return c}function Kj(e,t){return t?e+t:e}function Jj(e){return typeof e=="number"?e:parseFloat(e)}const GMe=[...LK,gn,ba],jMe=e=>GMe.find(kK(e)),Yp=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Xj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function BMe(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Xj(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Xj(e[s],null)}}}}function HMe(...e){return T.useCallback(BMe(...e),e)}class $Me extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=HR(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WMe({children:e,isPresent:t,anchorX:n,root:r}){const s=T.useId(),i=T.useRef(null),o=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(Yp),c=HMe(i,e==null?void 0:e.ref);return T.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f,right:h}=o.current;if(t||!i.current||!l||!u)return;const p=n==="left"?"left: ".concat(f):"right: ".concat(h);i.current.dataset.motionPopId=s;const _=document.createElement("style");a&&(_.nonce=a);const m=r!=null?r:document.head;return m.appendChild(_),_.sheet&&_.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(l,"px !important;\n            height: ").concat(u,"px !important;\n            ").concat(p,"px !important;\n            top: ").concat(d,"px !important;\n          }\n        ")),()=>{m.contains(_)&&m.removeChild(_)}},[t]),g.jsx($Me,{isPresent:t,childRef:i,sizeRef:o,children:T.cloneElement(e,{ref:c})})}const qMe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:c})=>{const l=El(VMe),u=T.useId();let d=!0,f=T.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return i&&d&&(f=S({},f)),T.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=g.jsx(WMe,{isPresent:n,anchorX:a,root:c,children:e})),g.jsx(Wp.Provider,{value:f,children:e})};function VMe(){return new Map}function qK(e=!0){const t=T.useContext(Wp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=T.useId();T.useEffect(()=>{if(e)return s(i)},[e]);const o=T.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}function KZe(){return zMe(T.useContext(Wp))}function zMe(e){return e===null?!0:e.isPresent}const q_=e=>e.key||"";function Qj(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const JZe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[l,u]=qK(o),d=T.useMemo(()=>Qj(e),[e]),f=o&&!l?[]:d.map(q_),h=T.useRef(!0),p=T.useRef(d),_=El(()=>new Map),[m,v]=T.useState(d),[E,b]=T.useState(d);Md(()=>{h.current=!1,p.current=d;for(let O=0;O<E.length;O++){const A=q_(E[O]);f.includes(A)?_.delete(A):_.get(A)!==!0&&_.set(A,!1)}},[E,f.length,f.join("-")]);const C=[];if(d!==m){let O=[...d];for(let A=0;A<E.length;A++){const N=E[A],I=q_(N);f.includes(I)||(O.splice(A,0,N),C.push(N))}return i==="wait"&&C.length&&(O=C),b(Qj(O)),v(d),null}const{forceRender:y}=T.useContext(Ah);return g.jsx(g.Fragment,{children:E.map(O=>{const A=q_(O),N=o&&!l?!1:d===E||f.includes(A),I=()=>{if(_.has(A))_.set(A,!0);else return;let w=!0;_.forEach(M=>{M||(w=!1)}),w&&(y==null||y(),b(p.current),o&&(u==null||u()),r&&r())};return g.jsx(qMe,{isPresent:N,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:N?void 0:I,anchorX:a,children:O},A)})})},YMe=T.createContext(null);function KMe(){const e=T.useRef(!1);return Md(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function JMe(){const e=KMe(),[t,n]=T.useState(0),r=T.useCallback(()=>{e.current&&n(t+1)},[t]);return[T.useCallback(()=>Tt.postRender(r),[r]),t]}const XMe=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Zj(){const e=new Set,t=new WeakMap,n=()=>e.forEach(XMe);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const s=t.get(r);s&&(s(),t.delete(r)),n()},dirty:n}}const VK=e=>e===!0,QMe=e=>VK(e===!0)||e==="id",XZe=({children:e,id:t,inherit:n=!0})=>{const r=T.useContext(Ah),s=T.useContext(YMe),[i,o]=JMe(),a=T.useRef(null),c=r.id||s;a.current===null&&(QMe(n)&&c&&(t=t?c+"-"+t:c),a.current={id:t,group:VK(n)&&r.group||Zj()});const l=T.useMemo(()=>P(S({},a.current),{forceRender:i}),[o]);return g.jsx(Ah.Provider,{value:l,children:e})},zK=T.createContext({strict:!1}),e2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sd={};for(const e in e2)sd[e]={isEnabled:t=>e2[e].some(n=>!!t[n])};function ZMe(e){for(const t in e)sd[t]=S(S({},sd[t]),e[t])}const eke=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||eke.has(e)}let YK=e=>!zg(e);function tke(e){typeof e=="function"&&(YK=t=>t.startsWith("on")?!zg(t):e(t))}try{tke(require("@emotion/is-prop-valid").default)}catch(e){}function nke(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(YK(s)||n===!0&&zg(s)||!t&&!zg(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const eC=T.createContext({});function tC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Rh(e){return typeof e=="string"||Array.isArray(e)}const qR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VR=["initial",...qR];function nC(e){return tC(e.animate)||VR.some(t=>Rh(e[t]))}function KK(e){return!!(nC(e)||e.variants)}function rke(e,t){if(nC(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Rh(n)?n:void 0,animate:Rh(r)?r:void 0}}return e.inherit!==!1?t:{}}function ske(e){const{initial:t,animate:n}=rke(e,T.useContext(eC));return T.useMemo(()=>({initial:t,animate:n}),[t2(t),t2(n)])}function t2(e){return Array.isArray(e)?e.join(" "):e}const xh={};function ike(e){for(const t in e)xh[t]=e[t],NR(t)&&(xh[t].isCSSVariable=!0)}function JK(e,{layout:t,layoutId:n}){return Dd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xh[e]||e==="opacity")}const oke={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ake=Ld.length;function cke(e,t,n){let r="",s=!0;for(let i=0;i<ake;i++){const o=Ld[i],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const l=FK(a,jR[o]);if(!c){s=!1;const u=oke[o]||o;r+="".concat(u,"(").concat(l,") ")}n&&(t[o]=l)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function zR(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const c in t){const l=t[c];if(Dd.has(c)){o=!0;continue}else if(NR(c)){s[c]=l;continue}else{const u=FK(l,jR[c]);c.startsWith("origin")?(a=!0,i[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=cke(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=i;r.transformOrigin="".concat(c," ").concat(l," ").concat(u)}}const YR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XK(e,t,n){for(const r in t)!En(t[r])&&!JK(r,n)&&(e[r]=t[r])}function lke({transformTemplate:e},t){return T.useMemo(()=>{const n=YR();return zR(n,t,e),Object.assign({},n.vars,n.style)},[t])}function uke(e,t){const n=e.style||{},r={};return XK(r,n,e),Object.assign(r,lke(e,t)),r}function dke(e,t){const n={},r=uke(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const fke={offset:"stroke-dashoffset",array:"stroke-dasharray"},hke={offset:"strokeDashoffset",array:"strokeDasharray"};function pke(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?fke:hke;e[i.offset]=$e.transform(-r);const o=$e.transform(t),a=$e.transform(n);e[i.array]="".concat(o," ").concat(a)}function QK(e,d,c,l,u){var f=d,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0}=f,a=B(f,["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"]);var _,m;if(zR(e,a,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=(_=h.transformOrigin)!=null?_:"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(m=u==null?void 0:u.transformBox)!=null?m:"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&pke(h,s,i,o,!1)}const ZK=()=>P(S({},YR()),{attrs:{}}),eJ=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _ke(e,t,n,r){const s=T.useMemo(()=>{const i=ZK();return QK(i,t,eJ(r),e.transformTemplate,e.style),P(S({},i.attrs),{style:S({},i.style)})},[t]);if(e.style){const i={};XK(i,e.style,e),s.style=S(S({},i),s.style)}return s}const mke=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KR(e){return typeof e!="string"||e.includes("-")?!1:!!(mke.indexOf(e)>-1||new RegExp("[A-Z]","u").test(e))}function gke(e,t,n,{latestValues:r},s,i=!1){const a=(KR(e)?_ke:dke)(t,r,s,e),c=nke(t,typeof e=="string",i),l=e!==T.Fragment?P(S(S({},c),a),{ref:n}):{},{children:u}=t,d=T.useMemo(()=>En(u)?u.get():u,[u]);return T.createElement(e,P(S({},l),{children:d}))}function n2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function JR(e,t,n,r){if(typeof t=="function"){const[s,i]=n2(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=n2(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function wm(e){return En(e)?e.get():e}function vke({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:Eke(n,r,s,e),renderState:t()}}function Eke(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=wm(i[h]);let{initial:o,animate:a}=e;const c=nC(e),l=KK(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!tC(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const _=JR(e,h[p]);if(_){const f=_,{transitionEnd:m,transition:v}=f,E=B(f,["transitionEnd","transition"]);for(const b in E){let C=E[b];if(Array.isArray(C)){const y=u?C.length-1:0;C=C[y]}C!==null&&(s[b]=C)}for(const b in m)s[b]=m[b]}}}return s}const tJ=e=>(t,n)=>{const r=T.useContext(eC),s=T.useContext(Wp),i=()=>vke(e,t,r,s);return n?i():El(i)};function XR(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(En(r[o])||t.style&&En(t.style[o])||JK(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Cke=tJ({scrapeMotionValuesFromProps:XR,createRenderState:YR});function nJ(e,t,n){const r=XR(e,t,n);for(const s in e)if(En(e[s])||En(t[s])){const i=Ld.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const yke=tJ({scrapeMotionValuesFromProps:nJ,createRenderState:ZK}),Ske=Symbol.for("motionComponentSymbol");function hu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Tke(e,t,n){return T.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):hu(n)&&(n.current=r))},[t])}const QR=e=>e.replace(new RegExp("([a-z])([A-Z])","gu"),"$1-$2").toLowerCase(),Oke="framerAppearId",rJ="data-"+QR(Oke),sJ=T.createContext({});function bke(e,t,n,r,s){var _,m;const{visualElement:i}=T.useContext(eC),o=T.useContext(zK),a=T.useContext(Wp),c=T.useContext(Yp).reducedMotion,l=T.useRef(null);r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const u=l.current,d=T.useContext(sJ);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&Ake(l.current,n,s,d);const f=T.useRef(!1);T.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const h=n[rJ],p=T.useRef(!!h&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,h))&&((m=window.MotionHasOptimisedAnimation)==null?void 0:m.call(window,h)));return Md(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,h)}),p.current=!1),u.enteringChildren=void 0)}),u}function Ake(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:iJ(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&hu(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function iJ(e){if(e)return e.options.allowProjection!==!1?e.projection:iJ(e.parent)}function Ub(e,{forwardMotionProps:t=!1}={},n,r){var a,c;n&&ZMe(n);const s=KR(e)?yke:Cke;function i(l,u){let d;const f=P(S(S({},T.useContext(Yp)),l),{layoutId:Nke(l)}),{isStatic:h}=f,p=ske(l),_=s(l,h);if(!h&&CR){Ike();const m=Pke(f);d=m.MeasureLayout,p.visualElement=bke(e,_,f,r,m.ProjectionNode)}return g.jsxs(eC.Provider,{value:p,children:[d&&p.visualElement?g.jsx(d,S({visualElement:p.visualElement},f)):null,gke(e,l,Tke(_,p.visualElement,u),_,h,t)]})}i.displayName="motion.".concat(typeof e=="string"?e:"create(".concat((c=(a=e.displayName)!=null?a:e.name)!=null?c:"",")"));const o=T.forwardRef(i);return o[Ske]=e,o}function Nke({layoutId:e}){const t=T.useContext(Ah).id;return t&&e!==void 0?t+"-"+e:e}function Ike(e,t){T.useContext(zK).strict}function Pke(e){const{drag:t,layout:n}=sd;if(!t&&!n)return{};const r=S(S({},t),n);return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wke(e,t){if(typeof Proxy>"u")return Ub;const n=new Map,r=(i,o)=>Ub(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Ub(o,void 0,e,t)),n.get(o))})}function oJ({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Rke({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xke(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fb(e){return e===void 0||e===1}function CP({scale:e,scaleX:t,scaleY:n}){return!Fb(e)||!Fb(t)||!Fb(n)}function uc(e){return CP(e)||aJ(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function aJ(e){return r2(e.x)||r2(e.y)}function r2(e){return e&&e!=="0%"}function Yg(e,t,n){const r=e-n,s=t*r;return n+s}function s2(e,t,n,r,s){return s!==void 0&&(e=Yg(e,s,r)),Yg(e,n,r)+t}function yP(e,t=0,n=1,r,s){e.min=s2(e.min,t,n,r,s),e.max=s2(e.max,t,n,r,s)}function cJ(e,{x:t,y:n}){yP(e.x,t.translate,t.scale,t.originPoint),yP(e.y,n.translate,n.scale,n.originPoint)}const i2=.999999999999,o2=1.0000000000001;function Mke(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_u(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cJ(e,o)),r&&uc(i.latestValues)&&_u(e,i.latestValues))}t.x<o2&&t.x>i2&&(t.x=1),t.y<o2&&t.y>i2&&(t.y=1)}function pu(e,t){e.min=e.min+t,e.max=e.max+t}function a2(e,t,n,r,s=.5){const i=Jt(e.min,e.max,s);yP(e,t,n,i,r)}function _u(e,t){a2(e.x,t.x,t.scaleX,t.scale,t.originX),a2(e.y,t.y,t.scaleY,t.scale,t.originY)}function lJ(e,t){return oJ(xke(e.getBoundingClientRect(),t))}function kke(e,t,n){const r=lJ(e,n),{scroll:s}=t;return s&&(pu(r.x,s.offset.x),pu(r.y,s.offset.y)),r}const c2=()=>({translate:0,scale:1,origin:0,originPoint:0}),mu=()=>({x:c2(),y:c2()}),l2=()=>({min:0,max:0}),sn=()=>({x:l2(),y:l2()}),Kg={current:null},ZR={current:!1};function uJ(){if(ZR.current=!0,!!CR)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kg.current=e.matches;e.addEventListener("change",t),t()}else Kg.current=!1}const Mh=new WeakMap;function Lke(e,t,n){for(const r in t){const s=t[r],i=n[r];if(En(s))e.addValue(r,s);else if(En(i))e.addValue(r,Bs(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Bs(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const u2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dJ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=UR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ar.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Tt.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget=S({},c),this.initialValues=n.initial?S({},c):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=nC(n),this.isVariantNode=KK(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const f=this.scrapeMotionValuesFromProps(n,{},this),{willChange:u}=f,d=B(f,["willChange"]);for(const h in d){const p=d[h];c[h]!==void 0&&En(p)&&p.set(c[h])}}mount(t){var n;this.current=t,Mh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),ZR.current||uJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ti(this.notifyUpdate),ti(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){var n;this.children.add(t),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Dd.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in sd){const n=sd[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<u2.length;r++){const s=u2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Lke(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Bs(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!=null?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(XY(r)||ZY(r))?r=parseFloat(r):!jMe(r)&&ba.test(n)&&(r=UK(t,n)),this.setBaseTarget(t,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=JR(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!En(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new TR),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){$R.render(this.render)}}class fJ extends dJ{constructor(){super(...arguments),this.KeyframeResolver=vMe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent="".concat(n))}))}}function hJ(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Dke(e){return window.getComputedStyle(e)}class pJ extends fJ{constructor(){super(...arguments),this.type="html",this.renderInstance=hJ}readValueFromInstance(t,n){var r;if(Dd.has(n))return(r=this.projection)!=null&&r.isProjecting?hP(n):Dxe(t,n);{const s=Dke(t),i=(NR(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return lJ(t,n)}build(t,n,r){zR(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return XR(t,n,r)}}const _J=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uke(e,t,n,r){hJ(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(_J.has(s)?s:QR(s),t.attrs[s])}class mJ extends fJ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dd.has(n)){const r=DK(n);return r&&r.default||0}return n=_J.has(n)?n:QR(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return nJ(t,n,r)}build(t,n,r){QK(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){Uke(t,n,r,s)}mount(t){this.isSVGTag=eJ(t.tagName),super.mount(t)}}const Fke=(e,t)=>KR(e)?new mJ(t):new pJ(t,{allowProjection:e!==T.Fragment});function wu(e,t,n){const r=e.getProps();return JR(r,t,n!==void 0?n:r.custom,e)}const SP=e=>Array.isArray(e);function Gke(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bs(n))}function jke(e){return SP(e)?e[e.length-1]||0:e}function ex(e,t){let o=wu(e,t)||{},{transitionEnd:r={},transition:s={}}=o,i=B(o,["transitionEnd","transition"]);i=S(S({},i),r);for(const a in i){const c=jke(i[a]);Gke(e,a,c)}}function Bke(e){return!!(En(e)&&e.add)}function TP(e,t){const n=e.getValue("willChange");if(Bke(n))return n.add(t);if(!n&&Oo.WillChange){const r=new Oo.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function gJ(e){return e.props[rJ]}const Hke=e=>e!==null;function $ke(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Hke),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const Wke={type:"spring",stiffness:500,damping:25,restSpeed:10},qke=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Vke={type:"keyframes",duration:.8},zke={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yke=(e,{keyframes:t})=>t.length>2?Vke:Dd.has(e)?e.startsWith("scale")?qke(t[1]):Wke:zke;function Kke(d){var f=d,{when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:l}=f,u=B(f,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(u).length}const tx=(e,t,n,r={},s,i)=>o=>{const a=GR(r,e)||{},c=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-qs(c);const u=P(S({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s});Kke(a)||Object.assign(u,Yke(e,u)),u.duration&&(u.duration=qs(u.duration)),u.repeatDelay&&(u.repeatDelay=qs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(vP(u),u.delay===0&&(d=!0)),(Oo.instantAnimations||Oo.skipAnimations)&&(d=!0,vP(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!i&&t.get()!==void 0){const f=$ke(u.keyframes,a);if(f!==void 0){Tt.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new QE(u):new sMe(u)};function Jke({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function nx(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var d;let u=t,{transition:i=e.getDefaultTransition(),transitionEnd:o}=u,a=B(u,["transition","transitionEnd"]);r&&(i=r);const c=[],l=s&&e.animationState&&e.animationState.getState()[s];for(const f in a){const h=e.getValue(f,(d=e.latestValues[f])!=null?d:null),p=a[f];if(p===void 0||l&&Jke(l,f))continue;const _=S({delay:n},GR(i||{},f)),m=h.get();if(m!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===m&&!_.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const b=gJ(e);if(b){const C=window.MotionHandoffAnimation(b,f,Tt);C!==null&&(_.startTime=C,v=!0)}}TP(e,f),h.start(tx(f,h,p,e.shouldReduceMotion&&MK.has(f)?{type:!1}:_,e,v));const E=h.animation;E&&c.push(E)}return o&&Promise.all(c).then(()=>{Tt.update(()=>{o&&ex(e,o)})}),c}function vJ(e,t,n,r=0,s=1){const i=Array.from(e).sort((l,u)=>l.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function OP(e,t,n={}){var c;const r=wu(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(nx(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return Xke(e,t,l,u,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Xke(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(OP(c,t,P(S({},o),{delay:n+(typeof r=="function"?0:r)+vJ(e.variantChildren,c,r,s,i)})).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function EJ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>OP(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=OP(e,t,n);else{const s=typeof t=="function"?wu(e,t,n.custom):t;r=Promise.all(nx(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function CJ(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Qke=VR.length;function yJ(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?yJ(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Qke;n++){const r=VR[n],s=e.props[r];(Rh(s)||s===!1)&&(t[r]=s)}return t}const Zke=[...qR].reverse(),eLe=qR.length;function tLe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>EJ(e,n,r)))}function nLe(e){let t=tLe(e),n=d2(),r=!0;const s=c=>(l,u)=>{var f;const d=wu(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const h=d,{transition:p,transitionEnd:_}=h,m=B(h,["transition","transitionEnd"]);l=S(S(S({},l),m),_)}return l};function i(c){t=c(e)}function o(c){const{props:l}=e,u=yJ(e.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let m=0;m<eLe;m++){const v=Zke[m],E=n[v],b=l[v]!==void 0?l[v]:u[v],C=Rh(b),y=v===c?E.isActive:null;y===!1&&(p=m);let O=b===u[v]&&b!==l[v]&&C;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),E.protectedKeys=S({},h),!E.isActive&&y===null||!b&&!E.prevProp||tC(b)||typeof b=="boolean")continue;const A=rLe(E.prevProp,b);let N=A||v===c&&E.isActive&&!O&&C||m>p&&C,I=!1;const w=Array.isArray(b)?b:[b];let M=w.reduce(s(v),{});y===!1&&(M={});const{prevResolvedValues:k={}}=E,D=S(S({},k),M),L=V=>{N=!0,f.has(V)&&(I=!0,f.delete(V)),E.needsAnimating[V]=!0;const Y=e.getValue(V);Y&&(Y.liveStyle=!1)};for(const V in D){const Y=M[V],Q=k[V];if(h.hasOwnProperty(V))continue;let z=!1;SP(Y)&&SP(Q)?z=!CJ(Y,Q):z=Y!==Q,z?Y!=null?L(V):f.add(V):Y!==void 0&&f.has(V)?L(V):E.protectedKeys[V]=!0}E.prevProp=b,E.prevResolvedValues=M,E.isActive&&(h=S(S({},h),M)),r&&e.blockInitialAnimation&&(N=!1);const G=O&&A;N&&(!G||I)&&d.push(...w.map(V=>{const Y={type:v};if(typeof V=="string"&&r&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:Q}=e,z=wu(Q,V);if(Q.enteringChildren&&z){const{delayChildren:F}=z.transition||{};Y.delay=vJ(Q.enteringChildren,e,F)}}return{animation:V,options:Y}}))}if(f.size){const m={};if(typeof l.initial!="boolean"){const v=wu(e,Array.isArray(l.initial)?l.initial[0]:l.initial);v&&v.transition&&(m.transition=v.transition)}f.forEach(v=>{const E=e.getBaseTarget(v),b=e.getValue(v);b&&(b.liveStyle=!0),m[v]=E!=null?E:null}),d.push({animation:m})}let _=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(d):Promise.resolve()}function a(c,l){var d;if(n[c].isActive===l)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(c,l)}),n[c].isActive=l;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=d2()}}}function rLe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!CJ(t,e):!1}function Qa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d2(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}class Ba{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sLe extends Ba{constructor(t){super(t),t.animationState||(t.animationState=nLe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let iLe=0;class oLe extends Ba{constructor(){super(...arguments),this.id=iLe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const aLe={animation:{Feature:sLe},exit:{Feature:oLe}};function kh(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Kp(e){return{point:{x:e.pageX,y:e.pageY}}}const cLe=e=>t=>WR(t)&&e(t,Kp(t));function Kf(e,t,n,r){return kh(e,t,cLe(n),r)}const SJ=1e-4,lLe=1-SJ,uLe=1+SJ,TJ=.01,dLe=0-TJ,fLe=0+TJ;function hr(e){return e.max-e.min}function hLe(e,t,n){return Math.abs(e-t)<=n}function f2(e,t,n,r=.5){e.origin=r,e.originPoint=Jt(t.min,t.max,e.origin),e.scale=hr(n)/hr(t),e.translate=Jt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=lLe&&e.scale<=uLe||isNaN(e.scale))&&(e.scale=1),(e.translate>=dLe&&e.translate<=fLe||isNaN(e.translate))&&(e.translate=0)}function Jf(e,t,n,r){f2(e.x,t.x,n.x,r?r.originX:void 0),f2(e.y,t.y,n.y,r?r.originY:void 0)}function h2(e,t,n){e.min=n.min+t.min,e.max=e.min+hr(t)}function pLe(e,t,n){h2(e.x,t.x,n.x),h2(e.y,t.y,n.y)}function p2(e,t,n){e.min=t.min-n.min,e.max=e.min+hr(t)}function Xf(e,t,n){p2(e.x,t.x,n.x),p2(e.y,t.y,n.y)}function ls(e){return[e("x"),e("y")]}const OJ=({current:e})=>e?e.ownerDocument.defaultView:null,_2=(e,t)=>Math.abs(e-t);function _Le(e,t){const n=_2(e.x,t.x),r=_2(e.y,t.y);return Math.sqrt(n**2+r**2)}class bJ{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=jb(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=_Le(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:_}=f,{timestamp:m}=Rn;this.history.push(P(S({},_),{timestamp:m}));const{onStart:v,onMove:E}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Gb(h,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:_,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=jb(f.type==="pointercancel"?this.lastMoveEventInfo:Gb(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),_&&_(f,v)},!WR(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Kp(t),c=Gb(a,this.transformPagePoint),{point:l}=c,{timestamp:u}=Rn;this.history=[P(S({},l),{timestamp:u})];const{onSessionStart:d}=n;d&&d(t,jb(c,this.history)),this.removeListeners=qp(Kf(this.contextWindow,"pointermove",this.handlePointerMove),Kf(this.contextWindow,"pointerup",this.handlePointerUp),Kf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ti(this.updatePoint)}}function Gb(e,t){return t?{point:t(e.point)}:e}function m2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jb({point:e},t){return{point:e,delta:m2(e,AJ(t)),offset:m2(e,mLe(t)),velocity:gLe(t,.1)}}function mLe(e){return e[0]}function AJ(e){return e[e.length-1]}function gLe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=AJ(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>qs(t)));)n--;if(!r)return{x:0,y:0};const i=Es(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vLe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Jt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Jt(n,e,r.max):Math.min(e,n)),e}function g2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ELe(e,{top:t,left:n,bottom:r,right:s}){return{x:g2(e.x,n,s),y:g2(e.y,t,r)}}function v2(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function CLe(e,t){return{x:v2(e.x,t.x),y:v2(e.y,t.y)}}function yLe(e,t){let n=.5;const r=hr(e),s=hr(t);return s>r?n=sl(t.min,t.max-r,e.min):r>s&&(n=sl(e.min,e.max-s,t.min)),ei(0,1,n)}function SLe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const bP=.35;function TLe(e=bP){return e===!1?e=0:e===!0&&(e=bP),{x:E2(e,"left","right"),y:E2(e,"top","bottom")}}function E2(e,t,n){return{min:C2(e,t),max:C2(e,n)}}function C2(e,t){return typeof e=="number"?e:e[t]||0}const OLe=new WeakMap;class bLe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Kp(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:_}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yMe(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(v=>{let E=this.getAxisMotionValue(v).get()||0;if(xi.test(E)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[v];C&&(E=hr(C)*(parseFloat(E)/100))}}this.originPoint[v]=E}),_&&Tt.postRender(()=>_(d,f)),TP(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:_,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=ALe(v),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(d,f)},c=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>ls(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bJ(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:OJ(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Tt.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!V_(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vLe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&hu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=ELe(r.layoutBox,t):this.constraints=!1,this.elastic=TLe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ls(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SLe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hu(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=kke(r,s.root,this.visualElement.getTransformPagePoint());let o=CLe(s.layout.layoutBox,i);if(n){const a=n(Rke(o));this.hasMutatedConstraints=!!a,a&&(o=oJ(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=ls(u=>{if(!V_(u,n,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,p=S(S({type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},i),d);return this.startAxisValueAnimation(u,p)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return TP(this.visualElement,t),r.start(tx(t,r,0,n,this.visualElement,!1))}stopAnimation(){ls(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ls(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n="_drag".concat(t.toUpperCase()),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ls(n=>{const{drag:r}=this.getProps();if(!V_(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-Jt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ls(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=yLe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ls(o=>{if(!V_(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(Jt(c,l,s[o]))})}addListeners(){if(!this.visualElement.current)return;OLe.set(this.visualElement,this);const t=this.visualElement.current,n=Kf(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();hu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Tt.read(r);const o=kh(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(ls(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=bP,dragMomentum:a=!0}=t;return P(S({},t),{drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a})}}function V_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ALe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class NLe extends Ba{constructor(t){super(t),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new bLe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const y2=e=>(t,n)=>{e&&Tt.postRender(()=>e(t,n))};class ILe extends Ba{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(t){this.session=new bJ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OJ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:y2(t),onStart:y2(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Tt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Kf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($e.test(e))e=parseFloat(e);else return e;const n=S2(e,t.target.x),r=S2(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},PLe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ba.parse(e);if(s.length>5)return r;const i=ba.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const l=Jt(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=l),typeof s[3+o]=="number"&&(s[3+o]/=l),i(s)}};let Bb=!1;class wLe extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;ike(RLe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Bb&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(P(S({},i.options),{onExitComplete:()=>this.safeToRemove()}))),Rm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Bb=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Tt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$R.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Bb=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NJ(e){const[t,n]=qK(),r=T.useContext(Ah);return g.jsx(wLe,P(S({},e),{layoutGroup:r,switchLayoutGroup:T.useContext(sJ),isPresent:t,safeToRemove:n}))}const RLe={borderRadius:P(S({},tf),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:tf,borderTopRightRadius:tf,borderBottomLeftRadius:tf,borderBottomRightRadius:tf,boxShadow:PLe};function IJ(e,t,n){const r=En(e)?e:Bs(e);return r.start(tx("",r,t,n)),r.animation}const xLe=(e,t)=>e.depth-t.depth;class MLe{constructor(){this.children=[],this.isDirty=!1}add(t){yR(this.children,t),this.isDirty=!0}remove(t){XE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(xLe),this.isDirty=!1,this.children.forEach(t)}}function kLe(e,t){const n=Ar.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ti(r),e(i-t))};return Tt.setup(r,!0),()=>ti(r)}const PJ=["TopLeft","TopRight","BottomLeft","BottomRight"],LLe=PJ.length,T2=e=>typeof e=="string"?parseFloat(e):e,O2=e=>typeof e=="number"||$e.test(e);function DLe(e,t,n,r,s,i){var o,a,c,l;s?(e.opacity=Jt(0,(o=n.opacity)!=null?o:1,ULe(r)),e.opacityExit=Jt((a=t.opacity)!=null?a:1,0,FLe(r))):i&&(e.opacity=Jt((c=t.opacity)!=null?c:1,(l=n.opacity)!=null?l:1,r));for(let u=0;u<LLe;u++){const d="border".concat(PJ[u],"Radius");let f=b2(t,d),h=b2(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||O2(f)===O2(h)?(e[d]=Math.max(Jt(T2(f),T2(h),r),0),(xi.test(h)||xi.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=Jt(t.rotate||0,n.rotate||0,r))}function b2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ULe=wJ(0,.5,oK),FLe=wJ(.5,.95,Pr);function wJ(e,t,n){return r=>r<e?0:r>t?1:n(sl(e,t,r))}function A2(e,t){e.min=t.min,e.max=t.max}function cs(e,t){A2(e.x,t.x),A2(e.y,t.y)}function N2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function I2(e,t,n,r,s){return e-=t,e=Yg(e,1/n,r),s!==void 0&&(e=Yg(e,1/s,r)),e}function GLe(e,t=0,n=1,r=.5,s,i=e,o=e){if(xi.test(t)&&(t=parseFloat(t),t=Jt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Jt(i.min,i.max,r);e===i&&(a-=t),e.min=I2(e.min,t,n,a,s),e.max=I2(e.max,t,n,a,s)}function P2(e,t,[n,r,s],i,o){GLe(e,t[n],t[r],t[s],t.scale,i,o)}const jLe=["x","scaleX","originX"],BLe=["y","scaleY","originY"];function w2(e,t,n,r){P2(e.x,t,jLe,n?n.x:void 0,r?r.x:void 0),P2(e.y,t,BLe,n?n.y:void 0,r?r.y:void 0)}function R2(e){return e.translate===0&&e.scale===1}function RJ(e){return R2(e.x)&&R2(e.y)}function x2(e,t){return e.min===t.min&&e.max===t.max}function HLe(e,t){return x2(e.x,t.x)&&x2(e.y,t.y)}function M2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xJ(e,t){return M2(e.x,t.x)&&M2(e.y,t.y)}function k2(e){return hr(e.x)/hr(e.y)}function L2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $Le{constructor(){this.members=[]}add(t){yR(this.members,t),t.scheduleRender()}remove(t){if(XE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WLe(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r="translate3d(".concat(s,"px, ").concat(i,"px, ").concat(o,"px) ")),(t.x!==1||t.y!==1)&&(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;l&&(r="perspective(".concat(l,"px) ").concat(r)),u&&(r+="rotate(".concat(u,"deg) ")),d&&(r+="rotateX(".concat(d,"deg) ")),f&&(r+="rotateY(".concat(f,"deg) ")),h&&(r+="skewX(".concat(h,"deg) ")),p&&(r+="skewY(".concat(p,"deg) "))}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+="scale(".concat(a,", ").concat(c,")")),r||"none"}const Hb=["","X","Y","Z"],qLe=1e3;let VLe=0;function $b(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function MJ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gJ(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Tt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&MJ(r)}function kJ({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=VLe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KLe),this.nodes.forEach(ZLe),this.nodes.forEach(eDe),this.nodes.forEach(JLe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new MLe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new TR),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ZE(o)&&!WK(o),this.instance=o;const{layoutId:a,layout:c,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{d=window.innerWidth}),e(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,u&&u(),u=kLe(f,250),Rm.hasAnimatedSinceResize&&(Rm.hasAnimatedSinceResize=!1,this.nodes.forEach(F2)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||l.getDefaultTransition()||iDe,{onLayoutAnimationStart:_,onLayoutAnimationComplete:m}=l.getProps(),v=!this.targetLayout||!xJ(this.targetLayout,h),E=!d&&f;if(this.options.layoutRoot||this.resumeFrom||E||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b=P(S({},GR(p,"layout")),{onPlay:_,onComplete:m});(l.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,E)}else d||F2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ti(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tDe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MJ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QLe),this.nodes.forEach(zLe),this.nodes.forEach(YLe)):this.nodes.forEach(U2),this.clearAllSnapshots();const a=Ar.now();Rn.delta=ei(0,1e3/60,a-Rn.timestamp),Rn.timestamp=a,Rn.isProcessing=!0,Rb.update.process(Rn),Rb.preRender.process(Rn),Rb.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$R.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XLe),this.sharedNodes.forEach(nDe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!RJ(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||uc(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),oDe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return sn();const a=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(aDe))){const{scroll:u}=this.root;u&&(pu(a.x,u.offset.x),pu(a.y,u.offset.y))}return a}removeElementScroll(o){var c;const a=sn();if(cs(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&cs(a,o),pu(a.x,d.offset.x),pu(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const c=sn();cs(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_u(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),uc(u.latestValues)&&_u(c,u.latestValues)}return uc(this.latestValues)&&_u(c,this.latestValues),c}removeTransform(o){const a=sn();cs(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!uc(l.latestValues))continue;CP(l.latestValues)&&l.updateSnapshot();const u=sn(),d=l.measurePageBox();cs(u,d),w2(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return uc(this.latestValues)&&w2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options=P(S(S({},this.options),o),{crossfade:o.crossfade!==void 0?o.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Xf(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pLe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cs(this.target,this.layout.layoutBox),cJ(this.target,this.targetDelta)):cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Xf(this.relativeTargetOrigin,this.target,h.target),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||CP(this.parent.latestValues)||aJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(c=!1),c)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;cs(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Mke(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=sn());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N2(this.prevProjectionDelta.x,this.projectionDelta.x),N2(this.prevProjectionDelta.y,this.projectionDelta.y)),Jf(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!L2(this.projectionDelta.x,this.prevProjectionDelta.x)||!L2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mu(),this.projectionDelta=mu(),this.projectionDeltaWithTransform=mu()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u=S({},this.latestValues),d=mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=sn(),h=c?c.source:void 0,p=this.layout?this.layout.source:void 0,_=h!==p,m=this.getStack(),v=!m||m.members.length<=1,E=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(sDe));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const y=C/1e3;G2(d.x,o.x,y),G2(d.y,o.y,y),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rDe(this.relativeTarget,this.relativeTargetOrigin,f,y),b&&HLe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=sn()),cs(b,this.relativeTarget)),_&&(this.animationValues=u,DLe(u,l,this.latestValues,y,E,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(l=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||l.stop(),this.pendingAnimation&&(ti(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Rm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bs(0)),this.currentAnimation=IJ(this.motionValue,[0,1e3],P(S({},o),{velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qLe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&LJ(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||sn();const d=hr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=hr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}cs(a,c),_u(a,u),Jf(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $Le),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&$b("z",o,l,this.animationValues);for(let u=0;u<Hb.length;u++)$b("rotate".concat(Hb[u]),o,l,this.animationValues),$b("skew".concat(Hb[u]),o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}applyProjectionStyles(o,a){var p,_;if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=wm(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=wm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!uc(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=WLe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(d=c(u,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin="".concat(f.origin*100,"% ").concat(h.origin*100,"% 0"),l.animationValues?o.opacity=l===this?(_=(p=u.opacity)!=null?p:this.latestValues.opacity)!=null?_:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in xh){if(u[m]===void 0)continue;const{correct:v,applyTo:E,isCSSVariable:b}=xh[m],C=d==="none"?u[m]:v(u[m],l);if(E){const y=E.length;for(let O=0;O<y;O++)o[E[O]]=C}else b?this.options.visualElement.renderState.vars[m]=C:o[m]=C}this.options.layoutId&&(o.pointerEvents=l===this?wm(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(D2),this.root.sharedNodes.clear()}}}function zLe(e){e.updateLayout()}function YLe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ls(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=hr(f);f.min=r[d].min,f.max=f.min+h}):LJ(i,t.layoutBox,r)&&ls(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=hr(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=mu();Jf(a,r,t.layoutBox);const c=mu();o?Jf(c,e.applyTransform(s,!0),t.measuredBox):Jf(c,r,t.layoutBox);const l=!RJ(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=sn();Xf(p,t.layoutBox,f.layoutBox);const _=sn();Xf(_,r,h.layoutBox),xJ(p,_)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function KLe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function JLe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function XLe(e){e.clearSnapshot()}function D2(e){e.clearMeasurements()}function U2(e){e.isLayoutDirty=!1}function QLe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function F2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ZLe(e){e.resolveTargetDelta()}function eDe(e){e.calcProjection()}function tDe(e){e.resetSkewAndRotation()}function nDe(e){e.removeLeadSnapshot()}function G2(e,t,n){e.translate=Jt(t.translate,0,n),e.scale=Jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function j2(e,t,n,r){e.min=Jt(t.min,n.min,r),e.max=Jt(t.max,n.max,r)}function rDe(e,t,n,r){j2(e.x,t.x,n.x,r),j2(e.y,t.y,n.y,r)}function sDe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iDe={duration:.45,ease:[.4,0,.1,1]},B2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),H2=B2("applewebkit/")&&!B2("chrome/")?Math.round:Pr;function $2(e){e.min=H2(e.min),e.max=H2(e.max)}function oDe(e){$2(e.x),$2(e.y)}function LJ(e,t,n){return e==="position"||e==="preserve-aspect"&&!hLe(k2(t),k2(n),.2)}function aDe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cDe=kJ({attachResizeListener:(e,t)=>kh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wb={current:void 0},DJ=kJ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wb.current){const e=new cDe({});e.mount(window),e.setOptions({layoutScroll:!0}),Wb.current=e}return Wb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lDe={pan:{Feature:ILe},drag:{Feature:NLe,ProjectionNode:DJ,MeasureLayout:NJ}};function W2(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Tt.postRender(()=>i(t,Kp(t)))}class uDe extends Ba{mount(){const{current:t}=this.node;t&&(this.unmount=SMe(t,(n,r)=>(W2(this.node,r,"Start"),s=>W2(this.node,s,"End"))))}unmount(){}}class dDe extends Ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qp(kh(this.node.current,"focus",()=>this.onFocus()),kh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q2(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Tt.postRender(()=>i(t,Kp(t)))}class fDe extends Ba{mount(){const{current:t}=this.node;t&&(this.unmount=AMe(t,(n,r)=>(q2(this.node,r,"Start"),(s,{success:i})=>q2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AP=new WeakMap,qb=new WeakMap,hDe=e=>{const t=AP.get(e.target);t&&t(e)},pDe=e=>{e.forEach(hDe)};function _De(n){var r=n,{root:e}=r,t=B(r,["root"]);const s=e||document;qb.has(s)||qb.set(s,{});const i=qb.get(s),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(pDe,S({root:e},t))),i[o]}function mDe(e,t,n){const r=_De(t);return AP.set(e,n),r.observe(e),()=>{AP.delete(e),r.unobserve(e)}}const gDe={some:0,all:1};class vDe extends Ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:gDe[s]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=l?u:d;f&&f(c)};return mDe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(EDe(t,n))&&this.startObserver()}unmount(){}}function EDe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const CDe={inView:{Feature:vDe},tap:{Feature:fDe},focus:{Feature:dDe},hover:{Feature:uDe}},yDe={layout:{ProjectionNode:DJ,MeasureLayout:NJ}},SDe=S(S(S(S({},aLe),CDe),lDe),yDe),UJ=wke(SDe,Fke);function ZZe(e,t,n){T.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const TDe=50,V2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ODe=()=>({time:0,x:V2(),y:V2()}),bDe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function z2(e,t,n,r){const s=n[t],{length:i,position:o}=bDe[t],a=s.current,c=n.time;s.current=e["scroll".concat(o)],s.scrollLength=e["scroll".concat(i)]-e["client".concat(i)],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=sl(0,s.scrollLength,s.current);const l=r-c;s.velocity=l>TDe?0:OR(s.current-a,l)}function ADe(e,t,n){z2(e,"x",t,n),z2(e,"y",t,n),t.time=n}function NDe(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(HR(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const NP={start:0,center:.5,end:1};function Y2(e,t,n=0){let r=0;if(e in NP&&(e=NP[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?r=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?r=s/100*document.documentElement.clientWidth:e.endsWith("vh")?r=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(r=t*e),n+r}const IDe=[0,0];function PDe(e,t,n,r){let s=Array.isArray(e)?e:IDe,i=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,NP[e]?e:"0"]),i=Y2(s[0],n,r),o=Y2(s[1],t),i-o}const wDe={All:[[0,0],[1,1]]},RDe={x:0,y:0};function xDe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function MDe(e,t,n){const{offset:r=wDe.All}=n,{target:s=e,axis:i="y"}=n,o=i==="y"?"height":"width",a=s!==e?NDe(s,e):RDe,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:xDe(s),l={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let u=!t[i].interpolate;const d=r.length;for(let f=0;f<d;f++){const h=PDe(r[f],l[o],c[o],a[i]);!u&&h!==t[i].interpolatorOffsets[f]&&(u=!0),t[i].offset[f]=h}u&&(t[i].interpolate=MR(t[i].offset,kR(r),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=ei(0,1,t[i].interpolate(t[i].current))}function kDe(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function LDe(e,t,n,r={}){return{measure:s=>{kDe(e,r.target,n),ADe(e,n,s),(r.offset||r.target)&&MDe(e,n,r)},notify:()=>t(n)}}const nf=new WeakMap,K2=new WeakMap,Vb=new WeakMap,J2=e=>e===document.scrollingElement?window:e;function FJ(e,r={}){var s=r,{container:t=document.scrollingElement}=s,n=B(s,["container"]);if(!t)return Pr;let i=Vb.get(t);i||(i=new Set,Vb.set(t,i));const o=ODe(),a=LDe(t,e,o,n);if(i.add(a),!nf.has(t)){const l=()=>{for(const h of i)h.measure(Rn.timestamp);Tt.preUpdate(u)},u=()=>{for(const h of i)h.notify()},d=()=>Tt.read(l);nf.set(t,d);const f=J2(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&K2.set(t,LMe(t,d)),f.addEventListener("scroll",d,{passive:!0}),d()}const c=nf.get(t);return Tt.read(c,!1,!0),()=>{var d;ti(c);const l=Vb.get(t);if(!l||(l.delete(a),l.size))return;const u=nf.get(t);nf.delete(t),u&&(J2(t).removeEventListener("scroll",u),(d=K2.get(t))==null||d(),window.removeEventListener("resize",u))}}const X2=new Map;function DDe(e){const t={value:0},n=FJ(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function GJ(r){var s=r,{source:e,container:t}=s,n=B(s,["source","container"]);var u,d,f,h;const{axis:i}=n;e&&(t=e);const o=(u=X2.get(t))!=null?u:new Map;X2.set(t,o);const a=(d=n.target)!=null?d:"self",c=(f=o.get(a))!=null?f:{},l=i+((h=n.offset)!=null?h:[]).join(",");return c[l]||(c[l]=!n.target&&IK()?new ScrollTimeline({source:t,axis:i}):DDe(S({container:t},n))),c[l]}function UDe(e,t){const n=GJ(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),$K(s=>{r.time=r.iterationDuration*s},n))})}function FDe(e){return e.length===2}function GDe(e,t){return FDe(e)?FJ(n=>{e(n[t.axis].progress,n)},t):$K(e,GJ(t))}function jDe(e,s={}){var i=s,{axis:t="y",container:n=document.scrollingElement}=i,r=B(i,["axis","container"]);if(!n)return Pr;const o=S({axis:t,container:n},r);return typeof e=="function"?GDe(e,o):UDe(e,o)}const BDe=()=>({scrollX:Bs(0),scrollY:Bs(0),scrollXProgress:Bs(0),scrollYProgress:Bs(0)}),z_=e=>e?!e.current:!1;function eet(r={}){var s=r,{container:e,target:t}=s,n=B(s,["container","target"]);const i=El(BDe),o=T.useRef(null),a=T.useRef(!1),c=T.useCallback(()=>(o.current=jDe((l,{x:u,y:d})=>{i.scrollX.set(u.current),i.scrollXProgress.set(u.progress),i.scrollY.set(d.current),i.scrollYProgress.set(d.progress)},P(S({},n),{container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),()=>{var l;(l=o.current)==null||l.call(o)}),[e,t,JSON.stringify(n.offset)]);return Md(()=>{if(a.current=!1,z_(e)||z_(t)){a.current=!0;return}else return c()},[c]),T.useEffect(()=>{if(a.current)return Nh(!z_(e)),Nh(!z_(t)),c()},[c]),i}function jJ(e){const t=El(()=>Bs(e)),{isStatic:n}=T.useContext(Yp);if(n){const[,r]=T.useState(e);T.useEffect(()=>t.on("change",r),[])}return t}function BJ(e,t){const n=jJ(t()),r=()=>n.set(t());return r(),Md(()=>{const s=()=>Tt.preRender(r,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),ti(r)}}),n}function HDe(e){Yf.current=[],e();const t=BJ(Yf.current,e);return Yf.current=void 0,t}function $De(e,t,n,r){if(typeof e=="function")return HDe(e);const s=typeof t=="function"?t:UMe(t,n,r);return Array.isArray(e)?Q2(e,s):Q2([e],([i])=>s(i))}function Q2(e,t){const n=El(()=>[]);return BJ(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function tet(e,t={}){const{isStatic:n}=T.useContext(Yp),r=()=>En(e)?e.get():e;if(n)return $De(r);const s=jJ(r());return T.useInsertionEffect(()=>FMe(s,e,t),[s,JSON.stringify(t)]),s}function net(){!ZR.current&&uJ();const[e]=T.useState(Kg.current);return e}function WDe(e){e.values.forEach(t=>t.stop())}function IP(e,t){[...t].reverse().forEach(r=>{const s=e.getVariant(r);s&&ex(e,s),e.variantChildren&&e.variantChildren.forEach(i=>{IP(i,t)})})}function qDe(e,t){if(Array.isArray(t))return IP(e,t);if(typeof t=="string")return IP(e,[t]);ex(e,t)}function VDe(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const s=[];return e.forEach(i=>{s.push(EJ(i,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return e.forEach(r=>{qDe(r,n)})},stop(){e.forEach(n=>{WDe(n)})},mount(){return()=>{t.stop()}}};return t}function rx(e){return typeof e=="object"&&!Array.isArray(e)}function HJ(e,t,n,r){return typeof e=="string"&&rx(t)?BR(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function zDe(e,t,n){return e*(t+1)}function Z2(e,t,n,r){var s;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):(s=r.get(t))!=null?s:e}function YDe(e,t,n){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<n&&(XE(e,s),r--)}}function KDe(e,t,n,r,s,i){YDe(e,s,i);for(let o=0;o<t.length;o++)e.push({value:t[o],at:Jt(s,i,r[o]),easing:uK(n,o)})}function JDe(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function XDe(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const QDe="easeInOut";function ZDe(e,i={},r,s){var o=i,{defaultTransition:t={}}=o,n=B(o,["defaultTransition"]);const a=t.duration||.3,c=new Map,l=new Map,u={},d=new Map;let f=0,h=0,p=0;for(let _=0;_<e.length;_++){const m=e[_];if(typeof m=="string"){d.set(m,h);continue}else if(!Array.isArray(m)){d.set(m.name,Z2(h,m.at,f,d));continue}let[v,E,b={}]=m;b.at!==void 0&&(h=Z2(h,b.at,f,d));let C=0;const y=(O,A,N,I=0,w=0)=>{const M=eUe(O),J=A,{delay:k=0,times:D=kR(M),type:L="keyframes",repeat:G,repeatType:K,repeatDelay:V=0}=J,Y=B(J,["delay","times","type","repeat","repeatType","repeatDelay"]);let{ease:Q=t.ease||"easeOut",duration:z}=A;const F=typeof k=="function"?k(I,w):k,Te=M.length,fe=FR(L)?L:s==null?void 0:s[L||"keyframes"];if(Te<=2&&fe){let Z=100;if(Te===2&&rUe(M)){const Ie=M[1]-M[0];Z=Math.abs(Ie)}const ye=S({},Y);z!==void 0&&(ye.duration=qs(z));const me=SK(ye,Z,fe);Q=me.ease,z=me.duration}z!=null||(z=a);const $=h+F;D.length===1&&D[0]===0&&(D[1]=1);const W=D.length-M.length;if(W>0&&OK(D,W),M.length===1&&M.unshift(null),G){z=zDe(z,G);const Z=[...M],ye=[...D];Q=Array.isArray(Q)?[...Q]:[Q];const me=[...Q];for(let Ie=0;Ie<G;Ie++){M.push(...Z);for(let Ce=0;Ce<Z.length;Ce++)D.push(ye[Ce]+(Ie+1)),Q.push(Ce===0?"linear":uK(me,Ce-1))}JDe(D,G)}const ee=$+z;KDe(N,M,Q,D,$,ee),C=Math.max(F+z,C),p=Math.max(ee,p)};if(En(v)){const O=e4(v,l);y(E,b,t4("default",O))}else{const O=HJ(v,E,r,u),A=O.length;for(let N=0;N<A;N++){E=E,b=b;const I=O[N],w=e4(I,l);for(const M in E)y(E[M],tUe(b,M),t4(M,w),N,A)}}f=h,h+=C}return l.forEach((_,m)=>{for(const v in _){const E=_[v];E.sort(XDe);const b=[],C=[],y=[];for(let A=0;A<E.length;A++){const{at:N,value:I,easing:w}=E[A];b.push(I),C.push(sl(0,p,N)),y.push(w||"easeOut")}C[0]!==0&&(C.unshift(0),b.unshift(b[0]),y.unshift(QDe)),C[C.length-1]!==1&&(C.push(1),b.push(null)),c.has(m)||c.set(m,{keyframes:{},transition:{}});const O=c.get(m);O.keyframes[v]=b,O.transition[v]=S(P(S({},t),{duration:p,ease:y,times:C}),n)}}),c}function e4(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function t4(e,t){return t[e]||(t[e]=[]),t[e]}function eUe(e){return Array.isArray(e)?e:[e]}function tUe(e,t){return e&&e[t]?S(S({},e),e[t]):S({},e)}const nUe=e=>typeof e=="number",rUe=e=>e.every(nUe);function sUe(e,t){return e in t}class iUe extends dJ{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(sUe(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return sn()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function oUe(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ZE(e)&&!WK(e)?new mJ(t):new pJ(t);n.mount(e),Mh.set(e,n)}function aUe(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new iUe(t);n.mount(e),Mh.set(e,n)}function cUe(e,t){return En(e)||typeof e=="number"||typeof e=="string"&&!rx(t)}function $J(e,t,n,r){const s=[];if(cUe(e,t))s.push(IJ(e,rx(t)&&t.default||t,n&&(n.default||n)));else{const i=HJ(e,t,r),o=i.length;for(let a=0;a<o;a++){const c=i[a],l=c instanceof Element?oUe:aUe;Mh.has(c)||l(c);const u=Mh.get(c),d=S({},n);"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(a,o)),s.push(...nx(u,P(S({},t),{transition:d}),{}))}}return s}function lUe(e,t,n){const r=[];return ZDe(e,t,n,{spring:wh}).forEach(({keyframes:i,transition:o},a)=>{r.push(...$J(a,i,o))}),r}function uUe(e){return Array.isArray(e)&&e.some(Array.isArray)}function dUe(e){function t(n,r,s){let i=[],o;if(uUe(n))i=lUe(n,r,e);else{const c=s||{},{onComplete:l}=c,u=B(c,["onComplete"]);typeof l=="function"&&(o=l),i=$J(n,r,u,e)}const a=new oMe(i);return o&&a.finished.then(o),a}return t}const ret=dUe();function fUe(){const e=El(VDe);return Md(e.mount,[]),e}const set=fUe;var xm={exports:{}},hUe=xm.exports,n4;function pUe(){return n4||(n4=1,(function(e){(function(t,n,r){function s(c){var l=this,u=a();l.next=function(){var d=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=d|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(c),l.s0<0&&(l.s0+=1),l.s1-=u(c),l.s1<0&&(l.s1+=1),l.s2-=u(c),l.s2<0&&(l.s2+=1),u=null}function i(c,l){return l.c=c.c,l.s0=c.s0,l.s1=c.s1,l.s2=c.s2,l}function o(c,l){var u=new s(c),d=l&&l.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}function a(){var c=4022871197,l=function(u){u=String(u);for(var d=0;d<u.length;d++){c+=u.charCodeAt(d);var f=.02519603282416938*c;c=f>>>0,f-=c,f*=c,c=f>>>0,f-=c,c+=f*4294967296}return(c>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=o:this.alea=o})(hUe,e)})(xm)),xm.exports}var Mm={exports:{}},_Ue=Mm.exports,r4;function mUe(){return r4||(r4=1,(function(e){(function(t,n,r){function s(a){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var d=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^d^d>>>8},a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,c.next()}function i(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c}function o(a,c){var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xor128=o})(_Ue,e)})(Mm)),Mm.exports}var km={exports:{}},gUe=km.exports,s4;function vUe(){return s4||(s4=1,(function(e){(function(t,n,r){function s(a){var c=this,l="";c.next=function(){var d=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(d^d<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,u==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c.v=a.v,c.d=a.d,c}function o(a,c){var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xorwow=o})(gUe,e)})(km)),km.exports}var Lm={exports:{}},EUe=Lm.exports,i4;function CUe(){return i4||(i4=1,(function(e){(function(t,n,r){function s(a){var c=this;c.next=function(){var u=c.x,d=c.i,f,h;return f=u[d],f^=f>>>7,h=f^f<<24,f=u[d+1&7],h^=f^f>>>10,f=u[d+3&7],h^=f^f>>>3,f=u[d+4&7],h^=f^f<<7,f=u[d+7&7],f=f^f<<13,h^=f^f<<9,u[d]=h,c.i=d+1&7,h};function l(u,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}l(c,a)}function i(a,c){return c.x=a.x.slice(),c.i=a.i,c}function o(a,c){a==null&&(a=+new Date);var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(u.x&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xorshift7=o})(EUe,e)})(Lm)),Lm.exports}var Dm={exports:{}},yUe=Dm.exports,o4;function SUe(){return o4||(o4=1,(function(e){(function(t,n,r){function s(a){var c=this;c.next=function(){var u=c.w,d=c.X,f=c.i,h,p;return c.w=u=u+1640531527|0,p=d[f+34&127],h=d[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=d[f]=p^h,c.i=f,p+(u^u>>>16)|0};function l(u,d){var f,h,p,_,m,v=[],E=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,E=Math.max(E,d.length)),p=0,_=-32;_<E;++_)d&&(h^=d.charCodeAt((_+32)%d.length)),_===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,_>=0&&(m=m+1640531527|0,f=v[_&127]^=h+m,p=f==0?p+1:0);for(p>=128&&(v[(d&&d.length||0)&127]=-1),p=127,_=512;_>0;--_)h=v[p+34&127],f=v[p=p+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,v[p]=h^f;u.w=m,u.X=v,u.i=p}l(c,a)}function i(a,c){return c.i=a.i,c.w=a.w,c.X=a.X.slice(),c}function o(a,c){a==null&&(a=+new Date);var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(u.X&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xor4096=o})(yUe,e)})(Dm)),Dm.exports}var Um={exports:{}},TUe=Um.exports,a4;function OUe(){return a4||(a4=1,(function(e){(function(t,n,r){function s(a){var c=this,l="";c.next=function(){var d=c.b,f=c.c,h=c.d,p=c.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^p,p=p-d|0,c.b=d=d<<20^d>>>12^f,c.c=f=f-h|0,c.d=h<<16^f>>>16^p,c.a=p-d|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,a===Math.floor(a)?(c.a=a/4294967296|0,c.b=a|0):l+=a;for(var u=0;u<l.length+20;u++)c.b^=l.charCodeAt(u)|0,c.next()}function i(a,c){return c.a=a.a,c.b=a.b,c.c=a.c,c.d=a.d,c}function o(a,c){var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.tychei=o})(TUe,e)})(Um)),Um.exports}var Fm={exports:{}};const bUe={},AUe=Object.freeze(Object.defineProperty({__proto__:null,default:bUe},Symbol.toStringTag,{value:"Module"})),NUe=Mee(AUe);var IUe=Fm.exports,c4;function PUe(){return c4||(c4=1,(function(e){(function(t,n,r){var s=256,i=6,o=52,a="random",c=r.pow(s,i),l=r.pow(2,o),u=l*2,d=s-1,f;function h(C,y,O){var A=[];y=y==!0?{entropy:!0}:y||{};var N=v(m(y.entropy?[C,b(n)]:C==null?E():C,3),A),I=new p(A),w=function(){for(var M=I.g(i),k=c,D=0;M<l;)M=(M+D)*s,k*=s,D=I.g(1);for(;M>=u;)M/=2,k/=2,D>>>=1;return(M+D)/k};return w.int32=function(){return I.g(4)|0},w.quick=function(){return I.g(4)/4294967296},w.double=w,v(b(I.S),n),(y.pass||O||function(M,k,D,L){return L&&(L.S&&_(L,I),M.state=function(){return _(I,{})}),D?(r[a]=M,k):M})(w,N,"global"in y?y.global:this==r,y.state)}function p(C){var y,O=C.length,A=this,N=0,I=A.i=A.j=0,w=A.S=[];for(O||(C=[O++]);N<s;)w[N]=N++;for(N=0;N<s;N++)w[N]=w[I=d&I+C[N%O]+(y=w[N])],w[I]=y;(A.g=function(M){for(var k,D=0,L=A.i,G=A.j,K=A.S;M--;)k=K[L=d&L+1],D=D*s+K[d&(K[L]=K[G=d&G+k])+(K[G]=k)];return A.i=L,A.j=G,D})(s)}function _(C,y){return y.i=C.i,y.j=C.j,y.S=C.S.slice(),y}function m(C,y){var O=[],A=typeof C,N;if(y&&A=="object")for(N in C)try{O.push(m(C[N],y-1))}catch(I){}return O.length?O:A=="string"?C:C+"\0"}function v(C,y){for(var O=C+"",A,N=0;N<O.length;)y[d&N]=d&(A^=y[d&N]*19)+O.charCodeAt(N++);return b(y)}function E(){try{var C;return f&&(C=f.randomBytes)?C=C(s):(C=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(C)),b(C)}catch(A){var y=t.navigator,O=y&&y.plugins;return[+new Date,t,O,t.screen,b(n)]}}function b(C){return String.fromCharCode.apply(0,C)}if(v(r.random(),n),e.exports){e.exports=h;try{f=NUe}catch(C){}}else r["seed"+a]=h})(typeof self<"u"?self:IUe,[],Math)})(Fm)),Fm.exports}var zb,l4;function wUe(){if(l4)return zb;l4=1;var e=pUe(),t=mUe(),n=vUe(),r=CUe(),s=SUe(),i=OUe(),o=PUe();return o.alea=e,o.xor128=t,o.xorwow=n,o.xorshift7=r,o.xor4096=s,o.tychei=i,zb=o,zb}var RUe=wUe();const xUe=jt(RUe);function MUe(e){"use forget";const t=j.c(10),{lines:n,variance:r,size:s,width:i,widthVariance:o,delay:a,className:c}=e,l=n===void 0?1:n,u=r===void 0?0:r,d=s===void 0?"base":s,f=i===void 0?50:i,h=o===void 0?50:o,p=a===void 0?0:a;let _;if(t[0]!==c||t[1]!==p||t[2]!==l||t[3]!==d||t[4]!==u||t[5]!==f||t[6]!==h){const v=WJ(Math.min(l,100),f,h,u);let E="";e:switch(d){case"sm":{E="h-3 mb-2 mt-0.5";break e}case"base":{E="h-4 my-2";break e}case"lg":{E="h-5 my-2";break e}case"xl":E="h-6 my-2"}_=v.map((b,C)=>g.jsx("div",{className:oe("bg-token-sidebar-surface-secondary dark:bg-token-border-default relative w-full overflow-hidden rounded-md",E,c),style:{width:"".concat(b,"%")},children:g.jsx(UJ.div,{className:"absolute start-0 top-0 h-full w-full bg-linear-45 from-transparent via-black/8 to-transparent opacity-50 dark:via-white/5",initial:{x:"-100%",opacity:1},animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+C,delay:C*.07+p}}})},C)),t[0]=c,t[1]=p,t[2]=l,t[3]=d,t[4]=u,t[5]=f,t[6]=h,t[7]=_}else _=t[7];let m;return t[8]!==_?(m=g.jsx(g.Fragment,{children:_}),t[8]=_,t[9]=m):m=t[9],m}function iet({lines:e=1,indexOffset:t=0,variance:n=0,width:r=50,widthVariance:s=50,gapFrequency:i=0,scaleUpAnimation:o,className:a,heightSize:c,delay:l}){const u=T.useMemo(()=>WJ(e,r,s,n),[e,n,r,s]);return g.jsx(kUe,{className:a,children:u.map((d,f)=>g.jsx(DUe,{index:f+t,width:d,className:oe(i>0&&(f+1)%i===0&&"mb-snc-1"),heightSize:c,customAnimation:o?{initial:{scaleX:o.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:o.duration,ease:"easeInOut",delay:f*.07+(l!=null?l:0)}}}:void 0},f))})}var LH;const kUe=Da.div(LH||(LH=$i(["flex flex-col items-start gap-2"]))),LUe={sm:"h-3.5",md:"h-5",lg:"h-6"};function DUe({index:e,width:t,className:n,customAnimation:r,heightSize:s="md"}){const{initial:i,animate:o,transition:a}=r!=null?r:{initial:{},animate:{},transition:{}};return g.jsx(UJ.div,{className:oe(LUe[s],"bg-token-border-default origin-start rounded-md dark:bg-white/10",n),style:{width:"".concat(t,"%")},initial:S({opacity:1},i),animate:S({opacity:[1,.4]},o),transition:S({opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:e*.07}},a)})}function WJ(e,t,n,r){const s=xUe([e,t,n,r].join("-"));return Array.from({length:e+Math.round(s()*(r!=null?r:0))},()=>t+s()*n)}const rC=e=>{"use forget";var b;const t=j.c(25);let n,r,s,i,o,a,c;t[0]!==e?(b=e,{onIntent:s,onClick:r,bg:a,className:n,iconSize:c,ref:i}=b,o=B(b,["onIntent","onClick","bg","className","iconSize","ref"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7]);const l=a===void 0?"transparent":a,u=c===void 0?"md":c,d=vt(),f=l==="transparent"?"hover:bg-token-surface-hover dark:hover:bg-token-main-surface-tertiary keyboard-focused:bg-token-surface-hover bg-transparent":"bg-token-bg-primary hover:bg-token-bg-primary/80 dark:hover:bg-token-main-surface-secondary keyboard-focused:bg-token-bg-primary/80";let h;t[8]!==n||t[9]!==f?(h=oe("flex h-9 w-9 items-center justify-center rounded-lg",f,n),t[8]=n,t[9]=f,t[10]=h):h=t[10];let p;t[11]!==d?(p=d.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),t[11]=d,t[12]=p):p=t[12];const _=u==="lg"?"icon-lg":"icon";let m;t[13]!==_?(m=g.jsx(B9,{className:_}),t[13]=_,t[14]=m):m=t[14];let v;t[15]!==r||t[16]!==i||t[17]!==o||t[18]!==h||t[19]!==p||t[20]!==m?(v=g.jsx("button",P(S({"data-testid":"close-button",ref:i,onClick:r,className:h,"aria-label":p},o),{children:m})),t[15]=r,t[16]=i,t[17]=o,t[18]=h,t[19]=p,t[20]=m,t[21]=v):v=t[21];let E;return t[22]!==s||t[23]!==v?(E=g.jsx(Vu,{onIntent:s,children:v}),t[22]=s,t[23]=v,t[24]=E):E=t[24],E};rC.displayName="CloseButton";function UUe(){}const FUe=()=>{"use forget";const e=j.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=g.jsx("p",{className:"text-token-text-primary text-base font-semibold",children:"ChatGPT"}),e[0]=t):t=e[0];let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=g.jsx("div",{className:"content-sheet:content-sheet-inset-section pt-1!",children:g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t,g.jsx(so.Trigger,{action:"dismiss",asChild:!0,children:g.jsx(rC,{type:"button",className:"bg-token-bg-tertiary text-token-text-primary h-[1lh]! w-[1lh]! shrink-0 rounded-full",onClick:UUe})})]})}),e[1]=n):n=e[1],n},GUe=(e,t)=>(i=>{var o=i,{as:r}=o,s=B(o,["as"]);const a=r||e;return t(g.jsx(a,S({},s)))}),PP="__sheetHistory__";let jUe=0;function qJ(e){if(typeof e!="object"||e===null||!Reflect.get(e,PP))return;const t=Reflect.get(e,"id");if(typeof t!="string")return;const n=Reflect.get(e,"name"),r=Reflect.get(e,"url");return{[PP]:!0,id:t,name:typeof n=="string"?n:void 0,url:typeof r=="string"?r:void 0}}function BUe(e){return qJ(e.state)}function HUe({currentUrl:e,navigate:t,onPresentedChange:n,name:r,url:s,onHistoryPop:i}){if(!r&&!s)throw new Error("createHistoryPopEffect requires either a name or a url to be provided");const o={[PP]:!0,id:"sheet-history-".concat(jUe++),name:r,url:s};t(s!=null?s:e,{state:o});let a=!0,c;const l=()=>{c&&(c(),c=void 0)};if("navigation"in window&&window.navigation){const f=window.navigation,h=p=>{var v,E;if(!a||p.navigationType!=="traverse"||p.canIntercept!==!0||typeof p.intercept!="function")return;const _=(E=(v=f.currentEntry)==null?void 0:v.getState)==null?void 0:E.call(v),m=qJ(_);!m||m.id!==o.id||p.intercept({scroll:"manual",handler:()=>{a&&(l(),a=!1,n(!1),i==null||i())}})};f.addEventListener("navigate",h),c=()=>{f.removeEventListener("navigate",h)}}if("CloseWatcher"in window){const f=new window.CloseWatcher;f.onclose=h=>{h.preventDefault(),l(),a=!1,n(!1),i==null||i()}}const u=ga(()=>ER(),f=>{if(!a||f.length===0||f[f.length-1].action!=="POP")return;let p;for(let _=f.length-1;_>=0;_-=1){const m=BUe(f[_].location);if(m){p=m;break}}!p||p.id!==o.id||(a=!1,l(),n(!1),i==null||i())});return()=>{l(),u(),a&&(a=!1,t(-1))}}function $Ue(e){const t=T.useRef(e);return T.useInsertionEffect(()=>{t.current=e},[e]),T.useMemo(()=>((...n)=>{uv()&&WUe();const{current:r}=t;return r(...n)}),[])}function WUe(){throw new Error("A function wrapped in useStableCallback can't be called during rendering.")}const VJ=ot(()=>({anySheetOpen$:X(!1)}));function qUe(e){"use forget";var N;const t=j.c(35);let n,r,s,i,o,a,c,l;t[0]!==e?(N=e,{children:n,behavior:l,sheetName:o,sheetUrl:c,onHistoryPop:r,onPresentedChange:s,presented:i}=N,a=B(N,["children","behavior","sheetName","sheetUrl","onHistoryPop","onPresentedChange","presented"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c,t[8]=l):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8]);const u=l===void 0?"default":l,d=bo(),f=dn(),h=T.useRef(!1),p=T.useRef(null);let _,m;t[9]!==i?(_=()=>{var I;i||((I=p.current)==null||I.call(p),p.current=null)},m=[i],t[9]=i,t[10]=_,t[11]=m):(_=t[10],m=t[11]),T.useEffect(_,m);let v;t[12]!==s?(v=I=>{var w;VJ().anySheetOpen$.set(I),s==null||s(I),I||((w=p.current)==null||w.call(p),p.current=null)},t[12]=s,t[13]=v):v=t[13];const E=$Ue(v);let b;t[14]!==f.hash||t[15]!==f.pathname||t[16]!==f.search||t[17]!==d||t[18]!==r||t[19]!==E||t[20]!==o||t[21]!==c?(b=()=>HUe({navigate:d,currentUrl:"".concat(f.pathname).concat(f.search).concat(f.hash),onPresentedChange:E,name:o,url:c,onHistoryPop:r}),t[14]=f.hash,t[15]=f.pathname,t[16]=f.search,t[17]=d,t[18]=r,t[19]=E,t[20]=o,t[21]=c,t[22]=b):b=t[22];const C=T.useEffectEvent(b);let y;t[23]!==u||t[24]!==C||t[25]!==i?(y=()=>{if(!(u!=="history"||p.current)){if(i==null){h.current;return}i&&(p.current=C())}},t[23]=u,t[24]=C,t[25]=i,t[26]=y):y=t[26];let O;t[27]!==u||t[28]!==i?(O=[u,i],t[27]=u,t[28]=i,t[29]=O):O=t[29],T.useEffect(y,O);let A;return t[30]!==n||t[31]!==E||t[32]!==i||t[33]!==a?(A=g.jsx(so.Root,P(S({license:"commercial","data-content-sheet-root":!0},a),{presented:i,onPresentedChange:E,children:n})),t[30]=n,t[31]=E,t[32]=i,t[33]=a,t[34]=A):A=t[34],A}function VUe(e){"use forget";var O;const t=j.c(22);let n,r,s,i,o,a;t[0]!==e?(O=e,{children:n,className:r,nativeEdgeSwipePrevention:a,onTravel:i,onCloseComplete:s}=O,o=B(O,["children","className","nativeEdgeSwipePrevention","onTravel","onCloseComplete"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6]);const c=a===void 0?!1:a,l=T.useRef(null),d=Le(PE)?"center":"bottom",[f,h]=T.useState(null);let p;t[7]===Symbol.for("react.memo_cache_sentinel")?(p=VJ(),t[7]=p):p=t[7];const _=p,m=T.useRef(0);let v;t[8]!==s||t[9]!==i?(v=A=>{const w=A,{progress:N}=w,I=B(w,["progress"]);if(!l.current)return i==null?void 0:i(S({progress:N},I));N===0&&m.current>0?(_.anySheetOpen$.set(!1),s==null||s()):N<.999?h(null):(_.anySheetOpen$.set(!0),h("opened")),m.current=N,i==null||i(S({progress:N},I))},t[8]=s,t[9]=i,t[10]=v):v=t[10];const E=v;let b;t[11]!==r?(b=oe("top-0 bottom-[initial] h-[max(100dvh,100%)] [--sheet-radius-amount:16px] sm:h-full",r),t[11]=r,t[12]=b):b=t[12];let C;t[13]===Symbol.for("react.memo_cache_sentinel")?(C={focus:!1},t[13]=C):C=t[13];let y;return t[14]!==n||t[15]!==d||t[16]!==c||t[17]!==o||t[18]!==b||t[19]!==E||t[20]!==f?(y=g.jsx(so.View,P(S({className:b,"data-sheet-travel-state":f,"data-ignore-for-page-load":!0,contentPlacement:d,tracks:"bottom",swipeOvershoot:!1,nativeEdgeSwipePrevention:c,onTravel:E,onDismissAutoFocus:C,ref:l},o),{children:n})),t[14]=n,t[15]=d,t[16]=c,t[17]=o,t[18]=b,t[19]=E,t[20]=f,t[21]=y):y=t[21],y}function zUe(e){"use forget";const t=j.c(2),n=T.useRef(null);let r;return t[0]!==e?(r=g.jsx(so.Backdrop,S({ref:n},e)),t[0]=e,t[1]=r):r=t[1],r}const YUe={normal:"max-h-[calc(100%-max(env(safe-area-inset-top),6px))]",large:"max-h-[calc(100%-max(env(safe-area-inset-top),36px))]",xlarge:"max-h-[calc(100%-max(env(safe-area-inset-top),56px))]"};function KUe(e){"use forget";var I;const t=j.c(31);let n,r,s,i,o,a,c,l;t[0]!==e?(I=e,{children:r,canBounce:n,hasBounced$:i,size:c,className:s,ref:o,topMargin:l}=I,a=B(I,["children","canBounce","hasBounced$","size","className","ref","topMargin"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c,t[8]=l):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8]);const u=c===void 0?"fill":c,d=l===void 0?"normal":l;let f;t[9]!==i?(f=()=>{var w;return(w=i==null?void 0:i())!=null?w:!1},t[9]=i,t[10]=f):f=t[10];const h=Le(f),p=YUe[d],_=u!=="fullscreen"&&"max-w-md max-sm:[--sheet-radius:var(--sheet-radius-amount)_var(--sheet-radius-amount)_0_0] sm:w-[calc(800px-1.25rem)]",m=u==="fit"&&"h-min ".concat(p),v=u==="fill"&&"h-[calc(100svh-max(env(safe-area-inset-bottom),6px))] sm:h-[calc(100svh-4rem)]",E=u==="fullscreen"&&"h-[calc(100svh-max(env(safe-area-inset-bottom),0px))]",b=u!=="fullscreen"&&"rounded-(--sheet-radius,var(--sheet-radius-amount))",C=n?h?"peek-top-end-animation":"peek-top-animation":void 0;let y;t[11]!==s||t[12]!==_||t[13]!==m||t[14]!==v||t[15]!==E||t[16]!==b||t[17]!==C?(y=oe("sm:shadow-long pb-4 focus:outline-hidden",_,m,v,E,b,C,s),t[11]=s,t[12]=_,t[13]=m,t[14]=v,t[15]=E,t[16]=b,t[17]=C,t[18]=y):y=t[18];let O;t[19]!==n||t[20]!==i?(O=()=>{n&&i&&i.set(!0)},t[19]=n,t[20]=i,t[21]=O):O=t[21];let A;t[22]!==i?(A=()=>{i==null||i.set(!0)},t[22]=i,t[23]=A):A=t[23];let N;return t[24]!==r||t[25]!==o||t[26]!==a||t[27]!==O||t[28]!==A||t[29]!==y?(N=g.jsx(so.Content,P(S({className:y,onPointerDown:O,onAnimationEnd:A},a),{ref:o,children:r})),t[24]=r,t[25]=o,t[26]=a,t[27]=O,t[28]=A,t[29]=y,t[30]=N):N=t[30],N}const Mi={Root:qUe,Portal:so.Portal,View:VUe,Backdrop:zUe,Content:KUe,Trigger:so.Trigger,Handle:so.Handle,Title:so.Title};function JUe(e){"use forget";var c;const t=j.c(12);let n,r,s;t[0]!==e?(c=e,{children:n,className:r}=c,s=B(c,["children","className"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s):(n=t[1],r=t[2],s=t[3]);let i;t[4]!==r?(i=oe("min-h-0",r),t[4]=r,t[5]=i):i=t[5];let o;t[6]!==n?(o=g.jsx(Pb.Content,{className:"align-content-start grid",tabIndex:-1,children:n}),t[6]=n,t[7]=o):o=t[7];let a;return t[8]!==s||t[9]!==i||t[10]!==o?(a=g.jsx(Pb.Root,{asChild:!0,children:g.jsx(Pb.View,P(S({className:i,safeArea:"visual-viewport",scrollTimelineName:"--sheet-scroller"},s),{children:o}))}),t[8]=s,t[9]=i,t[10]=o,t[11]=a):a=t[11],a}function XUe(e){"use forget";var m;const t=j.c(22);let n,r,s,i,o,a;t[0]!==e?(m=e,{className:r,children:n,handle:i,showHeader:o,topMargin:a}=m,s=B(m,["className","children","handle","showHeader","topMargin"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6]);const c=i===void 0?"auto":i,l=o===void 0?!1:o,u=c===!0&&"grid-rows-[min-content_min-content_1fr_min-content]",d=c==="auto"&&"max-sm:grid-rows-[min-content_min-content_1fr_min-content]";let f;t[7]!==r||t[8]!==u||t[9]!==d?(f=oe("bg-token-bg-primary content-sheet popup @container/sheet-content grid grid-rows-[min-content_1fr_min-content] [--padding:1rem]",u,d,r),t[7]=r,t[8]=u,t[9]=d,t[10]=f):f=t[10];let h;t[11]!==c?(h=c!==!1&&g.jsx(cRe.Root,{timing:"present",className:oe("flex justify-center focus-visible:outline-none",c==="auto"&&"sm:hidden"),children:g.jsx(QUe,{})}),t[11]=c,t[12]=h):h=t[12];let p;t[13]!==l?(p=l&&g.jsx(FUe,{}),t[13]=l,t[14]=p):p=t[14];let _;return t[15]!==n||t[16]!==s||t[17]!==f||t[18]!==h||t[19]!==p||t[20]!==a?(_=g.jsxs(Mi.Content,P(S({className:f,topMargin:a},s),{children:[h,p,n]})),t[15]=n,t[16]=s,t[17]=f,t[18]=h,t[19]=p,t[20]=a,t[21]=_):_=t[21],_}function QUe(e){"use forget";var o;const t=j.c(8);let n,r;t[0]!==e?(o=e,{className:n}=o,r=B(o,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s;t[3]!==n?(s=oe("bg-token-bg-secondary! dark:bg-token-bg-tertiary! col-start-1 col-end-[-1] mt-1.5 h-1 self-start justify-self-center rounded-full select-none",n),t[3]=n,t[4]=s):s=t[4];let i;return t[5]!==r||t[6]!==s?(i=g.jsx(Mi.Handle,S({className:s},r)),t[5]=r,t[6]=s,t[7]=i):i=t[7],i}function ZUe(e){"use forget";const t=j.c(8);let n,r,s;if(t[0]!==e){const o=e,{children:a}=o,c=B(o,["children"]);n=a,r=c,s=oe("min-h-header-height relative grid grid-cols-[1fr_min-content] items-center justify-between gap-3 py-2.5 ps-4 pe-2 select-none",c.className),t[0]=e,t[1]=n,t[2]=r,t[3]=s}else n=t[1],r=t[2],s=t[3];let i;return t[4]!==n||t[5]!==r||t[6]!==s?(i=g.jsx("header",P(S({},r),{className:s,children:n})),t[4]=n,t[5]=r,t[6]=s,t[7]=i):i=t[7],i}function eFe(e){"use forget";const t=j.c(5);let n;t[0]!==e.className?(n=oe("text-token-text-primary m-0 w-full min-w-0 overflow-hidden text-lg font-normal overflow-ellipsis whitespace-nowrap [text-box-trim:trim-both]",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=g.jsx(Mi.Title,P(S({},e),{className:n})),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}function tFe(e){"use forget";const t=j.c(5);let n;t[0]!==e.className?(n=oe("z-10 grid grid-flow-col justify-end gap-3 px-[var(--padding)] pt-4",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=g.jsx("footer",P(S({},e),{className:n})),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}function nFe(e){"use forget";var o;const t=j.c(8);let n,r;t[0]!==e?(o=e,{className:n}=o,r=B(o,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s;t[3]!==n?(s=oe("w-fit",n),t[3]=n,t[4]=s):s=t[4];let i;return t[5]!==r||t[6]!==s?(i=g.jsx(Mi.Trigger,{action:"dismiss",asChild:!0,children:g.jsx(li,S({className:s},r))}),t[5]=r,t[6]=s,t[7]=i):i=t[7],i}function rFe(e){"use forget";const t=j.c(2);let n;return t[0]!==e?(n=g.jsx(nFe,S({color:"secondary"},e)),t[0]=e,t[1]=n):n=t[1],n}const sFe=GUe(li,e=>g.jsx(Mi.Trigger,{action:"dismiss",asChild:!0,children:e}));function iFe(e){"use forget";var l;const t=j.c(12);let n,r,s,i;t[0]!==e?(l=e,{fullBleed:s,className:r,children:n}=l,i=B(l,["fullBleed","className","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i):(n=t[1],r=t[2],s=t[3],i=t[4]);const o=!s&&"px-(--thread-content-margin)";let a;t[5]!==r||t[6]!==o?(a=oe(o,r),t[5]=r,t[6]=o,t[7]=a):a=t[7];let c;return t[8]!==n||t[9]!==i||t[10]!==a?(c=g.jsx("section",P(S({"data-content-sheet-section":!0,className:a},i),{children:n})),t[8]=n,t[9]=i,t[10]=a,t[11]=c):c=t[11],c}function oFe(e){"use forget";var u;const t=j.c(11);let n,r,s;t[0]!==e?(u=e,{children:n,springPreset:s}=u,r=B(u,["children","springPreset"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s):(n=t[1],r=t[2],s=t[3]);const i=s===void 0?"brisk":s,o=Le(aFe);let a;t[4]!==o||t[5]!==i?(a={preset:i,skip:o},t[4]=o,t[5]=i,t[6]=a):a=t[6];const c=a;let l;return t[7]!==c||t[8]!==n||t[9]!==r?(l=g.jsx(Mi.View,P(S({enteringAnimationSettings:c,exitingAnimationSettings:c},r),{children:n})),t[7]=c,t[8]=n,t[9]=r,t[10]=l):l=t[10],l}function aFe(){return x7()||PE()}function cFe(e){"use forget";var a;const t=j.c(9);let n,r;t[0]!==e?(a=e,{className:n}=a,r=B(a,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={opacity:[0,1]},t[3]=s):s=t[3];let i;t[4]!==n?(i=oe("sm:starting:backdrop-blur-0 bg-black/30 sm:bg-gray-200/50 sm:backdrop-blur-[1px] not-motion-reduce:sm:transition not-motion-reduce:sm:duration-250 sm:starting:opacity-0",n),t[4]=n,t[5]=i):i=t[5];let o;return t[6]!==r||t[7]!==i?(o=g.jsx(Mi.Backdrop,S({themeColorDimming:!1,travelAnimation:s,className:i},r)),t[6]=r,t[7]=i,t[8]=o):o=t[8],o}const Ci={Root:Mi.Root,Trigger:Mi.Trigger,Portal:Mi.Portal,View:oFe,Backdrop:cFe,Content:XUe,HeaderBar:ZUe,Title:eFe,FooterBar:tFe,SecondaryAction:rFe,DismissAction:sFe,ScrollRoot:JUe,ContentSection:iFe},lFe=Ee(_t,"62f600",20,20),zJ=Ee(_t,"249d41",16,16),uFe=Ee(_t,"08238c",20,20),dFe={threshold:1,rootMargin:"0%"};function YJ({target:e,onChange:t,options:n=dFe}){if(!e)return;const r=new IntersectionObserver(i=>{const o=Array.isArray(r.thresholds)?r.thresholds:[r.thresholds];i.forEach(a=>{const c=a.isIntersecting&&o.some(l=>a.intersectionRatio>=l);t(c,a)})},n);function s(){r.disconnect()}return r.observe(e),s}function oet(e){return t=>YJ(P(S({},e),{target:t}))}function aet(e){"use forget";const t=j.c(4),{className:n}=e;let r;t[0]!==n?(r=oe("pointer-events-none h-px w-px",n),t[0]=n,t[1]=r):r=t[1];let s;return t[2]!==r?(s=g.jsx("div",{"aria-hidden":!0,"data-edge":!0,className:r}),t[2]=r,t[3]=s):s=t[3],s}function fFe(e){"use forget";const t=j.c(8),{setIsScrolledToEdge:n,className:r,options:s}=e;let i;t[0]!==r?(i=oe("pointer-events-none h-px w-px",r),t[0]=r,t[1]=i):i=t[1];let o;t[2]!==s||t[3]!==n?(o=c=>YJ({target:c,onChange:l=>n(!l),options:s}),t[2]=s,t[3]=n,t[4]=o):o=t[4];let a;return t[5]!==i||t[6]!==o?(a=g.jsx("div",{"aria-hidden":!0,"data-edge":!0,className:i,ref:o}),t[5]=i,t[6]=o,t[7]=a):a=t[7],a}var DH;const hFe=Da.button(DH||(DH=$i(["\ntext-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent\nleading-none outline-hidden cursor-pointer\nhover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary\nkeyboard-focused:bg-token-main-surface-secondary\nradix-state-active:text-token-text-secondary\nradix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent\ndata-no-hover-bg:hover:bg-transparent dark:data-no-hover-bg:hover:bg-transparent\n"]))),cet="z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none";var UH;const KJ=Da.div(UH||(UH=$i(["z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none data-[unbound-width]:min-w-[unset] data-[custom-padding]:py-0"])));var FH;const uet=Da.div(FH||(FH=$i(["popover overflow-auto rounded-2xl dark:bg-[#353535] bg-clip-padding bg-token-main-surface-primary p-2 shadow-long"]))),pFe=({isOpen:e,onClose:t})=>{var s,i;const n=T.useRef(null),r=(i=(s=n.current)==null?void 0:s.ownerDocument.body)!=null?i:null;return T.useEffect(()=>{if(!r||!e)return;const o=a=>{(!a.relatedTarget||a.relatedTarget instanceof HTMLElement&&!r.contains(a.relatedTarget))&&t()};return r.addEventListener("blur",o,{capture:!0}),()=>r.removeEventListener("blur",o,{capture:!0})},[e,r]),{triggerRef:n,container:r}};var Yb=0;function JJ(){T.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:u4()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:u4()),Yb++,()=>{Yb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Yb--}},[])}function u4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kb="focusScope.autoFocusOnMount",Jb="focusScope.autoFocusOnUnmount",d4={bubbles:!1,cancelable:!0},_Fe="FocusScope",sx=T.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i}=_,o=B(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[a,c]=T.useState(null),l=vo(s),u=vo(i),d=T.useRef(null),f=Un(t,m=>c(m)),h=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let m=function(C){if(h.paused||!a)return;const y=C.target;a.contains(y)?d.current=y:Wo(d.current,{select:!0})},v=function(C){if(h.paused||!a)return;const y=C.relatedTarget;y!==null&&(a.contains(y)||Wo(d.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&Wo(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(E);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[r,a,h.paused]),T.useEffect(()=>{if(a){h4.add(h);const m=document.activeElement;if(!a.contains(m)){const E=new CustomEvent(Kb,d4);a.addEventListener(Kb,l),a.dispatchEvent(E),E.defaultPrevented||(mFe(yFe(XJ(a)),{select:!0}),document.activeElement===m&&Wo(a))}return()=>{a.removeEventListener(Kb,l),setTimeout(()=>{const E=new CustomEvent(Jb,d4);a.addEventListener(Jb,u),a.dispatchEvent(E),E.defaultPrevented||Wo(m!=null?m:document.body,{select:!0}),a.removeEventListener(Jb,u),h4.remove(h)},0)}}},[a,l,u,h]);const p=T.useCallback(m=>{if(!n&&!r||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,E=document.activeElement;if(v&&E){const b=m.currentTarget,[C,y]=gFe(b);C&&y?!m.shiftKey&&E===y?(m.preventDefault(),n&&Wo(C,{select:!0})):m.shiftKey&&E===C&&(m.preventDefault(),n&&Wo(y,{select:!0})):E===b&&m.preventDefault()}},[n,r,h.paused]);return g.jsx(Ht.div,P(S({tabIndex:-1},o),{ref:f,onKeyDown:p}))});sx.displayName=_Fe;function mFe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Wo(r,{select:t}),document.activeElement!==n)return}function gFe(e){const t=XJ(e),n=f4(t,e),r=f4(t.reverse(),e);return[n,r]}function XJ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function f4(e,t){for(const n of e)if(!vFe(n,{upTo:t}))return n}function vFe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function EFe(e){return e instanceof HTMLInputElement&&"select"in e}function Wo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&EFe(e)&&t&&e.select()}}var h4=CFe();function CFe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=p4(e,t),e.unshift(t)},remove(t){var n;e=p4(e,t),(n=e[0])==null||n.resume()}}}function p4(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function yFe(e){return e.filter(t=>t.tagName!=="A")}var SFe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$l=new WeakMap,Y_=new WeakMap,K_={},Xb=0,QJ=function(e){return e&&(e.host||QJ(e.parentNode))},TFe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=QJ(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},OFe=function(e,t,n,r){var s=TFe(t,Array.isArray(e)?e:[e]);K_[n]||(K_[n]=new WeakMap);var i=K_[n],o=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",_=($l.get(f)||0)+1,m=(i.get(f)||0)+1;$l.set(f,_),i.set(f,m),o.push(f),_===1&&p&&Y_.set(f,!0),m===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),a.clear(),Xb++,function(){o.forEach(function(d){var f=$l.get(d)-1,h=i.get(d)-1;$l.set(d,f),i.set(d,h),f||(Y_.has(d)||d.removeAttribute(r),Y_.delete(d)),h||d.removeAttribute(n)}),Xb--,Xb||($l=new WeakMap,$l=new WeakMap,Y_=new WeakMap,K_={})}},bFe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=SFe(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),OFe(r,s,n,"aria-hidden")):function(){return null}},Gm="right-scroll-bar-position",jm="width-before-scroll-bar",AFe="with-scroll-bars-hidden",NFe="--removed-body-scroll-bar-size";function Qb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IFe(e,t){var n=T.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var _4=new WeakMap;function PFe(e,t){var n=IFe(null,function(r){return e.forEach(function(s){return Qb(s,r)})});return T.useLayoutEffect(function(){var r=_4.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Qb(a,null)}),i.forEach(function(a){s.has(a)||Qb(a,o)})}_4.set(n,e)},[e]),n}function wFe(e){return e}function RFe(e,t){t===void 0&&(t=wFe);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return s}function xFe(e){e===void 0&&(e={});var t=RFe(null);return t.options=Yo({async:!0,ssr:!1},e),t}var ZJ=function(e){var t=e.sideCar,n=WH(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Yo({},n))};ZJ.isSideCarExport=!0;function MFe(e,t){return e.useMedium(t),ZJ}var eX=xFe(),Zb=function(){},sC=T.forwardRef(function(e,t){var n=T.useRef(null),r=T.useState({onScrollCapture:Zb,onWheelCapture:Zb,onTouchMoveCapture:Zb}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,p=e.inert,_=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,E=e.gapMode,b=WH(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,y=PFe([n,t]),O=Yo(Yo({},b),s);return T.createElement(T.Fragment,null,u&&T.createElement(C,{sideCar:eX,removeScrollBar:l,shards:d,noIsolation:h,inert:p,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:E}),o?T.cloneElement(T.Children.only(a),Yo(Yo({},O),{ref:y})):T.createElement(v,Yo({},O,{className:c,ref:y}),a))});sC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sC.classNames={fullWidth:jm,zeroRight:Gm};var kFe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LFe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kFe();return t&&e.setAttribute("nonce",t),e}function DFe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function UFe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var FFe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=LFe())&&(DFe(t,n),UFe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GFe=function(){var e=FFe();return function(t,n){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tX=function(){var e=GFe(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},jFe={left:0,top:0,right:0,gap:0},e0=function(e){return parseInt(e||"",10)||0},BFe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[e0(n),e0(r),e0(s)]},HFe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jFe;var t=BFe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$Fe=tX(),Ru="data-scroll-locked",WFe=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),"\n  .".concat(AFe," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(Ru,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),n==="margin"&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Gm," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(jm," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(Gm," .").concat(Gm," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(jm," .").concat(jm," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Ru,"] {\n    ").concat(NFe,": ").concat(a,"px;\n  }\n")},m4=function(){var e=parseInt(document.body.getAttribute(Ru)||"0",10);return isFinite(e)?e:0},qFe=function(){T.useEffect(function(){return document.body.setAttribute(Ru,(m4()+1).toString()),function(){var e=m4()-1;e<=0?document.body.removeAttribute(Ru):document.body.setAttribute(Ru,e.toString())}},[])},VFe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;qFe();var i=T.useMemo(function(){return HFe(s)},[s]);return T.createElement($Fe,{styles:WFe(i,!t,s,n?"":"!important")})},wP=!1;if(typeof window<"u")try{var J_=Object.defineProperty({},"passive",{get:function(){return wP=!0,!0}});window.addEventListener("test",J_,J_),window.removeEventListener("test",J_,J_)}catch(e){wP=!1}var Wl=wP?{passive:!1}:!1,zFe=function(e){return e.tagName==="TEXTAREA"},nX=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!zFe(e)&&n[t]==="visible")},YFe=function(e){return nX(e,"overflowY")},KFe=function(e){return nX(e,"overflowX")},g4=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=rX(e,r);if(s){var i=sX(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JFe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},XFe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},rX=function(e,t){return e==="v"?YFe(t):KFe(t)},sX=function(e,t){return e==="v"?JFe(t):XFe(t)},QFe=function(e,t){return e==="h"&&t==="rtl"?-1:1},ZFe=function(e,t,n,r,s){var i=QFe(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),l=!1,u=o>0,d=0,f=0;do{var h=sX(e,a),p=h[0],_=h[1],m=h[2],v=_-m-i*p;(p||v)&&rX(e,a)&&(d+=v,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(l=!0),l},X_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v4=function(e){return[e.deltaX,e.deltaY]},E4=function(e){return e&&"current"in e?e.current:e},e3e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t3e=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},n3e=0,ql=[];function r3e(e){var t=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),s=T.useState(n3e++)[0],i=T.useState(tX)[0],o=T.useRef(e);T.useEffect(function(){o.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var _=kee([e.lockRef.current],(e.shards||[]).map(E4),!0).filter(Boolean);return _.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=T.useCallback(function(_,m){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var v=X_(_),E=n.current,b="deltaX"in _?_.deltaX:E[0]-v[0],C="deltaY"in _?_.deltaY:E[1]-v[1],y,O=_.target,A=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in _&&A==="h"&&O.type==="range")return!1;var N=g4(A,O);if(!N)return!0;if(N?y=A:(y=A==="v"?"h":"v",N=g4(A,O)),!N)return!1;if(!r.current&&"changedTouches"in _&&(b||C)&&(r.current=y),!y)return!0;var I=r.current||y;return ZFe(I,m,_,I==="h"?b:C)},[]),c=T.useCallback(function(_){var m=_;if(!(!ql.length||ql[ql.length-1]!==i)){var v="deltaY"in m?v4(m):X_(m),E=t.current.filter(function(y){return y.name===m.type&&(y.target===m.target||m.target===y.shadowParent)&&e3e(y.delta,v)})[0];if(E&&E.should){m.cancelable&&m.preventDefault();return}if(!E){var b=(o.current.shards||[]).map(E4).filter(Boolean).filter(function(y){return y.contains(m.target)}),C=b.length>0?a(m,b[0]):!o.current.noIsolation;C&&m.cancelable&&m.preventDefault()}}},[]),l=T.useCallback(function(_,m,v,E){var b={name:_,delta:m,target:v,should:E,shadowParent:s3e(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(C){return C!==b})},1)},[]),u=T.useCallback(function(_){n.current=X_(_),r.current=void 0},[]),d=T.useCallback(function(_){l(_.type,v4(_),_.target,a(_,e.lockRef.current))},[]),f=T.useCallback(function(_){l(_.type,X_(_),_.target,a(_,e.lockRef.current))},[]);T.useEffect(function(){return ql.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Wl),document.addEventListener("touchmove",c,Wl),document.addEventListener("touchstart",u,Wl),function(){ql=ql.filter(function(_){return _!==i}),document.removeEventListener("wheel",c,Wl),document.removeEventListener("touchmove",c,Wl),document.removeEventListener("touchstart",u,Wl)}},[]);var h=e.removeScrollBar,p=e.inert;return T.createElement(T.Fragment,null,p?T.createElement(i,{styles:t3e(s)}):null,h?T.createElement(VFe,{gapMode:e.gapMode}):null)}function s3e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const i3e=MFe(eX,r3e);var ix=T.forwardRef(function(e,t){return T.createElement(sC,Yo({},e,{ref:t,sideCar:i3e}))});ix.classNames=sC.classNames;var RP=["Enter"," "],o3e=["ArrowDown","PageUp","Home"],iX=["ArrowUp","PageDown","End"],a3e=[...o3e,...iX],c3e={ltr:[...RP,"ArrowRight"],rtl:[...RP,"ArrowLeft"]},l3e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Jp="Menu",[Lh,u3e,d3e]=Rq(Jp),[Cl,oX]=Cd(Jp,[d3e,_E,CE]),Xp=_E(),aX=CE(),[cX,Ha]=Cl(Jp),[f3e,Qp]=Cl(Jp),lX=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,a=Xp(t),[c,l]=T.useState(null),u=T.useRef(!1),d=vo(i),f=C1(s);return T.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),g.jsx(_1,P(S({},a),{children:g.jsx(cX,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:l,children:g.jsx(f3e,{scope:t,onClose:T.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})}))};lX.displayName=Jp;var h3e="MenuAnchor",ox=T.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=B(i,["__scopeMenu"]),s=Xp(n);return g.jsx(pq,P(S(S({},s),r),{ref:t}))});ox.displayName=h3e;var ax="MenuPortal",[p3e,uX]=Cl(ax,{forceMount:void 0}),dX=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Ha(ax,t);return g.jsx(p3e,{scope:t,forceMount:n,children:g.jsx(ui,{present:n||i.open,children:g.jsx(Op,{asChild:!0,container:s,children:r})})})};dX.displayName=ax;var Ss="MenuContent",[_3e,cx]=Cl(Ss),fX=T.forwardRef((e,t)=>{const n=uX(Ss,e.__scopeMenu),a=e,{forceMount:r=n.forceMount}=a,s=B(a,["forceMount"]),i=Ha(Ss,e.__scopeMenu),o=Qp(Ss,e.__scopeMenu);return g.jsx(Lh.Provider,{scope:e.__scopeMenu,children:g.jsx(ui,{present:r||i.open,children:g.jsx(Lh.Slot,{scope:e.__scopeMenu,children:o.modal?g.jsx(m3e,P(S({},s),{ref:t})):g.jsx(g3e,P(S({},s),{ref:t}))})})})}),m3e=T.forwardRef((e,t)=>{const n=Ha(Ss,e.__scopeMenu),r=T.useRef(null),s=Un(t,r);return T.useEffect(()=>{const i=r.current;if(i)return bFe(i)},[]),g.jsx(lx,P(S({},e),{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ye(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),g3e=T.forwardRef((e,t)=>{const n=Ha(Ss,e.__scopeMenu);return g.jsx(lx,P(S({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),lx=T.forwardRef((e,t)=>{const Q=e,{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p}=Q,_=B(Q,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),m=Ha(Ss,n),v=Qp(Ss,n),E=Xp(n),b=aX(n),C=u3e(n),[y,O]=T.useState(null),A=T.useRef(null),N=Un(t,A,m.onContentChange),I=T.useRef(0),w=T.useRef(""),M=T.useRef(0),k=T.useRef(null),D=T.useRef("right"),L=T.useRef(0),G=p?ix:T.Fragment,K=p?{as:Yu,allowPinchZoom:!0}:void 0,V=z=>{var Z,ye;const F=w.current+z,Te=C().filter(me=>!me.disabled),fe=document.activeElement,$=(Z=Te.find(me=>me.ref.current===fe))==null?void 0:Z.textValue,W=Te.map(me=>me.textValue),ee=P3e(W,F,$),J=(ye=Te.find(me=>me.textValue===ee))==null?void 0:ye.ref.current;(function me(Ie){w.current=Ie,window.clearTimeout(I.current),Ie!==""&&(I.current=window.setTimeout(()=>me(""),1e3))})(F),J&&setTimeout(()=>J.focus())};T.useEffect(()=>()=>window.clearTimeout(I.current),[]),JJ();const Y=T.useCallback(z=>{var Te,fe;return D.current===((Te=k.current)==null?void 0:Te.side)&&R3e(z,(fe=k.current)==null?void 0:fe.area)},[]);return g.jsx(_3e,{scope:n,searchRef:w,onItemEnter:T.useCallback(z=>{Y(z)&&z.preventDefault()},[Y]),onItemLeave:T.useCallback(z=>{var F;Y(z)||((F=A.current)==null||F.focus(),O(null))},[Y]),onTriggerLeave:T.useCallback(z=>{Y(z)&&z.preventDefault()},[Y]),pointerGraceTimerRef:M,onPointerGraceIntentChange:T.useCallback(z=>{k.current=z},[]),children:g.jsx(G,P(S({},K),{children:g.jsx(sx,{asChild:!0,trapped:s,onMountAutoFocus:Ye(i,z=>{var F;z.preventDefault(),(F=A.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Sp,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:g.jsx(Fq,P(S({asChild:!0},b),{dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:y,onCurrentTabStopIdChange:O,onEntryFocus:Ye(c,z=>{v.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(_q,P(S(S({role:"menu","aria-orientation":"vertical","data-state":PX(m.open),"data-radix-menu-content":"",dir:v.dir},E),_),{ref:N,style:S({outline:"none"},_.style),onKeyDown:Ye(_.onKeyDown,z=>{const Te=z.target.closest("[data-radix-menu-content]")===z.currentTarget,fe=z.ctrlKey||z.altKey||z.metaKey,$=z.key.length===1;Te&&(z.key==="Tab"&&z.preventDefault(),!fe&&$&&V(z.key));const W=A.current;if(z.target!==W||!a3e.includes(z.key))return;z.preventDefault();const J=C().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);iX.includes(z.key)&&J.reverse(),N3e(J)}),onBlur:Ye(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(I.current),w.current="")}),onPointerMove:Ye(e.onPointerMove,Dh(z=>{const F=z.target,Te=L.current!==z.clientX;if(z.currentTarget.contains(F)&&Te){const fe=z.clientX>L.current?"right":"left";D.current=fe,L.current=z.clientX}}))}))}))})})}))})});fX.displayName=Ss;var v3e="MenuGroup",ux=T.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=B(s,["__scopeMenu"]);return g.jsx(Ht.div,P(S({role:"group"},r),{ref:t}))});ux.displayName=v3e;var E3e="MenuLabel",hX=T.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=B(s,["__scopeMenu"]);return g.jsx(Ht.div,P(S({},r),{ref:t}))});hX.displayName=E3e;var Jg="MenuItem",C4="menu.itemSelect",iC=T.forwardRef((e,t)=>{const d=e,{disabled:n=!1,onSelect:r}=d,s=B(d,["disabled","onSelect"]),i=T.useRef(null),o=Qp(Jg,e.__scopeMenu),a=cx(Jg,e.__scopeMenu),c=Un(t,i),l=T.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(C4,{bubbles:!0,cancelable:!0});f.addEventListener(C4,p=>r==null?void 0:r(p),{once:!0}),Epe(f,h),h.defaultPrevented?l.current=!1:o.onClose()}};return g.jsx(pX,P(S({},s),{ref:c,disabled:n,onClick:Ye(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),l.current=!0},onPointerUp:Ye(e.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ye(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||RP.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))});iC.displayName=Jg;var pX=T.forwardRef((e,t)=>{const p=e,{__scopeMenu:n,disabled:r=!1,textValue:s}=p,i=B(p,["__scopeMenu","disabled","textValue"]),o=cx(Jg,n),a=aX(n),c=T.useRef(null),l=Un(t,c),[u,d]=T.useState(!1),[f,h]=T.useState("");return T.useEffect(()=>{var m;const _=c.current;_&&h(((m=_.textContent)!=null?m:"").trim())},[i.children]),g.jsx(Lh.ItemSlot,{scope:n,disabled:r,textValue:s!=null?s:f,children:g.jsx(Gq,P(S({asChild:!0},a),{focusable:!r,children:g.jsx(Ht.div,P(S({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},i),{ref:l,onPointerMove:Ye(e.onPointerMove,Dh(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(e.onPointerLeave,Dh(_=>o.onItemLeave(_))),onFocus:Ye(e.onFocus,()=>d(!0)),onBlur:Ye(e.onBlur,()=>d(!1))}))}))})}),C3e="MenuCheckboxItem",_X=T.forwardRef((e,t)=>{const i=e,{checked:n=!1,onCheckedChange:r}=i,s=B(i,["checked","onCheckedChange"]);return g.jsx(CX,{scope:e.__scopeMenu,checked:n,children:g.jsx(iC,P(S({role:"menuitemcheckbox","aria-checked":Xg(n)?"mixed":n},s),{ref:t,"data-state":hx(n),onSelect:Ye(s.onSelect,()=>r==null?void 0:r(Xg(n)?!0:!n),{checkForDefaultPrevented:!1})}))})});_X.displayName=C3e;var mX="MenuRadioGroup",[y3e,S3e]=Cl(mX,{value:void 0,onValueChange:()=>{}}),gX=T.forwardRef((e,t)=>{const o=e,{value:n,onValueChange:r}=o,s=B(o,["value","onValueChange"]),i=vo(r);return g.jsx(y3e,{scope:e.__scopeMenu,value:n,onValueChange:i,children:g.jsx(ux,P(S({},s),{ref:t}))})});gX.displayName=mX;var vX="MenuRadioItem",EX=T.forwardRef((e,t)=>{const o=e,{value:n}=o,r=B(o,["value"]),s=S3e(vX,e.__scopeMenu),i=n===s.value;return g.jsx(CX,{scope:e.__scopeMenu,checked:i,children:g.jsx(iC,P(S({role:"menuitemradio","aria-checked":i},r),{ref:t,"data-state":hx(i),onSelect:Ye(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})}))})});EX.displayName=vX;var dx="MenuItemIndicator",[CX,T3e]=Cl(dx,{checked:!1}),yX=T.forwardRef((e,t)=>{const o=e,{__scopeMenu:n,forceMount:r}=o,s=B(o,["__scopeMenu","forceMount"]),i=T3e(dx,n);return g.jsx(ui,{present:r||Xg(i.checked)||i.checked===!0,children:g.jsx(Ht.span,P(S({},s),{ref:t,"data-state":hx(i.checked)}))})});yX.displayName=dx;var O3e="MenuSeparator",SX=T.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=B(s,["__scopeMenu"]);return g.jsx(Ht.div,P(S({role:"separator","aria-orientation":"horizontal"},r),{ref:t}))});SX.displayName=O3e;var b3e="MenuArrow",TX=T.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=B(i,["__scopeMenu"]),s=Xp(n);return g.jsx(mq,P(S(S({},s),r),{ref:t}))});TX.displayName=b3e;var fx="MenuSub",[A3e,OX]=Cl(fx),bX=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,i=Ha(fx,t),o=Xp(t),[a,c]=T.useState(null),[l,u]=T.useState(null),d=vo(s);return T.useEffect(()=>(i.open===!1&&d(!1),()=>d(!1)),[i.open,d]),g.jsx(_1,P(S({},o),{children:g.jsx(cX,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:g.jsx(A3e,{scope:t,contentId:wi(),triggerId:wi(),trigger:a,onTriggerChange:c,children:n})})}))};bX.displayName=fx;var Pf="MenuSubTrigger",AX=T.forwardRef((e,t)=>{const n=Ha(Pf,e.__scopeMenu),r=Qp(Pf,e.__scopeMenu),s=OX(Pf,e.__scopeMenu),i=cx(Pf,e.__scopeMenu),o=T.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,l={__scopeMenu:e.__scopeMenu},u=T.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return T.useEffect(()=>u,[u]),T.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),c(null)}},[a,c]),g.jsx(ox,P(S({asChild:!0},l),{children:g.jsx(pX,P(S({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":PX(n.open)},e),{ref:dE(t,s.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ye(e.onPointerMove,Dh(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ye(e.onPointerLeave,Dh(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const _=(p=n.content)==null?void 0:p.dataset.side,m=_==="right",v=m?-5:5,E=f[m?"left":"right"],b=f[m?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:E,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:E,y:f.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(e.onKeyDown,d=>{var h;const f=i.searchRef.current!=="";e.disabled||f&&d.key===" "||c3e[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})}))}))});AX.displayName=Pf;var NX="MenuSubContent",IX=T.forwardRef((e,t)=>{const n=uX(Ss,e.__scopeMenu),u=e,{forceMount:r=n.forceMount}=u,s=B(u,["forceMount"]),i=Ha(Ss,e.__scopeMenu),o=Qp(Ss,e.__scopeMenu),a=OX(NX,e.__scopeMenu),c=T.useRef(null),l=Un(t,c);return g.jsx(Lh.Provider,{scope:e.__scopeMenu,children:g.jsx(ui,{present:r||i.open,children:g.jsx(Lh.Slot,{scope:e.__scopeMenu,children:g.jsx(lx,P(S({id:a.contentId,"aria-labelledby":a.triggerId,align:"start"},s),{ref:l,side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ye(e.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ye(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ye(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=l3e[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})}))})})})});IX.displayName=NX;function PX(e){return e?"open":"closed"}function Xg(e){return e==="indeterminate"}function hx(e){return Xg(e)?"indeterminate":e?"checked":"unchecked"}function N3e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function I3e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function P3e(e,t,n){const s=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=I3e(e,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function w3e(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,c=t[i].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function R3e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return w3e(n,t)}function Dh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var x3e=lX,M3e=ox,k3e=dX,L3e=fX,D3e=ux,U3e=hX,F3e=iC,G3e=_X,j3e=gX,B3e=EX,H3e=yX,$3e=SX,W3e=TX,q3e=bX,V3e=AX,z3e=IX,px="DropdownMenu",[Y3e]=Cd(px,[oX]),ar=oX(),[K3e,wX]=Y3e(px),RX=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,c=ar(t),l=T.useRef(null),[u=!1,d]=gl({prop:s,defaultProp:i,onChange:o});return g.jsx(K3e,{scope:t,triggerId:wi(),triggerRef:l,contentId:wi(),open:u,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(f=>!f),[d]),modal:a,children:g.jsx(x3e,P(S({},c),{open:u,onOpenChange:d,dir:r,modal:a,children:n}))})};RX.displayName=px;var xX="DropdownMenuTrigger",MX=T.forwardRef((e,t)=>{const a=e,{__scopeDropdownMenu:n,disabled:r=!1}=a,s=B(a,["__scopeDropdownMenu","disabled"]),i=wX(xX,n),o=ar(n);return g.jsx(M3e,P(S({asChild:!0},o),{children:g.jsx(Ht.button,P(S({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s),{ref:dE(t,i.triggerRef),onPointerDown:Ye(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Ye(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})}))}))});MX.displayName=xX;var J3e="DropdownMenuPortal",kX=e=>{const s=e,{__scopeDropdownMenu:t}=s,n=B(s,["__scopeDropdownMenu"]),r=ar(t);return g.jsx(k3e,S(S({},r),n))};kX.displayName=J3e;var LX="DropdownMenuContent",DX=T.forwardRef((e,t)=>{const a=e,{__scopeDropdownMenu:n}=a,r=B(a,["__scopeDropdownMenu"]),s=wX(LX,n),i=ar(n),o=T.useRef(!1);return g.jsx(L3e,P(S(S({id:s.contentId,"aria-labelledby":s.triggerId},i),r),{ref:t,onCloseAutoFocus:Ye(e.onCloseAutoFocus,c=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Ye(e.onInteractOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:P(S({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});DX.displayName=LX;var X3e="DropdownMenuGroup",UX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(D3e,P(S(S({},s),r),{ref:t}))});UX.displayName=X3e;var Q3e="DropdownMenuLabel",FX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(U3e,P(S(S({},s),r),{ref:t}))});FX.displayName=Q3e;var Z3e="DropdownMenuItem",GX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(F3e,P(S(S({},s),r),{ref:t}))});GX.displayName=Z3e;var eGe="DropdownMenuCheckboxItem",jX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(G3e,P(S(S({},s),r),{ref:t}))});jX.displayName=eGe;var tGe="DropdownMenuRadioGroup",BX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(j3e,P(S(S({},s),r),{ref:t}))});BX.displayName=tGe;var nGe="DropdownMenuRadioItem",HX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(B3e,P(S(S({},s),r),{ref:t}))});HX.displayName=nGe;var rGe="DropdownMenuItemIndicator",$X=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(H3e,P(S(S({},s),r),{ref:t}))});$X.displayName=rGe;var sGe="DropdownMenuSeparator",WX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx($3e,P(S(S({},s),r),{ref:t}))});WX.displayName=sGe;var iGe="DropdownMenuArrow",oGe=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(W3e,P(S(S({},s),r),{ref:t}))});oGe.displayName=iGe;var aGe=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:i}=e,o=ar(t),[a=!1,c]=gl({prop:r,defaultProp:i,onChange:s});return g.jsx(q3e,P(S({},o),{open:a,onOpenChange:c,children:n}))},cGe="DropdownMenuSubTrigger",qX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(V3e,P(S(S({},s),r),{ref:t}))});qX.displayName=cGe;var lGe="DropdownMenuSubContent",VX=T.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=B(i,["__scopeDropdownMenu"]),s=ar(n);return g.jsx(z3e,P(S(S({},s),r),{ref:t,style:P(S({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});VX.displayName=lGe;var zX=RX,_x=MX,uGe=kX,dGe=DX,fGe=UX,hGe=FX,oC=GX,YX=jX,pGe=BX,_Ge=HX,mGe=$X,gGe=WX,vGe=aGe,EGe=qX,CGe=VX;const Mr=T.createContext({activeDetent$:X(void 0),fullyExpanded$:X(!1),mode:"dropdown",store:{isSheetVisible$:X(!1),isSheetOpen$:X(!1),keepSheetOpen$:X(!1)}}),mx=T.createContext({});function det(e){var n,r,s;const t={};return P(S({},t),{isSheetVisible$:X((n=t.isSheetVisible$)!=null?n:!1),isSheetOpen$:X((r=t.isSheetOpen$)!=null?r:!1),keepSheetOpen$:X((s=t.keepSheetOpen$)!=null?s:!1)})}const KX=6,JX=function(t){"use forget";var Ke,le;const n=j.c(77);let r,s,i,o,a,c,l,u,d,f,h,p,_,m,v;n[0]!==t?(Ke=t,{children:s,className:i,style:h,size:p,align:r,addBottomGradient:_,sheetContentClassName:f,nativeEdgeSwipePrevention:m,ref:u,sheetSize:v,onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c}=Ke,d=B(Ke,["children","className","style","size","align","addBottomGradient","sheetContentClassName","nativeEdgeSwipePrevention","ref","sheetSize","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside"]),n[0]=t,n[1]=r,n[2]=s,n[3]=i,n[4]=o,n[5]=a,n[6]=c,n[7]=l,n[8]=u,n[9]=d,n[10]=f,n[11]=h,n[12]=p,n[13]=_,n[14]=m,n[15]=v):(r=n[1],s=n[2],i=n[3],o=n[4],a=n[5],c=n[6],l=n[7],u=n[8],d=n[9],f=n[10],h=n[11],p=n[12],_=n[13],m=n[14],v=n[15]);const E=p===void 0?"default":p,b=_===void 0?!1:_,C=m===void 0?!1:m,y=v===void 0?"fit":v,{detents:O,mode:A,store:N}=T.use(Mr),[I,w]=T.useState(!1),M=T.useRef(!1),k=T.useRef(!1),D=T.useRef(!1),L=Le(N.keepSheetOpen$);let G,K,V,Y;if(n[16]!==d?(le=d,{canBounce:G,hasBounced$:K,showHeader:Y}=le,V=B(le,["canBounce","hasBounced$","showHeader"]),n[16]=d,n[17]=G,n[18]=K,n[19]=V,n[20]=Y):(G=n[17],K=n[18],V=n[19],Y=n[20]),A==="sheet"){const We=!L;let _e;n[21]!==We?(_e={dismiss:We},n[21]=We,n[22]=_e):_e=n[22];let U;n[23]===Symbol.for("react.memo_cache_sentinel")?(U=g.jsx(Ci.Backdrop,{}),n[23]=U):U=n[23];let be;n[24]!==s||n[25]!==f?(be=g.jsx(Ci.ScrollRoot,{children:g.jsx(Ci.ContentSection,{"data-content-sheet-content-section":!0,className:f,children:s})}),n[24]=s,n[25]=f,n[26]=be):be=n[26];let ge;n[27]!==G||n[28]!==i||n[29]!==K||n[30]!==u||n[31]!==V||n[32]!==y||n[33]!==Y||n[34]!==h||n[35]!==be?(ge=g.jsx(Ci.Content,P(S({size:y,ref:u,className:i,style:h,canBounce:G,hasBounced$:K,showHeader:Y},V),{children:be})),n[27]=G,n[28]=i,n[29]=K,n[30]=u,n[31]=V,n[32]=y,n[33]=Y,n[34]=h,n[35]=be,n[36]=ge):ge=n[36];let Ge;return n[37]!==O||n[38]!==C||n[39]!==_e||n[40]!==ge?(Ge=g.jsxs(Ci.View,{detents:O,nativeEdgeSwipePrevention:C,swipeTrap:!1,nativeFocusScrollPrevention:!1,onClickOutside:_e,children:[U,ge]}),n[37]=O,n[38]=C,n[39]=_e,n[40]=ge,n[41]=Ge):Ge=n[41],Ge}const Q=V.alignOffset?"".concat(V.alignOffset,"px"):void 0;let z;n[42]!==Q?(z={"--radix-align-offset":Q},n[42]=Q,n[43]=z):z=n[43];const F=z,Te=r!=null?r:"start";let fe;n[44]!==F||n[45]!==h?(fe=S(S({},F),h),n[44]=F,n[45]=h,n[46]=fe):fe=n[46];const $=E==="default",W=E==="large",ee=E==="small",J=E==="medium",Z=E==="auto";let ye;n[47]!==i||n[48]!==W||n[49]!==ee||n[50]!==J||n[51]!==Z||n[52]!==$?(ye=oe("[--trigger-width:calc(var(--radix-dropdown-menu-trigger-width)-2*var(--radix-align-offset))]",{"min-w-[max(var(--trigger-width),min(280px,95vw))]":$,"min-w-[max(var(--trigger-width),min(350px,95vw))]":W,"min-w-[max(var(--trigger-width),min(125px,95vw))]":ee,"min-w-[max(var(--trigger-width),min(200px,95vw))]":J,"min-w-(--trigger-width)":Z},"max-h-[var(--radix-dropdown-menu-content-available-height)] overflow-y-auto select-none",i),n[47]=i,n[48]=W,n[49]=ee,n[50]=J,n[51]=Z,n[52]=$,n[53]=ye):ye=n[53];let me;n[54]!==o?(me=We=>{const _e=M.current,U=k.current,be=D.current;M.current=!1,k.current=!1,D.current=!1,!be&&!_e&&!U&&(o==null||o(We))},n[54]=o,n[55]=me):me=n[55];let Ie;n[56]!==a?(Ie=We=>{a==null||a(We),M.current=!0},n[56]=a,n[57]=Ie):Ie=n[57];let Ce;n[58]!==l?(Ce=We=>{l==null||l(We),k.current=!0},n[58]=l,n[59]=Ce):Ce=n[59];let Me;n[60]!==c?(Me=We=>{c==null||c(We),D.current=!0},n[60]=c,n[61]=Me):Me=n[61];let ke;n[62]!==b||n[63]!==I?(ke=b&&g.jsxs(g.Fragment,{children:[g.jsx(fFe,{setIsScrolledToEdge:w},"dropdownBottomEdgeScrollObserver"),g.jsx("div",{className:"pointer-events-none absolute start-0 end-0 bottom-0 h-20 transition-opacity duration-100",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--main-surface-primary))",opacity:I?1:0}})]}),n[62]=b,n[63]=I,n[64]=ke):ke=n[64];let xe;return n[65]!==s||n[66]!==u||n[67]!==V||n[68]!==ye||n[69]!==me||n[70]!==Ie||n[71]!==Ce||n[72]!==Me||n[73]!==ke||n[74]!==Te||n[75]!==fe?(xe=g.jsx(sge,{children:g.jsxs(KJ,P(S({ref:u,$as:dGe,sideOffset:4,align:Te,collisionPadding:KX,style:fe,className:ye,onCloseAutoFocus:me,onEscapeKeyDown:Ie,onPointerDownOutside:Ce,onFocusOutside:Me},V),{children:[s,ke]}))}),n[65]=s,n[66]=u,n[67]=V,n[68]=ye,n[69]=me,n[70]=Ie,n[71]=Ce,n[72]=Me,n[73]=ke,n[74]=Te,n[75]=fe,n[76]=xe):xe=n[76],xe};function yGe(e){"use forget";var c;const t=j.c(13);let n,r;t[0]!==e?(c=e,{ref:r}=c,n=B(c,["ref"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const{mode:s}=T.use(Mr);let i;t[3]!==n?(i=l=>{var u;l.stopPropagation(),(u=n.onFocusCapture)==null||u.call(n,l)},t[3]=n,t[4]=i):i=t[4];const o=i;if(s==="sheet"){let l;return t[5]!==o||t[6]!==n||t[7]!==r?(l=g.jsx(Ci.Trigger,{asChild:!0,children:g.jsx("button",S({ref:r,onFocusCapture:o},n))}),t[5]=o,t[6]=n,t[7]=r,t[8]=l):l=t[8],l}let a;return t[9]!==o||t[10]!==n||t[11]!==r?(a=g.jsx(hFe,P(S({$as:_x,ref:r},n),{onFocusCapture:o})),t[9]=o,t[10]=n,t[11]=r,t[12]=a):a=t[12],a}function SGe(e){"use forget";var _;const t=j.c(22);let n,r,s,i;t[0]!==e?(_=e,{ref:i,onClick:r,onFocusCapture:s}=_,n=B(_,["ref","onClick","onFocusCapture"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i):(n=t[1],r=t[2],s=t[3],i=t[4]);const{mode:o,store:a}=T.use(Mr);let c;t[5]!==a?(c=()=>a==null?void 0:a.isSheetVisible$(),t[5]=a,t[6]=c):c=t[6];const l=Le(c);let u;t[7]!==r?(u=m=>{m.preventDefault(),r==null||r(m)},t[7]=r,t[8]=u):u=t[8];const d=u;let f;t[9]!==s?(f=m=>{m.stopPropagation(),s==null||s(m)},t[9]=s,t[10]=f):f=t[10];const h=f;if(o==="sheet"){const m=l?"open":"closed",v=d;let E;return t[11]!==h||t[12]!==n||t[13]!==i||t[14]!==m||t[15]!==v?(E=g.jsx(Ci.Trigger,S({ref:i,"data-state":m,onFocusCapture:h,onClick:v},n)),t[11]=h,t[12]=n,t[13]=i,t[14]=m,t[15]=v,t[16]=E):E=t[16],E}let p;return t[17]!==d||t[18]!==h||t[19]!==n||t[20]!==i?(p=g.jsx(_x,S({ref:i,onClick:d,onFocusCapture:h},n)),t[17]=d,t[18]=h,t[19]=n,t[20]=i,t[21]=p):p=t[21],p}function XX({children:e}){const{mode:t}=T.use(Mr),n=j9();return t==="sheet"?g.jsx(Ci.Portal,P(S({},n),{children:e})):g.jsx(uGe,P(S({},n),{children:e}))}function yl(r){var s=r,{onPointerMove:e,onPointerLeave:t}=s,n=B(s,["onPointerMove","onPointerLeave"]);return P(S({},n),{onPointerMove:i=>{e==null||e(i),y4(i)},onPointerLeave:i=>{t==null||t(i),y4(i)}})}const y4=e=>{if(!e.defaultPrevented&&e.pointerType!=="touch"){const t=e.currentTarget.ownerDocument.activeElement;t&&Xhe(t,"data-hold-focus")&&e.preventDefault()}},QX=e=>{const a=e,{disabled:t,ref:n,onSelect:r}=a,s=B(a,["disabled","ref","onSelect"]),[i,o]=Ft.useState(!1);return g.jsx("div",P(S({role:"menuitem","data-highlighted":i?"":void 0,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,ref:n},s),{onFocus:c=>{var l;o(!0),(l=e.onFocus)==null||l.call(e,c)},onBlur:c=>{var l;o(!1),(l=e.onBlur)==null||l.call(e,c)},onSelect:c=>{r==null||r(c.nativeEvent)},children:e.children}))},TGe=e=>{const{mode:t}=T.use(Mr);return g.jsx(Io,S({as:t==="sheet"?QX:oC,hasManagedFocus:!0},yl(e)))},OGe=e=>{const{mode:t}=T.use(Mr),n=t==="sheet"?QX:oC;return g.jsx(n,P(S({asChild:!0},yl({})),{children:g.jsx(Io,S({},e))}))};function bGe(r){var s=r,{className:e,noMargin:t}=s,n=B(s,["className","noMargin"]);return g.jsx(gGe,S({className:oe("bg-token-border-default h-px",!t&&"mx-4 my-1",e)},n))}const AGe=r=>{var s=r,{separator:e=!0,className:t}=s,n=B(s,["separator","className"]);const{mode:i}=T.use(Mr),o=g.jsx(fGe,S({className:oe("empty:hidden [:not(:has(div:not([role=group])))]:hidden",e&&"before:bg-token-border-default content-sheet:before:my-3 content-sheet:before:mx-6 before:mx-4 before:my-1 before:block before:h-px first:before:hidden [&:nth-child(1_of_:has(div:not([role=group])))]:before:hidden",t)},n));return i==="sheet"?g.jsx(pp,{name:"DropdownGroup",fallback:g.jsx(g.Fragment,{}),children:o}):o};function NGe(e){const c=e,{children:t,value:n,defaultValue:r,defaultChecked:s}=c,o=B(c,["children","value","defaultValue","defaultChecked"]),{onRadioGroupChange:a}=T.use(mx);return g.jsxs("label",P(S({},o),{children:[t,g.jsx("input",{type:"radio",className:"sr-only",value:n,defaultValue:r,defaultChecked:s,onChange:l=>{a==null||a(l.target.value)}})]}))}const IGe=e=>{"use forget";const t=j.c(7),{mode:n}=T.use(Mr),r=n==="sheet"?NGe:_Ge,s=n==="sheet"?"large":e.size;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=g.jsx(ZX,{}),t[0]=i):i=t[0];let o;t[1]!==e?(o=yl(e),t[1]=e,t[2]=o):o=t[2];let a;return t[3]!==r||t[4]!==s||t[5]!==o?(a=g.jsx(Io,S({as:r,hasManagedFocus:!0,size:s,trailingColor:"primary",trailing:i},o)),t[3]=r,t[4]=s,t[5]=o,t[6]=a):a=t[6],a};function ZX(){return g.jsxs(g.Fragment,{children:[g.jsx(mGe,{children:g.jsx(zJ,{className:"icon-sm"})}),g.jsx("div",{className:"icon-sm group-radix-state-checked:hidden"})]})}const PGe=Ft.forwardRef(function(t,n){const i=t,{className:r}=i,s=B(i,["className"]);return g.jsx(KJ,S({ref:n,$as:CGe,className:oe("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",r),sideOffset:2,alignOffset:t.align==="end"?-6:-14,collisionPadding:KX},s))}),wGe=e=>g.jsx(Io,S({subMenu:!0,as:EGe,hasManagedFocus:!0},yl(e)));function fet({triggerButton:e,children:t,size:n="default",open:r,onOpenChange:s,onCloseAutoFocus:i,contentAlign:o,side:a,sideOffset:c=0,alignOffset:l=0,contentClassName:u,testId:d,tooltip:f,tooltipSideOffset:h,contentRef:p,modal:_=!1}){const[m,v]=T.useState(r!=null?r:!1),E=r!==void 0,b=Le(GEe),C=N=>{E||v(N),s==null||s(N)},{triggerRef:y}=pFe({isOpen:!!m||!!r,onClose:()=>C(!1)}),O=g.jsx(_x,{asChild:!0,ref:y,"data-testid":d?"".concat(d,"-button"):void 0,children:e}),A=f?g.jsx(Ua,{label:f,disabled:!b,triggerAs:null,sideOffset:h,children:O}):O;return g.jsxs(zX,{modal:_,open:r!=null?r:m,onOpenChange:C,children:[A,g.jsx(XX,{children:g.jsx(JX,{ref:p,size:n,align:o,alignOffset:l,side:a,sideOffset:c,className:u,onCloseAutoFocus:i,onClick:N=>{N.stopPropagation()},children:t})})]})}function RGe(e){return g.jsx(ape,S({as:hGe},e))}function xGe(e){"use forget";const t=j.c(22),{children:n,className:r,behavior:s,sheetName:i,sheetUrl:o}=e,{store:a,activeDetent$:c,detents:l,fullyExpanded$:u}=T.use(Mr),d=Le(a.isSheetVisible$),f=Le(c);let h;t[0]!==a.isSheetOpen$||t[1]!==a.keepSheetOpen$?(h=()=>{nh(()=>{a.keepSheetOpen$.set(!1),a.isSheetOpen$.set(!1)})},t[0]=a.isSheetOpen$,t[1]=a.keepSheetOpen$,t[2]=h):h=t[2];let p;t[3]!==c||t[4]!==l||t[5]!==u||t[6]!==e?(p=v=>{var E;if(c.set(v),(E=e.onActiveDetentChange)==null||E.call(e,v),l&&l.length>0){const b=v===(l==null?void 0:l.length)+1;u.set(b)}},t[3]=c,t[4]=l,t[5]=u,t[6]=e,t[7]=p):p=t[7];let _;t[8]!==e||t[9]!==a.isSheetOpen$?(_=v=>{var E;a.isSheetOpen$.set(v),(E=e.onOpenChange)==null||E.call(e,v)},t[8]=e,t[9]=a.isSheetOpen$,t[10]=_):_=t[10];let m;return t[11]!==f||t[12]!==s||t[13]!==n||t[14]!==r||t[15]!==d||t[16]!==i||t[17]!==o||t[18]!==h||t[19]!==p||t[20]!==_?(m=g.jsx(Ci.Root,{activeDetent:f,className:r,behavior:s,sheetName:i,sheetUrl:o,onHistoryPop:h,onActiveDetentChange:p,onPresentedChange:_,presented:d,children:n}),t[11]=f,t[12]=s,t[13]=n,t[14]=r,t[15]=d,t[16]=i,t[17]=o,t[18]=h,t[19]=p,t[20]=_,t[21]=m):m=t[21],m}function MGe(e){"use forget";var f;const t=j.c(20);let n,r,s,i,o,a,c,l,u;t[0]!==e?(f=e,{className:r,detents:s,mode:i,open:o,store:u,behavior:n,sheetName:c,sheetUrl:l}=f,a=B(f,["className","detents","mode","open","store","behavior","sheetName","sheetUrl"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9]);let d;return t[10]!==n||t[11]!==r||t[12]!==s||t[13]!==i||t[14]!==o||t[15]!==a||t[16]!==c||t[17]!==l||t[18]!==u?(d=g.jsx(ige,{children:i==="sheet"&&u?g.jsx(Mr,{value:{mode:i!=null?i:"dropdown",store:u,detents:s,activeDetent$:X(void 0),fullyExpanded$:X(!1)},children:g.jsx(xGe,S({className:r,behavior:n,sheetName:c,sheetUrl:l},a))}):g.jsx(zX,P(S({},a),{open:o}))}),t[10]=n,t[11]=r,t[12]=s,t[13]=i,t[14]=o,t[15]=a,t[16]=c,t[17]=l,t[18]=u,t[19]=d):d=t[19],d}function kGe(e){const o=e,{children:t,container:n}=o,r=B(o,["children","container"]),{mode:s}=T.use(Mr),i=s==="sheet"?Ci.Portal:XX;return g.jsx(i,P(S({},r),{container:n,children:t}))}function LGe(e){"use forget";var d;const t=j.c(16);let n,r,s,i;t[0]!==e?(d=e,{children:n,defaultValue:s,defaultChecked:r}=d,i=B(d,["children","defaultValue","defaultChecked"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i):(n=t[1],r=t[2],s=t[3],i=t[4]);const o=i,{onRadioGroupChange:a}=T.use(mx);let c;t[5]!==a||t[6]!==i?(c=f=>{var h;f.preventDefault(),f.stopPropagation(),(h=i.onCheckedChange)==null||h.call(i,f.target.checked),a==null||a(f.target.value)},t[5]=a,t[6]=i,t[7]=c):c=t[7];let l;t[8]!==r||t[9]!==s||t[10]!==c?(l=g.jsx("input",{type:"checkbox",className:"sr-only",defaultValue:s,defaultChecked:r,onChange:c}),t[8]=r,t[9]=s,t[10]=c,t[11]=l):l=t[11];let u;return t[12]!==n||t[13]!==o||t[14]!==l?(u=g.jsxs("label",P(S({},o),{children:[n,l]})),t[12]=n,t[13]=o,t[14]=l,t[15]=u):u=t[15],u}const DGe=e=>{const{mode:t}=T.use(Mr);return g.jsx(Io,S({as:t==="sheet"?LGe:YX,hasManagedFocus:!0,onSelect:n=>{n.preventDefault()},onClick:n=>{n.stopPropagation()},trailingColor:"primary",trailing:g.jsx(F9,{size:"small",disabled:e.disabled,checked:e.checked===!0,"aria-hidden":!0})},yl(e)))};function UGe(o){var a=o,{checked:e,onCheckedChange:t,children:n,onClick:r,className:s}=a,i=B(a,["checked","onCheckedChange","children","onClick","className"]);const c=l=>{l.preventDefault()};return g.jsx(YX,P(S({checked:e,onCheckedChange:t,onSelect:c,onClick:r,className:oe(s,"mx-2 flex cursor-pointer items-center rounded-md p-3 text-sm","hover:bg-token-main-surface-secondary keyboard-focused:bg-token-main-surface-secondary","radix-disabled:pointer-events-none radix-disabled:opacity-50 focus:outline-none","radix-state-open:bg-token-main-surface-secondary")},i),{children:g.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[n,e?g.jsx(lFe,{className:"icon-sm text-token-text-primary"}):g.jsx(uFe,{className:"icon-sm text-token-text-tertiary"})]})}))}function FGe(e){return g.jsx(oC,P(S({asChild:!0},yl({})),{children:g.jsx(spe,S({},e))}))}const GGe=e=>g.jsx(oC,P(S({asChild:!0,onSelect:t=>{t.preventDefault()}},yl({})),{children:g.jsx(lpe,S({},e))}));function jGe(e){const{store:t}=T.use(Mr);return g.jsx(mx,{value:{onRadioGroupChange:n=>{var r;(r=e.onValueChange)==null||r.call(e,n),t.isSheetOpen$.set(!1)}},children:g.jsx("section",S({},e))})}function BGe(e){"use forget";const t=j.c(3),{mode:n}=T.use(Mr),r=n==="sheet"?jGe:pGe;let s;return t[0]!==r||t[1]!==e?(s=g.jsx(r,S({},e)),t[0]=r,t[1]=e,t[2]=s):s=t[2],s}function HGe(e){return g.jsx(r1,S({as:"button"},e))}function $Ge(e){return g.jsx(r1,P(S({},e),{as:"button",row:!0}))}const rf={Root:MGe,Trigger:yGe,BasicTrigger:SGe,Portal:kGe,Content:JX,Item:TGe,ItemAs:OGe,HeaderItem:HGe,HeaderItemRow:$Ge,HeaderItemAs:r1,Separator:bGe,Group:AGe,RadioGroup:BGe,RadioItem:IGe,RadioItemCheck:ZX,Sub:vGe,SubContent:PGe,SubMenuTrigger:wGe,Label:RGe,CheckboxItem:DGe,MultiSelectCheckboxItem:UGe,LinkItem:FGe,InputItem:GGe,Shimmer:cpe},WGe=Ee(_t,"f6d0e2",20,20),qGe=Ee(_t,"3be151",20,20),VGe=["https:","mailto:","tel:"],zGe=e=>{if(e===void 0)return;let t;try{t=new URL(e,"https://chatgpt.com")}catch(n){return}if(VGe.includes(t.protocol))return t.href},YGe=T.forwardRef((i,s)=>{var o=i,{href:e,target:t="_blank",children:n}=o,r=B(o,["href","target","children"]);return g.jsx("a",P(S({ref:s,href:zGe(e),target:t,rel:"noopener",alt:e},r),{children:n}))});YGe.displayName="ExternalLink";function S4(e){"use forget";var h;const t=j.c(14);let n,r,s,i,o;t[0]!==e?(h=e,{className:r,openNewTab:i,children:n,underline:o}=h,s=B(h,["className","openNewTab","children","underline"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5]);const a=i===void 0?!1:i,l=(o===void 0?!0:o)&&"underline";let u;t[6]!==r||t[7]!==l?(u=oe("cursor-pointer font-normal",l,r),t[6]=r,t[7]=l,t[8]=u):u=t[8];const d=a?"_blank":"_self";let f;return t[9]!==n||t[10]!==s||t[11]!==u||t[12]!==d?(f=g.jsx("a",P(S({rel:"noopener",className:u,target:d},s),{children:n})),t[9]=n,t[10]=s,t[11]=u,t[12]=d,t[13]=f):f=t[13],f}function aC({percentage:e,thickness:t=1/12,className:n,outerCircleClassName:r,sizeOverride:s,transitionDuration:i,transitionTimingFunction:o,onTransitionEnd:a}){const c=s!=null?s:120,l=c*t,d=(c-l)/2-l-2;return g.jsxs("svg",{width:c,height:c,viewBox:"0 0 ".concat(c," ").concat(c),className:n,children:[g.jsxs("g",{style:{transformOrigin:"50% 50%",animation:"spin 1s linear infinite"},className:r,children:[g.jsx("path",{fill:"url(#b)",fillOpacity:".7",fillRule:"evenodd",d:"\n        M".concat(c," ").concat(c/2,"\n        A").concat(c/2," ").concat(c/2," 0 1 0 0 ").concat(c/2,"\n        A").concat(c/2," ").concat(c/2," 0 0 0 ").concat(c," ").concat(c/2,"\n        Z\n        M").concat(c*.1042," ").concat(c/2,"\n        A").concat(c*.3956," ").concat(c*.3956," 0 1 0 ").concat(c-c*.1042," ").concat(c/2,"\n        A").concat(c*.3956," ").concat(c*.3956," 0 0 0 ").concat(c*.1042," ").concat(c/2,"\n        Z\n      "),clipRule:"evenodd"}),g.jsx("defs",{children:g.jsxs("radialGradient",{id:"b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(".concat(c/2-c*.0625," 0 0 ").concat(c/2-c*.0625," ").concat(c*.0625," ").concat(c/2,")"),gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"#0285FF"}),g.jsx("stop",{offset:"1",stopColor:"#0285FF",stopOpacity:".3"})]})})]}),g.jsx("path",{className:"origin-[50%_50%] transition-[stroke-dashoffset]",d:e===100?"M ".concat(c/2," ").concat(c/2,"\n         m 0 -").concat(d,"\n         a ").concat(d," ").concat(d," 0 1 1 0 ").concat(2*d,"\n         a ").concat(d," ").concat(d," 0 1 1 0 -").concat(2*d,"\n         Z"):"M ".concat(c/2," ").concat(c/2,"\n         L ").concat(c/2," ").concat(c/2-d,"\n         A ").concat(d," ").concat(d," 0 ").concat(e>50?1:0," 1\n         ").concat(c/2+d*Math.sin(2*Math.PI*e/100),"\n         ").concat(c/2-d*Math.cos(2*Math.PI*e/100),"\n         Z"),fill:"currentColor",style:{transitionDuration:i,transitionTimingFunction:o},onTransitionEnd:a})]})}function het(e,t,n){const r=Math.floor((e.getTime()-t.getTime())/1e3);if(r<60)return n.formatMessage({id:"hr1xff",defaultMessage:"{diffInSecs}s"},{diffInSecs:r});if(r<600){const i=Math.floor(r/60),o=r%60;return n.formatMessage({id:"7KZ91/",defaultMessage:"{mins}m {secs}s"},{mins:i,secs:o})}if(r<3600){const i=Math.floor(r/60);return n.formatMessage({id:"IkyEWY",defaultMessage:"{mins}m"},{mins:i})}const s=Math.floor(r/3600);if(r<3600*10){const i=Math.floor(r%3600/60);return n.formatMessage({id:"z9qVYm",defaultMessage:"{hours}h {mins}m"},{hours:s,mins:i})}return n.formatMessage({id:"vAHzUw",defaultMessage:"{hours}h"},{hours:s})}const KGe=({givenDate:e,now:t,intl:n,format:r="abbreviated"})=>{const s=Math.max(0,Math.floor((t.getTime()-e.getTime())/1e3)),o=60*60,a=o*24,c=a*7,l=a*30,u=a*365;if(s<60)return r==="abbreviated"?n.formatMessage({id:"hepLPr",defaultMessage:"{seconds}s ago"},{seconds:s}):n.formatMessage({id:"cLJFUT",defaultMessage:"{seconds} seconds ago"},{seconds:s});if(s<3600){const f=Math.floor(s/60);return r==="abbreviated"?n.formatMessage({id:"ZyHv9I",defaultMessage:"{minutes}m ago"},{minutes:f}):n.formatMessage({id:"RfRx5t",defaultMessage:"{minutes} minutes ago"},{minutes:f})}else if(s<a){const f=Math.floor(s/o);return r==="abbreviated"?n.formatMessage({id:"2p4Gd3",defaultMessage:"{hours}h ago"},{hours:f}):n.formatMessage({id:"0d1QfF",defaultMessage:"{hours} hours ago"},{hours:f})}else if(s<c){const f=Math.floor(s/a);return r==="abbreviated"?n.formatMessage({id:"KPjpqR",defaultMessage:"{days}d ago"},{days:f}):n.formatMessage({id:"n68thd",defaultMessage:"{days} days ago"},{days:f})}else if(s<l){const f=Math.floor(s/c);return r==="abbreviated"?n.formatMessage({id:"CT/+6h",defaultMessage:"{weeks}w ago"},{weeks:f}):n.formatMessage({id:"L0HKJO",defaultMessage:"{weeks, plural, one {# week ago} other {# weeks ago}}"},{weeks:f})}else if(s<u){const f=Math.floor(s/l);return r==="abbreviated"?n.formatMessage({id:"Qj+4rv",defaultMessage:"{months}mo ago"},{months:f}):n.formatMessage({id:"ttL843",defaultMessage:"{months, plural, one {# month ago} other {# months ago}}"},{months:f})}const d=Math.floor(s/u);return r==="abbreviated"?n.formatMessage({id:"cPSC5x",defaultMessage:"{years}y ago"},{years:d}):n.formatMessage({id:"SxfwDT",defaultMessage:"{years, plural, one {# year ago} other {# years ago}}"},{years:d})},JGe=30;function pet(e,t){if(t==null)return null;const n=new Date(t*1e3),r=e.locale,s=Math.max(Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)),0);if(s>JGe)return e.formatDate(n,{dateStyle:"medium"});const i=e.formatRelativeTime(-s,"day",{numeric:"auto"});return r.startsWith("en")?i.charAt(0).toUpperCase()+i.slice(1):i}const XGe=Ee(_t,"55180d",20,20),QGe={medium:{container:"h-12 w-12",icon:"h-8 w-8",padding:"p-2"},small:{container:"h-10 w-10",icon:"h-7 w-7",padding:"p-1.5"}},ZGe=e=>{"use forget";var h;const t=j.c(12),{size:n}=e,r=n===void 0?"medium":n,[s,i]=T.useState(!1),o=Ga(),a=QGe[r];if(!(o!=null&&o.data.profilePictureUrl)||s){const p="bg-token-bg-primary inline-flex items-center justify-center rounded-xl border-[0.5px] shadow-sm ".concat(a.container," ").concat(a.padding),_="text-token-text-primary ".concat(a.icon);let m;t[0]!==_?(m=g.jsx(XGe,{className:_}),t[0]=_,t[1]=m):m=t[1];let v;return t[2]!==p||t[3]!==m?(v=g.jsx("span",{className:p,children:m}),t[2]=p,t[3]=m,t[4]=v):v=t[4],v}const c="overflow-hidden rounded-xl border-[0.5px] bg-black shadow-sm ".concat(a.container),l=(h=o.data.name)!=null?h:"";let u;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=()=>i(!0),t[5]=u):u=t[5];let d;t[6]!==o.data.profilePictureUrl||t[7]!==l?(d=g.jsx("img",{src:o.data.profilePictureUrl,alt:l,onError:u,className:"h-full w-full object-cover"}),t[6]=o.data.profilePictureUrl,t[7]=l,t[8]=d):d=t[8];let f;return t[9]!==c||t[10]!==d?(f=g.jsx("span",{className:c,children:d}),t[9]=c,t[10]=d,t[11]=f):f=t[11],f},eje=e=>{"use forget";const t=j.c(27),{title:n,description:r,connectorIcon:s,connectorDeveloper:i,onClose:o,hideAvatarRow:a}=e,c=a===void 0?!1:a,l=c?"-me-5 pt-5":void 0;let u;t[0]!==l?(u=oe("flex justify-end",l),t[0]=l,t[1]=u):u=t[1];let d;t[2]!==o?(d=g.jsx(rC,{onClick:o}),t[2]=o,t[3]=d):d=t[3];let f;t[4]!==u||t[5]!==d?(f=g.jsx("div",{className:u,children:d}),t[4]=u,t[5]=d,t[6]=f):f=t[6];const h=c?"pt-5":void 0;let p;t[7]!==h?(p=oe("flex flex-col items-center",h),t[7]=h,t[8]=p):p=t[8];let _;t[9]!==s||t[10]!==c?(_=c?null:g.jsxs("div",{className:"flex items-center gap-2.5",children:[g.jsx(ZGe,{}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"})]}),s]}),t[9]=s,t[10]=c,t[11]=_):_=t[11];let m;t[12]!==n?(m=g.jsx("div",{className:"pt-3 text-center text-xl font-semibold",children:n}),t[12]=n,t[13]=m):m=t[13];let v;t[14]!==i?(v=i&&g.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:g.jsx(xt,P(S({},tje.developedBy),{values:{developer:i}}))}),t[14]=i,t[15]=v):v=t[15];let E;t[16]!==r?(E=r&&g.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:r}),t[16]=r,t[17]=E):E=t[17];let b;t[18]!==v||t[19]!==E||t[20]!==p||t[21]!==_||t[22]!==m?(b=g.jsxs("div",{className:p,children:[_,m,v,E]}),t[18]=v,t[19]=E,t[20]=p,t[21]=_,t[22]=m,t[23]=b):b=t[23];let C;return t[24]!==b||t[25]!==f?(C=g.jsxs(g.Fragment,{children:[f,b]}),t[24]=b,t[25]=f,t[26]=C):C=t[26],C},tje=Rt({developedBy:{id:"yPpO4G",defaultMessage:"Developed by {developer}"}}),nje=kt[x.GDRIVE_ACTION_CONNECTOR],_et=kt[x.GITHUB_CONNECTOR],met=kt[x.LINEAR_CONNECTOR],get=kt[x.SHAREPOINT_CONNECTOR],vet=kt[x.DROPBOX_CONNECTOR],Eet=kt[x.BOX_CONNECTOR],Cet=Fa[x.NOTION_CONNECTOR].access,yet=Fa[x.NOTION_CONNECTOR].sync,Tet=Fa[x.HUBSPOT_CONNECTOR].access,Oet=Fa[x.HUBSPOT_CONNECTOR].sync,bet=Fa[x.INTERCOM_CONNECTOR].access,Aet=Fa[x.INTERCOM_CONNECTOR].sync,Net=kt[x.SLACK_CONNECTOR],xP="#settings/".concat(yE.Connectors),Iet="connectors",eQ="connector",cC="add-connector-link",tQ="show-settings-behind-connector-link",Pet="link_success",rje="connector-toggle",nQ="create-connector",gx="product-sku",rQ="redirectAfter",vx="noRedirect",sje="system-hint-type",Ex="referrer",Cx="auth-type-override",wet="toggle-all",yx="slack_workspace",Sx="slack_team_id",Tx="sync-only";var sQ=(e=>(e.ConversationFollowup="conversation_followup",e.UpgradeAccountOnboarding="upgrade_account_onboarding",e.JitPluginMessage="jit_plugin_message",e.MessageSuggestion="message_suggestion",e.ConnectorNuxModal="connector_nux_modal",e.SourcesDropdown="sources_dropdown",e.SourcePills="source_pills",e.SuggestedPrompts="suggested_prompts",e.SettingsConnectorsTab="settings_connectors_tab",e.PulseConnectorsProactiveToggle="pulse_connectors_proactive_toggle",e.PulseOnboarding="pulse_onboarding",e.AdminSettingsConnectors="admin_settings_connectors",e.ConnectorToggle="connector_toggle",e.Codex="codex",e.AgentConnectBanner="agent_connect_banner",e.CompanyKnowledgeNuxModal="company_knowledge_nux_modal",e.NewWorkspaceUserOnboardingFlow="new_workspace_user_onboarding_flow",e.AppDirectory="app_directory",e.ProjectSettings="project_settings",e))(sQ||{});const ije=Ee(_t,"e5c54e",20,20),oje=Ee(et,"8e7aa4",24,24),aje=Ee(_t,"f5bdae",20,20);function cje(){return md()?window:null}var lje=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vl=new WeakMap,Q_=new WeakMap,Z_={},t0=0,iQ=function(e){return e&&(e.host||iQ(e.parentNode))},uje=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=iQ(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dje=function(e,t,n,r){var s=uje(t,Array.isArray(e)?e:[e]);Z_[n]||(Z_[n]=new WeakMap);var i=Z_[n],o=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var h=f.getAttribute(r),p=h!==null&&h!=="false",_=(Vl.get(f)||0)+1,m=(i.get(f)||0)+1;Vl.set(f,_),i.set(f,m),o.push(f),_===1&&p&&Q_.set(f,!0),m===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}})};return u(t),a.clear(),t0++,function(){o.forEach(function(d){var f=Vl.get(d)-1,h=i.get(d)-1;Vl.set(d,f),i.set(d,h),f||(Q_.has(d)||d.removeAttribute(r),Q_.delete(d)),h||d.removeAttribute(n)}),t0--,t0||(Vl=new WeakMap,Vl=new WeakMap,Q_=new WeakMap,Z_={})}},fje=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=lje(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),dje(r,s,n,"aria-hidden")):function(){return null}},Ox="Dialog",[oQ,Ret]=Cd(Ox),[hje,di]=oQ(Ox),aQ=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=T.useRef(null),c=T.useRef(null),[l=!1,u]=gl({prop:r,defaultProp:s,onChange:i});return g.jsx(hje,{scope:t,triggerRef:a,contentRef:c,contentId:wi(),titleId:wi(),descriptionId:wi(),open:l,onOpenChange:u,onOpenToggle:T.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};aQ.displayName=Ox;var cQ="DialogTrigger",lQ=T.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,r=B(o,["__scopeDialog"]),s=di(cQ,n),i=Un(t,s.triggerRef);return g.jsx(Ht.button,P(S({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nx(s.open)},r),{ref:i,onClick:Ye(e.onClick,s.onOpenToggle)}))});lQ.displayName=cQ;var bx="DialogPortal",[pje,uQ]=oQ(bx,{forceMount:void 0}),dQ=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=di(bx,t);return g.jsx(pje,{scope:t,forceMount:n,children:T.Children.map(r,o=>g.jsx(ui,{present:n||i.open,children:g.jsx(Op,{asChild:!0,container:s,children:o})}))})};dQ.displayName=bx;var Qg="DialogOverlay",fQ=T.forwardRef((e,t)=>{const n=uQ(Qg,e.__scopeDialog),o=e,{forceMount:r=n.forceMount}=o,s=B(o,["forceMount"]),i=di(Qg,e.__scopeDialog);return i.modal?g.jsx(ui,{present:r||i.open,children:g.jsx(_je,P(S({},s),{ref:t}))}):null});fQ.displayName=Qg;var _je=T.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,r=B(i,["__scopeDialog"]),s=di(Qg,n);return g.jsx(ix,{as:Yu,allowPinchZoom:!0,shards:[s.contentRef],children:g.jsx(Ht.div,P(S({"data-state":Nx(s.open)},r),{ref:t,style:S({pointerEvents:"auto"},r.style)}))})}),il="DialogContent",hQ=T.forwardRef((e,t)=>{const n=uQ(il,e.__scopeDialog),o=e,{forceMount:r=n.forceMount}=o,s=B(o,["forceMount"]),i=di(il,e.__scopeDialog);return g.jsx(ui,{present:r||i.open,children:i.modal?g.jsx(mje,P(S({},s),{ref:t})):g.jsx(gje,P(S({},s),{ref:t}))})});hQ.displayName=il;var mje=T.forwardRef((e,t)=>{const n=di(il,e.__scopeDialog),r=T.useRef(null),s=Un(t,n.contentRef,r);return T.useEffect(()=>{const i=r.current;if(i)return fje(i)},[]),g.jsx(pQ,P(S({},e),{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ye(e.onFocusOutside,i=>i.preventDefault())}))}),gje=T.forwardRef((e,t)=>{const n=di(il,e.__scopeDialog),r=T.useRef(!1),s=T.useRef(!1);return g.jsx(pQ,P(S({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}}))}),pQ=T.forwardRef((e,t)=>{const u=e,{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i}=u,o=B(u,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),a=di(il,n),c=T.useRef(null),l=Un(t,c);return JJ(),g.jsxs(g.Fragment,{children:[g.jsx(sx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:g.jsx(Sp,P(S({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Nx(a.open)},o),{ref:l,onDismiss:()=>a.onOpenChange(!1)}))}),g.jsxs(g.Fragment,{children:[g.jsx(vje,{titleId:a.titleId}),g.jsx(Cje,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Ax="DialogTitle",_Q=T.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,r=B(i,["__scopeDialog"]),s=di(Ax,n);return g.jsx(Ht.h2,P(S({id:s.titleId},r),{ref:t}))});_Q.displayName=Ax;var mQ="DialogDescription",gQ=T.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,r=B(i,["__scopeDialog"]),s=di(mQ,n);return g.jsx(Ht.p,P(S({id:s.descriptionId},r),{ref:t}))});gQ.displayName=mQ;var vQ="DialogClose",EQ=T.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,r=B(i,["__scopeDialog"]),s=di(vQ,n);return g.jsx(Ht.button,P(S({type:"button"},r),{ref:t,onClick:Ye(e.onClick,()=>s.onOpenChange(!1))}))});EQ.displayName=vQ;function Nx(e){return e?"open":"closed"}var CQ="DialogTitleWarning",[xet,yQ]=dpe(CQ,{contentName:il,titleName:Ax,docsSlug:"dialog"}),vje=({titleId:e})=>{const t=yQ(CQ),n="`".concat(t.contentName,"` requires a `").concat(t.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(t.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(t.docsSlug);return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Eje="DialogDescriptionWarning",Cje=({contentRef:e,descriptionId:t})=>{const n=yQ(Eje),r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return T.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},yje=aQ,Met=lQ,Sje=dQ,Tje=fQ,Oje=hQ,bje=_Q,Aje=gQ,Nje=EQ;function Qf(e){"use forget";var l;const t=j.c(9);let n,r,s,i;t[0]!==e?(l=e,{color:s,title:i,children:r}=l,n=B(l,["color","title","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i):(n=t[1],r=t[2],s=t[3],i=t[4]);const o=s===void 0?"secondary":s,a=i!=null?i:r;let c;return t[5]!==n||t[6]!==o||t[7]!==a?(c=g.jsx(li,P(S({as:"button",color:o},n),{children:a})),t[5]=n,t[6]=o,t[7]=a,t[8]=c):c=t[8],c}function Ije(e){"use forget";var _;const t=j.c(16),{isOpen:n,onClose:r,children:s,shouldIgnoreClickOutside:i,className:o,testId:a}=e,c=i===void 0?!1:i;let l;t[0]!==r||t[1]!==c?(l=m=>{c||m===!1&&r(!1)},t[0]=r,t[1]=c,t[2]=l):l=t[2];const u=(_=cje())==null?void 0:_.document.body;let d;t[3]!==o?(d=oe("absolute inset-0",o),t[3]=o,t[4]=d):d=t[4];let f;t[5]!==s||t[6]!==d||t[7]!==a?(f=g.jsx("div",{className:d,"data-testid":a,"data-ignore-for-page-load":!0,children:s}),t[5]=s,t[6]=d,t[7]=a,t[8]=f):f=t[8];let h;t[9]!==u||t[10]!==f?(h=g.jsx(Sje,{container:u,children:f}),t[9]=u,t[10]=f,t[11]=h):h=t[11];let p;return t[12]!==n||t[13]!==l||t[14]!==h?(p=g.jsx(yje,{open:n,onOpenChange:l,children:h}),t[12]=n,t[13]=l,t[14]=h,t[15]=p):p=t[15],p}function Pje(e){"use forget";const t=j.c(6),{className:n,children:r,showBackground:s}=e,o=(s===void 0?!0:s)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] not-motion-reduce:before:transition not-motion-reduce:before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let a;t[0]!==n||t[1]!==o?(a=oe("fixed inset-0 z-50",o,n),t[0]=n,t[1]=o,t[2]=a):a=t[2];let c;return t[3]!==r||t[4]!==a?(c=g.jsx(Tje,{className:a,children:r}),t[3]=r,t[4]=a,t[5]=c):c=t[5],c}function wje(e){"use forget";const t=j.c(25),{className:n,children:r,position:s,size:i,removePopoverStyling:o,shadow:a,onEscapeKeyDown:c,onPointerDownOutside:l,removeBackground:u,ariaLabelledBy:d,ariaDescribedBy:f,containerClassName:h,onPointerDownInside:p}=e,_=s===void 0?"center":s,m=o===void 0?!1:o,v=a===void 0?"normal":a,E=u===void 0?!1:u,b=i!=="fullscreen"&&(_==="start"||_==="end"?"grid grid-cols-[0px_1fr_0px]":"grid grid-cols-[10px_1fr_10px]"),C=i!=="fullscreen"&&_==="center"&&"grid-rows-[minmax(10px,1fr)_auto_minmax(10px,1fr)] md:grid-rows-[minmax(20px,0.8fr)_auto_minmax(20px,1fr)]",y=i!=="fullscreen"&&(_==="start"||_==="end")&&"grid-rows-[0px_auto_0px]",O=_==="bottom"&&"grid-rows-[minmax(10px,1fr)_auto_10px] md:grid-rows-[minmax(20px,1fr)_auto_20px]",A=i!=="fullscreen"&&_==="top"&&"grid-rows-[10px_auto_minmax(10px,1fr)] md:grid-rows-[20px_auto_minmax(20px,1fr)]";let N;t[0]!==h||t[1]!==b||t[2]!==C||t[3]!==y||t[4]!==O||t[5]!==A?(N=oe("z-50 h-full w-full overflow-y-auto",b,C,y,O,A,h),t[0]=h,t[1]=b,t[2]=C,t[3]=y,t[4]=O,t[5]=A,t[6]=N):N=t[6];const I=!m&&"popover",w=!E&&"bg-token-bg-primary",M=_!=="start"&&_!=="end"&&"start-1/2 ltr:-translate-x-1/2 rtl:translate-x-1/2",k=i!=="fullscreen"&&(_==="start"?"justify-self-start rounded-se-2xl rounded-ee-2xl":_==="end"?"justify-self-end rounded-ss-2xl rounded-es-2xl":"rounded-2xl"),D=v==="normal"&&"shadow-long";let L;t[7]!==n||t[8]!==I||t[9]!==w||t[10]!==M||t[11]!==k||t[12]!==D?(L=oe(I,w,"relative col-auto col-start-2 row-auto row-start-2 h-full w-full text-start",M,k,D,n),t[7]=n,t[8]=I,t[9]=w,t[10]=M,t[11]=k,t[12]=D,t[13]=L):L=t[13];let G;t[14]!==f||t[15]!==d||t[16]!==r||t[17]!==c||t[18]!==p||t[19]!==l||t[20]!==L?(G=g.jsx(Oje,{"aria-labelledby":d,"aria-describedby":f,onEscapeKeyDown:c,onPointerDownOutside:l,onPointerDown:p,className:L,children:r}),t[14]=f,t[15]=d,t[16]=r,t[17]=c,t[18]=p,t[19]=l,t[20]=L,t[21]=G):G=t[21];let K;return t[22]!==N||t[23]!==G?(K=g.jsx("div",{className:N,children:G}),t[22]=N,t[23]=G,t[24]=K):K=t[24],K}function SQ(e){"use forget";const t=j.c(16),{title:n,description:r,icon:s}=e;let i;t[0]!==n?(i=n&&g.jsx(bje,{className:"text-token-text-primary text-lg font-normal",children:n}),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==r?(o=r&&g.jsx(Aje,{asChild:!0,children:g.jsx("div",{className:"text-token-text-tertiary ms-0.5 mt-0.5 text-xs",children:r})}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==i||t[5]!==o?(a=g.jsxs("div",{className:"flex max-w-full min-w-0 grow flex-col",children:[i,o]}),t[4]=i,t[5]=o,t[6]=a):a=t[6];const c=a;if(!s)return c;const l=!r&&"items-center";let u;t[7]!==l?(u=oe("flex max-w-full min-w-0 gap-1.5",l),t[7]=l,t[8]=u):u=t[8];let d;t[9]!==s||t[10]!==r?(d=typeof s!="function"?s:g.jsx(s,{className:oe("icon",r&&"mt-1"),"aria-label":""}),t[9]=s,t[10]=r,t[11]=d):d=t[11];let f;return t[12]!==c||t[13]!==u||t[14]!==d?(f=g.jsxs("div",{className:u,children:[d,c]}),t[12]=c,t[13]=u,t[14]=d,t[15]=f):f=t[15],f}function Rje(e){"use forget";const t=j.c(26),{title:n,accessory:r,description:s,hasSeparator:i,icon:o,closeButton:a,backButton:c,textCenter:l,visuallyHiddenHeader:u,className:d,closeButtonSide:f}=e,h=i===void 0?!1:i,p=u===void 0?!1:u,_=f===void 0?"right":f;if(!n)return null;let m;t[0]!==a?(m=a&&g.jsx(Nje,{asChild:!0,children:a}),t[0]=a,t[1]=m):m=t[1];const v=m,E=l&&"flex-1 justify-center text-center";let b;t[2]!==E?(b=oe("flex max-w-full items-center",E),t[2]=E,t[3]=b):b=t[3];let C;t[4]!==c?(C=c&&g.jsx("div",{className:"me-2",children:c}),t[4]=c,t[5]=C):C=t[5];const y=_==="left"&&v;let O;t[6]!==s||t[7]!==o||t[8]!==n?(O=g.jsx(SQ,{title:n,description:s,icon:o}),t[6]=s,t[7]=o,t[8]=n,t[9]=O):O=t[9];let A;t[10]!==b||t[11]!==C||t[12]!==y||t[13]!==O?(A=g.jsxs("div",{className:b,children:[C,y,O]}),t[10]=b,t[11]=C,t[12]=y,t[13]=O,t[14]=A):A=t[14];const N=_==="right"&&v;let I;t[15]!==r||t[16]!==N?(I=g.jsxs("div",{className:"flex h-[max-content] items-center gap-2",children:[r,N]}),t[15]=r,t[16]=N,t[17]=I):I=t[17];let w;t[18]!==d||t[19]!==h||t[20]!==A||t[21]!==I?(w=g.jsxs(Mje,{hasSeparator:h,className:d,children:[A,I]}),t[18]=d,t[19]=h,t[20]=A,t[21]=I,t[22]=w):w=t[22];const M=w;let k;return t[23]!==M||t[24]!==p?(k=p?g.jsx(m1,{children:M}):M,t[23]=M,t[24]=p,t[25]=k):k=t[25],k}function xje(e){"use forget";const t=j.c(10),{primaryButton:n,secondaryButton:r,tertiaryButton:s,isSpacedBetween:i,modalHasContent:o,textCenter:a,className:c}=e,l=i===void 0?!1:i,u=o===void 0?!0:o,d=a===void 0?!1:a,f=c===void 0?"":c;if(n==null&&r==null)return null;const h=d&&"justify-center",p=l&&"justify-between",_=u&&"mt-5 sm:mt-4";let m;t[0]!==f||t[1]!==h||t[2]!==p||t[3]!==_?(m=oe("flex flex-col gap-3 sm:flex-row-reverse",h,p,_,f),t[0]=f,t[1]=h,t[2]=p,t[3]=_,t[4]=m):m=t[4];let v;return t[5]!==n||t[6]!==r||t[7]!==m||t[8]!==s?(v=g.jsxs("div",{className:m,children:[n,r,s]}),t[5]=n,t[6]=r,t[7]=m,t[8]=s,t[9]=v):v=t[9],v}const Mje=e=>{"use forget";const t=j.c(6),{hasSeparator:n,className:r,children:s}=e,i=n&&"border-token-border-light border-b";let o;t[0]!==r||t[1]!==i?(o=oe("min-h-header-height flex justify-between p-2.5 ps-4 select-none",i,r),t[0]=r,t[1]=i,t[2]=o):o=t[2];let a;return t[3]!==s||t[4]!==o?(a=g.jsx("header",{className:o,children:s}),t[3]=s,t[4]=o,t[5]=a):a=t[5],a},gu={Root:Ije,Overlay:Pje,Content:wje,Title:SQ,Header:Rje,Actions:xje,Button:Qf},kje=Ee(_t,"8ee2e9",20,20,!0),TQ=e=>{"use forget";var v;const t=j.c(21);let n,r,s,i,o,a;t[0]!==e?(v=e,{onClick:r,bg:o,className:n,iconSize:a,ref:s}=v,i=B(v,["onClick","bg","className","iconSize","ref"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6]);const c=o===void 0?"transparent":o,l=a===void 0?"md":a,u=vt(),d=c==="transparent"?"bg-transparent":"bg-token-bg-primary";let f;t[7]!==n||t[8]!==d?(f=oe("hover:bg-token-bg-tertiary keyboard-focused:focus-ring flex h-8 w-8 items-center justify-center rounded-full",d,n),t[7]=n,t[8]=d,t[9]=f):f=t[9];let h;t[10]!==u?(h=u.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),t[10]=u,t[11]=h):h=t[11];const p=l==="lg"?"icon-lg":"icon";let _;t[12]!==p?(_=g.jsx(kje,{className:p}),t[12]=p,t[13]=_):_=t[13];let m;return t[14]!==r||t[15]!==s||t[16]!==i||t[17]!==f||t[18]!==h||t[19]!==_?(m=g.jsx("button",P(S({"data-testid":"back-button",ref:s,onClick:r,className:f,"aria-label":h},i),{children:_})),t[14]=r,t[15]=s,t[16]=i,t[17]=f,t[18]=h,t[19]=_,t[20]=m):m=t[20],m};TQ.displayName="BackButton";const Lje=Yn(()=>ne(()=>import("./1a7ebd5f-ihenykhpblfwilpu.js").then(e=>e.F$),__vite__mapDeps([2,1,3])).then(e=>e.ContentModalSheet),{fallback:()=>null});function Sl(e){"use forget";const t=j.c(80),{ariaLabelledBy:n,ariaDescribedBy:r,children:s,rootClassName:i,textCenter:o,className:a,description:c,icon:l,isBottomSheet:u,isOpen:d,onClose:f,onBack:h,onCloseComplete:p,primaryButton:_,secondaryButton:m,tertiaryButton:v,footerContent:E,size:b,title:C,headerAccessory:y,type:O,noPadding:A,hasSeparator:N,hideSeparator:I,showCloseButton:w,showBackButton:M,shouldIgnoreClickOutside:k,closeButton:D,closeButtonClassName:L,isScrollable:G,allowVerticalContentToOverflow:K,position:V,removePopoverStyling:Y,showOverlayBackground:Q,overlayClassName:z,shadow:F,visuallyHiddenHeader:Te,headerClassName:fe,contentClassName:$,footerClassName:W,modalActionsClassName:ee,footerIsSpacedBetween:J,footerHasTopMargin:Z,onEscapeKeyDown:ye,testId:me,contentRef:Ie,closeButtonSide:Ce,removeBackground:Me,contentContainerClassName:ke,onPointerDownOutside:xe}=e,Ke=d===void 0?!1:d,le=b===void 0?"normal":b,We=A===void 0?!1:A,_e=N===void 0?!1:N,U=I===void 0?!0:I,be=w===void 0?!1:w,ge=M===void 0?!1:M,Ge=k===void 0?!1:k,ae=G===void 0?!0:G,Fe=K===void 0?!1:K,Je=V===void 0?"center":V,qe=Y===void 0?!1:Y,Ae=Q===void 0?!0:Q,Xe=F===void 0?"normal":F,dt=Te===void 0?!1:Te,Ot=Z===void 0?!0:Z,$t=Ce===void 0?"right":Ce,Wt=Me===void 0?!1:Me,Et=!!C&&!dt,Gn=!!s,jn=_e||!U;if(u){let o_;return t[0]!==e?(o_=g.jsx(Lje,S({},e)),t[0]=e,t[1]=o_):o_=t[1],o_}let hn;t[2]!==p||t[3]!==f?(hn=()=>{f(!0),p==null||p()},t[2]=p,t[3]=f,t[4]=hn):hn=t[4];const An=o&&"text-center",vr=le==="normal",Er=le==="large",Cr=le==="xlarge",cr=le==="fullscreen",fi=!Fe;let kr;t[5]!==a||t[6]!==An||t[7]!==vr||t[8]!==Er||t[9]!==Cr||t[10]!==cr||t[11]!==fi?(kr=oe("flex flex-col focus:outline-hidden",An,{"max-w-md":vr,"max-w-lg":Er,"max-w-xl":Cr,"h-full w-full":cr,"overflow-hidden":fi},a),t[5]=a,t[6]=An,t[7]=vr,t[8]=Er,t[9]=Cr,t[10]=cr,t[11]=fi,t[12]=kr):kr=t[12];let Lr;t[13]!==D||t[14]!==L||t[15]!==f||t[16]!==be?(Lr=be&&(D!=null?D:g.jsx(rC,{onClick:()=>f(!0),className:L})),t[13]=D,t[14]=L,t[15]=f,t[16]=be,t[17]=Lr):Lr=t[17];let ws;t[18]!==h||t[19]!==f||t[20]!==ge?(ws=ge&&g.jsx(TQ,{onClick:()=>h?h(!0):f(!0)}),t[18]=h,t[19]=f,t[20]=ge,t[21]=ws):ws=t[21];let rn;t[22]!==$t||t[23]!==c||t[24]!==y||t[25]!==fe||t[26]!==l||t[27]!==jn||t[28]!==Lr||t[29]!==ws||t[30]!==o||t[31]!==C||t[32]!==O||t[33]!==dt?(rn=g.jsx(gu.Header,{icon:l,title:C,accessory:y,type:O,textCenter:o,closeButton:Lr,backButton:ws,description:c,hasSeparator:jn,visuallyHiddenHeader:dt,className:fe,closeButtonSide:$t}),t[22]=$t,t[23]=c,t[24]=y,t[25]=fe,t[26]=l,t[27]=jn,t[28]=Lr,t[29]=ws,t[30]=o,t[31]=C,t[32]=O,t[33]=dt,t[34]=rn):rn=t[34];const Al=Fe?"overflow-y-visible":ae?"overflow-y-auto":"overflow-y-hidden",EC=le!=="fullscreen"&&!We,CC=!jn&&Et&&!We;let Nl;t[35]!==$||t[36]!==Al||t[37]!==EC||t[38]!==CC?(Nl=oe("grow",Al,{"p-4":EC,"pt-1":CC},$),t[35]=$,t[36]=Al,t[37]=EC,t[38]=CC,t[39]=Nl):Nl=t[39];let Il;t[40]!==W||t[41]!==E||t[42]!==Ot||t[43]!==J||t[44]!==Gn||t[45]!==ee||t[46]!==_||t[47]!==m||t[48]!==v?(Il=g.jsx(Dje,{primaryButton:_,secondaryButton:m,tertiaryButton:v,footerContent:E,modalHasContent:Gn,footerHasTopMargin:Ot,className:W,isSpacedBetween:J,modalActionsClassName:ee}),t[40]=W,t[41]=E,t[42]=Ot,t[43]=J,t[44]=Gn,t[45]=ee,t[46]=_,t[47]=m,t[48]=v,t[49]=Il):Il=t[49];let Pl;t[50]!==s||t[51]!==Ie||t[52]!==Nl||t[53]!==Il?(Pl=g.jsxs("div",{className:Nl,ref:Ie,children:[s,Il]}),t[50]=s,t[51]=Ie,t[52]=Nl,t[53]=Il,t[54]=Pl):Pl=t[54];let wl;t[55]!==r||t[56]!==n||t[57]!==ke||t[58]!==ye||t[59]!==xe||t[60]!==Je||t[61]!==Wt||t[62]!==qe||t[63]!==Xe||t[64]!==le||t[65]!==kr||t[66]!==rn||t[67]!==Pl?(wl=g.jsxs(gu.Content,{ariaLabelledBy:n,ariaDescribedBy:r,size:le,position:Je,onPointerDownOutside:xe,className:kr,containerClassName:ke,removePopoverStyling:qe,shadow:Xe,onEscapeKeyDown:ye,removeBackground:Wt,children:[rn,Pl]}),t[55]=r,t[56]=n,t[57]=ke,t[58]=ye,t[59]=xe,t[60]=Je,t[61]=Wt,t[62]=qe,t[63]=Xe,t[64]=le,t[65]=kr,t[66]=rn,t[67]=Pl,t[68]=wl):wl=t[68];let Rl;t[69]!==z||t[70]!==Ae||t[71]!==wl?(Rl=g.jsx(gu.Overlay,{showBackground:Ae,className:z,children:wl}),t[69]=z,t[70]=Ae,t[71]=wl,t[72]=Rl):Rl=t[72];let i_;return t[73]!==Ke||t[74]!==i||t[75]!==Ge||t[76]!==hn||t[77]!==Rl||t[78]!==me?(i_=g.jsx(gu.Root,{isOpen:Ke,onClose:hn,shouldIgnoreClickOutside:Ge,className:i,testId:me,children:Rl}),t[73]=Ke,t[74]=i,t[75]=Ge,t[76]=hn,t[77]=Rl,t[78]=me,t[79]=i_):i_=t[79],i_}function Dje(e){"use forget";const t=j.c(17),{primaryButton:n,secondaryButton:r,tertiaryButton:s,footerContent:i,textCenter:o,className:a,isSpacedBetween:c,modalActionsClassName:l,modalHasContent:u,footerHasTopMargin:d}=e,f=d===void 0?!0:d,h=n!=null||r!=null;if(!(h||i))return null;const p=c?"justify-between gap-3":"justify-end";let _;t[0]!==a||t[1]!==p?(_=oe("flex w-full flex-row items-center text-sm select-none",p,a),t[0]=a,t[1]=p,t[2]=_):_=t[2];let m;t[3]!==f||t[4]!==h||t[5]!==c||t[6]!==l||t[7]!==u||t[8]!==n||t[9]!==r||t[10]!==s||t[11]!==o?(m=h?g.jsx("div",{className:oe(c?"grow":"flex-0"),children:g.jsx(gu.Actions,{className:oe(l,"flex w-full flex-row-reverse"),textCenter:o,primaryButton:n,secondaryButton:r,tertiaryButton:s,modalHasContent:f&&u,isSpacedBetween:c})}):null,t[3]=f,t[4]=h,t[5]=c,t[6]=l,t[7]=u,t[8]=n,t[9]=r,t[10]=s,t[11]=o,t[12]=m):m=t[12];let v;return t[13]!==i||t[14]!==_||t[15]!==m?(v=g.jsxs("div",{className:_,children:[i,m]}),t[13]=i,t[14]=_,t[15]=m,t[16]=v):v=t[16],v}const Uje=Ee(_t,"f095f1",16,16,!0),Fje=Ee(_t,"5922e2",16,16,!0),Gje=Ee(et,"b4c06e",24,24),OQ=Ee(et,"ff0d80",24,24),jje=Ee(et,"53aee1",24,24),Bje=Ee(et,"65e149",24,24),Nt=e=>()=>g.jsx(f2e,{ConnectorIcon:e}),MP=Nt(rl),Hje=Nt(Ec),$je=Nt(Iz),T4=Nt(OQ),Wje=Nt(Az),qje=Nt(Oz),Vje=Nt(zI),zje=Nt(Rz),Yje=Nt(Cm),Kje=Nt($E),Jje=Nt(qE),Xje=Nt(Cz),Qje=Nt(yz),Zje=Nt(Sz),e2e=Nt(Tz),t2e=Nt(bz),n2e=Nt(Nz),r2e=Nt(Pz),s2e=Nt(wz),i2e=Nt(xz),ket=Nt(WE),Let=Nt(Mz),o2e=Nt(Lz),Det=Nt(Gje),a2e=Nt(Dz),c2e=Nt(Uz),O4=Nt(kz),l2e=Nt(Fz),u2e=Nt(Bje),d2e=Nt(jje),f2e=({ConnectorIcon:e})=>g.jsxs("div",{className:"-mb-2 flex items-center justify-center gap-4 ps-2.5 pt-4",children:[g.jsx(fR,{className:"h-12 w-12"}),g.jsxs("div",{className:"text-token-text-secondary",children:[g.jsx(Uje,{className:"icon-sm me-1.5"}),g.jsx(Fje,{className:"icon-sm ms-1.5"})]}),g.jsx(e,{width:48,height:48})]}),h2e={google_drive_oauth:MP,google_drive_dwd:MP,slack:Hje,github:$je,sharepoint:T4,sharepoint_admin:T4,dropbox:Wje,box:qje,linear:Vje,intercom:zje,hubspot:Yje,confluence:Kje,notion:Jje,aha:Xje,asana:Qje,azure_devops:Zje,basecamp:e2e,clickup:t2e,front:n2e,gitlab:r2e,help_scout:s2e,ironclad:i2e,pipedrive:o2e,shortcut:a2e,teamwork:c2e,teams:O4,teams_admin:O4,zendesk:l2e,zoho:u2e,zoho_desk:d2e},Uet=e=>{const t=h2e[e];return t?g.jsx(t,{}):null},Ix=({footerContent:e,primaryButton:t,secondaryButton:n})=>!e&&!t&&!n?null:g.jsxs("div",{className:"border-token-border-default flex items-center justify-between border-t p-6",children:[g.jsxs("div",{children:[e," "]}),g.jsxs("div",{className:"flex gap-2",children:[n,t]})]}),bQ=new Set(Object.values(kt)),p2e=new Set(Object.values(Fa).map(e=>e.access)),AQ=new Set(Object.values(Xq)),_2e="connectors.entrypoint_selection_latency",NQ="connectors.entrypoint_start",kP=new Map,m2e="".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).slice(2));function IQ(){var e;return"".concat((e=q.sessionId)!=null?e:m2e)}function g2e(e,t){if(!(typeof window>"u"))try{window.sessionStorage.setItem("".concat(NQ,":").concat(e),t.toString())}catch(n){}}function b4(e){if(typeof window>"u")return;const t="".concat(NQ,":").concat(e);try{const n=window.sessionStorage.getItem(t);if(window.sessionStorage.removeItem(t),n==null)return;const r=Number(n);return Number.isFinite(r)?r:void 0}catch(n){return}}function v2e(){const e=IQ(),t=Date.now();kP.set(e,t),g2e(e,t)}function E2e(){const e=IQ();let t=kP.get(e);if(t?b4(e):t=b4(e),t==null)return;kP.delete(e);const r=Date.now()-t;r<=0||r>3600*1e3||q.addAction(_2e,{latency_ms:r,event:"entrypoint_selection_latency"})}function C2e(e){const t=e.replace(/_connector$/,"").replace(/_action$/,"").replace(/_bot$/,"").replace(/_codex$/,"");return t==="gdrive"||t.startsWith("gdrive_")?"google_drive":t}function y2e(e){return e==="ECOSYSTEM_DIRECTORY"?"3p_published":e==="TENANT_CATALOG"?"3p_not_published":"1p"}function S2e(e){const t=rr[e];return t?C2e(t):kge(e)?"mcp":"unknown"}function Zg(e){return e?!!(p2e.has(e)||rr[e]&&AQ.has(rr[e])):!1}function PQ(e){return e?bQ.has(e):!1}function T2e(e,t){return e&&e.connector_type==="MCP"?!0:!t||bQ.has(t)?!1:!wQ(t)}function wQ(e){return rr[e]!==void 0}function O2e(e,t){var n;if(t)return t;if(e)return((n=e.labels)==null?void 0:n.admin_only_connector)==="true"||e.distribution_channel==="TENANT_CATALOG"?"workspace":"user"}function b2e(e){if(!e)return;const t=rr[e];if(t===x.SHAREPOINT_ADMIN_CONNECTOR||t===x.TEAMS_ADMIN_CONNECTOR)return"workspace"}function A4(e){var l,u,d,f,h,p,_,m,v,E,b,C,y,O,A,N,I,w,M;const t=(u=(l=e.connector)==null?void 0:l.id)!=null?u:e.connectorId;if(!t)throw new Error("_buildConnectorIdMetadata: connectorId is required to build metadata");const n=new Set,r=(k,D)=>{D&&n.add(k)},s=(d=e.traitOverrides)!=null?d:{};r("access",(f=s.access)!=null?f:PQ(t));const i=(p=(h=e.connector)==null?void 0:h.connector_type)!=null?p:rr[t],o=i!=null&&AQ.has(i);r("sync",(m=(_=s.sync)!=null?_:o)!=null?m:Zg(t)),r("mcp",(v=s.mcp)!=null?v:T2e(e.connector,t)),r("ecosystem",(b=s.ecosystem)!=null?b:((E=e.connector)==null?void 0:E.distribution_channel)==="ECOSYSTEM_DIRECTORY"),r("retrievable",(O=s.retrievable)!=null?O:!!((y=(C=e.connector)==null?void 0:C.conformance)!=null&&y.implements_retrievable));const a=(N=e.ownerOverride)!=null?N:y2e((A=e.connector)==null?void 0:A.distribution_channel),c=(M=(w=(I=e.authScopeOverride)!=null?I:O2e(e.connector,e.authScopeOverride))!=null?w:b2e(t))!=null?M:"user";return{connector_id:t,connector_traits:Array.from(n),connector_owner:a,auth_scope:c,referrer:e.referrer}}function N4(e){if(e.kindOverride)return e.kindOverride;const t=e.connector_id_metadata.connector_id;return t?Zg(t)?"1p_sync":PQ(t)||wQ(t)?"1p_access":"3p_mcp":"3p_mcp"}function A2e(e,t){const n=new Set,r=new Set;for(const i of e){if(typeof i!="string")continue;if(kt[i]){n.add(i);continue}if(i.startsWith("connector_")){Zg(i)?r.add(i):n.add(i);continue}Zg(i)&&r.add(i)}const s=Array.from(t,i=>{var o;return(o=i.name)!=null?o:"Unknown MCP"});return{accessConnectorIds:Array.from(n),syncConnectorIds:Array.from(r),mcpConnectorIds:s}}function Za(e){const{connector_id:t,connector_owner:n,auth_scope:r,connector_traits:s}=e;return{connector_id:t,service_key:S2e(t),connector_owner:n,auth_scope:r,connector_traits:s}}function n0(e){return Array.from(new Set(e))}function N2e(e){if(e)return e;try{return n1()}catch(t){return}}function I2e(e,t,{productSku:n}={}){const r=N2e(e);if(!r)return;const s=mz(r,{productSku:n}),i=s==null?void 0:s.get(t);if(i)return{id:i.id,distribution_channel:i.distribution_channel,supported_auth:i.supported_auth,conformance:i.conformance,labels:i.labels,connector_type:i.connector_type}}const Br={createIdMetadataFromConnector(e,t,n={}){return A4({connector:e,referrer:t,traitOverrides:n.traitOverrides,ownerOverride:n.ownerOverride,authScopeOverride:n.authScopeOverride})},createIdMetadataFromId(e,t,n,r={}){const s=I2e(e,t,{productSku:r.productSku});return A4({connector:s!=null?s:void 0,connectorId:s?void 0:t,referrer:n,traitOverrides:r.traitOverrides,ownerOverride:r.ownerOverride,authScopeOverride:r.authScopeOverride})},logEntryPointShown({referrer:e,connectedCount:t}){re.logEventWithStatsig("connectors.entry_point_shown","connectors.entry_point_shown",{referrer:e,connected_count:t}),mt.count(ft.DEFAULT,"connectors_entry_point_shown",{referrer:e})},logModalShown(e){const t=e.connector_id_metadata,n=S(S(S(S(P(S({},Za(t)),{referrer:e.referrer}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{}),e.mfaState?{mfa:e.mfaState}:{}),e.authType?{auth_type:e.authType}:{}),typeof e.skippedByAdmin=="boolean"?{skipped_by_admin:e.skippedByAdmin}:{});re.logEventWithStatsig("connectors.modal_shown","connectors.modal_shown",n),mt.count(ft.DEFAULT,"connectors_modal_shown",{referrer:e.referrer})},logModalActionTaken(e){const t=e.connector_id_metadata,n=S(P(S({},Za(t)),{action:e.action,referrer:e.referrer}),e.authType?{auth_type:e.authType}:{});re.logEventWithStatsig("connectors.modal_action_taken","connectors.modal_action_taken",n),mt.count(ft.DEFAULT,"connectors_modal_action_taken",{referrer:e.referrer,action:e.action})},logSetupCompleted(e){const t=P(S({},Za(e.connector_id_metadata)),{success:e.success,referrer:e.referrer,error:e.error,sync_required:e.syncRequired});re.logEventWithStatsig("connectors.setup_complete","connectors.setup_complete",t),mt.count(ft.DEFAULT,"connectors_setup_complete",{referrer:e.referrer,success:e.success?"true":"false",sync_required:e.syncRequired?"true":"false"})},logOAuthInitiated(e){const t=e.connector_id_metadata,n=S(S(P(S({},Za(t)),{referrer:e.referrer,kind:N4(e)}),e.scopes?{scopes:e.scopes}:{}),e.authType?{auth_type:e.authType}:{});re.logEventWithStatsig("connectors.oauth_initiated","connectors.oauth_initiated",n)},logOAuthCompleted(e){var s;const t=e.connector_id_metadata,n=S(S(P(S(S(P(S({},Za(t)),{success:e.success,referrer:e.referrer}),e.errorType?{errorType:e.errorType}:{}),e.errorMessage?{errorMessage:e.errorMessage}:{}),{kind:N4(e)}),e.scopes?{scopes:e.scopes}:{}),e.authType?{auth_type:e.authType}:{});re.logEventWithStatsig("connectors.oauth_complete","connectors.oauth_complete",n),(!t.connector_traits.includes("sync")||t.connector_traits.includes("access"))&&this.logSetupCompleted({connector_id_metadata:t,referrer:e.referrer,success:e.success,syncRequired:!1,error:e.success?void 0:(s=e.errorMessage)!=null?s:e.errorType})},logSelectionChanged(e){const t=A2e(e.selectedSources,e.selectedMCPSources),n=S({referrer:e.referrer,selected_access_connector_ids:t.accessConnectorIds,selected_sync_connector_ids:t.syncConnectorIds,selected_mcp_connector_ids:t.mcpConnectorIds},e.triggerHint?{trigger_hint:e.triggerHint}:{});re.logEventWithStatsig("connectors.selected","connectors.selected",n),E2e()},logTurnInteraction(e){re.logEventWithStatsig("connectors.turn_interaction","connectors.turn_interaction",S({searched_access_connector_ids:n0(e.accessConnectorIds),searched_sync_connector_ids:n0(e.syncConnectorIds),searched_mcp_connector_ids:n0(e.mcpConnectorIds)},e.triggerHint?{trigger_hint:e.triggerHint}:{}))},logUpgradeToSyncInitiated(e){const t=e.connector_id_metadata,n=S(P(S({},Za(t)),{referrer:e.referrer}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{});re.logEventWithStatsig("connectors.upgrade_to_sync_init","connectors.upgrade_to_sync_init",n),mt.count(ft.DEFAULT,"connectors_upgrade_to_sync_init",{referrer:e.referrer,upgrade_to_sync:e.upgradeToSync?"true":"false"})},logUpgradeToSyncCompleted(e){var r;const t=e.connector_id_metadata,n=S(S(S(P(S({},Za(t)),{success:e.success,referrer:e.referrer}),e.errorType?{errorType:e.errorType}:{}),e.errorMessage?{errorMessage:e.errorMessage}:{}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{});re.logEventWithStatsig("connectors.upgrade_to_sync_complete","connectors.upgrade_to_sync_complete",n),mt.count(ft.DEFAULT,"connectors_upgrade_to_sync_complete",{referrer:e.referrer,success:e.success?"true":"false",upgrade_to_sync:e.upgradeToSync?"true":"false"}),e.upgradeToSync||this.logSetupCompleted({connector_id_metadata:t,referrer:e.referrer,success:e.success,syncRequired:e.upgradeToSync,error:e.success?void 0:(r=e.errorMessage)!=null?r:e.errorType})},logNoAvailableConnectors(){re.logEventWithStatsig("chatgpt_user_onboarding_for_workspace_no_available_connectors","chatgpt_user_onboarding_for_workspace_no_available_connectors")}},P2e=Object.freeze(Object.defineProperty({__proto__:null,ConnectorsAnalytics:Br,markEntryPointShown:v2e},Symbol.toStringTag,{value:"Module"})),RQ=new BroadcastChannel("oauth_channel"),Fet=e=>{RQ.postMessage(e)},r0=e=>{if(!e)return;const t=Xq[e];return t?kt[t]:void 0};async function xQ({connectionId:e,connectorType:t,redirectTo:n,location:r,isReconnect:s,intl:i,isAdminQuickstartFlow:o=!1,accountId:a}){var h;const c=window.open("about:blank","_blank");if(!c)throw new Error(i.formatMessage(em.popupBlocked));if(o&&!a)throw new Error(i.formatMessage(em.somethingWentWrong));let l;try{l=await(o?Oa.admin_request_connect_quickstart(a!=null?a:"",e,n):Oa.user_request_connect(e,n,!0))}catch(p){throw c.close(),new Error(i.formatMessage(em.somethingWentWrong))}re.logEventWithStatsig("Contextual Answers User OAuth Initiated","chatgpt_contextual_answers_user_oauth_initiated",{connectorType:t,location:r,isReconnect:s,isAdminQuickstartFlow:o});const u=n1(),d=(h=Jq())!=null?h:"contextual_answers.".concat(r),f=r0(t);return f&&Br.logOAuthInitiated({connector_id_metadata:Br.createIdMetadataFromId(u,f,d,{traitOverrides:{sync:!0}}),referrer:d,authType:"OAUTH",scopes:null,kindOverride:"1p_sync"}),c.location.href=l.oauth_flow_url,new Promise(p=>{const _=m=>{const{error:v,errorDesc:E,errorType:b,pluginId:C,success:y}=m.data;if(m.origin===window.location.origin&&!(l.plugin_id&&l.plugin_id!==C))if(y){re.logEventWithStatsig("Contextual Answers User OAuth Completed","chatgpt_contextual_answers_user_oauth_completed",{connectorType:t,isAdminQuickstartFlow:o});const O=r0(t);O&&Br.logOAuthCompleted({connector_id_metadata:Br.createIdMetadataFromId(u,O,d,{traitOverrides:{sync:!0}}),referrer:d,authType:"OAUTH",scopes:null,success:!0,kindOverride:"1p_sync"}),p({success:!0,message:i.formatMessage(em.connectedDriveSyncDesc)})}else{re.logEventWithStatsig("Contextual Answers User OAuth Failed","chatgpt_contextual_answers_user_oauth_failed",{connectorType:t,errorType:b,isAdminQuickstartFlow:o});const O="".concat(v).concat(E?": ".concat(E):""),A=r0(t);A&&Br.logOAuthCompleted({connector_id_metadata:Br.createIdMetadataFromId(u,A,d,{traitOverrides:{sync:!0}}),referrer:d,authType:"OAUTH",scopes:null,success:!1,errorType:b,errorMessage:O,kindOverride:"1p_sync"}),p({errorType:b,success:y,message:O})}};RQ.addEventListener("message",_,!1),c.addEventListener("beforeunload",()=>{window.removeEventListener("message",_,!1)})})}const em=Rt({popupBlocked:{id:"67rWk2",defaultMessage:"Popup blocked. Please allow popups for this site."},connectedDriveSyncDesc:{id:"CACallback.connectedDriveSyncDesc.2",defaultMessage:"Google Drive is now connected and syncing."},somethingWentWrong:{id:"RvtOjD",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),w2e=Yn(()=>ne(()=>import("./604d4c3d-edk1z1un3e93kfkg.js"),__vite__mapDeps([20,1,2,3,21,22,13,14,23,24,25])).then(e=>e.GoogleRedirectContent)),Px={type:"success",size:"custom",className:"max-w-xl",showCloseButton:!0,shouldIgnoreClickOutside:!0,hideSeparator:!0,noPadding:!0,title:g.jsx(MP,{})},R2e=({onClose:e,isAdminFlow:t,isAdminQuickstartFlow:n=!1,connectionId:r,location:s,accountId:i,onSuccess:o,excludeModalWrapper:a=!1,immediatelyKickOffOAuth:c=!1})=>{var C,y;const l=(y=(C=G8())==null?void 0:C.enabled)!=null?y:!1,u=!t&&l,[d,f]=T.useState(c?"immediate_oauth":u?"cta":"disclaimer"),[h,p]=T.useState(),_=vt(),m=T.useCallback(()=>{o==null||o(),e==null||e()},[e,o]),v={connectionId:r,connectorType:"google_drive_oauth",location:s,isAdminQuickstartFlow:n,accountId:i,onSuccess:m,onError:O=>{p(O),f("error")}},E=T.useRef(!1),{initiateOAuthFlow:b}=lC(v);switch(T.useEffect(()=>{c&&!E.current&&(E.current=!0,b())}),d){case"immediate_oauth":return g.jsx("div",{className:"flex w-full justify-center p-10",children:g.jsx(zu,{})});case"disclaimer":return g.jsx(x2e,{isOpen:!0,onClose:e,excludeModalWrapper:a,isAdminFlow:t,isAdminQuickstartFlow:n,secondaryButton:g.jsx(Qf,{title:_.formatMessage(tu.cancel),color:"secondary",onClick:e}),primaryButton:g.jsx(Qf,{color:"primary",onClick:()=>f("cta"),children:_.formatMessage(tu.continue)})});case"cta":return u?g.jsx(k2e,S({onClose:e,isReconnect:!1,excludeModalWrapper:a},v)):g.jsx(M2e,{isOpen:!0,onClose:e,excludeModalWrapper:a,secondaryButton:g.jsx(Qf,{title:_.formatMessage(tu.back),color:"secondary",onClick:()=>f("disclaimer")}),primaryButton:g.jsx(I4,S({label:_.formatMessage(tu.loginWithGoogle)},v))});case"error":return u?g.jsx(D2e,S({onClose:e,error:h,excludeModalWrapper:a,isReconnect:!0},v)):g.jsx(L2e,{isOpen:!0,onClose:e,error:h,excludeModalWrapper:a,primaryButton:g.jsx(I4,S({label:_.formatMessage(tu.reconnect),isReconnect:!0},v))})}};function x2e({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:s,isAdminFlow:i,isAdminQuickstartFlow:o}){const a=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsx("div",{className:"text-xl font-medium",children:g.jsx(xt,{id:"zjbSLP",defaultMessage:"Connect your organizations Google Drive "})}),g.jsx("div",{className:"text-md text-token-text-secondary mt-3",children:o?g.jsx(xt,{id:"YCbpE/",defaultMessage:"Linking ChatGPT to Google Drive gives you more tailored answers based on your organization's context. Once you connect, others in your org can too."}):g.jsx(xt,{id:"+hD78k",defaultMessage:"{userText}Connecting ChatGPT to Google Drive helps you get more personalized, up-to-date answersgrounded in your organizations content. ChatGPT semantically searches your Drive and only surfaces content youre authorized to view.",values:{userText:!i&&g.jsx(xt,{id:"kg6Qe+",defaultMessage:"Your admin has enabled internal knowledge for your workspace. "})}})}),g.jsx("div",{className:"mt-6 text-lg font-medium",children:g.jsx(xt,{id:"x/LOXH",defaultMessage:"What to expect"})}),g.jsxs("ul",{className:"text-md text-token-text-secondary ms-6 mt-4",children:[g.jsx("li",{className:"mb-2 list-disc",children:g.jsx(xt,{id:"iBETBV",defaultMessage:"Continuous sync: Your documents, spreadsheets, and presentations stay up to date in ChatGPT."})}),g.jsx("li",{className:"mb-2 list-disc",children:g.jsx(xt,{id:"u/D1Mk",defaultMessage:"Privacy first: ChatGPT always respects your Google Drive permissions  it can only access what you can."})}),g.jsx("li",{className:"list-disc",children:g.jsx(xt,{id:"uHiJ04",defaultMessage:"Youre in control: Disconnect anytime to instantly revoke access."})})]}),o&&g.jsxs("div",{className:"bg-token-main-surface-secondary text-token-text-primary mt-6 flex w-full flex-row items-center gap-4 rounded-xl p-4",children:[g.jsx(dh,{className:"icon-lg"}),g.jsx("span",{className:"text-token-text-secondary text-sm",children:g.jsx(xt,{id:"k5y2IZ",defaultMessage:"<b>Note</b>: Only users with the <i>same</i> Google Workspace domain can connect. Your email should look like <code>example.com</code>  personal accounts wont work. Be sure youre using the right one.",values:{b:c=>g.jsx("strong",{children:c}),i:c=>g.jsx("em",{children:c}),code:c=>g.jsx("code",{children:c})}})})]})]}),g.jsx(Ix,{secondaryButton:r,primaryButton:s})]});return n?a:g.jsx(Sl,P(S({},Px),{isOpen:e,onClose:t,testId:"modal-gdrive-disclaimer",children:a}))}function M2e({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:s}){const i=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsx("div",{className:"mb-3 text-xl font-medium",children:g.jsx(xt,{id:"X4Rl7H",defaultMessage:"Allow full access"})}),g.jsx("div",{children:g.jsx(xt,{id:"laPpDC",defaultMessage:"<b>Important:</b> In the next step, make sure to keep all boxes checked. ChatGPT requires access to the full list of Google permissions.",values:{b:o=>g.jsx("strong",{children:o})}})})]}),g.jsx(Ix,{secondaryButton:r,primaryButton:s})]});return n?i:g.jsx(Sl,P(S({},Px),{isOpen:e,onClose:t,testId:"modal-gdrive-cta",children:i}))}function k2e(r){var s=r,{onClose:e,excludeModalWrapper:t}=s,n=B(s,["onClose","excludeModalWrapper"]);const{loading:i,initiateOAuthFlow:o}=lC(n),a=g.jsx(w2e,{connectorIcon:g.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:g.jsx(rl,{height:32,width:32})}),connectorName:"Google Drive",connectorId:nje,onClose:e,isConnecting:i,onContinue:()=>o()});return t?a:g.jsx(Sl,{rootClassName:"z-100",testId:"modal-gdrive-cta-slurm",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:a})}const MQ=({intl:e,error:t})=>{var s;let n,r;switch(t==null?void 0:t.errorType){case"ca/oauth_api_access_error":{n=e.formatMessage({id:"LrBpzI",defaultMessage:"Permissions required"}),r=e.formatMessage({id:"E0lVhb",defaultMessage:"In order to sync your drive you must give ChatGPT the appropriate permissions. Please try again and select all the required checkboxes."});break}case"ca/oauth_missing_user_info_domain":{n=e.formatMessage({id:"CDqa2q",defaultMessage:"Cannot connect this account"}),r=e.formatMessage({id:"6Can6p",defaultMessage:"The Google account you are trying to connect does not belong to a Google Workspace domain. Google accounts that do not belong to a Google Workspace (such as personal Gmail accounts) are not eligible to connect to this specific feature at this time."});break}case"ca/oauth_has_existing_linked_openai_account":{n=e.formatMessage({id:"QSfIDZ",defaultMessage:"This Google account is already connected to a different ChatGPT account"}),r=e.formatMessage({id:"Z9Bj8k",defaultMessage:"The Google account you are trying to link is already connected to a different ChatGPT user for this Google Drive connection."});break}case"ca/oauth_connection_not_allowed":{n=e.formatMessage({id:"I3ekm6",defaultMessage:"Your ChatGPT account is not enabled for this connection"}),r=e.formatMessage({id:"0Vbazl",defaultMessage:"Your ChatGPT administrator has not enabled this connection for your account."});break}default:n=e.formatMessage({id:"ojfL45",defaultMessage:"Something went wrong"}),r=(s=t==null?void 0:t.message)!=null?s:e.formatMessage({id:"5MOzf8",defaultMessage:"We were unable to connect your Google account. Please check your settings and try again."})}return{title:n,body:r}};function L2e({isOpen:e,onClose:t,excludeModalWrapper:n,primaryButton:r,error:s}){const i=vt(),{title:o,body:a}=MQ({intl:i,error:s}),c=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xl font-medium",children:[g.jsx(ije,{className:"icon-lg"}),o]}),g.jsx("div",{children:a})]}),g.jsx(Ix,{primaryButton:r})]});return n?c:g.jsx(Sl,P(S({},Px),{isOpen:e,onClose:t,testId:"modal-gdrive-error",children:c}))}function D2e(s){var i=s,{onClose:e,error:t,excludeModalWrapper:n}=i,r=B(i,["onClose","error","excludeModalWrapper"]);const o=vt(),{title:a,body:c}=MQ({intl:o,error:t}),{loading:l,initiateOAuthFlow:u}=lC(r),d=g.jsxs(g.Fragment,{children:[g.jsx(eje,{onClose:e,connectorIcon:g.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:g.jsx(rl,{height:32,width:32})}),title:a}),g.jsxs("div",{className:"border-token-border-default text-token-text-secondary mt-8 mb-6 flex items-center gap-4 rounded-xl border p-4 text-sm",children:[g.jsx(aje,{className:"icon-lg"}),c]}),g.jsx(li,{className:"w-full",size:"large",onClick:()=>u(),loading:l,children:o.formatMessage(tu.reconnect)})]});return n?d:g.jsx(Sl,{testId:"modal-gdrive-error-slurm",rootClassName:"z-100",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:d})}const lC=({connectorType:e,connectionId:t,location:n,isReconnect:r=!1,isAdminQuickstartFlow:s,accountId:i,onSuccess:o,onError:a})=>{const[c,l]=T.useState(!1),u=vt(),d=Kn(),f=tn(),h=T.useCallback(async()=>{try{l(!0);const{message:p,errorType:_,success:m}=await xQ({connectorType:e,connectionId:t,location:n,isReconnect:r,intl:u,isAdminQuickstartFlow:s,accountId:i});m?(await Promise.all([!1,!0].map(v=>f.invalidateQueries({queryKey:So(v)}))),d.success(p),o==null||o()):(d.danger(p,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:p}),a==null||a({errorType:_,message:p}))}catch(p){a==null||a(),p instanceof Error&&d.danger(p.message,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:p.message})}finally{l(!1)}},[e,t,n,r,u,s,i,d,f,o,a]);return{loading:c,initiateOAuthFlow:h}},I4=n=>{var r=n,{label:e}=r,t=B(r,["label"]);const{loading:s,initiateOAuthFlow:i}=lC(t);return g.jsx(Qf,{loading:s,onClick:i,color:"primary",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(oje,{}),e]})})},tu=Rt({back:{id:"RDaXnk",defaultMessage:"Back"},cancel:{id:"CfN1/v",defaultMessage:"Cancel"},continue:{id:"XGnWba",defaultMessage:"Continue"},loginWithGoogle:{id:"9ImAmL",defaultMessage:"Log in with Google"},reconnect:{id:"0qUCBD",defaultMessage:"Reconnect"},encounteredError:{id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),U2e=({connectorType:e,connectionId:t,location:n,refetch:r,renderButton:s})=>{const i=vt(),[o,a]=T.useState(!1),c=Kn(),l=uR(),u=e==="google_drive_oauth",d=T.useCallback(async()=>{try{a(!0),await xQ({connectorType:e,connectionId:t,location:n,intl:i})}catch(m){m instanceof Error?c.danger(m.message,{toastId:"ca_oauth_button"}):c.danger(i.formatMessage({id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}),{toastId:"ca_oauth_button",loggingTitle:"Encountered an error connecting your account.",loggingDescription:"Error message shown when a user tries to link their account but it fails."})}finally{a(!1),r==null||r()}},[t,e,i,n,r,c]),[f,h]=T.useState(!1),p=s({disabled:l,isLoading:o,onClick:()=>{u?h(!0):d()}}),_=p;return l?g.jsx(Ua,{label:i.formatMessage(F2e.gdriveTooltip),children:p}):g.jsxs(g.Fragment,{children:[_,f&&g.jsx(R2e,{isAdminFlow:!1,onClose:()=>h(!1),connectionId:t,location:n,onSuccess:r})]})},F2e=Rt({gdriveTooltip:{id:"9DbE+w",defaultMessage:"Cannot connect, please use the web version instead"}}),kQ=({startDate:e,now:t,scale:n})=>{const r=t.getTime()-e.getTime();if(r<=0)return 0;const s=r/n,i=Math.min(1,Math.log1p(s*9)/Math.log1p(10));return Math.round(i*100)},LQ=(e=1e3)=>{const[t,n]=T.useState(new Date);return T.useEffect(()=>{const r=setInterval(()=>{n(new Date)},e);return()=>clearInterval(r)},[e]),t},G2e=({connection:e,isBlueButton:t=!1})=>{const n=vt(),r=LQ(),s=e.user_connection_details.initialized_at,i=s?kQ({startDate:new Date(s),now:r,scale:1e3*60*60*3})/2:25;return g.jsx(Ua,{label:t?n.formatMessage({id:"cv8jes",defaultMessage:"The app is connected and available to use in ChatGPT, but performance will be improved once it's fully synced."}):n.formatMessage({id:"69GKr/",defaultMessage:"Syncing may take 8 hours or longer"}),side:"right",children:g.jsxs("div",{className:oe("text-caption-regular text-token-text-tertiary flex items-center gap-2 text-sm",t?"text-blue-500":"grayscale"),children:[g.jsx(aC,{sizeOverride:18,percentage:i,className:t?"text-blue-500":""}),g.jsx("span",{className:oe(t?"text-blue-500":void 0),children:g.jsx(xt,{id:"fYaL40",defaultMessage:"Syncing"})})]})})},j2e=({className:e,connection:t,ignoreLabel:n=!1,isBlueButton:r=!1})=>{const s=vt(),i=LQ(),o=t.user_connection_details.initialized_at,a=o?kQ({startDate:new Date(o),now:i,scale:1e3*60*60*6})/2+50:75;return g.jsx(Ua,{label:s.formatMessage({id:"lsQnba",defaultMessage:"Last 30 days synced"}),secondaryLabel:s.formatMessage({id:"j+cskE",defaultMessage:"Full sync can take up to few days"}),side:"right",children:g.jsxs("div",{className:oe("text-caption-regular text-token-text-tertiary flex items-center gap-2",e,r?"text-blue-500":""),children:[g.jsx(aC,{sizeOverride:18,percentage:a,className:"text-blue-400"}),!n&&g.jsx("span",{className:oe(r?"text-blue-500":void 0),children:g.jsx(xt,{id:"fYaL40",defaultMessage:"Syncing"})})]})})},B2e=({connection:e,location:t,inactiveButtonOverride:n,isBlueButton:r=!1})=>{var c;const[s,i]=T.useState(new Date);T.useEffect(()=>{const l=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(l)},[]);const o=vt();switch(e.user_connection_details.activation_status){case"activated":{const l=(c=e.user_connection_details.last_delta_sync_completed_at)!=null?c:e.user_connection_details.last_full_sync_completed_at;return l?g.jsx("div",{className:"text-body-small-regular",children:KGe({now:s,givenDate:new Date(l),intl:o})}):g.jsxs("div",{className:oe("text-caption-regular text-token-text-tertiary flex items-center gap-2",r?"text-blue-500":"grayscale"),children:[g.jsx(zJ,{className:oe("icon-sm",r?"text-blue-500":"")}),g.jsx("span",{className:oe(r?"text-blue-500":void 0),children:g.jsx(xt,{id:"SWdiTP",defaultMessage:"Synced"})})]})}case"activating":return g.jsx(G2e,{connection:e,isBlueButton:r});case"partially_activated":return g.jsx(j2e,{connection:e,isBlueButton:r});case"inactive":return n||g.jsx(H2e,{connection:e,refetch:()=>sR(),location:t})}},P4="https://help.openai.com/en/articles/10929079-google-workspace-admin-managed-setup#h_856676fdde",DQ=({displayName:e,connectorType:t})=>g.jsx(Ua,{withArrow:!0,interactive:!0,label:g.jsx(S4,{openNewTab:!0,underline:!1,href:P4,children:g.jsx(xt,{id:"H0Humf",defaultMessage:"We were unable to connect your account to {connector_name}. Click to learn more.",values:{connector_name:t==="google_drive_dwd"?"Google Drive":e}})}),sideOffset:0,children:g.jsx(S4,{className:"hover:bg-token-interactive-bg-secondary-hover block rounded-full p-2",href:P4,openNewTab:!0,children:g.jsx(dh,{className:"icon"})})}),Get=({connection:e})=>{switch(e.user_connection_details.auth_status){case"admin_connected":return g.jsx(xt,{id:"Isczat",defaultMessage:"Connected"});case"admin_managed_disconnected":return g.jsx(DQ,{displayName:e.connection_display_info.display_name,connectorType:e.user_connection_details.knowledge_connector_type});case"not_connected":return g.jsx(xt,{id:"9ZiK24",defaultMessage:"Connect"});case"user_connected":return g.jsx(aC,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},H2e=({connection:e,refetch:t,location:n})=>{const r=T.useMemo(()=>{switch(e.user_connection_details.auth_status){case"admin_connected":return g.jsx(li,{disabled:!0,size:"small",color:"ghost",children:g.jsx(xt,{id:"Isczat",defaultMessage:"Connected"})});case"admin_managed_disconnected":return g.jsx(DQ,{displayName:e.connection_display_info.display_name});case"not_connected":return g.jsx($2e,{connection:e,location:n,refetch:t});case"user_connected":return g.jsx(aC,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},[e,n,t]);return g.jsx(g.Fragment,{children:r})},$2e=({connection:e,location:t,refetch:n})=>{const r=({disabled:s,isLoading:i,onClick:o})=>g.jsx(li,{size:"small",disabled:s,loading:i,onClick:o,color:"secondary",children:g.jsx(xt,{id:"9ZiK24",defaultMessage:"Connect"})});return g.jsx(U2e,{connectorType:e.user_connection_details.knowledge_connector_type,connectionId:e.user_connection_details.connection_instance_id,location:t,refetch:n,renderButton:r})},W2e=["admin_connected","admin_managed_disconnected"];function q2e({connection:e,refetch:t}){const n=Kn(),[r,s]=T.useState(!1);if(W2e.includes(e.user_connection_details.auth_status))return null;const i=async()=>{try{s(!0),await Oa.user_disconnect(e.user_connection_details.connection_instance_id),n.success("Successfully disconnected your account.")}catch(o){n.danger("Encountered an error disconnecting your account. Please try again later.",{toastId:"ca_disconnect_button"})}finally{s(!1),t==null||t()}};return g.jsxs(rf.Root,{children:[g.jsx(rf.BasicTrigger,{children:g.jsx("button",{type:"button",className:"text-token-text-secondary focus-visible:bg-token-surface-hover enabled:hover:bg-token-surface-hover disabled:text-token-text-quaternary h-8 rounded-lg px-2 focus-visible:outline-0",children:g.jsx(WGe,{className:"icon-sm"})})}),g.jsx(rf.Portal,{children:g.jsx(rf.Content,{size:"small",align:"end",children:g.jsx(rf.Item,{disabled:r,onClick:i,icon:g.jsx(qGe,{}),color:"danger",children:g.jsx(xt,{id:"iHFV22",defaultMessage:"Disconnect"})})})})]})}const Ud=e=>{"use forget";const t=j.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,s=r===void 0?!0:r,i=wd();let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=["user_connection_status"],t[2]=o):o=t[2];const a=i&&s;let c;return t[3]!==a?(c={queryKey:o,queryFn:Oa.user_connection_status,enabled:a},t[3]=a,t[4]=c):c=t[4],nn(c)},V2e=new Set(["slack_sync_connector"]);function jet(){const{data:e,isLoading:t,refetch:n}=Ud(),r=T.useMemo(()=>e==null?void 0:e.connection_statuses.filter(s=>V2e.has(s.user_connection_details.connection_type)),[e]);return T.useEffect(()=>{re.logEventWithStatsig("Contextual Answers User Settings Modal Shown","chatgpt_contextual_answers_user_settings_modal_shown")},[]),r!=null&&r.length?g.jsx(Age,{description:g.jsx(xt,{id:"WgqSZ6",defaultMessage:"These apps are only available to a limited number of users."}),title:g.jsx(xt,{id:"5eIx92",defaultMessage:"Beta apps"}),children:g.jsx("div",{className:"border-b",children:t?g.jsx("div",{className:"p-2",children:g.jsx(MUe,{lines:4})}):r!=null&&r.length?g.jsx("div",{children:r.map(s=>{var i,o;return g.jsx(Nge,{children:g.jsx(URe,{icon:g.jsx("img",{src:(i=s.connection_display_info.icon_url)!=null?i:"",alt:s.connection_display_info.display_name,className:"icon-lg"}),title:s.connection_display_info.display_name,statusIndicator:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(B2e,{connection:s,location:"user_settings"}),(s.user_connection_details.auth_status==="user_connected"||((o=s.user_connection_details)==null?void 0:o.activation_status)!=="inactive")&&g.jsx(q2e,{connection:s,refetch:n})]})})},s.user_connection_details.connection_instance_id)})}):g.jsx("p",{className:"text-token-text-secondary my-2",children:g.jsx(xt,{id:"nzXh59",defaultMessage:"No connections found."})})})}):null}const z2e=Ee(et,"a80240",24,24),Y2e=Ee(et,"e123bf",24,24),K2e=Ee(et,"61f096",24,24),J2e=Ee(et,"a72fc9",24,24),Bet=({className:e,contextConnector:t,extension:n})=>{const r=vt(),s=X2e(t,n);return g.jsx("div",{className:"".concat(e," dark:bg-token-main-surface-secondary flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10"),children:g.jsx(s,{className:"w-[20px]","aria-label":r.formatMessage({id:"ccc.fileIcon",defaultMessage:"File icon for {contextConnector}"},{contextConnector:t})})})};function X2e(e,t){switch(e){case Ne.CONFLUENCE:return $E;case Ne.GDRIVE:switch(t){case"doc":case"docx":return CTe;case"xls":case"xlsx":return yTe;case"ppt":case"pptx":return STe;default:return rl}case Ne.JIRA:return WE;case Ne.NOTION_OPEN_CONNECTOR:return qE;case Ne.O365_BUSINESS:case Ne.O365_PERSONAL:case Ne.O365:switch(t){case"doc":case"docx":return J2e;case"xls":case"xlsx":return Y2e;case"ppt":case"pptx":return K2e;default:return z2e}case Ne.SLACK_OPEN_CONNECTOR:return Ec}}function Het(e){switch(e){case Ne.CONFLUENCE:return $E;case Ne.GDRIVE:return rl;case Ne.JIRA:return WE;case Ne.NOTION_OPEN_CONNECTOR:return qE;case Ne.O365_PERSONAL:case Ne.O365:return YI;case Ne.O365_BUSINESS:return OQ;case Ne.SLACK_OPEN_CONNECTOR:return Ec}}var sf={},w4;function Q2e(){if(w4)return sf;w4=1,Object.defineProperty(sf,"__esModule",{value:!0});function e(t,n){if(n)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}return sf.assertNever=e,sf.default=e,sf}var Z2e=Q2e();const e4e=jt(Z2e),t4e=mn({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),n4e=mn({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),$et=Rt({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function Wet(e,t,n){var r,s;switch(e){case Ne.CONFLUENCE:return"Confluence";case Ne.GDRIVE:return"Google Drive";case Ne.JIRA:return"Jira";case Ne.NOTION_OPEN_CONNECTOR:return"Notion";case Ne.O365:return n?"OneDrive":"Microsoft OneDrive";case Ne.O365_PERSONAL:return n?"OneDrive":(r=t==null?void 0:t.formatMessage(t4e))!=null?r:"Microsoft OneDrive (personal)";case Ne.O365_BUSINESS:return n?"Sharepoint":(s=t==null?void 0:t.formatMessage(n4e))!=null?s:"Microsoft OneDrive (work/school)";case Ne.SLACK_OPEN_CONNECTOR:return"Slack"}}function r4e(e,t){switch(e){case Ne.CONFLUENCE:return"Confluence Page";case Ne.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case Ne.JIRA:return"Jira Issue";case Ne.NOTION_OPEN_CONNECTOR:return"Notion Page";case Ne.O365:case Ne.O365_PERSONAL:case Ne.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case Ne.SLACK_OPEN_CONNECTOR:return"Slack"}e4e(e)}function qet({contextConnector:e,extension:t}){return g.jsx(g.Fragment,{children:r4e(e,t)})}const wx=ot(()=>{const e=Pa(),t=e==null?void 0:e.user,n=ln("1967546325"),r=n.get("gdrivePicker",!1),s=n.get("o365Picker",!1),i=n.get("gdriveLink",!1),o=n.get("o365PersonalLink",!1),a=n.get("o365BusinessLink",!1),c=n.get("testCtor1Link",!1),l=n.get("testCtor2Link",!1),u=n.get("testCtor3Link",!1),d=n.get("oversmokeLink",!1),f=ln("3747383021"),h=Pe("3544641259")&&f.get("github",!1),p=n.get("gdrivePercentage",0),_=n.get("o365Percentage",0),m=n.get("testCtor1Percentage",0),v=n.get("testCtor2Percentage",0),E=n.get("testCtor3Percentage",0),b=n.get("oversmokePercentage",0),C=n.get("loadTestPercentage",0),y=n.get("showWorkspaceSettings",!1),O=t?s4e(t.id):null;return{confluenceLinkStatus:Ms(c,O,m),gdriveLinkStatus:Ms(i,O,p),gdriveStatus:Ms(r,O,p),jiraLinkStatus:Ms(l,O,v),notionLinkStatus:Ms(u,O,E),o365BusinessLinkStatus:Ms(a,O,_),o365PersonalLinkStatus:Ms(o,O,_),o365Status:Ms(s,O,_),slackLinkStatus:Ms(d,O,b),githubLinkStatus:Ms(h,O,100),loadTest:Ms(!0,O,C)==="true",showWorkspaceSettings:y}});function Ms(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function s4e(e){const n=i4e(e)%100;return Math.abs(n)}function i4e(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const o4e=new Map,Vet=[Ne.GDRIVE,Ne.O365_PERSONAL,Ne.O365_BUSINESS];function zet(){const{confluenceLinkStatus:e,gdriveLinkStatus:t,jiraLinkStatus:n,notionLinkStatus:r,o365BusinessLinkStatus:s,o365PersonalLinkStatus:i,slackLinkStatus:o}=wx();return Rx(t,s,i,e,n,r,o)}function Yet(){const{gdriveStatus:e,o365Status:t}=wx();return Rx(e,t,t)}function a4e(){const{gdriveStatus:e,o365Status:t,confluenceLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:s,slackLinkStatus:i,githubLinkStatus:o}=wx();return Rx(e,t,t,o,n,r,s,i)}function Rx(e,t,n,r=null,s=null,i=null,o=null,a=null){var F,Te,fe,$,W,ee,J;const c=ze(),l=c==null?void 0:c.getWorkspaceId(),u=[Ne.GDRIVE,Ne.O365_PERSONAL,Ne.O365_BUSINESS,...s==="true"||s==="ifConnected"?[Ne.CONFLUENCE]:[],...i==="true"||i==="ifConnected"?[Ne.JIRA]:[],...o==="true"||o==="ifConnected"?[Ne.NOTION_OPEN_CONNECTOR]:[],...a==="true"||a==="ifConnected"?[Ne.SLACK_OPEN_CONNECTOR]:[]],{connectors:d,isLoading:f,error:h,refetch:p}=c4e(u),{data:_,isLoading:m,error:v,refetch:E}=A7(l),b=!l||((F=_==null?void 0:_.beta_settings)==null?void 0:F[jo.CONTEXT_CONNECTOR_CONFLUENCE]),C=!l||((Te=_==null?void 0:_.beta_settings)==null?void 0:Te[jo.CONTEXT_CONNECTOR_GDRIVE]),y=!l||((fe=_==null?void 0:_.beta_settings)==null?void 0:fe[jo.CONTEXT_CONNECTOR_JIRA]),O=!l||(($=_==null?void 0:_.beta_settings)==null?void 0:$[jo.CONTEXT_CONNECTOR_NOTION]),A=!l||((W=_==null?void 0:_.beta_settings)==null?void 0:W[jo.CONTEXT_CONNECTOR_O365_PERSONAL]),N=!l||((ee=_==null?void 0:_.beta_settings)==null?void 0:ee[jo.CONTEXT_CONNECTOR_O365_BUSINESS]),I=!l||((J=_==null?void 0:_.beta_settings)==null?void 0:J[jo.CONTEXT_CONNECTOR_SLACK]),w=d.get(Ne.CONFLUENCE),M=d.get(Ne.GDRIVE),k=d.get(Ne.JIRA),D=d.get(Ne.NOTION_OPEN_CONNECTOR),L=d.get(Ne.O365_PERSONAL),G=d.get(Ne.O365_BUSINESS),K=d.get(Ne.SLACK_OPEN_CONNECTOR),V=(Z,ye)=>Z==="true"||Z==="ifConnected"&&ye,Y=T.useMemo(()=>{var We;const Z=!!s&&V(s,!!(w!=null&&w.access_token)),ye=!!(M!=null&&M.access_token),me=V(e,ye),Ie=!!i&&V(i,!!(k!=null&&k.access_token)),Ce=!!o&&V(o,!!(D!=null&&D.access_token)),Me=!!((We=L==null?void 0:L.access_token)!=null?We:G!=null&&G.access_token),ke=V(t,Me),xe=V(n,Me),Ke=!!a&&V(a,!!(K!=null&&K.access_token)),le=[Z&&w&&b?[Ne.CONFLUENCE,w]:null,me&&M&&C?[Ne.GDRIVE,M]:null,Ie&&k&&y?[Ne.JIRA,k]:null,Ce&&D&&O?[Ne.NOTION_OPEN_CONNECTOR,D]:null,xe&&L&&A?[Ne.O365_PERSONAL,L]:null,ke&&G&&N?[Ne.O365_BUSINESS,G]:null,Ke&&K&&I?[Ne.SLACK_OPEN_CONNECTOR,K]:null];return new Map(r7(le))},[w,s,M,e,k,i,D,o,G,K,t,L,n,b,a,C,O,y,A,N,I]);let Q=null,z=p;return h?(Q=h,z=p):v&&(Q=v,z=E),{connectorConfig:Y,isLoading:f||m,error:Q,refetch:z}}function c4e(e){const t=!at(),{data:n,isLoading:r,error:s,refetch:i}=nn(P(S({},l4e(e)),{enabled:!t}));return{connectors:T.useMemo(()=>!n||!n.length||s?o4e:new Map(n.map(a=>[a.type,a])),[n,s]),isLoading:r,error:s,refetch:i}}function l4e(e){return{queryKey:["fetchConnectorData",[...e]],queryFn:u4e,refetchInterval:1800*1e3}}async function u4e({queryKey:e}){const[t,n]=e;let r=null;try{r=await H.safeGet("/connectors/check",{parameters:{query:{connector_names:n}}})}catch(i){throw q.addAction("Server Error while retrieving context connector entry",{cause:i}),i}return!r||!r.connectors?[]:r.connectors.map(i=>{var u;const l=i,{type:o}=l,a=B(l,["type"]),c=o;if(a.access_token){if(c===Ne.O365_PERSONAL)return P(S({type:c},a),{onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}});if(c===Ne.O365_BUSINESS){const d=(u=a.onedrive_business_metadata)==null?void 0:u.base_url;if(d){const f=new URL(d);return P(S({type:c},a),{onedrive_endpoint_hint:{type:"business",baseUrl:d,parsedUrl:"https://".concat(f.hostname,"/_layouts/15/FilePicker.aspx")}})}}}return S({type:c},a)})}const d4e=ir(e=>ie(()=>{var n;const t=(n=Nd(e))==null?void 0:n.contextScopes;return t?Array.from(t):null},{name:"conversation-context-scopes"}));function f4e(e,t){return()=>{if(!t||!ze()||!v0e())return;const r=xE(t),s=d4e(r);if(s){if(!s.includes("GLOBAL"))return["GLOBAL",...s]}else{const i=xp(r);if(i&&As(i)){const a=Hp(e,i).gizmo$();if(Q1(a))return["GLOBAL","HEALTH"]}return["GLOBAL"]}return s}}const h4e=ir(e=>ie(()=>{const t=xp(e);if(!t||!As(t))return null;const n=Hp(e.ctx,t);return y0e(n.gizmo$())},{name:"conversation-first-party-project-type"}));function UQ(e){return()=>{var n;if(!e)return;const t=xE(e);return(n=h4e(t))!=null?n:void 0}}function Ket(e){const t=UQ(e);return()=>{if(t()==="potion")return"health"}}function p4e(e){const{promise:t,resolve:n}=Promise.withResolvers();return T.startTransition(()=>{Os(R4,P(S({},e),{onClose:()=>{var r;Dv(R4),n(),(r=e.onClose)==null||r.call(e)}}))}),t}function R4(e){"use forget";const t=j.c(12),{onClose:n,title:r,description:s,buttonText:i}=e;let o;t[0]!==r?(o=g.jsx("span",{className:"text-heading-2",children:r}),t[0]=r,t[1]=o):o=t[1];let a;t[2]!==i||t[3]!==n?(a=g.jsx(li,{color:"primary",onClick:n,fullWidth:!0,size:"large",children:i}),t[2]=i,t[3]=n,t[4]=a):a=t[4];let c;t[5]!==s?(c=g.jsx("p",{className:"text-token-text-secondary tracking-condensed mb-6.5 text-center text-base text-balance",children:s}),t[5]=s,t[6]=c):c=t[6];let l;return t[7]!==n||t[8]!==o||t[9]!==a||t[10]!==c?(l=g.jsx(Sl,{headerClassName:"justify-center",title:o,className:"p-6",onClose:n,isOpen:!0,size:"normal",testId:"modal-duplicate-file",footerContent:a,children:c}),t[7]=n,t[8]=o,t[9]=a,t[10]=c,t[11]=l):l=t[11],l}function FQ(){return ut("3360722522").get("image_resize_enabled",!1)}class _4e{constructor(){R(this,"worker");R(this,"pendingAnalyze",new Map);R(this,"pending",new Map);const t=FQ();this.worker=t?new Worker(new URL("/cdn/assets/image-resize-worker-LPbD6JyN.js",import.meta.url),{type:"module"}):null,this.worker&&(this.worker.onmessage=n=>{const r=n.data;if(r.resultType==="resize")return this.processResizeResponse(r);if(r.resultType==="analyze")return this.processAnalyzeResponse(r)},this.worker.onerror=n=>{for(const{reject:r}of this.pending.values())r(new Error(n.message||"Worker error"));this.pending.clear()})}processAnalyzeResponse(t){const n=this.pendingAnalyze.get(t.id);n&&(this.pendingAnalyze.delete(t.id),t.ok?n.resolve(t):n.reject(new Error(t.error)))}processResizeResponse(t){const n=this.pending.get(t.id);n&&(this.pending.delete(t.id),t.ok?n.resolve(t):n.reject(new Error(t.error)))}analyze(t){return this.worker?new Promise((n,r)=>{this.pendingAnalyze.set(t.id,{resolve:n,reject:r}),this.worker&&this.worker.postMessage({id:t.id,file:t.file,type:"analyze"})}):Promise.reject(new Error("Image resizing is not supported"))}resize(t){return this.worker?new Promise((n,r)=>{var s,i;this.pending.set(t.id,{resolve:n,reject:r}),this.worker&&this.worker.postMessage({id:t.id,file:t.file,maxEdge:t.maxEdge,filename:t.filename,format:(s=t.format)!=null?s:"image/jpeg",quality:(i=t.quality)!=null?i:.9,type:"resize"})}):Promise.reject(new Error("Image resizing is not supported"))}terminate(){var t;(t=this.worker)==null||t.terminate(),this.pending.clear()}}function m4e(e){return e instanceof File?e.name.replace(/\.[^/.]+$/,"")+"-1024.jpg":"image.jpg"}const g4e=ot(()=>{const e=new _4e;return{analyze:async r=>{const s=crypto.randomUUID();return await e.analyze({id:s,file:r,type:"analyze"})},resize:async r=>{const s=crypto.randomUUID();performance.mark("image-resize:start");const i=await e.resize({id:s,file:r,maxEdge:1024,filename:m4e(r),format:"image/jpeg",quality:.9,type:"resize"});return performance.mark("image-resize:end"),performance.measure("image-resize","image-resize:start","image-resize:end"),i}}}),{useDebugValue:v4e}=Ft,{useSyncExternalStoreWithSelector:E4e}=h6,C4e=e=>e;function xx(e,t=C4e,n){const r=E4e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return v4e(r),r}const x4=(e,t)=>{const n=hl(e),r=(s,i=t)=>xx(n,s,i);return Object.assign(r,n),r},Jet=(e,t)=>e?x4(e,t):x4,Xet=["none","delay","indexed"],Qet=["none","Adaptive","ChunkedCatchup","Punctuation"],y4e={label:"Auto",value:""},S4e="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",T4e=()=>S({fConversationEndpoint:"default",tokenBufferType:null,wordFadeType:null,showConnectorToolSettingsToggle:!1,forceParagen:!1,forceParagenModel:y4e,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:S4e,forceRateLimit:!1,recordRendering:!1,recordTransformedConvoJson:!1,resetRateLimits:!1,showDebugConversationTurns:!1,showInstantAnswerDebug:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,forceShowConvoRating:!1,jsonViewerFilters:{},forceParallelSwitch:"auto",autoSwitcherTreatmentOverride:void 0,juiceScore:null,multimodalJuiceScore:null,showAllAnswers:!1,showPerformanceOverlay:!1,ncOverride:null,cprOverride:null,cmOverride:null},{}),Mx=zn(Sve(T4e,{name:un.DebugSettings,partialize:e=>L7(e,["fConversationEndpoint","jsonViewerFilters","recordRendering","recordTransformedConvoJson","showDebugConversationTurns","showInstantAnswerDebug","showPerformanceOverlay"])}));ep(Mx);const O4e=()=>Mx.getState(),Zet=e=>Mx.setState(e);let s0=null;async function b4e(){return s0||(s0=(await ne(async()=>{const{default:e}=await import("./1a7ebd5f-ihenykhpblfwilpu.js").then(t=>t.FW);return{default:e}},__vite__mapDeps([2,1,3]))).default),s0}const tm={duration:20,hasCloseButton:!0};function A4e(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function LP(e){return new Promise((t,n)=>{const r=new FileReader,s=new Image;r.onload=()=>{s.onload=()=>t(s),s.onerror=i=>n(i),s.src=r.result},r.readAsDataURL(e)})}function kx(e){if(!(!e||e.length===0))return e}async function N4e(e,t,n,r,s,i,o){var a;try{const c=await H.safePost("/files",{authOption:s?cn.Anonymous:void 0,requestBody:S(S({file_name:e,file_size:t,use_case:n.kind,gizmo_id:n.kind===xn.Gizmo?n.gizmoId:void 0,timezone_offset_min:new Date().getTimezoneOffset(),reset_rate_limits:!!r},i?{upload_source:i}:{}),o!==void 0?{store_in_library:o}:{})});if(c.status===ih.Error)throw re.logEvent("Create File Entry Error",{error_code:c.error_code,error_type_name:"FileServiceErrorResponse",error_msg:c.error_code,error_stack:""}),new Gt("Could not create file",c.error_code);return c}catch(c){throw c instanceof Gt||(c instanceof Yv?re.logEvent("Create File Entry Error",{error_type_name:"ClientRequestMismatchedAuthError",error_msg:c.message,error_stack:c.stack}):c instanceof Mt?re.logEvent("Create File Entry Error",{error_type_name:((a=c.detail)==null?void 0:a.type)==="throttled"?"RequestThrottled":"RequestError",error_msg:c.message,error_stack:c.stack}):c instanceof Error?re.logEvent("Create File Entry Error",{error_type_name:c.name,error_msg:c.message,error_stack:c.stack}):re.logEvent("Create File Entry Error",{error_type_name:"UnknownError",error_msg:String(c),error_stack:""})),c}}function GQ(e){const t=e.split("."),n=t[t.length-1];return n==="error"||n==="cancelled"||n==="failed"||n==="unknown"}function jQ(e){if(!e)return;let t;if(e.thumbnail&&typeof e.thumbnail=="object"){const r=e.thumbnail,s=r.file_id,i=r.width,o=r.height,a=r.size_bytes;typeof s=="string"&&typeof i=="number"&&typeof o=="number"&&typeof a=="number"&&(t={fileId:s,width:i,height:o,sizeBytes:a})}const n=typeof e.transcript=="string"?e.transcript:void 0;if(t||n)return{thumbnail:t,transcript:n}}async function BQ(e,t,n){var r,s;try{const l=tt.streamedJsonPost("".concat(Qe,"/files/process_upload_stream"),e,{authOption:n?cn.Anonymous:void 0});let u,d,f;try{for(var i=fM(l),o,a,c;o=!(a=await i.next()).done;o=!1){const h=a.value;if(GQ(h.event)){const m="Error stream processing upload: indexing failed: ".concat(h.event);throw new Gt(m,h.event,h.extra)}h.progress!=null&&(t==null||t(h.progress)),((r=h==null?void 0:h.extra)==null?void 0:r.total_tokens)!=null&&(u=h.extra.total_tokens);const p=(s=h==null?void 0:h.extra)==null?void 0:s.metadata_object_id;typeof p=="string"&&p.length>0&&(f=p);const _=jQ(h.extra);_&&(d=_)}}catch(a){c=[a]}finally{try{o&&(a=i.return)&&await a.call(i)}finally{if(c)throw c[0]}}return u||d||f?{fileTokenSize:u,libraryFileId:f,thumbnail:d==null?void 0:d.thumbnail,transcript:d==null?void 0:d.transcript}:void 0}catch(l){throw l instanceof Gt||l instanceof Mt&&l.isClientError()?l:new Gt("Error stream processing upload: ".concat(l),"stream_process_error")}}async function HQ(e,t,n,r,s,i,o){var h,p,_;const a={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let c=Wr.Initial;re.logEvent("Upload File Initiated",{client:"web",useCase:s.kind,uploadEntry:"local"}),On.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:s.kind,uploadEntry:"local"});const l=((p=o.uploadSource)!=null?p:(h=o.contextScopes)!=null&&h.includes("HEALTH"))?"health":void 0,u=(_=o.usesRetrievalIndex)!=null?_:!1,d=u?performance.now():void 0,f=O4e().resetRateLimits;try{const{file_id:m,upload_url:v}=await N4e(t.name,t.size,s,!!f,o.isUnauthenticated,l,o.storeInLibrary);i.onFileCreated(e,m,v),c=Wr.FileCreated,i.onFileUploadProgress(e,a.ENTRY_CREATED);const E=s.kind===xn.Gizmo?s.gizmoId:void 0,b={client:"web",useCase:s.kind,uploadEntry:"local",fileId:m,fileSize:t.size};re.logEvent("Blob Store Upload Started",b);const C=A=>A.toLowerCase().includes("/api/estuary/upload_content_and_finalize"),y=A=>A.toLowerCase().includes("/api/estuary/upload_content_bytes");let O;if(C(v)){const{finalStatus:A,metadata:N}=await M4e({file:t,cdnUrl:v,fileId:m,fileName:t.name,useCaseType:s,shouldIndexForRetrieval:u,gizmoId:E,handlers:i,tempId:e,imageDimensions:o.imageDimensions,milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED},contextScopes:o.contextScopes,uploadSource:l});O=N,c=A}else if(y(v)){const{finalStatus:A,metadata:N}=await x4e({file:t,destinationUrl:v,fileId:m,fileName:t.name,useCaseType:s,shouldIndexForRetrieval:u,gizmoId:E,onOverallProgress:I=>{i.onFileUploadProgress(e,I)},onUploadComplete:()=>{i.onFileUploadProgress(e,a.FILE_UPLOADED)},milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED},uploadSource:l});O=N,c=A,i.onFileUploaded(e,m,o.imageDimensions,O)}else{const A=await k4e(t,v,w=>{i.onFileUploadProgress(e,a.ENTRY_CREATED+(a.FILE_UPLOADED-a.ENTRY_CREATED)*w)});if(i.onFileUploadProgress(e,a.FILE_UPLOADED),A.status!==201)throw re.logEvent("Blob Store Upload Error",P(S({},b),{error_type_name:"HTTPStatus".concat(A.status),error_msg:"HTTP status ".concat(A.status,": ").concat(A.statusText),error_stack:""})),new Gt("File upload to blobstore failed","failed_upload_to_blobstore");re.logEvent("Blob Store Upload Completed",b),c=Wr.FileUploaded;const N=kx(o.contextScopes),I=S({file_id:m,use_case:s.kind,gizmo_id:E,index_for_retrieval:u,file_name:t.name,upload_source:l},N&&{context_scopes:N});O=await BQ(I,w=>{i.onFileUploadProgress(e,a.FILE_UPLOADED+(a.FILE_PROCESSED-a.FILE_UPLOADED)*w/100)},o.isUnauthenticated),c=Wr.FileProcessed,i.onFileUploaded(e,m,o.imageDimensions,O),u&&(c=Wr.RetrievalIndexCreated)}d!=null&&at()&&H.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-d,type:"file"}})}catch(m){$Q(n,r,t.name,m);let v="NotInstanceOfError";m instanceof Mt?v="".concat(m.name,"_").concat(m.status):(m instanceof Error||m instanceof Gt)&&(v=m.name),i.onError(e,"error",v,s,c)}}async function ett(e,t,n,r,s,i){const{width:o,height:a}=await LP(t);return HQ(e,t,n,r,{kind:s},i,{imageDimensions:{width:o,height:a}})}async function I4e(e,t){var r,s,i,o,a;const n=await H.safeGet("/files/{file_id}",{parameters:{path:{file_id:e},query:t!=null?{gizmo_id:t}:void 0}});return{name:n.name,status:(i=(s=(r=n.metadata)==null?void 0:r.retrieval)==null?void 0:s.status)!=null?i:Tu.Processing,error_code:(a=(o=n.metadata)==null?void 0:o.retrieval)==null?void 0:a.error_code,file_size_tokens:n.file_size_tokens}}async function P4e(e,t){const n=Date.now()+6e4,r=i=>new Promise(o=>setTimeout(o,i));let s=0;for(;Date.now()<n;){const i=await I4e(e,t);if(i.status===Tu.Success||i.status===Tu.Skipped)return i;if(i.status===Tu.Failed)throw new Gt("Context extraction failed",i.error_code);s++,await r(Math.min(1e3,100*s))}throw new Gt("Retrieval indexing timed out")}function w4e(e){var t,n;if(e.code==="file.indexing.error"){const r=(t=e.extra)==null?void 0:t.file_parse_error_code;return typeof r=="string"?r:"file.indexing.error"}return(n=e.code)!=null?n:"internal_error"}function $Q(e,t,n,r){var s;if(r instanceof Gt&&r.code!=null){const i=eP(e,w4e(r));t.danger(i,P(S({},tm),{toastId:"file_upload_error",loggingTitle:i,loggingDescription:i}))}else if(r instanceof Mt&&((s=r.detail)==null?void 0:s.type)==="throttled"){const i=r.message,o="file-upload-rate-limit";lt(()=>{var c,l;return(l=(c=t.toasts$)==null?void 0:c.call(t))!=null?l:[]}).some(c=>String(c.id).startsWith(o)&&c.isShown!==!1)||t.info(i,P(S({},tm),{id:o}))}else if(r instanceof Yv){const i=e.formatMessage(DP.noAuthFileUpload);t.info(i,tm)}else{const i=eP(e,"default_upload_error",{fileName:n});t.danger(i,P(S({},tm),{toastId:"file_upload_error",loggingTitle:i,loggingDescription:i}))}}const DP=Rt({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'},noAuthFileUpload:{id:"useFilePickerState.noAuthFileUpload",defaultMessage:"Log in to analyze files and images for free."}});async function R4e(e){var z;const{file:t,destinationUrl:n,fileId:r,fileName:s,useCaseType:i,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:c,onUploadComplete:l,milestones:u,contextScopes:d,uploadSource:f}=e,h=new FormData;h.append("file",t);const _=(z=new URL(n,window.location.origin).searchParams.get("upload_url"))!=null?z:n;h.append("upload_url",_),h.append("file_id",r),h.append("file_name",s),h.append("use_case",i.kind),h.append("index_for_retrieval",String(o)),a&&h.append("gizmo_id",a);const m=kx(d);m&&h.append("context_scopes",JSON.stringify(m)),f&&h.append("upload_source",f);const v=ip(),E=Zr(),b={[rp]:E,[np]:fd,[Av]:tp};v&&(b.Authorization="Bearer ".concat(v));const C=Se.getCookie(pe.Workspace);typeof C=="string"&&C.trim().length>0&&C.trim()!==Pi&&(b["ChatGPT-Account-ID"]=encodeURIComponent(C.trim()));let y=!1;const O=F=>{c(u.entry+(u.uploaded-u.entry)*F)},A=F=>{c(u.uploaded+(u.processed-u.uploaded)*(F/100))},N=1e4,I=120,w=96;let M,k=0,D=!1,L=0,G=0;function K(F){return 1-Math.pow(1-F,3)}function V(){if(!D)return;const F=performance.now()-k,Te=Math.min(1,F/N),fe=w*K(Te),$=Math.max(G,Math.min(w,fe),L);if($>G&&(G=$,A($)),L>=100){Q();return}M=window.setTimeout(V,$>=w&&L===0?I*4:I)}function Y(){D||(D=!0,k=performance.now(),V())}function Q(F=!1){D=!1,M!==void 0&&(window.clearTimeout(M),M=void 0),F&&(G=100,A(100))}return await new Promise((F,Te)=>{const fe=new XMLHttpRequest;fe.open("POST",n,!0),fe.withCredentials=!0;for(const[Ce,Me]of Object.entries(b))fe.setRequestHeader(Ce,Me);let $="",W,ee=!1,J;function Z(Ce){if(!ee){ee=!0;try{fe.abort()}catch(Me){}Te(Ce instanceof Gt?Ce:new Gt("Error stream processing upload: ".concat(String(Ce)),"stream_process_error"))}}let ye;function me(Ce){var Me,ke;for(;;){const xe=$.indexOf("\n");if(xe===-1)break;const Ke=$.slice(0,xe).trim();if($=$.slice(xe+1),!!Ke)try{const le=JSON.parse(Ke);if(GQ(le.event)){Q(),Z(new Gt("Error stream processing upload: indexing failed: ".concat(le.event),le.event,le.extra));return}le.progress!=null&&(L=le.progress,L>G&&(G=L,A(L)),L>=100&&Q(!0)),le.event==="file.processing.metadata"&&(L=100,Q(!0)),((Me=le==null?void 0:le.extra)==null?void 0:Me.total_tokens)!=null&&(W=le.extra.total_tokens);const We=jQ(le.extra);We&&(J=We);const _e=(ke=le==null?void 0:le.extra)==null?void 0:ke.metadata_object_id;typeof _e=="string"&&_e.length>0&&(ye=_e)}catch(le){if(!Ce){$=Ke+"\n"+$;break}}}}fe.upload.onprogress=Ce=>{if(!Ce.lengthComputable)return;const Me=Ce.loaded/Ce.total;O(Me),Me===1&&!y&&(y=!0,l(),Y())};let Ie=0;fe.onreadystatechange=()=>{if(fe.readyState===XMLHttpRequest.LOADING||fe.readyState===XMLHttpRequest.DONE){const Ce=fe.responseText.substring(Ie);Ie=fe.responseText.length,$+=Ce,me(fe.readyState===XMLHttpRequest.DONE)}if(fe.readyState===XMLHttpRequest.DONE){if(fe.status>=400){Q(),Z(new Gt("File upload to blobstore failed","failed_upload_to_blobstore"));return}Q(G<100),F(W||J||ye?{fileTokenSize:W,libraryFileId:ye,thumbnail:J==null?void 0:J.thumbnail,transcript:J==null?void 0:J.transcript}:{})}};try{fe.send(h)}catch(Ce){Z(Ce)}})}async function x4e(e){var N;const{file:t,destinationUrl:n,fileId:r,fileName:s,useCaseType:i,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:c,onUploadComplete:l,milestones:u,contextScopes:d,uploadSource:f}=e,h=new FormData;h.append("file",t);const _=(N=new URL(n,window.location.origin).searchParams.get("upload_url"))!=null?N:n;h.append("upload_url",_);const m=ip(),v=Zr(),E={[rp]:v,[np]:fd,[Av]:tp};m&&(E.Authorization="Bearer ".concat(m));const b=Se.getCookie(pe.Workspace);typeof b=="string"&&b.trim().length>0&&b.trim()!==Pi&&(E["ChatGPT-Account-ID"]=encodeURIComponent(b.trim())),await new Promise((I,w)=>{const M=new XMLHttpRequest;M.open("POST",n,!0),M.withCredentials=!0;for(const[k,D]of Object.entries(E))M.setRequestHeader(k,D);M.upload.onprogress=k=>{if(!k.lengthComputable)return;const D=k.loaded/k.total;c(u.entry+(u.uploaded-u.entry)*D),D===1&&l()},M.onreadystatechange=()=>{if(M.readyState===XMLHttpRequest.DONE){if(M.status>=400){w(new Gt("File upload to Estuary failed: HTTP ".concat(M.status),"failed_upload_to_blobstore"));return}I()}};try{M.send(h)}catch(k){w(k instanceof Gt?k:new Gt("Error uploading to Estuary: ".concat(String(k)),"stream_process_error"))}});const C=kx(d),y=S({file_id:r,use_case:i.kind,gizmo_id:a,index_for_retrieval:o,file_name:s,upload_source:f},C&&{context_scopes:C}),O=await BQ(y,I=>{c(u.uploaded+(u.processed-u.uploaded)*I/100)});return{finalStatus:o?Wr.RetrievalIndexCreated:Wr.FileProcessed,metadata:O}}async function M4e(e){const{file:t,cdnUrl:n,fileId:r,fileName:s,useCaseType:i,shouldIndexForRetrieval:o,gizmoId:a,handlers:c,tempId:l,imageDimensions:u,milestones:d,contextScopes:f,uploadSource:h}=e,p=await R4e({file:t,destinationUrl:n,fileId:r,fileName:s,useCaseType:i,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:m=>{c.onFileUploadProgress(l,m)},onUploadComplete:()=>{c.onFileUploadProgress(l,d.uploaded)},milestones:d,contextScopes:f,uploadSource:h});let _=Wr.FileProcessed;return c.onFileUploaded(l,r,u,p),o&&(_=Wr.RetrievalIndexCreated),{finalStatus:_,metadata:p}}async function k4e(e,t,n,r){const s=await b4e();return await s.request({method:"put",url:t,data:e,headers:{"x-ms-blob-type":"BlockBlob","x-ms-version":"2020-04-08","Content-Type":e.type},onUploadProgress:i=>{i.progress!==void 0&&n&&n(i.progress)}}).catch(function(i){var a;let o=S({},r);throw s&&i instanceof s.AxiosError&&((a=i.response)!=null&&a.status)?o=P(S({},o),{error_type_name:"AxiosHTTPError".concat(i.response.status),error_msg:i.message,error_stack:i.stack}):i instanceof Error&&(o=P(S({},o),{error_type_name:i.name,error_msg:i.message,error_stack:i.stack})),re.logEvent("Blob Store Upload Error",o),new Gt("File upload to blobstore failed","failed_upload_to_blobstore")})}const WQ={files:[],connectorFileData:{}},Lx=T.createContext(null);function ttt(e){"use forget";const t=j.c(6),{children:n,initialState:r,store:s}=e,i=r===void 0?WQ:r;let o;t[0]!==i||t[1]!==s?(o=()=>s!=null?s:hl(()=>i),t[0]=i,t[1]=s,t[2]=o):o=t[2];const[a]=T.useState(o);let c;return t[3]!==n||t[4]!==a?(c=g.jsx(Lx.Provider,{value:a,children:n}),t[3]=n,t[4]=a,t[5]=c):c=t[5],c}function qQ(){"use forget";const e=T.use(Lx);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function ntt(){"use forget";return T.use(Lx)}function rtt(e,t){"use forget";const n=qQ();return xx(n,e,t)}const stt={hasUploadInProgress:({files:e})=>e.some(t=>t.status===Zi.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===Zi.Ready),getFilesCount:({files:e})=>e.length},i0=2048,L4e=1*1024*1024;async function M4(e){let t=e,n,r;if(FQ())try{const o=g4e().resize,a=await o(t);return n=a.width,r=a.height,t=new File([a.buffer],a.name,{type:a.type}),{file:t,width:n,height:r}}catch(o){q.addError(new Error("Error resizing image:",{cause:o}))}const i=await LP(t);if(n=i.width,r=i.height,n>i0||r>i0||t.size>L4e)try{const o=await mY(t,i0),a=await LP(o);n=a.width,r=a.height,t=o}catch(o){q.addError(new Error("Error resizing image:",{cause:o}))}return{file:t,width:n,height:r}}async function D4e(e,t,n,r,s,i,o,a,c){const l=performance.now();re.logEvent("Upload File Initiated",{client:"web",useCase:r.kind,contextConnector:i.contextConnector,fileSourceType:i.type}),On.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:r.kind,contextConnector:i.contextConnector,fileSourceType:i.type});let u=Wr.Initial;const d=YQ(e);try{const f=await H.safePost("/connectors/upload/{connector_name}",{parameters:{path:{connector_name:i.contextConnector}},requestBody:{id:t,upload_use_case:r.kind,mime_type:n.type,name:n.name,gizmo_id:o,drive_id:i.o365DriveId,manifest:i.manifest}});switch(r.kind===xn.Gizmo&&(r=P(S({},r),{kind:s.includes(VQ(n))?xn.Multimodal:xn.MyFiles})),f.type){case"error":throw U4e(f.error);case"file":{switch(d.onFileCreated(t,f.file.id,"",i.contextConnector),u=Wr.FileProcessed,r.kind){case xn.MyFiles:{d.onFileUploadProgress(t,90);const h=await P4e(f.file.file_id,o);(h==null?void 0:h.status)===Tu.Skipped&&c.danger(a.formatMessage(DP.retrievalSkippedFile,{fileName:h.name}),P(S({},XV),{toastId:"retrieval_index_skipped",loggingTitle:DP.retrievalSkippedFile.defaultMessage,loggingDescription:"Retrieval index skipped"})),d.onFileUploaded(t,f.file.file_id,void 0,{fileTokenSize:h.file_size_tokens,mimeType:f.file.mime_type}),u=Wr.RetrievalIndexCreated;break}case xn.Multimodal:{d.onFileUploaded(t,f.file.file_id,{width:512,height:512},{mimeType:f.file.mime_type});break}case xn.AceUpload:{d.onFileUploaded(t,f.file.file_id,void 0,{mimeType:f.file.mime_type});break}case xn.DalleAgent:case xn.Gizmo:case xn.ProfilePicture:default:throw new Gt("Use case not supported by cloud doc: ".concat(r.kind))}break}case"folder":throw new Gt("Folder type not supported")}at()&&H.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-l,type:i.contextConnector}})}catch(f){q.addError(new Error("Failed to upload connected file by ".concat(i.contextConnector),{cause:f}));const h=lPe(n.name,i==null?void 0:i.syntheticExtension);$Q(a,c,h,f);let p="NotInstanceOfError";f instanceof Mt?p="".concat(f.name,"_").concat(f.status):(f instanceof Error||f instanceof Gt)&&(p=f.name),d.onError(t,"error","connector_upload_"+p,{kind:xn.MyFiles},u)}}function VQ(e){return e.type||pY(e.name)}function zQ(e){return JSON.stringify({name:e.name,size:e.size,lastModified:e.lastModified,type:e.type})}function U4e({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new Gt(n,r)}else return Mt.createWithErrorMessage("/connectors/upload","server",n,void 0,Error(n))}function F4e(e){re.logEvent("Uploaded Duplicate File Error"),mt.count(ft.DEFAULT,"chatgpt_web_duplicate_file_attached"),p4e({title:e.formatMessage(Zf.duplicateFileAttached),description:e.formatMessage(Zf.duplicateFileAttachedDescription),buttonText:e.formatMessage(Zf.ok)})}function G4e(e,t,n,r){return!r&&!n.isBigPaste&&e.size>0?t.some(i=>i.fileSignature===zQ(e)):!1}const la={reset:e=>{e.setState(WQ)},restoreFiles:(e,t)=>{e.setState({files:t})},uploadFile:async(e,t,n,r,s,i,o,a={},c,l,u=!1,d=!1,f=!1)=>{const{gizmoId:h,isUnauthenticated:p,contextScopes:_,uploadSource:m,isBigPaste:v}=a,E=e.getState().files;if(!f&&G4e(n,E,a,!!l)){F4e(i);return}const b=oPe(r,n.name,n.type,l==null?void 0:l.contextConnector,c),C=zQ(n),y={tempId:t,gizmoId:a.gizmoId,fileSignature:C,status:Zi.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:l,contextConnector:l==null?void 0:l.contextConnector,isBigPaste:a.isBigPaste,mode:a.mode,source:u?"library":l?"connector":"local"},O=DTe(b);if(!u&&E.length>=O){re.logEvent("Uploaded Max Files Error"),o.danger(i.formatMessage(Zf.maxUploadsAtATime,{maxUploads:O,fileName:n.name}),P(S({},XV),{toastId:"max_uploads_at_a_time",loggingTitle:Zf.maxUploadsAtATime.defaultMessage,loggingDescription:"Max uploads at a time"}));return}(b!==yn.Retrieval?!0:d?u:!0)&&e.setState(({files:w})=>({files:[...w,y]}));let N;const I={isUnauthenticated:p,contextScopes:_,uploadSource:m,isBigPaste:v};if(s.includes(n.type)){if(N={kind:xn.Multimodal},!l){const w=await M4(n);n=w.file,I.imageDimensions={width:w.width,height:w.height}}}else if(["video/mp4","video/quicktime"].includes(n.type)&&s.includes("image/png")&&Pe("3681682292"))N={kind:"multimodal_video"};else if(b===yn.Codex){N={kind:xn.Codex};const w=await M4(n);n=w.file,I.imageDimensions={width:w.width,height:w.height}}else switch(b){case yn.Multimodal:throw new Error("Multimodal file upload not supported mime type, ".concat(n.type,"\nSupported mime types: ")+s.join(", "));case yn.Interpreter:N={kind:xn.AceUpload};break;case yn.Retrieval:N={kind:xn.MyFiles},I.usesRetrievalIndex=!0;break;case yn.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case yn.ContextConnector:case yn.None:return}h!=null&&(N={kind:xn.Gizmo,gizmoId:h}),a.skipUpload||(l?await D4e(e,t,n,N,s,l,a.gizmoId,i,o):await HQ(t,n,i,o,N,YQ(e),I))},createFileCompleted:(e,t,n,r,s)=>{const i=e.getState().files,o=i.findIndex(c=>c.tempId===t),a=i[o];if(o>=0&&a.status===Zi.Uploading){const c=[...i];c.splice(o,1,P(S({},a),{progress:10,fileId:n,cdnUrl:r,contextConnector:s})),e.setState({files:c})}},updateProgress:(e,t,n)=>{const r=e.getState().files,s=r.findIndex(o=>o.tempId===t),i=r[s];if(s>=0&&i.status===Zi.Uploading){const o=[...r];o.splice(s,1,P(S({},i),{progress:n})),e.setState({files:o})}},uploadCompleted:(e,t,n,r,s,i)=>{var c,l,u,d,f;const o=e.getState().files,a=o.findIndex(h=>h.tempId===t);if(a>=0&&o[a].status===Zi.Uploading&&o[a].fileId!=null){const h=o[a],p=[...o],_=P(S({},h),{tempId:t,status:Zi.Ready,progress:100,fileSpec:S(S({name:h.file.name,id:h.fileId,size:h.file.size,contextConnectorInfo:h.contextConnectorInfo,mimeType:(c=s==null?void 0:s.mimeType)!=null?c:VQ(h.file),isBigPaste:(l=h.isBigPaste)!=null?l:!1},r||{}),s||{}),libraryFileId:(u=s==null?void 0:s.libraryFileId)!=null?u:h.libraryFileId});p.splice(a,1,_);const m=S({},e.getState().connectorFileData);i&&(m[i==null?void 0:i.file_id]=i),e.setState({files:p,connectorFileData:m}),re.logEvent("Upload File Completed",{status:h.status,fileId:h.fileId,contextConnector:(d=h.contextConnector)!=null?d:"local"}),On.logEvent("chatgpt_file_upload_completed",null,{status:h.status,contextConnector:(f=h.contextConnector)!=null?f:"local"})}},remove:(e,t,n,r,s,i)=>{var c,l;const o=e.getState().files,a=o.findIndex(u=>u.tempId===t);if(a>=0){const u=o[a];n==="error"?(re.logEvent("Upload File Error",{status:u.status,fileId:u.fileId,client:"web",errorClassName:r!=null?r:"undefined",useCaseType:s,uploadStatus:i!=null?i:"undefined",contextConnector:u.contextConnector}),On.logEvent("chatgpt_file_upload_error",null,{client:"web",errorClassName:r!=null?r:"undefined",useCaseType:(c=s==null?void 0:s.kind)!=null?c:"undefined",uploadStatus:i!=null?i:"undefined",contextConnector:(l=u.contextConnector)!=null?l:"undefined"})):re.logEvent("Remove File",{status:u.status,fileId:u.fileId});const d=[...o];d.splice(a,1),e.setState({files:d})}},attachLibraryFile:(e,t)=>{var a,c;const n=new File([],t.name,{type:t.mimeType}),r=A4e(n),s=e.getState().files;if(s.some(l=>l.fileId===t.id))return;const i=((a=t.mimeType)==null?void 0:a.startsWith("image/"))===!0,o={tempId:r,status:Zi.Ready,file:n,fileId:t.id,cdnUrl:null,progress:100,source:"library",libraryFileId:t.libraryFileId,isBigPaste:!1,fileSpec:S({id:t.id,name:t.name,size:(c=t.size)!=null?c:0,mimeType:t.mimeType,isBigPaste:!1},i?{width:512,height:512}:{})};e.setState({files:[...s,o]})}},YQ=e=>({onFileCreated:la.createFileCompleted.bind(null,e),onFileUploadProgress:la.updateProgress.bind(null,e),onFileUploaded:la.uploadCompleted.bind(null,e),onError:la.remove.bind(null,e)}),Zf=Rt({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"You've already uploaded this file."},duplicateFileAttachedDescription:{id:"useFilePickerState.duplicateFileAttachedDescription",defaultMessage:"Try uploading something new."},ok:{id:"useFilePickerState.ok",defaultMessage:"OK"}}),j4e=Ft.createContext({mode:void 0,getGizmoId:void 0}),B4e=()=>T.useContext(j4e),o0={filePickerStarted:e=>{re.logEvent("Context Connectors: Picker Started",{contextConnector:e})},filePickerLoaded:e=>{re.logEvent("Context Connectors: Picker Loaded",{contextConnector:e})},filePickerPicked:(e,t)=>{re.logEvent("Context Connectors: Picker Picked",{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{re.logEvent("Context Connectors: Picker Cancelled",{contextConnector:e})},linkPasted:e=>{re.logEvent("Context Connectors: Link Pasted",S({},e))},linkMetadataFetchStarted:e=>{re.logEvent("Context Connectors: Link Metadata Fetch Started",{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{re.logEvent("Context Connectors: Link Metadata Fetch Succeeded",{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{re.logEvent("Context Connectors: Link Metadata Fetch Failed",{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{re.logEvent("Context Connectors: OAuth Upsell Button Click",{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{re.logEvent("Context Connectors: Expired Access Token Used",{contextConnector:e,useCase:t})}};function itt(e,t,n,r){"use forget";const s=j.c(19),i=Kn(),o=vt(),{getGizmoId:a}=B4e(),[c,l]=T.useState();let u,d;s[0]!==a?(u=()=>{a?a().then(A=>l(A)):l(void 0)},d=[a],s[0]=a,s[1]=u,s[2]=d):(u=s[1],d=s[2]),T.useEffect(u,d);const f=sp(t),h=qQ(),p=ri();let _;s[3]!==e||s[4]!==p?(_=f4e(p,e),s[3]=e,s[4]=p,s[5]=_):_=s[5];const m=Le(_);let v;s[6]!==e?(v=UQ(e),s[6]=e,s[7]=v):v=s[7];const b=Le(v)==="potion"?"health":void 0,C=Array.isArray(m)&&m.length>0?m:void 0;let y;return s[8]!==r||s[9]!==e||s[10]!==f||s[11]!==C||s[12]!==c||s[13]!==o||s[14]!==n||s[15]!==h||s[16]!==i||s[17]!==b?(y=A=>{const N=Ip(e),{docsReferencedByURL:I}=N!=null?N:{};if(I!=null)for(const w of A){const{id:M,type:k,handler:D}=w,L="".concat(k,":").concat(M),G=I[L],V=h.getState().files.find(Y=>Y.tempId===M);if(G!=null&&G!=="failed"&&V){i.success(o.formatMessage(nm.fileAlreadyAttached),{hasCloseButton:!0});continue}e:switch(D.type){case"fetch":{sa(e,Y=>{Y.docsReferencedByURL[L]="pending"}),la.uploadFile(h,M,new File([],o.formatMessage(nm.fileLoading)),yn.None,n,o,i,S(S({skipUpload:!0,gizmoId:c},C?{contextScopes:C}:{}),b?{uploadSource:b}:{}),r,{contextConnector:k,sourceUrl:w.url,syntheticExtension:null,type:oh.Link}),o0.linkMetadataFetchStarted(k),D.tryFetch().then(Y=>{if(la.remove(h,M,"none"),Y==null)return null;const{id:Q,title:z,connector:F,mimeType:Te,url:fe,syntheticExtension:$,o365DriveId:W,manifest:ee}=Y;o0.linkMetadataFetchSucceeded(k,Te),sa(e,Z=>{Z.docsReferencedByURL[L]="fetched"});let J=z;F===Ne.GDRIVE&&(J=$?"".concat(z,".").concat($):z),la.uploadFile(h,Q,new File([],J,{type:Te.split(";")[0]}),yn.Retrieval,n,o,i,S(S({gizmoId:c},C?{contextScopes:C}:{}),b?{uploadSource:b}:{}),r,{contextConnector:F,sourceUrl:fe,syntheticExtension:$,type:oh.Link,o365DriveId:W,manifest:ee})}).catch(Y=>{o0.linkMetadataFetchFailed(k,Y),Y instanceof Mt&&Y.status===404&&k===Ne.NOTION_OPEN_CONNECTOR?(i.danger(nm.fileNotAccessible,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),f.appendMessageIfNotDismissed({connector:k,type:"not-connected"})):i.danger(nm.fileFetchFailed,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),sa(e,Q=>{Q.docsReferencedByURL[L]="failed"}),la.remove(h,M,"none")});break e}case"prompt":f.appendMessageIfNotDismissed({connector:k,type:D.message}),sa(e,Y=>{Y.docsReferencedByURL[L]="prompted"})}}},s[8]=r,s[9]=e,s[10]=f,s[11]=C,s[12]=c,s[13]=o,s[14]=n,s[15]=h,s[16]=i,s[17]=b,s[18]=y):y=s[18],y}const nm=Rt({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loading"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}}),KQ=()=>{const e=uR(),{connectorConfig:t,isLoading:n,error:r,refetch:s}=a4e(),i=t.has(Ne.CONFLUENCE)&&!e,o=t.has(Ne.GDRIVE)&&!e,a=t.has(Ne.JIRA)&&!e,c=t.has(Ne.NOTION_OPEN_CONNECTOR)&&!e,l=(t.has(Ne.O365_PERSONAL)||t.has(Ne.O365_BUSINESS))&&!e,u=t.has(Ne.SLACK_OPEN_CONNECTOR)&&!e;return{isConfluenceEnabled:i,isGdriveEnabled:o,isJiraEnabled:a,isNotionOpenConnectorEnabled:c,isO365Enabled:l,isSlackOpenConnectorEnabled:u,connectorConfig:t,isLoading:n,hasContextConnectorEnabled:i||o||a||c||l||u,error:r,refetch:s}},H4e="NO_PERSONALIZATION",ott=(e,t=H4e)=>!e||e==="UNSET"?t:e,att=e=>{if(!(!e||e==="UNSET"))return e==="PERSONALIZE_ALWAYS"},$4e=({connectorId:e,redirectAfter:t,systemHintType:n,referrer:r,showSettingsBehindConnectorLink:s,authTypeOverride:i,noRedirect:o,slackWorkspace:a,slackTeamId:c,syncOnly:l}={})=>JQ(u=>{u.delete(nQ),u.set(cC,"true"),u.set(gx,Ut.CONNECTOR_SETTING),e&&u.set(eQ,e),t&&u.set(rQ,t),n&&u.set(sje,n),r&&u.set(Ex,r),i&&u.set(Cx,i),s&&u.set(tQ,"true"),o&&u.set(vx,"true"),a&&u.set(yx,a),c&&u.set(Sx,c),l&&u.set(Tx,"true")}),ctt=()=>{const e=bo();return(t={})=>e($4e(t),{replace:!0})},ltt=()=>{const e=bo();return()=>e(JQ(t=>{t.delete(cC),t.delete(gx),t.delete(Ex),t.delete(Cx),t.delete(vx),t.delete(yx),t.delete(Sx),t.delete(Tx)}),{replace:!0})};function JQ(e){const t=window.location.hash,[n,r]=t.split("?"),s=new URLSearchParams(r);e(s);const i=s.toString();return xP+(i?"?".concat(i):"")}const utt=()=>{const{hash:e}=dn(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(cC)==="true"},dtt=()=>{const{hash:e}=dn(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(tQ)==="true"},ftt=()=>{const{hash:e}=dn(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(rje)==="true"},htt=()=>{const{hash:e}=dn(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(nQ)==="true"},ptt=()=>{const e=bo();return t=>{const n=window.location.hash,[r,s]=n.split("?"),i=new URLSearchParams(s),o=i.get(cC)==="true";t?i.set("connector",t):o||i.delete("connector");const a=i.toString()?"".concat(r,"?").concat(i.toString()):r;e(a,{replace:!0})}},Mo=e=>{const{hash:t}=dn();return T.useMemo(()=>{var s;const n=t.indexOf("?");return n===-1?void 0:(s=new URLSearchParams(t.slice(n+1)).get(e))!=null?s:void 0},[t,e])},_tt=()=>Mo(rQ),mtt=()=>Mo(vx),gtt=()=>Mo(Ex),W4e=Soe(Object.values(Ut),void 0),vtt=()=>W4e(Mo(gx)),Ett=()=>Mo(Tx),Ctt=()=>Mo(eQ),ytt=()=>Mo(yx),Stt=()=>Mo(Sx),Ttt=()=>{const e=Mo(Cx);return e==="OAUTH"||e==="NONE"?e:void 0},k4=e=>{if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e)},XQ=e=>typeof e=="object"&&e!=null,q4e=e=>typeof e=="object"&&e!=null,V4e=e=>XQ(e);function Ott(e){if(!q4e(e))return[];if(!XQ(e.properties))return[];const t=Array.isArray(e.required)?e.required.filter(n=>typeof n=="string"):[];return Object.entries(e.properties).map(([n,r])=>{const s=V4e(r)?r:{},i=typeof s.title=="string"?s.title:n,o=typeof s.type=="string"?s.type:"string",a=typeof s.description=="string"?s.description:void 0;let c;Array.isArray(s.enum)&&(c=s.enum.map(u=>k4(u)).filter(u=>u!==void 0));const l=k4(s.default);return{name:n,title:i,type:o,required:t.includes(n),description:a,enumValues:c,defaultValue:l!=null?l:void 0}})}const z4e=e=>e.defaultValue!==void 0?e.defaultValue:e.enumValues&&e.enumValues.length>0?e.enumValues[0]:"",btt=(e,t)=>e.reduce((n,r)=>{const s=t[r.name];return s!==void 0&&(!r.enumValues||r.enumValues.includes(s))?n[r.name]=s:n[r.name]=z4e(r),n},{}),Att=(e,t,n)=>{var i;const r={},s={};for(const o of e){const a=(i=t[o.name])!=null?i:"",c=o.enumValues&&o.enumValues.length>0?a:a.trim();o.required&&!c&&(r[o.name]=n.formatMessage(Q4e.requiredFieldError)),c&&(s[o.name]=c)}return{sanitizedLinkParams:Object.keys(s).length>0?s:void 0,errors:r}},Y4e=(e,t)=>t&&e.supported_auth.some(n=>n.type===t)?t:e.supported_auth.some(n=>n.type==="OAUTH")?"OAUTH":"NONE",K4e=(e,t,n)=>H.safePost("/aip/connectors/links/noauth",{requestBody:{connector_id:e.id,name:e.name,action_names:[],tool_settings:t,action_param_schemas:n},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}}),J4e=async({connector:e,redirectAfter:t,shouldRedirectToConnectorDetails:n=!1,onError:r,openPopup:s,toaster:i,intl:o,productSku:a,connectorIdOverride:c,slackTeamIdOverride:l,linkParams:u,toolSettings:d,actionParamSchemas:f})=>{const h=c!=null?c:e.id,p={connectorId:h,name:e.name,actionNames:null,oauthClientId:h===SE?wge:h===TE?Rge:h===OE?xge:null,oauthClientScopes:null,slackTeamId:l,linkParams:u,toolSettings:d,actionParamSchemas:f};return await Gge({redirectUri:Lge(),connectorPlatformParams:p,redirectTo:t||(n?"".concat(xP,"?connector=").concat(h):xP),onError:r,openPopup:s,toaster:i,intl:o,productSku:a})},X4e=async({connector:e,shouldRedirectToConnectorDetails:t=!1,openPopup:n,toaster:r,intl:s,authTypeOverride:i,redirectAfter:o,toolSettings:a,actionParamSchemas:c})=>{switch(Y4e(e,i)){case"OAUTH":return await J4e({connector:e,redirectAfter:o,shouldRedirectToConnectorDetails:t,openPopup:n,toaster:r,intl:s,productSku:Ut.CONNECTOR_SETTING,toolSettings:a,actionParamSchemas:c}),null;case"NONE":return await K4e(e,a,c)}},Ntt=(e,t,n,r)=>H.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:t,connector_id:e}},requestBody:{enabled_actions:n,enabled_roles:r}}),Q4e=Rt({sectionTitle:{id:"addConnectorLinkModal.linkParams.sectionTitle",defaultMessage:"Provide account details"},sectionDescription:{id:"addConnectorLinkModal.linkParams.sectionDescription",defaultMessage:"We need a bit more information from you before continuing."},baseUrlHelper:{id:"addConnectorLinkModal.linkParams.baseUrlHelper",defaultMessage:"You can usually find these values in your URL (for example, {exampleUrl})."},requiredFieldsToast:{id:"addConnectorLinkModal.linkParams.requiredFieldsToast",defaultMessage:"Fill in the required fields to continue."},requiredFieldError:{id:"addConnectorLinkModal.linkParams.requiredFieldError",defaultMessage:"This field is required."},fieldPlaceholder:{id:"addConnectorLinkModal.linkParams.fieldPlaceholder",defaultMessage:"Enter {label}"},fieldLabelRequired:{id:"addConnectorLinkModal.linkParams.fieldLabelRequired",defaultMessage:"{label} (required)"}}),Itt=(e,t,n)=>H.safePut("/accounts/{account_id}/connectors/{connector_id}/enabled_actions",{parameters:{path:{account_id:t,connector_id:e}},requestBody:{enabled_actions:n}}),Z4e=()=>{const e=wd(),t=Ud(),n=T.useMemo(()=>{var o;return(o=t.data)==null?void 0:o.connection_statuses.filter(a=>["google_drive_oauth","google_drive_dwd"].includes(a.user_connection_details.knowledge_connector_type))},[t.data]),r=KQ(),s=r.connectorConfig.get(Ne.GDRIVE),i=r.isGdriveEnabled&&!!s;return{isLoading:t.isLoading||r.isLoading,fileUploadConfig:i?s:null,internalKnowledgeEnabled:e,internalKnowledgeConfigs:e&&(n!=null&&n.length)?n:null}},Ptt=()=>{var r;const e=wd(),t=Ud(),n=(r=t.data)==null?void 0:r.connection_statuses.some(s=>s.user_connection_details.connection_type==="github_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},wtt=()=>{var r;const e=wd(),t=Ud(),n=(r=t.data)==null?void 0:r.connection_statuses.some(s=>s.user_connection_details.connection_type==="sharepoint_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},Rtt=e=>{const t=Ga(),n=!(t!=null&&t.isPersonalAccount())&&(t==null?void 0:t.planType)!==se.SELF_SERVE_BUSINESS,r=xAe(e),{isEnabled:s,isLoading:i}=eBe(e==="help_scout"?"helpscout_sync_connector":"".concat(e,"_sync_connector"));return n?r&&(s!=null?s:!1)&&!i:r},eBe=e=>{var s;const t=wd(),n=Ud(),r=(s=n.data)==null?void 0:s.connection_statuses.some(i=>i.user_connection_details.connection_type===e);return{isLoading:n.isLoading,isEnabled:t&&r}},tBe=()=>{const e=KQ(),t=e.connectorConfig.get(Ne.O365_PERSONAL),n=e.connectorConfig.get(Ne.O365_BUSINESS);return{isLoading:e.isLoading,personalConfig:e.isO365Enabled&&(t!=null&&t.access_token)?t:null,businessConfig:e.isO365Enabled&&(n!=null&&n.access_token)?n:null}},xtt=()=>{var v,E,b,C,y,O,A,N;const e=ri(),t=wd(),n=Le(()=>To.if$(e,{productSku:Ut.CONNECTOR_SETTING},t)),r=iR({fetchValidLinksOnly:!0,productSku:Ut.CONNECTOR_SETTING}),{fileUploadConfig:s,internalKnowledgeConfigs:i}=Z4e(),o=tBe(),a=Le(()=>VE(e)),c=((E=(v=r.connectorLinks.get(kt[x.GDRIVE_ACTION_CONNECTOR]))==null?void 0:v.length)!=null?E:0)>0||((b=i==null?void 0:i.filter(I=>I.user_connection_details.auth_status!=="not_connected").length)!=null?b:0)>0,l=((y=(C=r.connectorLinks.get(kt[x.SHAREPOINT_CONNECTOR]))==null?void 0:C.length)!=null?y:0)>0,u=!!(s!=null&&s.access_token),d=!!((O=o.businessConfig)!=null&&O.access_token),f=(A=n.data)==null?void 0:A.connectors.find(I=>I.id===kt[x.GDRIVE_ACTION_CONNECTOR]),h=f&&f.status!=="DISABLED_BY_ADMIN"||((N=i==null?void 0:i.filter(I=>I.user_connection_details.auth_status==="not_connected").length)!=null?N:0)>0,p=a!=null&&a.some(I=>I.type===x.SHAREPOINT_CONNECTOR&&I.status!=="DISABLED_BY_ADMIN");return{canUpgradeGDrive:u&&!c&&h,canUpgradeSharepoint:d&&!l&&p,isLoading:n.isLoading||r.isLoading}};async function Mtt(e){return(await H.safeGet("/aip/connectors/mcp/oauth_config",{parameters:{query:{mcp_url:e}},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})).oauth_config}async function ktt(e){return await H.safeGet("/aip/connectors/mcp/oauth_config/validate",{parameters:{query:{mcp_url:e}},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function Ltt(e){return H.safePost("/aip/connectors/mcp/refresh_actions",{requestBody:{link_id:e},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function Dtt(e,t){return H.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{actions:t},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function Utt(e,t){return H.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{approved_context_scopes:t},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function Ftt(e,t){return H.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{tool_settings:t},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function Gtt(e,t){return H.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{action_param_schemas:t},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function jtt(e,t,n){const r=[So(!1),So(!0)];for(const s of r)e.setQueryData(s,i=>{if(!i)return i;const o=a=>{const c=a.findIndex(d=>d.id===t);if(c===-1)return{didUpdate:!1,nextLinks:a};const l=P(S({},a[c]),{approved_context_scopes:n}),u=[...a];return u[c]=l,{didUpdate:!0,nextLinks:u}};if(i instanceof Map){let a=!1;const c=new Map(i);for(const[l,u]of c.entries()){const{didUpdate:d,nextLinks:f}=o(u);if(d){c.set(l,f),a=!0;break}}return a?c:i}if(typeof i=="object"){let a=!1;const c={};for(const[l,u]of Object.entries(i)){const{didUpdate:d,nextLinks:f}=o(u);c[l]=f,d&&(a=!0)}return a?c:i}return i})}function Btt(e,t,n){const r=[So(!1),So(!0)],s=i=>{const o=i.findIndex(l=>l.id===t);if(o===-1)return{didUpdate:!1,nextLinks:i};const a=P(S({},i[o]),{tool_settings:n}),c=[...i];return c[o]=a,{didUpdate:!0,nextLinks:c}};for(const i of r)e.setQueryData(i,o=>{if(!o)return o;if(o instanceof Map){let a=!1;const c=new Map(o);for(const[l,u]of c.entries()){const{didUpdate:d,nextLinks:f}=s(u);if(d){c.set(l,f),a=!0;break}}return a?c:o}if(typeof o=="object"){let a=!1;const c={};for(const[l,u]of Object.entries(o)){const{didUpdate:d,nextLinks:f}=s(u);c[l]=f,d&&(a=!0)}return a?c:o}return o})}function Htt(e,t,n,r){const s=[So(!1),So(!0)],i=o=>{const a=o.findIndex(u=>u.id===t);if(a===-1)return{didUpdate:!1,nextLinks:o};const c=P(S({},o[a]),{action_param_schemas:n,link_action_param_schemas:r}),l=[...o];return l[a]=c,{didUpdate:!0,nextLinks:l}};for(const o of s)e.setQueryData(o,a=>{if(!a)return a;if(a instanceof Map){let c=!1;const l=new Map(a);for(const[u,d]of l.entries()){const{didUpdate:f,nextLinks:h}=i(d);if(f){l.set(u,h),c=!0;break}}return c?l:a}if(typeof a=="object"){let c=!1;const l={};for(const[u,d]of Object.entries(a)){const{didUpdate:f,nextLinks:h}=i(d);l[u]=h,f&&(c=!0)}return c?l:a}return a})}function $tt(e,t){return H.safePatch("/aip/connectors/{connector_id}/description",{parameters:{path:{connector_id:e}},requestBody:{description:t},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function Wtt(e,t){return H.safePatch("/aip/connectors/{connector_id}/model_description",{parameters:{path:{connector_id:e}},requestBody:{model_description:t},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function qtt(e,t){return H.safePatch("/aip/connectors/{connector_id}/logo",{parameters:{path:{connector_id:e}},requestBody:{logo_url:t},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function Vtt(e,t){return H.safePatch("/aip/connectors/{connector_id}/name",{parameters:{path:{connector_id:e}},requestBody:{name:t},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function ztt(e,t){return H.safePatch("/aip/connectors/{connector_id}/branding",{parameters:{path:{connector_id:e}},requestBody:t,additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function nBe(e){return H.safeGet("/aip/connectors/{connector_id}/conformance",{parameters:{path:{connector_id:e}},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}function rBe(e){return H.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}},additionalHeaders:{[zt]:Ut.CONNECTOR_SETTING}})}async function Ytt(e,t,n){const r="https://chat.openai.com/aip/".concat(e.id,"/oauth/callback"),s=t,i=await H.safeGet("/aip/p/{id}/user-settings/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:r,redirect_to:s}}});window.location.href=i.redirect_uri}async function Ktt(e,t,n,r){const s=await H.safeGet("/connectors/{id}/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:n,entry_point:t,redirect_to:r}}});window.location.href=s.redirect_uri}async function sBe(e,t){e&&await H.safeDelete("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},additionalHeaders:t?{[zt]:t}:void 0})}async function iBe(e,t){await H.safeDelete("/aip/connectors/links",{requestBody:{connector_id:e},additionalHeaders:t?{[zt]:t}:void 0})}function Jtt(e){switch(e){case oh.Link:return"link_paste_popover";case oh.Picker:return"file_upload_menu"}}async function Xtt(e){await H.safeDelete("/connectors/user_setting/{connector_name}",{parameters:{path:{connector_name:e}}}),window.location.reload()}function Qtt(e,t,n){return oBe(e,kt[t],n)}function oBe(e,t,n){const r=mz(e,n);return r&&aBe(r,t)}function aBe(e,t){const n=e.get(t);return!!n&&n.status!=="DISABLED_BY_ADMIN"}function cBe(e,t,n){const r=HE(),s=vt(),i=Kn(),{data:o,isLoading:a,error:c,refetch:l}=nn({queryKey:["connector-client-data",e],queryFn:async()=>{const u=await H.safeGet("/aip/connectors/oauth_clients",{parameters:{query:{service:t}},additionalHeaders:n?{[zt]:n}:void 0});return u.oauth_clients?u.oauth_clients:(i.danger(s.formatMessage({id:"OfpT7B",defaultMessage:"Request error fetching oauth clients"}),{id:"fetch-oauth-clients-error",duration:3,hasCloseButton:!0}),[])},enabled:r});return{oAuthClients:o,isLoading:a,error:c,refetch:l}}function Ztt(){"use forget";const e=j.c(2),t=tn();let n;return e[0]!==t?(n=()=>{t.invalidateQueries({refetchType:"all",queryKey:_z()}),t.invalidateQueries(P(S({},Wu("connectors")),{refetchType:"all"}))},e[0]=t,e[1]=n):n=e[1],n}function ent(e,t,n="/",r,s,i){var G;const o=ri(),{data:a,isLoading:c,error:l}=Le(()=>To(o,{productSku:r})),u=Fp(a),{connectorLinks:d,isLoading:f,error:h,refetch:p}=iR({productSku:r}),{oAuthClients:_,isLoading:m,error:v,refetch:E}=cBe(e,t,r),b=uBe(),C=T.useCallback(()=>{To.refetch(o,{productSku:r}),p(),E()},[o,r,p,E]),y=kt[e],O=u.get(y),A=T.useMemo(()=>{var K;return(K=d.get(y))!=null?K:[]},[d,y]),N=A[0],I=A.length>0,w=N==null?void 0:N.id,M=T.useCallback(K=>{const V=typeof K=="string"&&K?K:w;V&&b(V,()=>{C()},r)},[b,C,w,r]),k=(G=l!=null?l:h)!=null?G:v,D=c||f||m,L=T.useCallback(()=>{if(!D){if(!O){s==null||s();return}if(!(_!=null&&_.length)){i==null||i();return}window.location.hash="#settings/".concat(yE.Connectors,"?connector=").concat(y,"&add-connector-link=true&redirectAfter=").concat(n,"&product-sku=").concat(r,"&referrer=").concat(sQ.Codex)}},[D,O,_,y,s,i,n,r]);return T.useMemo(()=>({isLoading:D,isConnected:I,openConnectorModal:L,openGithubModal:L,error:k,refetch:C,handleDisconnect:M,link:N,links:A,platformConnector:O}),[D,I,L,k,C,M,N,A,O])}function tnt(e,t,n){"use forget";var p,_;const r=j.c(16),s=e==null?void 0:e.id;let i;r[0]!==s?(i=["connector-actions",s],r[0]=s,r[1]=i):i=r[1];const o=!!(n!=null&&n.forceEnable)||!!(e!=null&&e.id);let a;r[2]!==e||r[3]!==t?(a=()=>H.safeGet("/aip/connectors/{connector_id}/actions",{parameters:{path:{connector_id:e.id}},additionalHeaders:t?{[zt]:t}:void 0}),r[2]=e,r[3]=t,r[4]=a):a=r[4];let c;r[5]!==i||r[6]!==o||r[7]!==a?(c={queryKey:i,enabled:o,queryFn:a},r[5]=i,r[6]=o,r[7]=a,r[8]=c):c=r[8];const{data:l,isLoading:u,refetch:d}=nn(c);let f;r[9]!==(e==null?void 0:e.actions)||r[10]!==(l==null?void 0:l.actions)?(f=(_=(p=l==null?void 0:l.actions)!=null?p:e==null?void 0:e.actions)!=null?_:[],r[9]=e==null?void 0:e.actions,r[10]=l==null?void 0:l.actions,r[11]=f):f=r[11];let h;return r[12]!==u||r[13]!==d||r[14]!==f?(h={actions:f,isLoading:u,refetch:d},r[12]=u,r[13]=d,r[14]=f,r[15]=h):h=r[15],h}function nnt(e,t){"use forget";var _;const n=j.c(12),r=vt(),s=Kn(),i=lNe();let o;n[0]===Symbol.for("react.memo_cache_sentinel")?(o=en(),n[0]=o):o=n[0];const a=o,c=Le(lBe);let l;n[1]===Symbol.for("react.memo_cache_sentinel")?(l=iNe(),n[1]=l):l=n[1];const u=l,d=(_=t==null?void 0:t.autoConnect)!=null?_:!0;let f;n[2]!==d||n[3]!==r||n[4]!==c||n[5]!==i||n[6]!==e||n[7]!==s?(f=async m=>{const A=m,{supported_auth:v,oauth_client_params:E}=A,b=B(A,["supported_auth","oauth_client_params"]),{connector:C}=await H.safePost("/aip/connectors/mcp",{requestBody:P(S({},b),{skip_safety_checks:!0,auth_request:{supported_auth:v,oauth_client_params:E}}),additionalHeaders:e?{[zt]:e}:void 0});if(C.supported_auth.length===0){const N=await nBe(C.id);if(!c&&!u&&!N.implements_retrievable)return await rBe(C.id),{connector:null,link:null,implementsRetrievable:!1}}if(!d)return{connector:C,link:null,implementsRetrievable:!0};let y=m.redirectAfter;m.template_id&&(y="/admin/ca#drafts?publish=".concat(encodeURIComponent(C.id)));const O=await X4e({connector:C,shouldRedirectToConnectorDetails:!0,openPopup:i,toaster:s,intl:r,authTypeOverride:m.authTypeOverride,redirectAfter:y});return{connector:C,link:O,implementsRetrievable:!0}},n[2]=d,n[3]=r,n[4]=c,n[5]=i,n[6]=e,n[7]=s,n[8]=f):f=n[8];let h;n[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{a.invalidateQueries()},n[9]=h):h=n[9];let p;return n[10]!==f?(p={mutationFn:f,onSettled:h},n[10]=f,n[11]=p):p=n[11],Fn(p)}function lBe(){return JE()}function rnt(){const e=vt(),t=Kn(),n=tn();return async(s,i,o)=>{try{const a=Object.values(Fa).find(({access:l,sync:u})=>l===s||u===s),c=new Set([s,a==null?void 0:a.access,a==null?void 0:a.sync]);await Promise.all(Array.from(c).filter(l=>!!l).map(l=>iBe(l,o))),await n.invalidateQueries(),i==null||i()}catch(a){t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function uBe(){const e=vt(),t=Kn(),n=tn();return async(s,i,o)=>{try{await sBe(s,o),await Promise.all([!1,!0].map(a=>n.invalidateQueries({queryKey:So(a)}))),i==null||i()}catch(a){t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function snt(){const e=ri(),t=Ga(),n=vt(),r=Kn();return Fn({mutationKey:["upgradeConnectorToSync"],mutationFn:({link:s,user_extension:i})=>t!=null&&t.isPersonalAccount()?Oa.user_request_connect_upgrade_to_sync({link_id:s.id,user_extension:i}):Oa.user_activate_workspace_connection_and_user({link_id:s.id,user_extension:i}),onMutate:({link:s,isConnectingAndUpgrading:i=!1,referrer:o})=>{re.logEventWithStatsig("Connectors - Upgrade To Sync Initiated","chatgpt_connectors_upgrade_to_sync_initiated",{connector_id:s.connector_id,isConnectingAndUpgrading:i?"true":"false"}),Br.logUpgradeToSyncInitiated({connector_id_metadata:Br.createIdMetadataFromId(e,s.connector_id,o),upgradeToSync:!i,referrer:o})},onSuccess:(s,{link:i,isConnectingAndUpgrading:o=!1,referrer:a})=>{sR(),r.success(o?n.formatMessage({id:"rfbIpd",defaultMessage:"{connector} is now connected and syncing."},{connector:i.name}):n.formatMessage({id:"yhtO5d",defaultMessage:"{connector} is now syncing."},{connector:i.name})),Br.logUpgradeToSyncCompleted({success:!0,connector_id_metadata:Br.createIdMetadataFromId(e,i.connector_id,a),upgradeToSync:!o,referrer:a}),re.logEventWithStatsig("Connectors - Upgrade To Sync Success","chatgpt_connectors_upgrade_to_sync_success",{connector_id:i.connector_id,isConnectingAndUpgrading:o?"true":"false"})},onError:(s,{link:i,isConnectingAndUpgrading:o=!1,referrer:a})=>{if(o)r.warning(n.formatMessage({id:"wag12O",defaultMessage:"{connector} is now connected, but not syncing. Try enabling sync again."},{connector:i.name}));else{Br.logUpgradeToSyncCompleted({success:!1,connector_id_metadata:Br.createIdMetadataFromId(e,i.connector_id,a),upgradeToSync:!o,referrer:a});const c=s instanceof Mt&&s.status===409?n.formatMessage({id:"Tedt6I",defaultMessage:"Connector name already exists"}):n.formatMessage({id:"tumE6A",defaultMessage:"There was a problem syncing {connector}. Try again later."},{connector:i.name});r.danger(c,{toastId:"upgrade_connector_to_sync",loggingTitle:s instanceof Mt&&s.status===409?"Connector name already exists":"There was a problem syncing {connector}. Try again later."})}re.logEventWithStatsig("Connectors - Upgrade To Sync Error","chatgpt_connectors_upgrade_to_sync_error",{connector_id:i.connector_id,isConnectingAndUpgrading:o?"true":"false"})}})}function int(){const e=vt(),t=Kn(),{refetch:n}=Ud();return async s=>{try{await Oa.user_delete_sync(s),n(),sR(),t.success(e.formatMessage({id:"Nktfkq",defaultMessage:"Successfully disabled sync."}))}catch(i){t.danger(mn({id:"+R+5ol",defaultMessage:"Error disabling sync for your connector."}),{toastId:"disable_sync_on_connector"})}}}function QQ(e,t){var r;if(t){const i=Hp(e,t).gizmo$();if(Pd(i))return!1}if(!((r=sr())!=null&&r.isEnterprisey()))return!0;const n=VE(e);return fz()||n!=null&&n.length>0}const dBe={enabledAutoConnectors:[],isLoading:!1};function ont({platformConnectors:e,enabled:t}){const{isLoading:n,data:r}=Le(()=>Ad.if$(t)),v=r!=null?r:{},{disabledTools:s=[]}=v,i=B(v,["disabledTools"]),o=tn(),{isPending:a,mutate:c}=Fn({mutationFn:async({data:E})=>await CCe(E),onSettled:(E,b)=>{const C=["userContext"];E!=null&&!b?o.setQueryData(C,E):o.invalidateQueries({queryKey:C})},onError:E=>(re.logEventWithStatsig("chatgpt_web_disable_auto_connectors_for_teams_error","chatgpt_web_disable_auto_connectors_for_teams_error",{errorMessage:E.message}),E)}),l=oR(),{enabledAutoConnectors:u,isLoading:d}=Le(()=>t?Hz():dBe),[f,h]=T.useState(!1),p=T.useMemo(()=>l.filter(E=>{var b;return e.has(kt[E])&&((b=e.get(kt[E]))==null?void 0:b.status)==="DISABLED_BY_ADMIN"}),[l,e]),{newDisabledTools:_,maybeNewEnabledTools:m}=T.useMemo(()=>{if(!t)return{newDisabledTools:[],maybeNewEnabledTools:[]};const E=[],b=[];return u.length>0&&u.forEach(C=>{var y;p.includes(C)&&!s.includes((y=P_(C))!=null?y:"")&&E.push(C)}),p.length<l.length&&p.length<l.length&&l.forEach(C=>{var y;!p.includes(C)&&s.includes(((y=P_(C))!=null?y:"").concat("_admin_disabled"))&&b.push(C)}),{newDisabledTools:E,maybeNewEnabledTools:b}},[t,u,s,l,p]);T.useEffect(()=>{if(!t||n||a||f||d||_.length===0&&m.length===0)return;const E=new Set(s);m.forEach(b=>{const C=P_(b);C&&(E.delete(C),E.delete("".concat(C,"_admin_disabled")))}),_.forEach(b=>{const C=P_(b);C&&(E.add(C),E.add("".concat(C,"_admin_disabled")))}),c({data:S({disabledTools:Array.from(E)},i)}),h(!0)},[n,a,c,_,m,i,f,s,d,t])}const fBe={google_drive:kt[x.GDRIVE_ACTION_CONNECTOR],slack:kt[x.SLACK_CONNECTOR],linear:kt[x.LINEAR_CONNECTOR]};function hBe(e){return fBe[e]}function pBe(e){return e!=null&&e.length?new Set(e.map(t=>hBe(t.connector_type))):new Set}function L4(e){switch(e){case"base":case"lg":case"xl":return e;default:return"base"}}function _Be(e){switch(e){case"linked_text":case"upgrade_button":case"title_and_description":return e;default:return"title_and_description"}}const mBe=X({}),gBe=ie(()=>{var y,O,A,N,I,w,M,k,D,L,G,K,V,Y,Q,z;const e=ns(),t=ut("2526598250"),n=t.get("composer-send-paperplane-icon",!1);if(!at())return{dynamicPlaceholderEnabled:t.get("dynamic-placeholder-enabled",!1),isSingleLine:e||t.get("single-line",!1),isCombinedList:t.get("combined-list",!1),plusButtonLabel:t.get("plus-button-label",!1),loggedOutAttachLabel:t.get("logged-out-attach-label",!0),loggedOutAttachPlusIcon:t.get("logged-out-attach-plus-icon",!1),loggedOutVoiceLabel:t.get("logged-out-voice-label",!0),loggedOutHideToolButtons:t.get("logged-out-hide-tool-buttons",!1),voiceButtonUsesPrimaryStyle:t.get("voice-button-uses-primary-style",!1),fontSize:L4(t.get("font-size","base")),plusButtonAddsFiles:t.get("plus-button-adds-files",!1),disableMotion:t.get("disable-motion",!1),sendButtonUsesPaperplaneIcon:n,attachfileRateLimitMessageVariant:"title_and_description",attachfileRateLimitMessageShowIcon:!0,fullyCollapsedToolMenu:!1,showSlashHint:!1,showModelsInPlusMenu:!1,showSelectedModelInComposer:!1,showModelSlashCommands:!1,showThinkingEffortPicker:!1,systemHintsByPlan:{free:[]}};const r=ut("790459319"),s=mBe(),i=(y=s.dynamicPlaceholderEnabled)!=null?y:r.get("dynamic-placeholder-enabled",!1),o=(O=s.isSingleLine)!=null?O:e||r.get("single-line",!1),a=(A=s.isCombinedList)!=null?A:r.get("combined-list",!1),c=(N=s.fontSize)!=null?N:L4(r.get("font-size","base")),l=(I=s.attachfileRateLimitMessageVariant)!=null?I:_Be(r.get("attachfile-rate-limit-message-variant","title_and_description")),u=(w=s.attachfileRateLimitMessageShowIcon)!=null?w:r.get("attachfile-rate-limit-message-show-icon",!0),d=(M=s.fullyCollapsedToolMenu)!=null?M:r.get("fully-collapsed-tool-menu",!1),f=(k=s.showSlashHint)!=null?k:r.get("show-slash-hint",!1),h=(D=s.plusButtonLabel)!=null?D:r.get("plus-button-label",!1),p=(L=s.showModelsInPlusMenu)!=null?L:r.get("models-in-plus-menu",!1),_=(G=s.showSelectedModelInComposer)!=null?G:r.get("show-selected-model-in-composer",!1),m=(K=s.showModelSlashCommands)!=null?K:r.get("model-slash-commands",!1),v=(V=s.showThinkingEffortPicker)!=null?V:r.get("show-juice-control",!1),E=(Y=s.systemHintsByPlan)!=null?Y:r.get("system-hints-by-plan",{free:[]}),b=(Q=s.disableMotion)!=null?Q:r.get("disable-motion",!1),C=(z=s.voiceButtonUsesPrimaryStyle)!=null?z:r.get("voice-button-uses-primary-style",!1);return{dynamicPlaceholderEnabled:i,isSingleLine:o,isCombinedList:a,fontSize:c,attachfileRateLimitMessageVariant:l,attachfileRateLimitMessageShowIcon:u,fullyCollapsedToolMenu:d,showSlashHint:f,plusButtonLabel:h,showModelsInPlusMenu:p,showSelectedModelInComposer:_,showModelSlashCommands:m,showThinkingEffortPicker:v,systemHintsByPlan:E,disableMotion:b,sendButtonUsesPaperplaneIcon:n,voiceButtonUsesPrimaryStyle:C,plusButtonAddsFiles:!1,loggedOutAttachLabel:!0,loggedOutAttachPlusIcon:!1,loggedOutVoiceLabel:!0,loggedOutHideToolButtons:!1}}),vBe="739972392",EBe="1570743643",CBe="576885595",D4="new_drapp";function ZQ(){if(!Pe(vBe))return!1;const t=ut(EBe),n=ut(CBe);return t.get(D4,!1)||n.get(D4,!1)}var a0,U4;function yBe(){if(U4)return a0;U4=1;var e=ml(),t=FY();function n(r,s){return r&&r.length?t(r,e(s,2)):[]}return a0=n,a0}var SBe=yBe();const TBe=jt(SBe),OBe=new Set(["gdrive_sync_connector","slack_sync_connector","github_sync_connector","notion_sync_connector","sharepoint_admin_sync_connector","confluence_sync_connector","jira_sync_connector","jira_servicemanagement_sync_connector"]),bBe=new Set(["github_sync_connector"]),ABe=new Set([kt[x.GMAIL_CONNECTOR],kt[x.GOOGLE_CONTACTS_CONNECTOR],kt[x.GCAL_CONNECTOR]]),ant=()=>Pe("2502169545");function eZ({ctx:e,baseSystemHintData:t,ecosystemSystemHintData:n,isBasePending:r,gizmoId:s}){var C,y;const i=QQ(e,s!=null?s:void 0),o=xRe(),a=JE(),c=Vv();if(r)return;if(!t)return[];const l=eh(t,n),u=LRe(),d=Pe("1627380539"),f=ZQ(),h=ln("3401870206").get("hide_use_connectors",!1),{systemHintsByPlan:p,showModelsInPlusMenu:_}=gBe(),m=l.filter(O=>!(c&&O.allowInTemporaryChat!==!0||O.systemHint===ce.Think&&u&&(!d||_)||!f&&O.systemHint===bi||O.systemHint===ce.Slurm&&(!i||h)||O.systemHint===ce.Glaux&&!o||O.systemHint===ce.ApiTool&&!a)),v=(C=uRe.getSystemHintsByPlan())!=null?C:p,E=(y=ze())==null?void 0:y.planType,b=m.sort(GBe(v,E,$p()));return s?xBe(e,s,b):b}const Dx=Ts(e=>ie(()=>{const t=NBe(),n=Ux(e,null),r=rZ();return tZ({ctx:e,baseSystemHints:t,connectorSystemHints:n,pathname:r})},{equals:Od})),cnt=ci((e,t)=>ie(()=>{const n=IBe(e,t!=null?t:null),r=Ux(e,t!=null?t:void 0),s=rZ();return tZ({ctx:e,baseSystemHints:n,connectorSystemHints:r,pathname:s})},{equals:Od})),NBe=Ts(e=>ie(()=>{const{data:t,isPending:n}=EW(),{data:r}=CW();return eZ({ctx:e,baseSystemHintData:t,ecosystemSystemHintData:r,isBasePending:n})},{equals:Od})),IBe=ci((e,t)=>ie(()=>{const{data:n,isPending:r}=_le(e,t!=null?t:null),{data:s}=mle(e,t!=null?t:null);return eZ({ctx:e,baseSystemHintData:n,ecosystemSystemHintData:s,isBasePending:r,gizmoId:t})},{equals:Od})),PBe=ci((e,t)=>Qt(()=>uIe({projectId:t,enabled:Pe("3681570957")}))),wBe=Ts(e=>ie(()=>{var f;const t=Gp(e,{productSku:Ut.SLURM}),n=VE(e),{data:r,isLoading:s}=nl(),{data:i,isLoading:o}=gz(e,{fetchValidLinksOnly:!0}),a=ln("112877228").get("enable_toggle_p13n_connectors",!1);if(!t||!n||s||o)return;const l=TBe((f=r==null?void 0:r.connection_statuses)!=null?f:[],h=>h.user_connection_details.connection_instance_id).filter(h=>LBe(h)),u=t.filter(h=>{var p;return(n.some(_=>_.id===h.id)||h.connector_type==="MCP")&&(!((p=h.branding)!=null&&p.is_discoverable_app)||h.conformance.implements_retrievable)&&(i==null?void 0:i.has(h.id))&&!(!a&&ABe.has(h.id))&&h.type!==x.SLACK_CODEX_CONNECTOR&&h.type!==x.SLACK_CODEX_BOT_CONNECTOR}),d=u.filter(h=>(i==null?void 0:i.has(h.id))&&!l.some(p=>{var _,m;return p.user_connection_details.backing_link_id===((m=(_=i.get(h.id))==null?void 0:_[0])==null?void 0:m.id)||h.id===kt[x.GDRIVE_ACTION_CONNECTOR]&&p.user_connection_details.connection_type==="gdrive_sync_connector"}));return{sanitizedAccessConnectorsNoSyncDeduplication:u,sanitizedAccessConnectors:d,syncConnections:l}})),Ux=ci((e,t)=>ie(()=>{if(!QQ(e,t!=null?t:void 0))return[];const r=wBe();if(!r)return;const{sanitizedAccessConnectors:s,syncConnections:i}=r,o=s.map(l=>kBe(l)),a=i.map(l=>DBe(l));return[...eh(o,a)].sort((l,u)=>l.name.localeCompare(u.name))},{equals:Od})),lnt=Ts(e=>ie(()=>!Ux(e,null))),RBe=[ce.Search];function unt(e,t){if(!t||!e)return e;const n=["connector:connector_openai_deep_research",ce.Agent,ce.Search,ce.WebHistory],r=new Set(n),s=new Map,i=[];for(const a of e){if(!r.has(a.systemHint)){i.push(a);continue}if(s.has(a.systemHint)){i.push(a);continue}s.set(a.systemHint,a)}const o=[...n.map(a=>s.get(a)).filter(a=>a!=null),...i];for(let a=0;a<e.length;a+=1)if(e[a]!==o[a])return o;return e}function xBe(e,t,n){if(!t||!As(t))return n;const s=Hp(e,t).gizmo$();if(!Pd(s))return n;const i=[],o=[],a=[];return n.forEach(c=>{RBe.includes(c.systemHint)?a.push(c):!c.isConnected&&c.canConnect?o.push(c):i.push(c)}),[...i,...o,...a]}function eh(e,t){if(!t||t.length===0)return e;const n=new Map;return e.forEach(r=>{n.set(r.systemHint,r)}),t.forEach(r=>{n.set(r.systemHint,r)}),Array.from(n.values())}function MBe({connectorSystemHints:e,connectorScopes:t}){if(!e||!t)return;const n=pBe(t);return n.size===0?[]:e.filter(r=>{if(!Si(r.systemHint))return!1;const s=Aw(r.systemHint);return s?n.has(s):!1})}function tZ({ctx:e,baseSystemHints:t,connectorSystemHints:n,pathname:r}){var a,c;if(!t)return;if(!$Be(r))return eh(t,n);const s=WBe(r);if(!s)return t;const i=Hp(e,s),o=(a=i==null?void 0:i.gizmo$())==null?void 0:a.gizmo.memory_scope;if(HY(o)&&Pe("2874910743"))return eh(t,n);if(gRe(o)&&Pe("3681570957")){const u=(c=PBe(e,s).data)==null?void 0:c.items,d=MBe({connectorSystemHints:n,connectorScopes:u});return!d||d.length===0?t:eh(t,d)}return t}const kBe=Ao(e=>{var t,n,r,s;return{systemHint:jv(e.id),aliases:Fx(e.name,e.service),name:e.name,actionLabel:e.name,shortLabel:e.name,description:(t=e.description)!=null?t:e.name,logo:(n=e.logo_url)!=null?n:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],composerBarButtonInfo:void 0,suggestedPrompt:void 0,isAuto:!1,category:"tool",persistBetweenMessages:!0,requiresOptIn:e.status==="ONLY_ME",isConnector:!0,keywordInvocations:nZ(e.name,e.service),hideFromInitialSelection:!1,badgeType:UBe(e),isDangerous:e.status==="ONLY_ME",connectorLogoUrl:(r=e.logo_url)!=null?r:void 0,connectorLogoUrlDark:(s=e.logo_url_dark)!=null?s:void 0,isConnected:!0}});function LBe(e){const t=e.user_connection_details.connection_type;return bBe.has(t)?!1:OBe.has(t)?!(t==="sharepoint_sync_connector"&&e.user_connection_details.activation_status!=="activated"||!["partially_activated","activating","activated"].includes(e.user_connection_details.activation_status)):FBe(e)}const DBe=Ao(e=>{var s,i,o,a;const{connection_type:t}=e.user_connection_details,n=e.connection_display_info,r=Hge(e);return{systemHint:jv(t),aliases:Fx(r,t!=null?t:void 0),name:r,actionLabel:r,shortLabel:r,description:(s=n.description)!=null?s:r,logo:(i=n.icon_url)!=null?i:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],composerBarButtonInfo:void 0,suggestedPrompt:void 0,isAuto:!1,category:"tool",persistBetweenMessages:!0,requiresOptIn:!1,isConnector:!0,keywordInvocations:nZ(r,t!=null?t:void 0),hideFromInitialSelection:!1,badgeText:void 0,isDangerous:!1,connectorLogoUrl:(o=n.icon_url)!=null?o:void 0,connectorLogoUrlDark:(a=n.icon_dark_url)!=null?a:void 0,isConnected:!0}});function Fx(...e){const t=new Set;return e.forEach(n=>{n&&(t.add(n),t.add(n.toLowerCase()))}),Array.from(t)}function nZ(...e){return Fx(...e)}function UBe(e){if(e.connector_type==="MCP"){if(e.status==="ONLY_ME")return qN.DEV;if(e.developer_type!=="TRUSTED_PARTNER"&&e.status==="ENABLED")return qN.INTERNAL}}function FBe(e){switch(e.user_connection_details.activation_status){case"activated":case"partially_activated":return!0;case"activating":case"inactive":return!1}}function GBe(e,t,n){const r=jBe(e,t),s=r&&r.length>0?r:BBe(t,n);return(i,o)=>{const a=s.indexOf(i.systemHint),c=s.indexOf(o.systemHint),l=a===-1?Number.MAX_SAFE_INTEGER:a,u=c===-1?Number.MAX_SAFE_INTEGER:c;return l===u?0:l>u?1:-1}}function jBe(e,t){if(t===se.FREE||t===se.GUEST)return e.free;if(t===se.PRO)return e.pro;if(t===se.PLUS)return e.plus;if(t===se.GO)return e.go}function BBe(e,t){let n=[];switch(e){case void 0:case se.GUEST:case se.FREE:n=[ce.PictureV2,ce.Picture,D_,bi,ce.Think,ce.Research,ce.Agent,ce.Tatertot,ce.Slurm,ce.Search,ce.Canvas];break;case se.K12:case se.EDUCATION_CBP:case se.DEPRECATED_EDU:n=[ce.ApiTool,ce.PictureV2,ce.Picture,ce.Tatertot,ce.Think,D_,bi,ce.Agent,ce.Research,t?ce.Glaux:ce.Slurm,ce.Search,ce.Canvas];break;case se.GO:case se.PLUS:case se.PRO:n=[ce.ApiTool,ce.PictureV2,ce.Picture,D_,bi,ce.Research,ce.Think,ce.Agent,ce.Slurm,ce.Tatertot,ce.Search,ce.Canvas];break;case se.ENTERPRISE_CBP:case se.HC:case se.FINSERV:case se.FREE_WORKSPACE:case se.SELF_SERVE_BUSINESS:case se.QUORUM:case se.DEPRECATED_ENTERPRISE:n=[ce.ApiTool,t?ce.Glaux:ce.Slurm,ce.PictureV2,ce.Picture,D_,bi,ce.Research,ce.Think,ce.Search,ce.Agent,ce.Canvas];break}return n}const HBe=/^\/g\/[^/]+\/project(?:\/|$)|\/g\/g-p-[^/]+\/c\/[^/]+/;function $Be(e){return e?HBe.test(e):!1}function rZ(){var t,n;const e=ER();return(n=(t=e[e.length-1])==null?void 0:t.location.pathname)!=null?n:typeof window<"u"?window.location.pathname:void 0}function WBe(e){if(!e)return;const t=Rhe(e);if(t&&As(t))return t}let qBe=0;const sZ=T.createContext(null);function VBe({children:e}){const[t]=T.useState(()=>({}));return T.createElement(sZ.Provider,{value:t},e)}function iZ(e){var s;if(e===void 0)return iZ;const t=typeof e=="function"?e:()=>e;let n;const r=T.createContext(null);return s=class{static useState(o=zBe,a){return xx(this.useStore(),o,a)}static useStore(){return this.useStoreWithInit()}static useStoreSignal(){const o=this.useStore();if(this.storeSignalMap.has(o))return this.storeSignalMap.get(o);const a=ep(o);return this.storeSignalMap.set(o,a),a}static useStoreWithInit(...o){var u;const a=T.useContext(r),c=T.useContext(sZ);if(a)return a;const l=(u=this.name)!=null?u:"Store";if(!c)throw new Error("No StoreScope found. Must use ".concat(l," within a <StoreScopeProvider> or <").concat(l,".Provider>."));if(n||(n="".concat(l,":").concat(qBe++)),n in c)return c[n];if(typeof t=="function"&&t.length>0&&o.length===0)throw new Error("Not initialized. First call ".concat(l,".useStoreWithInit(value) or <").concat(l,".Provider store={() => new ").concat(l,"(value)}>"));return c[n]=new this(...o)}static Provider({store:o,children:a}){const[c]=T.useState(o);return T.createElement(r.Provider,{value:c},a)}constructor(o){const a=t(o);Object.assign(this,hl(typeof a=="function"?a:()=>a))}},R(s,"storeSignalMap",new WeakMap),s}function zBe(e){return e}const Sc=e=>{var n;const t={turn_index:(n=e.turnIndex)==null?void 0:n.toString(),thread_id:e.threadId,conversation_id:e.clientThreadId?T1(e.clientThreadId):void 0,message_id:e==null?void 0:e.messageId};return Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==void 0))};var YBe=(e=>(e.ANNUAL="Annual",e.MONTHLY="Monthly",e))(YBe||{}),oZ=(e=>(e.SLASH_COMMAND="slash_command",e))(oZ||{}),KBe=(e=>(e.CONVERSATION_COMPOSER_WEB_ICON="conversation_composer_web_icon",e.CONVERSATION_COMPOSER_TOOL_MENU="conversation_composer_tool_menu",e.CONVERSATION_COMPOSER_SLASH_SEARCH="conversation_composer_slash_search",e.CONVERSATION_REGENERATE_WITH_SEARCH="conversation_regenerate_with_search",e.CONVERSATION_REGENERATE_WITHOUT_SEARCH="conversation_regenerate_without_search",e.URL_SEARCH_HINT="url_search_hint",e.URL_NO_SEARCH_HINT="url_no_search_hint",e.SAFARI_MACOS_BROWSER_BAR="safari_macos_browser_bar",e.SAFARI_IOS_BROWSER_BAR="safari_ios_browser_bar",e.CHROME_BROWSER_BAR="chrome_browser_bar",e.MAP_SEARCH_THIS_AREA_BUTTON="map_search_this_area_button",e))(KBe||{});function JBe(e,t=1e3,n=100){document.activeElement!==e&&e.focus();const r=Date.now(),s=setInterval(()=>{document.activeElement!==e&&e.focus(),Date.now()-r>=t&&clearInterval(s)},n)}const aZ=(e,t)=>{var n;return!!t&&!!((n=e==null?void 0:e.find(r=>r.systemHint===t))!=null&&n.mutuallyExclusive)},XBe=(e,t)=>new Set([...t].filter(n=>!aZ(e,n)));class ni extends iZ()(({initialHint:n=null,locked:r=!1})=>({locked:r,activeSystemHintType:n,activeConnectorSystemTypes:new Set,activeSystemHintTrigger:void 0})){constructor(){super(...arguments);R(this,"getActiveSystemHintType",()=>this.getState().activeSystemHintType);R(this,"getActiveConnectorSystemTypes",()=>this.getState().activeConnectorSystemTypes);R(this,"addConnectorSystemHint",(n,r,s,i)=>{var d,f,h;const{activeSystemHintType:o,activeConnectorSystemTypes:a,locked:c}=this.getState();if(c&&(s==null?void 0:s.locked)===void 0||(s==null?void 0:s.ifPrevSystemHint)!==void 0&&s.ifPrevSystemHint!==o)return;const l=new Set((d=r==null?void 0:r.filter(p=>p.isDangerous).map(p=>p.systemHint))!=null?d:[]),u=aZ(r,n);if(!a.has(n)){let p=u?new Set([n]):XBe(r,new Set([...a,n]));i||(p=new Set([...p].filter(_=>l.has(n)?l.has(_):!l.has(_)))),this.setState({activeConnectorSystemTypes:p}),(s==null?void 0:s.triggerSource)===oZ.SLASH_COMMAND&&Ib(n,bm.SlashCommand,Sc((f=s==null?void 0:s.analyticsMetadata)!=null?f:{})),Ib(n,bm.Enable,Sc((h=s==null?void 0:s.analyticsMetadata)!=null?h:{}))}Ou(o)||this.setActiveSystemHint(bw,r,s)});R(this,"removeConnectorSystemHint",(n,r)=>{var a;const{activeSystemHintType:s,activeConnectorSystemTypes:i,locked:o}=this.getState();if(!(o&&(r==null?void 0:r.locked)===void 0||(r==null?void 0:r.ifPrevSystemHint)!==void 0&&r.ifPrevSystemHint!==s)&&i.has(n)){const c=new Set(i);c.delete(n),Ib(n,bm.Disable,Sc((a=r==null?void 0:r.analyticsMetadata)!=null?a:{})),this.setState({activeSystemHintType:Ou(s)&&c.size===0?null:s,activeConnectorSystemTypes:c})}});R(this,"getPersistedSystemHintTrigger",n=>{if(!this.getState().locked&&this.getState().activeSystemHintType===n)return this.getState().activeSystemHintTrigger})}setActiveSystemHint(n,r,s,i){var l;const{locked:o,activeSystemHintType:a,activeConnectorSystemTypes:c}=this.getState();if(!(o&&(s==null?void 0:s.locked)===void 0||(s==null?void 0:s.ifPrevSystemHint)!==void 0&&s.ifPrevSystemHint!==a)){if(Si(n)){this.addConnectorSystemHint(n,r!=null?r:[],s,i);return}ZBe(a,n,s==null?void 0:s.analyticsMetadata,s==null?void 0:s.triggerSource),this.setState({locked:(l=s==null?void 0:s.locked)!=null?l:o,activeSystemHintType:n,activeSystemHintTrigger:n?s==null?void 0:s.triggerSource:void 0,activeConnectorSystemTypes:Ou(n)?c:new Set})}}}const fnt=()=>{"use forget";return ni.useState(f5e)},hnt=()=>{"use forget";return ni.useState(h5e)};function pnt(){"use forget";const e=j.c(2),t=ni.useStoreSignal();let n;return e[0]!==t?(n=ie(()=>t().activeSystemHintType),e[0]=t,e[1]=n):n=e[1],n}function _nt(){"use forget";const e=j.c(2),t=ni.useStoreSignal();let n;return e[0]!==t?(n=ie(()=>t().activeConnectorSystemTypes),e[0]=t,e[1]=n):n=e[1],n}function QBe(e,t,n,r,s,i){e.setActiveSystemHint(n,r,s,i),M7()&&n&&JBe(tl(t).dom)}const mnt=()=>{"use forget";const e=j.c(3),t=ni.useStore(),n=_0e();let r;return e[0]!==n||e[1]!==t?(r=(s,i)=>{var o;return QBe(t,n,s,Dx(),i,(o=ze())==null?void 0:o.isWorkspacePlan())},e[0]=n,e[1]=t,e[2]=r):r=e[2],r},gnt=()=>{"use forget";const e=j.c(2),t=ni.useStore();let n;return e[0]!==t?(n=(r,s)=>{var i,o;return t.addConnectorSystemHint(r,(i=Dx())!=null?i:[],s,(o=ze())==null?void 0:o.isWorkspacePlan())},e[0]=t,e[1]=n):n=e[1],n},vnt=()=>{"use forget";const e=j.c(2),t=ni.useStore();let n;return e[0]!==t?(n=(r,s)=>t.removeConnectorSystemHint(r,s),e[0]=t,e[1]=n):n=e[1],n};function F4({persistSearchMode:e,persistTatertotMode:t,persistAgentMode:n,forcedSystemHintType:r,completionMetadataHints:s,systemHintsFromSearchParams:i}){return r||(i.length>0?i[0]:e?ce.Search:t?ce.Tatertot:n?ce.Agent:s?s[0]:null)}function ZBe(e,t,n,r){var s,i;t?(Oj(t,iP.Enable,Sc(n!=null?n:{})),t===ce.Agent&&q.addAction("agent.hint.enabled",{client_thread_id:String((s=n==null?void 0:n.clientThreadId)!=null?s:"")})):e&&(Oj(e,iP.Disable,Sc(n!=null?n:{})),e===ce.Agent&&q.addAction("agent.hint.disabled",{client_thread_id:String((i=n==null?void 0:n.clientThreadId)!=null?i:"")})),t===ce.Search?re.logEventWithStatsig("Search Mode Engaged","search_mode_engaged",P(S({},Sc(n!=null?n:{})),{triggerSource:r})):t==null&&e===ce.Search&&re.logEventWithStatsig("Search Mode Disabled","search_mode_disabled",Sc(n!=null?n:{}))}function Ent(e){"use forget";var Fe,Je,qe;const t=j.c(81),{children:n,conversation:r,forcedSystemHintType:s}=e,[i,o]=al();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=ns(),t[0]=a):a=t[0];const c=a,l=Le(l5e);let u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u=(Fe=ze())==null?void 0:Fe.isWorkspacePlan(),t[1]=u):u=t[1];const d=u;let f;if(t[2]!==i||t[3]!==l){e:{const Ae=GY(i,{availableHints:l});if(d){f=Ae;break e}let Xe;t[5]!==l?(Xe=dt=>!Si(dt)||(l==null?void 0:l.some(Ot=>Ot.systemHint===dt)),t[5]=l,t[6]=Xe):Xe=t[6],f=Ae.filter(Xe)}t[2]=i,t[3]=l,t[4]=f}else f=t[4];const h=f;let p;t[7]!==r?(p=()=>IAe(r),t[7]=r,t[8]=p):p=t[8];const _=Le(p);let m;t[9]!==_.enabledTools?(m=(Je=_.enabledTools)==null?void 0:Je.includes(Y6.Search),t[9]=_.enabledTools,t[10]=m):m=t[10];const v=!!m;let E;t[11]!==r?(E=()=>{var Ae;return(Ae=iRe(r))!=null?Ae:[]},t[11]=r,t[12]=E):E=t[12];const b=Le(E),C=Nc(r.id,o5e),y=c&&C;let O;t[13]!==b||t[14]!==v||t[15]!==y?(O=!y&&(b==null?void 0:b.includes(ce.Search))&&v,t[13]=b,t[14]=v,t[15]=y,t[16]=O):O=t[16];const A=O;let N;t[17]!==b?(N=(b==null?void 0:b.includes(ce.Tatertot))&&V1e(),t[17]=b,t[18]=N):N=t[18];const I=N,w=Nc(r.id,i5e),M=Nc(r.id,r5e);let k;t[19]===Symbol.for("react.memo_cache_sentinel")?(k=ZQ(),t[19]=k):k=t[19];const D=k;let L;if(t[20]===Symbol.for("react.memo_cache_sentinel")){const Ae=new Set(["confirmation","login","takeover"]);L=Xe=>!!(Xe!=null&&Xe.n7jupd_button_type&&Ae.has(Xe.n7jupd_button_type)),t[20]=L}else L=t[20];const G=L,V=!!!((qe=w==null?void 0:w.metadata)!=null&&qe.clear_agent_hint_after_submit)||G(M==null?void 0:M.metadata);let Y;t[21]!==b||t[22]!==V?(Y=Bz()&&b.includes(ce.Agent)&&V,t[21]=b,t[22]=V,t[23]=Y):Y=t[23];const Q=Y;let z;t[24]!==b||t[25]!==V?(z=V?b:b.filter(n5e),t[24]=b,t[25]=V,t[26]=z):z=t[26];const F=z;let Te;t[27]!==F?(Te=D&&F.includes(ce.Research)?F.map(t5e):F,t[27]=F,t[28]=Te):Te=t[28];const fe=Te;let $;t[29]===Symbol.for("react.memo_cache_sentinel")?($=[],t[29]=$):$=t[29];let W=$,ee,J;if(t[30]!==fe||t[31]!==l){let Ae;t[34]!==l?(Ae=Xe=>{var dt;return(dt=l==null?void 0:l.find(Ot=>Ot.systemHint===Xe))==null?void 0:dt.persistBetweenMessages},t[34]=l,t[35]=Ae):Ae=t[35],ee=fe.find(Ae),J=Si(ee),t[30]=fe,t[31]=l,t[32]=ee,t[33]=J}else ee=t[32],J=t[33];if(J){ee=bw;let Ae;if(t[36]!==fe||t[37]!==l){let Xe;t[39]!==l?(Xe=dt=>{var Ot;return Si(dt)&&((Ot=l==null?void 0:l.find($t=>$t.systemHint===dt))==null?void 0:Ot.persistBetweenMessages)},t[39]=l,t[40]=Xe):Xe=t[40],Ae=fe.filter(Xe),t[36]=fe,t[37]=l,t[38]=Ae}else Ae=t[38];W=Ae}let Z;t[41]!==W||t[42]!==ee?(Z=[ee,W],t[41]=W,t[42]=ee,t[43]=Z):Z=t[43];const[ye,me]=Z;let Ie;t[44]!==r?(Ie=()=>nwe(r),t[44]=r,t[45]=Ie):Ie=t[45];const Ce=Le(Ie);let Me;t[46]!==Ce||t[47]!==s||t[48]!==Q||t[49]!==A||t[50]!==I||t[51]!==l||t[52]!==h?(Me=()=>{const Ae=F4({persistSearchMode:A,persistTatertotMode:I,persistAgentMode:Q,forcedSystemHintType:s,completionMetadataHints:Ce,systemHintsFromSearchParams:h}),Xe=new ni({initialHint:Ae,locked:s!=null});return Ae&&Si(Ae)&&Xe.setActiveSystemHint(Ae,l,{locked:s!=null},d),Xe},t[46]=Ce,t[47]=s,t[48]=Q,t[49]=A,t[50]=I,t[51]=l,t[52]=h,t[53]=Me):Me=t[53];const[ke]=T.useState(Me),xe=T.useRef(r.id);let Ke;t[54]!==h?(Ke=h.join(","),t[54]=h,t[55]=Ke):Ke=t[55];const le=Ke,We=T.useRef(le);let _e,U;t[56]!==Ce||t[57]!==me||t[58]!==r.id||t[59]!==s||t[60]!==Q||t[61]!==A||t[62]!==I||t[63]!==ke||t[64]!==i||t[65]!==le||t[66]!==o||t[67]!==y||t[68]!==ye||t[69]!==l||t[70]!==h?(_e=()=>{const Ae=()=>{const Ot=F4({persistSearchMode:A,persistTatertotMode:I,persistAgentMode:Q,forcedSystemHintType:s,completionMetadataHints:Ce,systemHintsFromSearchParams:h});ke.setActiveSystemHint(Ot,l,{locked:s!=null},d),We.current=le};h.length===0&&(We.current=le),xe.current!==r.id?(ke.setActiveSystemHint(null),Ae(),xe.current=r.id):h.length>0&&le!==We.current&&s==null&&!ke.getState().locked&&Ae();const Xe=ke.getActiveSystemHintType();A&&Xe!==ce.Search?ke.setActiveSystemHint(ce.Search,l,{analyticsMetadata:{clientThreadId:r.id}},d):I&&Xe!==ce.Tatertot?ke.setActiveSystemHint(ce.Tatertot,l,{analyticsMetadata:{clientThreadId:r.id}},d):ye&&((ye!==ce.Search||!y)&&ke.setActiveSystemHint(ye,l,{analyticsMetadata:{clientThreadId:r.id}},d),me.forEach(Ot=>{ke.addConnectorSystemHint(Ot,l,{analyticsMetadata:{clientThreadId:r.id}},d)}));const dt=i.has(gR)||i.has(vR);h.length>0&&dt&&o(e5e,{replace:!0})},U=[r.id,Ce,s,A,I,Q,ke,ye,me,h,le,l,d,y,i,o],t[56]=Ce,t[57]=me,t[58]=r.id,t[59]=s,t[60]=Q,t[61]=A,t[62]=I,t[63]=ke,t[64]=i,t[65]=le,t[66]=o,t[67]=y,t[68]=ye,t[69]=l,t[70]=h,t[71]=_e,t[72]=U):(_e=t[71],U=t[72]),T.useEffect(_e,U);const be=T.useRef(s);let ge,Ge;t[73]!==s||t[74]!==ke||t[75]!==l?(ge=()=>{if(l==null||l.length===0){be.current=s;return}const Ae=s!=null?l.find(Xe=>Xe.systemHint===s):void 0;s!=null&&Ae!=null?ke.setActiveSystemHint(s,l,{locked:!0}):ke.getState().locked&&ke.setActiveSystemHint(null,l,{locked:!1}),be.current=s},Ge=[l,ke,s],t[73]=s,t[74]=ke,t[75]=l,t[76]=ge,t[77]=Ge):(ge=t[76],Ge=t[77]),T.useEffect(ge,Ge);let ae;return t[78]!==n||t[79]!==ke?(ae=g.jsx(ni.Provider,{store:ke,children:n}),t[78]=n,t[79]=ke,t[80]=ae):ae=t[80],ae}function e5e(e){return rRe(e)}function t5e(e){return e===ce.Research?bi:e}function n5e(e){return e!==ce.Agent}function r5e(e){var t;return(t=Oe.findNode(e,s5e))==null?void 0:t.message}function s5e(e){return e.message.author.role===we.Assistant}function i5e(e){return Oe.lastUserMessage(e)}function o5e(e){if(!e)return!1;const t=Oe.getConversationTurns(e),n=t.findIndex(c5e),r=y9(t,a5e);return n!==-1&&n===r}function a5e(e){return e.role===we.User}function c5e(e){return e.role===we.User}function l5e(){return Dx()}function u5e(e){"use forget";const t=j.c(3),{children:n}=e,[r]=T.useState(d5e);let s;return t[0]!==n||t[1]!==r?(s=g.jsx(ni.Provider,{store:r,children:n}),t[0]=n,t[1]=r,t[2]=s):s=t[2],s}function d5e(){return new ni({initialHint:null,locked:!0})}const Cnt=e=>{const t=e.getActiveSystemHintType(),n=e.getActiveConnectorSystemTypes();return Ou(t)?[...n]:t?[t]:[]};function f5e(e){return e.activeSystemHintType}function h5e(e){return e.activeConnectorSystemTypes}function p5e(e){"use forget";const{children:t,fallback:n}=e,r=n===void 0?null:n;return md()?t:r}const _5e=Ew(["google","microsoft","apple","email","phone_number"]),m5e=Ew(["existing_user","new_user"]),g5e=Ew(["social","username"]),ynt=A6({name:_5e,enabled:Ek(),tempDisabled:Ek(),kind:g5e,loginStrategy:m5e}),v5e={google:"google-oauth2",microsoft:"windowslive",apple:"apple"};function E5e(e){return typeof e.email=="string"}function Snt(){"use forget";const e=j.c(8);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=at(),e[0]=t):t=e[0];const n=t,r=F0e(),{accountInfo:s}=C5e();let i;e[1]!==(s==null?void 0:s.isOptedOut)||e[2]!==(s==null?void 0:s.loggedInWithGoogleOneTap)||e[3]!==r?(i=()=>{var l,u;if(!r||!n)return;if(!r.email&&!r.phone_number){q.addError(new Error("User should have either email or phone number, but none are present: ".concat(JSON.stringify(r))));return}if(s!=null&&s.isOptedOut)return;const a=r.email?{email:r.email}:{phoneNumber:(l=r.phone_number)!=null?l:""},c={user:P(S({name:r.name},a),{picture:r.picture,connectionType:Uie().connectionType,timestamp:Date.now()}),loggedInWithGoogleOneTap:(u=s==null?void 0:s.loggedInWithGoogleOneTap)!=null?u:!1,isOptedOut:!1};uC(c)},e[1]=s==null?void 0:s.isOptedOut,e[2]=s==null?void 0:s.loggedInWithGoogleOneTap,e[3]=r,e[4]=i):i=e[4];let o;e[5]!==s||e[6]!==r?(o=[r,n,s],e[5]=s,e[6]=r,e[7]=o):o=e[7],T.useEffect(i,o)}function C5e(){"use no forget";const[e,t]=T.useState(()=>Se.getCookie(pe.AccountInfo)),n=T.useMemo(()=>{if(!e)return null;try{return JSON.parse(e)}catch(s){return null}},[e]),r=T.useCallback(()=>{n&&(n.isOptedOut=!0,n.user=void 0,uC(n),t(void 0))},[n]);return{accountInfo:n,removeAccount:r}}function Tnt(e){const t=Se.getCookie(pe.AccountInfo);if(!t)return;let n;try{n=JSON.parse(t)}catch(o){return}const r=n.user;if(!r||n.isOptedOut||!E5e(r)||r.email===e)return;const s=P(S({},r),{email:e,timestamp:Date.now()}),i=P(S({},n),{user:s});uC(i)}function y5e(){var s;const e=Se.getCookie(pe.AccountInfo);let t=null;if(e)try{t=JSON.parse(e)}catch(i){t=null}const n=(s=t==null?void 0:t.isOptedOut)!=null?s:!1,r={user:n||t==null?void 0:t.user,isOptedOut:n,loggedInWithGoogleOneTap:!0};uC(r)}function uC(e){Se.setCookie(pe.AccountInfo,JSON.stringify(e),{maxAge:720*60*60})}new TextEncoder;const cZ=new TextDecoder,S5e=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},T5e=e=>{let t=e;t instanceof Uint8Array&&(t=cZ.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return S5e(t)}catch(n){throw new TypeError("The input to be decoded is not correctly encoded.")}};class O5e extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class ec extends O5e{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function b5e(e){return typeof e=="object"&&e!==null}function A5e(e){if(!b5e(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const N5e=T5e;function I5e(e){if(typeof e!="string")throw new ec("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new ec("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new ec("Invalid JWT");if(!t)throw new ec("JWTs must contain a payload");let r;try{r=N5e(t)}catch(i){throw new ec("Failed to base64url decode the payload")}let s;try{s=JSON.parse(cZ.decode(r))}catch(i){throw new ec("Failed to parse the decoded payload as JSON")}if(!A5e(s))throw new ec("Invalid JWT Claims Set");return s}const P5e="799222349882-ne3i0s9jdm5s0p7ll2d7tlsi1vc1halt.apps.googleusercontent.com",w5e="https://accounts.google.com/gsi/client",R5e="google-gsi-client-script",UP="google-one-tap-anchor",x5e=5e3;function c0(e,t){const n=()=>{var o;const i=(o=globalThis.google)==null?void 0:o.accounts;if(!i){Kl.set("not_shown"),Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_ACCOUNTS_UNAVAILABLE);return}k5e(),i.id.initialize({callback:a=>{const c=a.credential,l=(()=>{try{return I5e(c)}catch(u){return Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_EXCEPTION),null}})();if(!l||typeof l.email!="string"){Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_FAILED);return}lZ.set(!0),y5e(),g7({callbackUrl:"/",additionalAuthParams:{login_hint:l.email,connection:v5e.google},skipLoginModal:!0}),Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_LOGIN,{continueSelectedBy:a.select_by})},client_id:P5e,auto_select:t.enableAutoLogin,prompt_parent_id:UP,use_fedcm_for_prompt:!1,ux_mode:"popup"}),i.id.prompt(a=>{if(a.isDisplayMoment())if(a.isDisplayed())Kl.set("shown"),Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SHOWN),NE(),re.logStructuredEvent(_p,{authSessionLoggingId:Po(),actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_ONE_TAP_PROMPT_SHOWN,entryPoint:ug.ACCESS_FLOW_ENTRY_POINT_ONE_TAP_PROMPT,connection:OW.ACCESS_FLOW_CONNECTION_TYPE_GOOGLE});else{const c=a.getNotDisplayedReason();Kl.set("not_shown"),Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_NOT_DISPLAYED,{notDisplayedReason:c})}else if(a.isSkippedMoment()){const c=a.getSkippedReason();Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SKIPPED,{skippedReason:c})}else if(a.isDismissedMoment()){const c=a.getDismissedReason();Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_DISMISSED,{dismissedReason:c})}}),Yi(hi.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_PROMPTED)},r=document.createElement("script");r.id=R5e,r.src=w5e,r.async=!0,r.defer=!0,r.nonce=e;const s=setTimeout(()=>{Kl.set("not_shown")},x5e);r.addEventListener("load",()=>{clearTimeout(s),n()}),r.addEventListener("error",()=>{clearTimeout(s),Kl.set("not_shown")}),document.body.appendChild(r)}function Yi(e,t){re.logStructuredEvent(hue,S({authSessionLoggingId:TW(),eventType:e,pathname:window.location.pathname},t))}const lZ=X(!1);function Ont(){"use forget";return Le(M5e)}function M5e(){return lZ()}function k5e(){const e=document.getElementById(UP);if(e)return e;const t=document.createElement("div");return t.id=UP,t.style.position="fixed",t.style.right="16px",document.querySelector("#page-header")?t.style.top="calc(var(--header-height, 64px) - 6px)":document.querySelector("#contentful-header")?t.style.top="calc(var(--mkt-header-height, 64px) - 8px)":t.style.top="20px",t.style.zIndex="9999",document.body.appendChild(t),t}const L5e=["defer-pc"];function D5e(e,{disableExposureLog:t}={}){return ut("3671511802",{disableExposureLog:t}).get(e,!1)}function U5e(){for(const e of L5e)q.addFeatureFlagEvaluation("js-perf-".concat(e),D5e(e,{disableExposureLog:!0}))}const F5e=180*1e3;async function G4(){var n;const e=performance.memory,t={visibilityState:document.visibilityState,deviceMemoryGiB:navigator.deviceMemory,hardwareConcurrency:navigator.hardwareConcurrency,jsHeapSizeLimitBytes:e==null?void 0:e.jsHeapSizeLimit,totalJSHeapSizeBytes:e==null?void 0:e.totalJSHeapSize,usedJSHeapSizeBytes:e==null?void 0:e.usedJSHeapSize};if(performance.measureUserAgentSpecificMemory!=null)try{const r=await performance.measureUserAgentSpecificMemory();t.uaSpecificMemoryBytes=r.bytes,t.uaSpecificMemoryBreakdownCount=(n=r.breakdown)==null?void 0:n.length}catch(r){}q.addAction("browser.memory_usage",t)}function G5e(){G4(),setInterval(()=>{G4()},F5e)}function uZ(e){const t=new URL(window.location.href);if(!t.searchParams.has(e))return;t.searchParams.delete(e);const n=t.pathname+t.search+t.hash;history.replaceState(null,"",n)}let j4=!1;YH()&&q.initialize();function j5e(e,t){if(t){const n=Se.getCookie(pe.Workspace),r=n===Pi?void 0:n,s=t.structure===Mn.WORKSPACE?t.id:void 0;r!==s&&q.addAction("bootstrap_client.account_cookie_mismatch",{accountCookieValue:n,lightAccount:t})}Tv(()=>!Uf().isLoading&&Uf().data!=null,()=>{const n=dr(Uf().data),r=C7(n);r?(Se.setBooleanCookie(pe.WorkspaceIsFedrampCompliant,r.isFedrampCompliantWorkspace,{maxAge:Uv}),(r==null?void 0:r.structure)===Mn.WORKSPACE?S7(r.residencyRegion):CI()):(Se.deleteCookie(pe.WorkspaceIsFedrampCompliant),CI());const s=Se.getCookie(pe.Workspace),i=_Ee(r,n.accountItems);s!==i&&EI(i),r&&t&&(r.id!==t.id||r.planType!==t.planType||r.isDelinquent!==t.isDelinquent||r.gracePeriodId!==t.gracePeriodId)&&Dw()})}function B5e(e,t,n){var r;if(!j4){if(j4=!0,n.checkGate("4011688770")&&ne(()=>import("./84c3034a-jhamqw910kaeew40.js"),__vite__mapDeps([26,2,1,3])).then(s=>s==null?void 0:s.initOpenTelemetry()),n.on("gate_evaluation",({gate:s})=>{q.addFeatureFlagEvaluation(s.name,s.value)}),uZ("refresh_account"),window.addEventListener("vite:preloadError",s=>{q.addAction("vite:preloadError",{payload:s.payload})}),Zr(),Uue(),q.addTiming("chatgpt.web.bootstrapClient",{serialTimingGroup:"pageLoad"}),q.addAction("bootstrap_client.start"),YH()&&(mI.initialize(),G5e(),U5e()),e.authStatus===ju.LoggedIn){const s=e.user,i=(r=e.session)==null?void 0:r.account;q.addAction("bootstrap_client.has_session_user"),j5e(t,i),q.setUser(s,i),mI.setUser(s,i),re.initialize({userInfo:{currentAccount:i!=null?i:null,sessionUser:s}}),q.addAction("bootstrap_client.success.is_authenticated",{hasCurrentAccount:!0})}else if(q.addAction("bootstrap_client.does_not_have_session_user"),q.setNoAuthUser(),re.initialize(),q.addAction("bootstrap_client.success.is_not_authenticated"),window.location.pathname==="/")fae()?c0(e.cspScriptNonce,{enableAutoLogin:Iy()}):_ae()&&Tv(()=>{const i=j6(),o=Cae();if(i==null||o==null)return!1;const a=FN(),c=yae();return!i&&!a&&!o&&!c},()=>{c0(e.cspScriptNonce,{enableAutoLogin:Iy()})});else if(lae()){const i=uae(),o=B6(),a=Aae();i&&o&&!a||c0(e.cspScriptNonce,{enableAutoLogin:Iy()})}}}function H5e({root:e,autoFocus:t=!1}){if(!e)return null;const n=["a[href]:not([data-skip-to-content])","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(", "),r=Array.from(e.querySelectorAll(n));let s=null;for(const i of r)if(i.offsetWidth>0&&i.offsetHeight>0){s=i;break}return t&&(s==null||s.focus()),s}const $5e=()=>({country:pt().userCountry});function B4(e){return e!=null&&e in Zte}const l0=3600*24*30*6,dZ=e=>{Se.setBooleanCookie(pe.ConsentAnalytics,e.consent_analytics,{maxAge:l0,domain:DC}),Se.setBooleanCookie(pe.ConsentMarketing,e.consent_marketing,{maxAge:l0,domain:DC}),Se.setBooleanCookie(pe.AllowNonessential,e.consent_analytics&&e.consent_marketing,{maxAge:l0,domain:DC}),q.addAction("update-cookie-consent.cookie.success")};async function fZ(e){if(dZ(e),pt().authStatus===ju.LoggedIn)try{await H.safePost("/user_granular_consent",{authOption:cn.Required,requestBody:{granular_consent:{analytics:e.consent_analytics,marketing:e.consent_marketing}}}),q.addAction("update-cookie-consent.backend.success")}catch(n){q.addError(n)}}const dC=fn({queryKey:["cookie-consent"],queryFn:async()=>{var i,o,a,c;if(dae()&&Yz())return{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1};const{isUserInPioneerHR:e,userCountry:t}=pt();if(!e){const l=Se.getBooleanCookie(pe.ConsentAnalytics),u=Se.getBooleanCookie(pe.ConsentMarketing);return l!=null||u!=null?{consent_analytics:l!=null?l:!1,consent_marketing:u!=null?u:!1,is_consent_required:!0}:(q.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1})}if(t!=null&&!B4(t))return q.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1};if(B4(t)&&!e)return q.addAction("get-cookie-consent.use-anonymous-default.consent-required-essential-only",{country:t}),{consent_analytics:!1,consent_marketing:!1,is_consent_required:!0};let n;try{const l=await H.safeGet("/user_granular_consent",{authOption:cn.Required});n={consent_analytics:(o=(i=l.granular_consent)==null?void 0:i.analytics)!=null?o:null,consent_marketing:(c=(a=l.granular_consent)==null?void 0:a.marketing)!=null?c:null,is_consent_required:l.is_consent_required},q.addAction("get-cookie-consent.use-authenticated",{country:t})}catch(l){l instanceof Yv||q.addError(l,{country:t}),n={consent_analytics:null,consent_marketing:null,is_consent_required:!0}}const r=Se.getBooleanCookie(pe.ConsentAnalytics),s=Se.getBooleanCookie(pe.ConsentMarketing);return n.consent_analytics!=null&&n.consent_marketing!=null&&(r!==n.consent_analytics||s!==n.consent_marketing)?(dZ({consent_analytics:n.consent_analytics,consent_marketing:n.consent_marketing}),q.addAction("get-cookie-consent.update-cookie-consent-cookie",{country:t})):r!==void 0&&s!==void 0&&n.is_consent_required&&n.consent_analytics==null&&n.consent_marketing==null&&(fZ({consent_analytics:r!=null?r:!1,consent_marketing:s!=null?s:!1}),q.addAction("get-cookie-consent.update-cookie-consent-backend",{country:t}),n=P(S({},n),{consent_analytics:r!=null?r:!1,consent_marketing:s!=null?s:!1})),n}}),bnt=e=>{const{country:t}=$5e(),n=tn();return Fn(P(S({},e),{mutationFn:r=>fZ(r),onSuccess:(r,s,i)=>{var o;(o=e==null?void 0:e.onSuccess)==null||o.call(e,r,s,i),n.setQueryData(dC.queryKey,a=>{if(!a){q.addError(new Error("Cookie consent query data is undefined during mutation"));return}return P(S({},a),{consent_analytics:s.consent_analytics,consent_marketing:s.consent_marketing})})},onError:(r,s,i)=>{var o;(o=e==null?void 0:e.onError)==null||o.call(e,r,s,i),q.addError(r,{country:t})}}))},hZ=X(()=>{var e;return(e=Se.getBooleanCookie(pe.CookieBannerIgnored))!=null?e:!1}),pZ=Qt(()=>dC),Ant=ie(()=>{if(at()||hZ())return!1;const e=pZ().data;return(e==null?void 0:e.is_consent_required)&&e.consent_analytics==null&&e.consent_marketing==null}),Nnt=ie(()=>pZ().isLoading);function Int(e=!1){hZ.set(!0),e&&Se.setBooleanCookie(pe.CookieBannerIgnored,!0)}var dc=(e=>(e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.Msclkid="msclkid",e))(dc||{});function Pnt(e){switch(e){case"gclid":return Se.getMarketingCookie(pe.Gclid);case"fbclid":return Se.getMarketingCookie(pe.Fbclid);case"rdt_cid":return Se.getMarketingCookie(pe.Rdtcid);case"ttclid":return Se.getMarketingCookie(pe.Tiktokclid);case"li_fat_id":return Se.getMarketingCookie(pe.Liclid);case"msclkid":return Se.getMarketingCookie(pe.Msclkid)}}function W5e(e){switch(e){case"gclid":return pe.Gclid;case"fbclid":return pe.Fbclid;case"rdt_cid":return pe.Rdtcid;case"ttclid":return pe.Tiktokclid;case"li_fat_id":return pe.Liclid;case"msclkid":return pe.Msclkid}}function q5e({searchParams:e,clidLifetimeSeconds:t=1440*60,eligibleExplorers:n}){for(const r of n){if(e.get(r)==null)continue;const s=W5e(r),i=e.get(r);Se.setMarketingCookie(s,i,{path:"/",maxAge:t})}}let _Z=!1;const V5e=()=>{const e=pt();if(!e.eligibleMarketing)return;const t=new URLSearchParams(window.location.search);q5e({searchParams:t,eligibleExplorers:[...e.eligibleMarketing.isUserEligibleForPioneer?[dc.Gclid]:[],...e.eligibleMarketing.isUserEligibleForMaverick?[dc.Fbclid]:[],...e.eligibleMarketing.isUserEligibleForTrailBlazer?[dc.Rdtcid]:[],...e.eligibleMarketing.isUserEligibleForStratos?[dc.Tiktokclid]:[],...e.eligibleMarketing.isUserEligibleForSeeker?[dc.Liclid]:[],...e.eligibleMarketing.isUserEligibleForWayfinder?[dc.Msclkid]:[]]}),_Z=!0},z5e=e=>{const t=pt().userCountry;new GH(e,dC).subscribe(r=>{if(r.isPending)return;const s=r.data;if(!s)return;(s.is_consent_required?s.consent_marketing:!0)?(Se.setAllowMarketingCookies_CLIENT_ONLY(!0),q.addAction("marketing-tracking.non-essential-cookies.allowed",{country:t}),_Z||(V5e(),q.addAction("marketing-tracking.non-essential-cookies.marketing-tracking-functions-run",{country:t}))):(Se.setAllowMarketingCookies_CLIENT_ONLY(!1),q.addAction("marketing-tracking.non-essential-cookies.disallowed",{country:t}))})};async function Y5e(){if(!("container"in document.documentElement.style)){performance.mark("polyfill.containerQuery.start");try{await ne(()=>import("./a5b987e0-gdtyl57qnlda5zz4.js"),[])}catch(e){return q.addError(new Error("Error loading polyfill: containerQuery",{cause:e})),Promise.reject(e)}performance.mark("polyfill.containerQuery.end"),performance.measure("polyfill.containerQuery","polyfill.containerQuery.start","polyfill.containerQuery.end")}}async function K5e(){if(!Array.prototype.findLast)try{await ne(()=>import("./7b86a0e0-o9ulx1g662t1lbeq.js"),__vite__mapDeps([27,1]))}catch(e){return q.addError(new Error("Error loading polyfill: findLast",{cause:e})),Promise.reject(e)}}async function J5e(){if(!CSS.supports("animation-timeline: --works")||window.ViewTimeline===void 0){performance.mark("polyfill.scrollTimeline.start");try{await ne(()=>import("./82d0d003-ejwgzqnuqqmjgmkg.js"),[])}catch(e){return q.addAction("Error loading polyfill: scrollTimeline",{cause:e}),Promise.reject(e)}performance.mark("polyfill.scrollTimeline.end"),performance.measure("polyfill.scrollTimeline","polyfill.scrollTimeline.start","polyfill.scrollTimeline.end")}}async function X5e(){"onscrollend"in window||await ne(()=>import("./3e4a3e29-pabmu4jlna3lln99.js"),[])}var H4={},$4={},of,W4;function bn(){if(W4)return of;W4=1;var e=function(t){return t&&t.Math===Math&&t};return of=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof nu=="object"&&nu)||e(typeof of=="object"&&of)||(function(){return this})()||Function("return this")(),of}var u0={},d0,q4;function ji(){return q4||(q4=1,d0=function(e){try{return!!e()}catch(t){return!0}}),d0}var f0,V4;function ko(){if(V4)return f0;V4=1;var e=ji();return f0=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),f0}var h0,z4;function fC(){if(z4)return h0;z4=1;var e=ji();return h0=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),h0}var p0,Y4;function Bi(){if(Y4)return p0;Y4=1;var e=fC(),t=Function.prototype.call;return p0=e?t.bind(t):function(){return t.apply(t,arguments)},p0}var _0={},K4;function Q5e(){if(K4)return _0;K4=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return _0.f=n?function(s){var i=t(this,s);return!!i&&i.enumerable}:e,_0}var m0,J4;function mZ(){return J4||(J4=1,m0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),m0}var g0,X4;function as(){if(X4)return g0;X4=1;var e=fC(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return g0=e?r:function(s){return function(){return n.apply(s,arguments)}},g0}var v0,Q4;function hC(){if(Q4)return v0;Q4=1;var e=as(),t=e({}.toString),n=e("".slice);return v0=function(r){return n(t(r),8,-1)},v0}var E0,Z4;function Z5e(){if(Z4)return E0;Z4=1;var e=as(),t=ji(),n=hC(),r=Object,s=e("".split);return E0=t(function(){return!r("z").propertyIsEnumerable(0)})?function(i){return n(i)==="String"?s(i,""):r(i)}:r,E0}var C0,eB;function pC(){return eB||(eB=1,C0=function(e){return e==null}),C0}var y0,tB;function Gx(){if(tB)return y0;tB=1;var e=pC(),t=TypeError;return y0=function(n){if(e(n))throw new t("Can't call method on "+n);return n},y0}var S0,nB;function jx(){if(nB)return S0;nB=1;var e=Z5e(),t=Gx();return S0=function(n){return e(t(n))},S0}var T0,rB;function Jn(){if(rB)return T0;rB=1;var e=typeof document=="object"&&document.all;return T0=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},T0}var O0,sB;function Lo(){if(sB)return O0;sB=1;var e=Jn();return O0=function(t){return typeof t=="object"?t!==null:e(t)},O0}var b0,iB;function Tl(){if(iB)return b0;iB=1;var e=bn(),t=Jn(),n=function(r){return t(r)?r:void 0};return b0=function(r,s){return arguments.length<2?n(e[r]):e[r]&&e[r][s]},b0}var A0,oB;function Bx(){if(oB)return A0;oB=1;var e=as();return A0=e({}.isPrototypeOf),A0}var N0,aB;function Zp(){if(aB)return N0;aB=1;var e=bn(),t=e.navigator,n=t&&t.userAgent;return N0=n?String(n):"",N0}var I0,cB;function gZ(){if(cB)return I0;cB=1;var e=bn(),t=Zp(),n=e.process,r=e.Deno,s=n&&n.versions||r&&r.version,i=s&&s.v8,o,a;return i&&(o=i.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&t&&(o=t.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=t.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),I0=a,I0}var P0,lB;function vZ(){if(lB)return P0;lB=1;var e=gZ(),t=ji(),n=bn(),r=n.String;return P0=!!Object.getOwnPropertySymbols&&!t(function(){var s=Symbol("symbol detection");return!r(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&e&&e<41}),P0}var w0,uB;function EZ(){if(uB)return w0;uB=1;var e=vZ();return w0=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",w0}var R0,dB;function CZ(){if(dB)return R0;dB=1;var e=Tl(),t=Jn(),n=Bx(),r=EZ(),s=Object;return R0=r?function(i){return typeof i=="symbol"}:function(i){var o=e("Symbol");return t(o)&&n(o.prototype,s(i))},R0}var x0,fB;function _C(){if(fB)return x0;fB=1;var e=String;return x0=function(t){try{return e(t)}catch(n){return"Object"}},x0}var M0,hB;function $a(){if(hB)return M0;hB=1;var e=Jn(),t=_C(),n=TypeError;return M0=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")},M0}var k0,pB;function Hx(){if(pB)return k0;pB=1;var e=$a(),t=pC();return k0=function(n,r){var s=n[r];return t(s)?void 0:e(s)},k0}var L0,_B;function eHe(){if(_B)return L0;_B=1;var e=Bi(),t=Jn(),n=Lo(),r=TypeError;return L0=function(s,i){var o,a;if(i==="string"&&t(o=s.toString)&&!n(a=e(o,s))||t(o=s.valueOf)&&!n(a=e(o,s))||i!=="string"&&t(o=s.toString)&&!n(a=e(o,s)))return a;throw new r("Can't convert object to primitive value")},L0}var D0={exports:{}},U0,mB;function e_(){return mB||(mB=1,U0=!1),U0}var F0,gB;function $x(){if(gB)return F0;gB=1;var e=bn(),t=Object.defineProperty;return F0=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch(s){e[n]=r}return r},F0}var vB;function Wx(){if(vB)return D0.exports;vB=1;var e=e_(),t=bn(),n=$x(),r="__core-js_shared__",s=D0.exports=t[r]||n(r,{});return(s.versions||(s.versions=[])).push({version:"3.45.1",mode:e?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),D0.exports}var G0,EB;function yZ(){if(EB)return G0;EB=1;var e=Wx();return G0=function(t,n){return e[t]||(e[t]=n||{})},G0}var j0,CB;function tHe(){if(CB)return j0;CB=1;var e=Gx(),t=Object;return j0=function(n){return t(e(n))},j0}var B0,yB;function Do(){if(yB)return B0;yB=1;var e=as(),t=tHe(),n=e({}.hasOwnProperty);return B0=Object.hasOwn||function(s,i){return n(t(s),i)},B0}var H0,SB;function SZ(){if(SB)return H0;SB=1;var e=as(),t=0,n=Math.random(),r=e(1.1.toString);return H0=function(s){return"Symbol("+(s===void 0?"":s)+")_"+r(++t+n,36)},H0}var $0,TB;function Hi(){if(TB)return $0;TB=1;var e=bn(),t=yZ(),n=Do(),r=SZ(),s=vZ(),i=EZ(),o=e.Symbol,a=t("wks"),c=i?o.for||o:o&&o.withoutSetter||r;return $0=function(l){return n(a,l)||(a[l]=s&&n(o,l)?o[l]:c("Symbol."+l)),a[l]},$0}var W0,OB;function nHe(){if(OB)return W0;OB=1;var e=Bi(),t=Lo(),n=CZ(),r=Hx(),s=eHe(),i=Hi(),o=TypeError,a=i("toPrimitive");return W0=function(c,l){if(!t(c)||n(c))return c;var u=r(c,a),d;if(u){if(l===void 0&&(l="default"),d=e(u,c,l),!t(d)||n(d))return d;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),s(c,l)},W0}var q0,bB;function TZ(){if(bB)return q0;bB=1;var e=nHe(),t=CZ();return q0=function(n){var r=e(n,"string");return t(r)?r:r+""},q0}var V0,AB;function OZ(){if(AB)return V0;AB=1;var e=bn(),t=Lo(),n=e.document,r=t(n)&&t(n.createElement);return V0=function(s){return r?n.createElement(s):{}},V0}var z0,NB;function bZ(){if(NB)return z0;NB=1;var e=ko(),t=ji(),n=OZ();return z0=!e&&!t(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),z0}var IB;function AZ(){if(IB)return u0;IB=1;var e=ko(),t=Bi(),n=Q5e(),r=mZ(),s=jx(),i=TZ(),o=Do(),a=bZ(),c=Object.getOwnPropertyDescriptor;return u0.f=e?c:function(u,d){if(u=s(u),d=i(d),a)try{return c(u,d)}catch(f){}if(o(u,d))return r(!t(n.f,u,d),u[d])},u0}var Y0={},K0,PB;function rHe(){if(PB)return K0;PB=1;var e=ko(),t=ji();return K0=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),K0}var J0,wB;function Ol(){if(wB)return J0;wB=1;var e=Lo(),t=String,n=TypeError;return J0=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")},J0}var RB;function t_(){if(RB)return Y0;RB=1;var e=ko(),t=bZ(),n=rHe(),r=Ol(),s=TZ(),i=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c="enumerable",l="configurable",u="writable";return Y0.f=e?n?function(f,h,p){if(r(f),h=s(h),r(p),typeof f=="function"&&h==="prototype"&&"value"in p&&u in p&&!p[u]){var _=a(f,h);_&&_[u]&&(f[h]=p.value,p={configurable:l in p?p[l]:_[l],enumerable:c in p?p[c]:_[c],writable:!1})}return o(f,h,p)}:o:function(f,h,p){if(r(f),h=s(h),r(p),t)try{return o(f,h,p)}catch(_){}if("get"in p||"set"in p)throw new i("Accessors not supported");return"value"in p&&(f[h]=p.value),f},Y0}var X0,xB;function NZ(){if(xB)return X0;xB=1;var e=ko(),t=t_(),n=mZ();return X0=e?function(r,s,i){return t.f(r,s,n(1,i))}:function(r,s,i){return r[s]=i,r},X0}var Q0={exports:{}},Z0,MB;function sHe(){if(MB)return Z0;MB=1;var e=ko(),t=Do(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,s=t(n,"name"),i=s&&(function(){}).name==="something",o=s&&(!e||e&&r(n,"name").configurable);return Z0={EXISTS:s,PROPER:i,CONFIGURABLE:o},Z0}var eA,kB;function qx(){if(kB)return eA;kB=1;var e=as(),t=Jn(),n=Wx(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(s){return r(s)}),eA=n.inspectSource,eA}var tA,LB;function iHe(){if(LB)return tA;LB=1;var e=bn(),t=Jn(),n=e.WeakMap;return tA=t(n)&&/native code/.test(String(n)),tA}var nA,DB;function oHe(){if(DB)return nA;DB=1;var e=yZ(),t=SZ(),n=e("keys");return nA=function(r){return n[r]||(n[r]=t(r))},nA}var rA,UB;function IZ(){return UB||(UB=1,rA={}),rA}var sA,FB;function PZ(){if(FB)return sA;FB=1;var e=iHe(),t=bn(),n=Lo(),r=NZ(),s=Do(),i=Wx(),o=oHe(),a=IZ(),c="Object already initialized",l=t.TypeError,u=t.WeakMap,d,f,h,p=function(E){return h(E)?f(E):d(E,{})},_=function(E){return function(b){var C;if(!n(b)||(C=f(b)).type!==E)throw new l("Incompatible receiver, "+E+" required");return C}};if(e||i.state){var m=i.state||(i.state=new u);m.get=m.get,m.has=m.has,m.set=m.set,d=function(E,b){if(m.has(E))throw new l(c);return b.facade=E,m.set(E,b),b},f=function(E){return m.get(E)||{}},h=function(E){return m.has(E)}}else{var v=o("state");a[v]=!0,d=function(E,b){if(s(E,v))throw new l(c);return b.facade=E,r(E,v,b),b},f=function(E){return s(E,v)?E[v]:{}},h=function(E){return s(E,v)}}return sA={set:d,get:f,has:h,enforce:p,getterFor:_},sA}var GB;function wZ(){if(GB)return Q0.exports;GB=1;var e=as(),t=ji(),n=Jn(),r=Do(),s=ko(),i=sHe().CONFIGURABLE,o=qx(),a=PZ(),c=a.enforce,l=a.get,u=String,d=Object.defineProperty,f=e("".slice),h=e("".replace),p=e([].join),_=s&&!t(function(){return d(function(){},"length",{value:8}).length!==8}),m=String(String).split("String"),v=Q0.exports=function(E,b,C){f(u(b),0,7)==="Symbol("&&(b="["+h(u(b),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),C&&C.getter&&(b="get "+b),C&&C.setter&&(b="set "+b),(!r(E,"name")||i&&E.name!==b)&&(s?d(E,"name",{value:b,configurable:!0}):E.name=b),_&&C&&r(C,"arity")&&E.length!==C.arity&&d(E,"length",{value:C.arity});try{C&&r(C,"constructor")&&C.constructor?s&&d(E,"prototype",{writable:!1}):E.prototype&&(E.prototype=void 0)}catch(O){}var y=c(E);return r(y,"source")||(y.source=p(m,typeof b=="string"?b:"")),E};return Function.prototype.toString=v(function(){return n(this)&&l(this).source||o(this)},"toString"),Q0.exports}var iA,jB;function Vx(){if(jB)return iA;jB=1;var e=Jn(),t=t_(),n=wZ(),r=$x();return iA=function(s,i,o,a){a||(a={});var c=a.enumerable,l=a.name!==void 0?a.name:i;if(e(o)&&n(o,l,a),a.global)c?s[i]=o:r(i,o);else{try{a.unsafe?s[i]&&(c=!0):delete s[i]}catch(u){}c?s[i]=o:t.f(s,i,{value:o,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return s},iA}var oA={},aA,BB;function aHe(){if(BB)return aA;BB=1;var e=Math.ceil,t=Math.floor;return aA=Math.trunc||function(r){var s=+r;return(s>0?t:e)(s)},aA}var cA,HB;function RZ(){if(HB)return cA;HB=1;var e=aHe();return cA=function(t){var n=+t;return n!==n||n===0?0:e(n)},cA}var lA,$B;function cHe(){if($B)return lA;$B=1;var e=RZ(),t=Math.max,n=Math.min;return lA=function(r,s){var i=e(r);return i<0?t(i+s,0):n(i,s)},lA}var uA,WB;function lHe(){if(WB)return uA;WB=1;var e=RZ(),t=Math.min;return uA=function(n){var r=e(n);return r>0?t(r,9007199254740991):0},uA}var dA,qB;function xZ(){if(qB)return dA;qB=1;var e=lHe();return dA=function(t){return e(t.length)},dA}var fA,VB;function uHe(){if(VB)return fA;VB=1;var e=jx(),t=cHe(),n=xZ(),r=function(s){return function(i,o,a){var c=e(i),l=n(c);if(l===0)return!s&&-1;var u=t(a,l),d;if(s&&o!==o){for(;l>u;)if(d=c[u++],d!==d)return!0}else for(;l>u;u++)if((s||u in c)&&c[u]===o)return s||u||0;return!s&&-1}};return fA={includes:r(!0),indexOf:r(!1)},fA}var hA,zB;function dHe(){if(zB)return hA;zB=1;var e=as(),t=Do(),n=jx(),r=uHe().indexOf,s=IZ(),i=e([].push);return hA=function(o,a){var c=n(o),l=0,u=[],d;for(d in c)!t(s,d)&&t(c,d)&&i(u,d);for(;a.length>l;)t(c,d=a[l++])&&(~r(u,d)||i(u,d));return u},hA}var pA,YB;function fHe(){return YB||(YB=1,pA=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),pA}var KB;function hHe(){if(KB)return oA;KB=1;var e=dHe(),t=fHe(),n=t.concat("length","prototype");return oA.f=Object.getOwnPropertyNames||function(s){return e(s,n)},oA}var _A={},JB;function pHe(){return JB||(JB=1,_A.f=Object.getOwnPropertySymbols),_A}var mA,XB;function _He(){if(XB)return mA;XB=1;var e=Tl(),t=as(),n=hHe(),r=pHe(),s=Ol(),i=t([].concat);return mA=e("Reflect","ownKeys")||function(a){var c=n.f(s(a)),l=r.f;return l?i(c,l(a)):c},mA}var gA,QB;function mHe(){if(QB)return gA;QB=1;var e=Do(),t=_He(),n=AZ(),r=t_();return gA=function(s,i,o){for(var a=t(i),c=r.f,l=n.f,u=0;u<a.length;u++){var d=a[u];!e(s,d)&&!(o&&e(o,d))&&c(s,d,l(i,d))}},gA}var vA,ZB;function MZ(){if(ZB)return vA;ZB=1;var e=ji(),t=Jn(),n=/#|\.prototype\./,r=function(c,l){var u=i[s(c)];return u===a?!0:u===o?!1:t(l)?e(l):!!l},s=r.normalize=function(c){return String(c).replace(n,".").toLowerCase()},i=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return vA=r,vA}var EA,e5;function bl(){if(e5)return EA;e5=1;var e=bn(),t=AZ().f,n=NZ(),r=Vx(),s=$x(),i=mHe(),o=MZ();return EA=function(a,c){var l=a.target,u=a.global,d=a.stat,f,h,p,_,m,v;if(u?h=e:d?h=e[l]||s(l,{}):h=e[l]&&e[l].prototype,h)for(p in c){if(m=c[p],a.dontCallGetSet?(v=t(h,p),_=v&&v.value):_=h[p],f=o(u?p:l+(d?".":"#")+p,a.forced),!f&&_!==void 0){if(typeof m==typeof _)continue;i(m,_)}(a.sham||_&&_.sham)&&n(m,"sham",!0),r(h,p,m,a)}},EA}var CA,t5;function kZ(){if(t5)return CA;t5=1;var e=bn(),t=Zp(),n=hC(),r=function(s){return t.slice(0,s.length)===s};return CA=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":n(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"})(),CA}var yA,n5;function zx(){if(n5)return yA;n5=1;var e=kZ();return yA=e==="NODE",yA}var SA,r5;function LZ(){if(r5)return SA;r5=1;var e=bn();return SA=e,SA}var TA,s5;function gHe(){if(s5)return TA;s5=1;var e=as(),t=$a();return TA=function(n,r,s){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[s]))}catch(i){}},TA}var OA,i5;function vHe(){if(i5)return OA;i5=1;var e=Lo();return OA=function(t){return e(t)||t===null},OA}var bA,o5;function EHe(){if(o5)return bA;o5=1;var e=vHe(),t=String,n=TypeError;return bA=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")},bA}var AA,a5;function CHe(){if(a5)return AA;a5=1;var e=gHe(),t=Lo(),n=Gx(),r=EHe();return AA=Object.setPrototypeOf||("__proto__"in{}?(function(){var s=!1,i={},o;try{o=e(Object.prototype,"__proto__","set"),o(i,[]),s=i instanceof Array}catch(a){}return function(c,l){return n(c),r(l),t(c)&&(s?o(c,l):c.__proto__=l),c}})():void 0),AA}var NA,c5;function yHe(){if(c5)return NA;c5=1;var e=t_().f,t=Do(),n=Hi(),r=n("toStringTag");return NA=function(s,i,o){s&&!o&&(s=s.prototype),s&&!t(s,r)&&e(s,r,{configurable:!0,value:i})},NA}var IA,l5;function SHe(){if(l5)return IA;l5=1;var e=wZ(),t=t_();return IA=function(n,r,s){return s.get&&e(s.get,r,{getter:!0}),s.set&&e(s.set,r,{setter:!0}),t.f(n,r,s)},IA}var PA,u5;function THe(){if(u5)return PA;u5=1;var e=Tl(),t=SHe(),n=Hi(),r=ko(),s=n("species");return PA=function(i){var o=e(i);r&&o&&!o[s]&&t(o,s,{configurable:!0,get:function(){return this}})},PA}var wA,d5;function OHe(){if(d5)return wA;d5=1;var e=Bx(),t=TypeError;return wA=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")},wA}var RA,f5;function bHe(){if(f5)return RA;f5=1;var e=Hi(),t=e("toStringTag"),n={};return n[t]="z",RA=String(n)==="[object z]",RA}var xA,h5;function DZ(){if(h5)return xA;h5=1;var e=bHe(),t=Jn(),n=hC(),r=Hi(),s=r("toStringTag"),i=Object,o=n((function(){return arguments})())==="Arguments",a=function(c,l){try{return c[l]}catch(u){}};return xA=e?n:function(c){var l,u,d;return c===void 0?"Undefined":c===null?"Null":typeof(u=a(l=i(c),s))=="string"?u:o?n(l):(d=n(l))==="Object"&&t(l.callee)?"Arguments":d},xA}var MA,p5;function AHe(){if(p5)return MA;p5=1;var e=as(),t=ji(),n=Jn(),r=DZ(),s=Tl(),i=qx(),o=function(){},a=s("Reflect","construct"),c=/^\s*(?:class|function)\b/,l=e(c.exec),u=!c.test(o),d=function(p){if(!n(p))return!1;try{return a(o,[],p),!0}catch(_){return!1}},f=function(p){if(!n(p))return!1;switch(r(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!l(c,i(p))}catch(_){return!0}};return f.sham=!0,MA=!a||t(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?f:d,MA}var kA,_5;function NHe(){if(_5)return kA;_5=1;var e=AHe(),t=_C(),n=TypeError;return kA=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor")},kA}var LA,m5;function IHe(){if(m5)return LA;m5=1;var e=Ol(),t=NHe(),n=pC(),r=Hi(),s=r("species");return LA=function(i,o){var a=e(i).constructor,c;return a===void 0||n(c=e(a)[s])?o:t(c)},LA}var DA,g5;function PHe(){if(g5)return DA;g5=1;var e=fC(),t=Function.prototype,n=t.apply,r=t.call;return DA=typeof Reflect=="object"&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),DA}var UA,v5;function wHe(){if(v5)return UA;v5=1;var e=hC(),t=as();return UA=function(n){if(e(n)==="Function")return t(n)},UA}var FA,E5;function Yx(){if(E5)return FA;E5=1;var e=wHe(),t=$a(),n=fC(),r=e(e.bind);return FA=function(s,i){return t(s),i===void 0?s:n?r(s,i):function(){return s.apply(i,arguments)}},FA}var GA,C5;function RHe(){if(C5)return GA;C5=1;var e=Tl();return GA=e("document","documentElement"),GA}var jA,y5;function xHe(){if(y5)return jA;y5=1;var e=as();return jA=e([].slice),jA}var BA,S5;function MHe(){if(S5)return BA;S5=1;var e=TypeError;return BA=function(t,n){if(t<n)throw new e("Not enough arguments");return t},BA}var HA,T5;function UZ(){if(T5)return HA;T5=1;var e=Zp();return HA=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),HA}var $A,O5;function FZ(){if(O5)return $A;O5=1;var e=bn(),t=PHe(),n=Yx(),r=Jn(),s=Do(),i=ji(),o=RHe(),a=xHe(),c=OZ(),l=MHe(),u=UZ(),d=zx(),f=e.setImmediate,h=e.clearImmediate,p=e.process,_=e.Dispatch,m=e.Function,v=e.MessageChannel,E=e.String,b=0,C={},y="onreadystatechange",O,A,N,I;i(function(){O=e.location});var w=function(L){if(s(C,L)){var G=C[L];delete C[L],G()}},M=function(L){return function(){w(L)}},k=function(L){w(L.data)},D=function(L){e.postMessage(E(L),O.protocol+"//"+O.host)};return(!f||!h)&&(f=function(G){l(arguments.length,1);var K=r(G)?G:m(G),V=a(arguments,1);return C[++b]=function(){t(K,void 0,V)},A(b),b},h=function(G){delete C[G]},d?A=function(L){p.nextTick(M(L))}:_&&_.now?A=function(L){_.now(M(L))}:v&&!u?(N=new v,I=N.port2,N.port1.onmessage=k,A=n(I.postMessage,I)):e.addEventListener&&r(e.postMessage)&&!e.importScripts&&O&&O.protocol!=="file:"&&!i(D)?(A=D,e.addEventListener("message",k,!1)):y in c("script")?A=function(L){o.appendChild(c("script"))[y]=function(){o.removeChild(this),w(L)}}:A=function(L){setTimeout(M(L),0)}),$A={set:f,clear:h},$A}var WA,b5;function kHe(){if(b5)return WA;b5=1;var e=bn(),t=ko(),n=Object.getOwnPropertyDescriptor;return WA=function(r){if(!t)return e[r];var s=n(e,r);return s&&s.value},WA}var qA,A5;function GZ(){if(A5)return qA;A5=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var n={item:t,next:null},r=this.tail;r?r.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t){var n=this.head=t.next;return n===null&&(this.tail=null),t.item}}},qA=e,qA}var VA,N5;function LHe(){if(N5)return VA;N5=1;var e=Zp();return VA=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",VA}var zA,I5;function DHe(){if(I5)return zA;I5=1;var e=Zp();return zA=/web0s(?!.*chrome)/i.test(e),zA}var YA,P5;function UHe(){if(P5)return YA;P5=1;var e=bn(),t=kHe(),n=Yx(),r=FZ().set,s=GZ(),i=UZ(),o=LHe(),a=DHe(),c=zx(),l=e.MutationObserver||e.WebKitMutationObserver,u=e.document,d=e.process,f=e.Promise,h=t("queueMicrotask"),p,_,m,v,E;if(!h){var b=new s,C=function(){var y,O;for(c&&(y=d.domain)&&y.exit();O=b.get();)try{O()}catch(A){throw b.head&&p(),A}y&&y.enter()};!i&&!c&&!a&&l&&u?(_=!0,m=u.createTextNode(""),new l(C).observe(m,{characterData:!0}),p=function(){m.data=_=!_}):!o&&f&&f.resolve?(v=f.resolve(void 0),v.constructor=f,E=n(v.then,v),p=function(){E(C)}):c?p=function(){d.nextTick(C)}:(r=n(r,e),p=function(){r(C)}),h=function(y){b.head||p(),b.add(y)}}return YA=h,YA}var KA,w5;function FHe(){return w5||(w5=1,KA=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(n){}}),KA}var JA,R5;function Kx(){return R5||(R5=1,JA=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),JA}var XA,x5;function n_(){if(x5)return XA;x5=1;var e=bn();return XA=e.Promise,XA}var QA,M5;function r_(){if(M5)return QA;M5=1;var e=bn(),t=n_(),n=Jn(),r=MZ(),s=qx(),i=Hi(),o=kZ(),a=e_(),c=gZ(),l=t&&t.prototype,u=i("species"),d=!1,f=n(e.PromiseRejectionEvent),h=r("Promise",function(){var p=s(t),_=p!==String(t);if(!_&&c===66||a&&!(l.catch&&l.finally))return!0;if(!c||c<51||!/native code/.test(p)){var m=new t(function(b){b(1)}),v=function(b){b(function(){},function(){})},E=m.constructor={};if(E[u]=v,d=m.then(function(){})instanceof v,!d)return!0}return!_&&(o==="BROWSER"||o==="DENO")&&!f});return QA={CONSTRUCTOR:h,REJECTION_EVENT:f,SUBCLASSING:d},QA}var ZA={},k5;function Fd(){if(k5)return ZA;k5=1;var e=$a(),t=TypeError,n=function(r){var s,i;this.promise=new r(function(o,a){if(s!==void 0||i!==void 0)throw new t("Bad Promise constructor");s=o,i=a}),this.resolve=e(s),this.reject=e(i)};return ZA.f=function(r){return new n(r)},ZA}var L5;function GHe(){if(L5)return $4;L5=1;var e=bl(),t=e_(),n=zx(),r=bn(),s=LZ(),i=Bi(),o=Vx(),a=CHe(),c=yHe(),l=THe(),u=$a(),d=Jn(),f=Lo(),h=OHe(),p=IHe(),_=FZ().set,m=UHe(),v=FHe(),E=Kx(),b=GZ(),C=PZ(),y=n_(),O=r_(),A=Fd(),N="Promise",I=O.CONSTRUCTOR,w=O.REJECTION_EVENT,M=O.SUBCLASSING,k=C.getterFor(N),D=C.set,L=y&&y.prototype,G=y,K=L,V=r.TypeError,Y=r.document,Q=r.process,z=A.f,F=z,Te=!!(Y&&Y.createEvent&&r.dispatchEvent),fe="unhandledrejection",$="rejectionhandled",W=0,ee=1,J=2,Z=1,ye=2,me,Ie,Ce,Me,ke=function(ae){var Fe;return f(ae)&&d(Fe=ae.then)?Fe:!1},xe=function(ae,Fe){var Je=Fe.value,qe=Fe.state===ee,Ae=qe?ae.ok:ae.fail,Xe=ae.resolve,dt=ae.reject,Ot=ae.domain,$t,Wt,Et;try{Ae?(qe||(Fe.rejection===ye&&U(Fe),Fe.rejection=Z),Ae===!0?$t=Je:(Ot&&Ot.enter(),$t=Ae(Je),Ot&&(Ot.exit(),Et=!0)),$t===ae.promise?dt(new V("Promise-chain cycle")):(Wt=ke($t))?i(Wt,$t,Xe,dt):Xe($t)):dt(Je)}catch(Gn){Ot&&!Et&&Ot.exit(),dt(Gn)}},Ke=function(ae,Fe){ae.notified||(ae.notified=!0,m(function(){for(var Je=ae.reactions,qe;qe=Je.get();)xe(qe,ae);ae.notified=!1,Fe&&!ae.rejection&&We(ae)}))},le=function(ae,Fe,Je){var qe,Ae;Te?(qe=Y.createEvent("Event"),qe.promise=Fe,qe.reason=Je,qe.initEvent(ae,!1,!0),r.dispatchEvent(qe)):qe={promise:Fe,reason:Je},!w&&(Ae=r["on"+ae])?Ae(qe):ae===fe&&v("Unhandled promise rejection",Je)},We=function(ae){i(_,r,function(){var Fe=ae.facade,Je=ae.value,qe=_e(ae),Ae;if(qe&&(Ae=E(function(){n?Q.emit("unhandledRejection",Je,Fe):le(fe,Fe,Je)}),ae.rejection=n||_e(ae)?ye:Z,Ae.error))throw Ae.value})},_e=function(ae){return ae.rejection!==Z&&!ae.parent},U=function(ae){i(_,r,function(){var Fe=ae.facade;n?Q.emit("rejectionHandled",Fe):le($,Fe,ae.value)})},be=function(ae,Fe,Je){return function(qe){ae(Fe,qe,Je)}},ge=function(ae,Fe,Je){ae.done||(ae.done=!0,Je&&(ae=Je),ae.value=Fe,ae.state=J,Ke(ae,!0))},Ge=function(ae,Fe,Je){if(!ae.done){ae.done=!0,Je&&(ae=Je);try{if(ae.facade===Fe)throw new V("Promise can't be resolved itself");var qe=ke(Fe);qe?m(function(){var Ae={done:!1};try{i(qe,Fe,be(Ge,Ae,ae),be(ge,Ae,ae))}catch(Xe){ge(Ae,Xe,ae)}}):(ae.value=Fe,ae.state=ee,Ke(ae,!1))}catch(Ae){ge({done:!1},Ae,ae)}}};if(I&&(G=function(Fe){h(this,K),u(Fe),i(me,this);var Je=k(this);try{Fe(be(Ge,Je),be(ge,Je))}catch(qe){ge(Je,qe)}},K=G.prototype,me=function(Fe){D(this,{type:N,done:!1,notified:!1,parent:!1,reactions:new b,rejection:!1,state:W,value:null})},me.prototype=o(K,"then",function(Fe,Je){var qe=k(this),Ae=z(p(this,G));return qe.parent=!0,Ae.ok=d(Fe)?Fe:!0,Ae.fail=d(Je)&&Je,Ae.domain=n?Q.domain:void 0,qe.state===W?qe.reactions.add(Ae):m(function(){xe(Ae,qe)}),Ae.promise}),Ie=function(){var ae=new me,Fe=k(ae);this.promise=ae,this.resolve=be(Ge,Fe),this.reject=be(ge,Fe)},A.f=z=function(ae){return ae===G||ae===Ce?new Ie(ae):F(ae)},!t&&d(y)&&L!==Object.prototype)){Me=L.then,M||o(L,"then",function(Fe,Je){var qe=this;return new G(function(Ae,Xe){i(Me,qe,Ae,Xe)}).then(Fe,Je)},{unsafe:!0});try{delete L.constructor}catch(ae){}a&&a(L,K)}return e({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:G}),Ce=s.Promise,c(G,N,!1,!0),l(N),$4}var D5={},eN,U5;function jZ(){return U5||(U5=1,eN={}),eN}var tN,F5;function jHe(){if(F5)return tN;F5=1;var e=Hi(),t=jZ(),n=e("iterator"),r=Array.prototype;return tN=function(s){return s!==void 0&&(t.Array===s||r[n]===s)},tN}var nN,G5;function BZ(){if(G5)return nN;G5=1;var e=DZ(),t=Hx(),n=pC(),r=jZ(),s=Hi(),i=s("iterator");return nN=function(o){if(!n(o))return t(o,i)||t(o,"@@iterator")||r[e(o)]},nN}var rN,j5;function BHe(){if(j5)return rN;j5=1;var e=Bi(),t=$a(),n=Ol(),r=_C(),s=BZ(),i=TypeError;return rN=function(o,a){var c=arguments.length<2?s(o):a;if(t(c))return n(e(c,o));throw new i(r(o)+" is not iterable")},rN}var sN,B5;function HHe(){if(B5)return sN;B5=1;var e=Bi(),t=Ol(),n=Hx();return sN=function(r,s,i){var o,a;t(r);try{if(o=n(r,"return"),!o){if(s==="throw")throw i;return i}o=e(o,r)}catch(c){a=!0,o=c}if(s==="throw")throw i;if(a)throw o;return t(o),i},sN}var iN,H5;function HZ(){if(H5)return iN;H5=1;var e=Yx(),t=Bi(),n=Ol(),r=_C(),s=jHe(),i=xZ(),o=Bx(),a=BHe(),c=BZ(),l=HHe(),u=TypeError,d=function(h,p){this.stopped=h,this.result=p},f=d.prototype;return iN=function(h,p,_){var m=_&&_.that,v=!!(_&&_.AS_ENTRIES),E=!!(_&&_.IS_RECORD),b=!!(_&&_.IS_ITERATOR),C=!!(_&&_.INTERRUPTED),y=e(p,m),O,A,N,I,w,M,k,D=function(G){return O&&l(O,"normal"),new d(!0,G)},L=function(G){return v?(n(G),C?y(G[0],G[1],D):y(G[0],G[1])):C?y(G,D):y(G)};if(E)O=h.iterator;else if(b)O=h;else{if(A=c(h),!A)throw new u(r(h)+" is not iterable");if(s(A)){for(N=0,I=i(h);I>N;N++)if(w=L(h[N]),w&&o(f,w))return w;return new d(!1)}O=a(h,A)}for(M=E?h.next:O.next;!(k=t(M,O)).done;){try{w=L(k.value)}catch(G){l(O,"throw",G)}if(typeof w=="object"&&w&&o(f,w))return w}return new d(!1)},iN}var oN,$5;function $He(){if($5)return oN;$5=1;var e=Hi(),t=e("iterator"),n=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){n=!0}};s[t]=function(){return this},Array.from(s,function(){throw 2})}catch(i){}return oN=function(i,o){try{if(!o&&!n)return!1}catch(l){return!1}var a=!1;try{var c={};c[t]=function(){return{next:function(){return{done:a=!0}}}},i(c)}catch(l){}return a},oN}var aN,W5;function $Z(){if(W5)return aN;W5=1;var e=n_(),t=$He(),n=r_().CONSTRUCTOR;return aN=n||!t(function(r){e.all(r).then(void 0,function(){})}),aN}var q5;function WHe(){if(q5)return D5;q5=1;var e=bl(),t=Bi(),n=$a(),r=Fd(),s=Kx(),i=HZ(),o=$Z();return e({target:"Promise",stat:!0,forced:o},{all:function(c){var l=this,u=r.f(l),d=u.resolve,f=u.reject,h=s(function(){var p=n(l.resolve),_=[],m=0,v=1;i(c,function(E){var b=m++,C=!1;v++,t(p,l,E).then(function(y){C||(C=!0,_[b]=y,--v||d(_))},f)}),--v||d(_)});return h.error&&f(h.value),u.promise}}),D5}var V5={},z5;function qHe(){if(z5)return V5;z5=1;var e=bl(),t=e_(),n=r_().CONSTRUCTOR,r=n_(),s=Tl(),i=Jn(),o=Vx(),a=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(l){return this.then(void 0,l)}}),!t&&i(r)){var c=s("Promise").prototype.catch;a.catch!==c&&o(a,"catch",c,{unsafe:!0})}return V5}var Y5={},K5;function VHe(){if(K5)return Y5;K5=1;var e=bl(),t=Bi(),n=$a(),r=Fd(),s=Kx(),i=HZ(),o=$Z();return e({target:"Promise",stat:!0,forced:o},{race:function(c){var l=this,u=r.f(l),d=u.reject,f=s(function(){var h=n(l.resolve);i(c,function(p){t(h,l,p).then(u.resolve,d)})});return f.error&&d(f.value),u.promise}}),Y5}var J5={},X5;function zHe(){if(X5)return J5;X5=1;var e=bl(),t=Fd(),n=r_().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:n},{reject:function(s){var i=t.f(this),o=i.reject;return o(s),i.promise}}),J5}var Q5={},cN,Z5;function YHe(){if(Z5)return cN;Z5=1;var e=Ol(),t=Lo(),n=Fd();return cN=function(r,s){if(e(r),t(s)&&s.constructor===r)return s;var i=n.f(r),o=i.resolve;return o(s),i.promise},cN}var eH;function KHe(){if(eH)return Q5;eH=1;var e=bl(),t=Tl(),n=e_(),r=n_(),s=r_().CONSTRUCTOR,i=YHe(),o=t("Promise"),a=n&&!s;return e({target:"Promise",stat:!0,forced:n||s},{resolve:function(l){return i(a&&this===o?r:this,l)}}),Q5}var tH;function JHe(){return tH||(tH=1,GHe(),WHe(),qHe(),VHe(),zHe(),KHe()),H4}var nH={},rH;function WZ(){if(rH)return nH;rH=1;var e=bl(),t=Fd();return e({target:"Promise",stat:!0},{withResolvers:function(){var r=t.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}}),nH}var lN,sH;function XHe(){if(sH)return lN;sH=1,JHe(),WZ();var e=Bi(),t=Jn(),n=LZ(),r=n.Promise,s=r.withResolvers;return lN=function(){return e(s,t(this)?this:r)},lN}var uN,iH;function QHe(){if(iH)return uN;iH=1;var e=XHe();return uN=e,uN}var oH={},aH;function ZHe(){return aH||(aH=1,WZ()),oH}var dN,cH;function e$e(){if(cH)return dN;cH=1;var e=QHe();return ZHe(),dN=e,dN}e$e();async function t$e(){performance.mark("polyfill.all.start"),await Promise.allSettled([K5e(),X5e(),Y5e(),J5e()]),performance.mark("polyfill.all.end"),performance.measure("polyfill.all","polyfill.all.start","polyfill.all.end")}function n$e(r){var s=r,{onChange:e,target:t}=s,n=B(s,["onChange","target"]);if(!t)return;const i=S({childList:!0,subtree:!0},n),o=new MutationObserver(c=>{e(c)});function a(){try{o.disconnect()}catch(c){}}return o.observe(t,i),a}const ev=["light","dark"],Jx="(prefers-color-scheme: dark)",r$e=typeof window>"u",Xx=T.createContext(void 0),s$e={setTheme:e=>{},themes:[]},qZ=()=>{var e;return(e=T.useContext(Xx))!==null&&e!==void 0?e:s$e},i$e=e=>T.useContext(Xx)?Ft.createElement(T.Fragment,null,e.children):Ft.createElement(a$e,e),o$e=["light","dark"],a$e=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=o$e,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:c,children:l,nonce:u})=>{const[d,f]=T.useState(()=>lH(s,o)),[h,p]=T.useState(()=>lH(s)),_=c?Object.values(c):i,m=T.useCallback(C=>{let y=C;if(!y)return;C==="system"&&n&&(y=uH());const O=c?c[y]:y,A=t?l$e():null,N=document.documentElement;if(a==="class"?(N.classList.remove(..._),O&&N.classList.add(O)):O?N.setAttribute(a,O):N.removeAttribute(a),r){const I=ev.includes(o)?o:null,w=ev.includes(y)?y:I;N.style.colorScheme=w}A==null||A()},[]),v=T.useCallback(C=>{f(C);try{localStorage.setItem(s,C)}catch(y){}},[e]),E=T.useCallback(C=>{const y=uH(C);p(y),d==="system"&&n&&!e&&m("system")},[d,e]);T.useEffect(()=>{const C=window.matchMedia(Jx);return C.addListener(E),E(C),()=>C.removeListener(E)},[E]),T.useEffect(()=>{const C=y=>{y.key===s&&v(y.newValue||o)};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[v]),T.useEffect(()=>{m(e!=null?e:d)},[e,d]);const b=T.useMemo(()=>({theme:d,setTheme:v,forcedTheme:e,resolvedTheme:d==="system"?h:d,themes:n?[...i,"system"]:i,systemTheme:n?h:void 0}),[d,v,e,h,n,i]);return Ft.createElement(Xx.Provider,{value:b},Ft.createElement(c$e,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:c,children:l,attrs:_,nonce:u}),l)},c$e=T.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{const l=i==="system",u=n==="class"?"var d=document.documentElement,c=d.classList;c.remove(".concat(a.map(p=>"'".concat(p,"'")).join(","),");"):"var d=document.documentElement,n='".concat(n,"',s='setAttribute';"),d=s?ev.includes(i)&&i?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(i,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,_=!1,m=!0)=>{const v=o?o[p]:p,E=_?p+"|| ''":"'".concat(v,"'");let b="";return s&&m&&!_&&ev.includes(p)&&(b+="d.style.colorScheme = '".concat(p,"';")),n==="class"?b+=_||v?"c.add(".concat(E,")"):"null":v&&(b+="d[s](n,".concat(E,")")),b},h=e?"!function(){".concat(u).concat(f(e),"}()"):r?"!function(){try{".concat(u,"var e=localStorage.getItem('").concat(t,"');if('system'===e||(!e&&").concat(l,")){var t='").concat(Jx,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(f("dark"),"}else{").concat(f("light"),"}}else if(e){").concat(o?"var x=".concat(JSON.stringify(o),";"):"").concat(f(o?"x[e]":"e",!0),"}").concat(l?"":"else{"+f(i,!1,!1)+"}").concat(d,"}catch(e){}}()"):"!function(){try{".concat(u,"var e=localStorage.getItem('").concat(t,"');if(e){").concat(o?"var x=".concat(JSON.stringify(o),";"):"").concat(f(o?"x[e]":"e",!0),"}else{").concat(f(i,!1,!1),";}").concat(d,"}catch(t){}}();");return Ft.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})},()=>!0),lH=(e,t)=>{if(r$e)return;let n;try{n=localStorage.getItem(e)||void 0}catch(r){}return n||t},l$e=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},uH=e=>(e||(e=window.matchMedia(Jx)),e.matches?"dark":"light");function VZ(e){return e==="system"||zZ(e)}function zZ(e){return e==="dark"||e==="light"}function u$e(e){if(!VZ(e))throw new Error("Unexpected theme ".concat(e))}function wnt(){const{theme:e,setTheme:t}=qZ();function n(r){u$e(r),r!==e&&t(r)}return[VZ(e)?e:"system",n]}function d$e(){const e=qZ().resolvedTheme;if(zZ(e))return e}function f$e(){return d$e()==="dark"}function h$e(){return document.documentElement.classList.contains("dark")}function Rnt(){"use forget";const e=j.c(4),t=f$e(),[n,r]=T.useState(t?"dark":"light");let s,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>n$e({target:document.documentElement,attributeFilter:["class"],onChange:()=>{const c=h$e();T.startTransition(()=>{r(c?"dark":"light")})}}),i=[],e[0]=s,e[1]=i):(s=e[0],i=e[1]),T.useEffect(s,i);const o=n==="dark";let a;return e[2]!==o?(a={isDarkMode:o},e[2]=o,e[3]=a):a=e[3],a}const YZ=new Set;let Uh=[];const FP=new Set;function p$e(){for(const e of FP)try{e()}catch(t){}}function Qx(e){Uh=e,p$e()}function af(e){if(!e.id)return;const t=Uh.slice(),n=t.findIndex(r=>r.id===e.id);n>=0?t[n]=S(S({},t[n]),e):t.unshift(e),Qx(t)}function _$e(e){for(const t of e)t&&YZ.add(t)}function m$e(e){return e?YZ.has(e):!1}function g$e(e){return FP.add(e),()=>{FP.delete(e)}}function v$e(){return Uh}function E$e(e){if(!e)return;const t=Uh.findIndex(r=>r.id===e);if(t===-1)return;const n=Uh.slice();n[t]=P(S({},n[t]),{reacted_to_at:new Date().toISOString()}),Qx(n)}async function C$e(e){await H.safePost("/amphora/notifications/{notification_id}/reacted",{parameters:{path:{notification_id:e}}})}async function y$e(e=20){return await H.safeGet("/amphora/notifications",{parameters:{query:{limit:e}}})}const KZ=Yn(()=>ne(()=>import("./f5bc645b-cxx49dw9aagg86gv.js"),__vite__mapDeps([28,1,29,30,31,2,3,32])).then(e=>e.InviteBannerModal)),S$e=Yn(()=>ne(()=>import("./af10592d-cqddqqcqznd39vnh.js"),__vite__mapDeps([33,1,29,30,31,2,3,32])).then(e=>e.InviteInfoModal));Yn(()=>ne(()=>import("./798c2cf5-cu8nfxo3kcnpmdre.js"),__vite__mapDeps([34,1,2,3,29,30,31,32])).then(e=>e.InviteAcceptedBannerModal));function T$e(e,t){Os(KZ,{notificationId:e,payload:t})}function O$e(e,t,n){Dv(KZ),Os(S$e,{payload:e,notificationId:t,profileImageUrl:n})}const b$e=Yn(()=>ne(()=>import("./cc42a47b-gmm9aakzu23s914r.js"),__vite__mapDeps([35,1,2,3])).then(e=>e.FamilyUnlinkBannerModal));function A$e(e,t){Os(b$e,{notificationId:e,payload:t})}const N$e=Yn(()=>ne(()=>import("./d5b1e6b6-fu6z4f88eyvramv2.js").then(e=>e.s),__vite__mapDeps([36,1,30,31,2,3,37,38,39,40,41,42])).then(e=>e.SelfHarmBannerModal));function I$e(e,t){Os(N$e,{notificationId:e,payload:t})}const GP=new Set;async function xnt(e){try{e&&(await C$e(e),E$e(e),GP.delete(e))}catch(t){}}const P$e=Yn(()=>ne(()=>import("./a5ed804e-lfc3cs1iyz4hch09.js"),__vite__mapDeps([43,1,2,3])).then(e=>e.SettingUpdatedBannerModal));function w$e(e){if(e){if(GP.has(e))return;GP.add(e)}const t=en();(async()=>{try{await H.safePost("/amphora/clear_settings_cache")}catch(r){}try{const r=ro();await t.invalidateQueries(r),await t.prefetchQuery(r)}catch(r){}const n=r=>{const s=r.queryKey;if(!Array.isArray(s)||s.length<2||!(typeof s[0]=="string"&&s[0]==="amphora"))return!1;const o=s[s.length-1];return typeof o=="string"&&o==="permissions"};try{await t.invalidateQueries({predicate:n})}catch(r){}try{await t.refetchQueries({predicate:n,type:"inactive"})}catch(r){}})()}function R$e(e,t){Os(P$e,{notificationId:e,payload:t})}function JZ(){var r;const e=Pa(),t=Date.now(),n=new Date(t).toISOString();return{user_id:(r=e==null?void 0:e.user)==null?void 0:r.id,timestamp_ms:t,timestamp_iso:n}}function x$e(){re.logEvent("U18 Model Policy Banner Shown",S({},JZ()))}function Mnt(e){re.logEvent("U18 Model Policy Banner Clicked",P(S({},JZ()),{cta:e}))}Yn(()=>ne(()=>import("./ef31551c-dniedd1w1fn6v6az.js"),__vite__mapDeps([44,1,2,3,45])).then(e=>e.U18InfoModal));const M$e=Yn(()=>ne(()=>import("./ef31551c-dniedd1w1fn6v6az.js"),__vite__mapDeps([44,1,2,3,45])).then(e=>e.U18BannerModal));function k$e(e){x$e(),Os(M$e,{notificationId:e})}async function L$e(){return await H.safeGet("/amphora")}const jP=fn({queryKey:["amphora"],queryFn:L$e,staleTime:1/0});function knt(){return nn(jP).data}async function D$e(e){var r;await e.invalidateQueries({queryKey:jP.queryKey,exact:!0});const t=e.getQueryData(jP.queryKey),n=(r=t==null?void 0:t.id)!=null?r:null;n&&await e.invalidateQueries({predicate:({queryKey:s})=>!Array.isArray(s)||s[0]!=="amphora"||s.length!==3?!1:s[1]===n})}function Lnt(){"use forget";return T.useSyncExternalStore(g$e,v$e)}const U$e=Yn(()=>ne(()=>import("./0fd78e4f-cac7muhma6x0r5uw.js"),__vite__mapDeps([46,1,2,3])).then(e=>e.QuietHoursModal));function XZ(e){if(e.notification_type!=="setting-defaulted")return!1;const t=e.payload;return(t==null?void 0:t.name)==="3VyEPC5dTP_model_instructions_enabled"&&(t!=null&&t.value)?(k$e(e.id),!0):!1}function QZ(e,t){if(e.notification_type!=="setting-updated"||!e.id)return!1;const n=e.payload;return t&&w$e(e.id),n!=null&&n.clear_cache_only?!1:(R$e(e.id,n),!0)}function ZZ(e,t){if(e.notification_type!=="family-invite")return!1;const n=e.payload;return t==="loader"?O$e(n,e.id):T$e(e.id,n),!0}function eee(e){if(e.notification_type!=="family-unlink")return!1;const t=e.payload;A$e(e.id,t);const n=en();return D$e(n),!0}function tee(e){if(e.notification_type!=="self-harm")return!1;const t=e.payload;return I$e(e.id,t),!0}function F$e(){(async()=>{var e,t,n;try{const r=await y$e(20),s=((e=r.items)!=null?e:[]).map(i=>i.id).filter(Boolean);_$e(s),Qx((t=r.items)!=null?t:[]);for(const i of(n=r.items)!=null?n:[])!i.reacted_to_at&&(XZ(i)||QZ(i,!1)||ZZ(i,"loader")||eee(i)||tee(i))}catch(r){}})()}function G$e(){kPe("app_notifications").onMessage(t=>{if(t!=null&&t.type&&!["setting-defaulted","setting-updated","self-harm","family-invite","family-unlink"].includes(t.type))return;const n=t.notification_id;if(!m$e(n)){if((t==null?void 0:t.type)==="setting-defaulted"){const r={id:n!=null?n:"",notification_type:t.type,payload:t.payload};af(r),XZ(r)}else if((t==null?void 0:t.type)==="self-harm"){const r={id:n!=null?n:"",notification_type:t.type,payload:t.payload};af(r),tee(r)}else if((t==null?void 0:t.type)==="setting-updated"){if(!n)return;const r={id:n,notification_type:t.type,payload:t.payload};af(r),QZ(r,!0)}else if((t==null?void 0:t.type)==="family-invite"){const r={id:n!=null?n:"",notification_type:t.type,payload:t.payload};af(r),ZZ(r,"topic")}else if((t==null?void 0:t.type)==="family-unlink"){const r={id:n!=null?n:"",notification_type:t.type,payload:t.payload};af(r),eee(r)}}})}const j$e=ie(()=>{var t;const e=(t=mp().data)==null?void 0:t.settings;return e==null?void 0:e.rKAMeJfyrM_settings}),dH=X(!1);function fH(e){if(!e)return null;const[t,n]=e.split(":").map(i=>parseInt(i,10)||0),r=Math.min(23,Math.max(0,t)),s=Math.min(59,Math.max(0,n));return r*60+s}function B$e(e){if(e==null||e.enabled===!1)return!1;const t=fH(e.start_time),n=fH(e.end_time);if(t==null||n==null)return!1;const r=new Date,s=r.getHours()*60+r.getMinutes();return t===n?!1:t<n?s>=t&&s<n:s>=t||s<n}function H$e(){ga(()=>!dH()&&B$e(j$e()),e=>{e&&(dH.set(!0),Os(U$e))},{fireImmediately:!0})}function $$e(){G$e(),F$e(),H$e()}function W$e(){if(!Pe("4141006638"))return;const e=pR();e.init(),e.getTopic("conversations").subscribe(),e.getTopic("app_notifications").subscribe()}function q$e(){at()&&(kEe(),W$e(),$$e(),jY())}let hH=!1;function V$e(){hH||(hH=!0,q$e())}const nee=X(void 0);let fN=!1;async function z$e(){var e;if(!fN){fN=!0;try{const t=await((e=yo())==null?void 0:e.getAdultSearchSetting());t!==void 0&&nee.set(t)}catch(t){}finally{fN=!1}}}function Zx(){if(!ns())return;const e=nee();return e===void 0&&z$e(),e}function Dnt(){var t;const e=Zx();return(t=e==null?void 0:e.canUserEnable)!=null?t:!1}function Unt(){var t;const e=Zx();return(t=e==null?void 0:e.isAdultSearchEnabled)!=null?t:!1}function Y$e(){if(at())return!1;const e=ut("3062017506").get("is_noauth_sidebar_enabled",!1);return Xr().catch(()=>{}),e}function K$e(e){return GY(new URL(e,"https://chatgpt.com").searchParams).includes(ce.Search)}var J$e=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e.LogoutConfirm="logout-confirm",e.NotificationFeed="notification-feed",e.DeepResearchShare="deep-research-share",e))(J$e||{});function X$e({isOpen:e}){Se.setCookie(pe.NavigationState,e?"1":"0",{maxAge:2*365*24*60*60})}const Q$e={isThreadHeaderVisible:!0,isSlideoverSidebarOpen:void 0,isPopoverSidebarOpen:!1,isVoiceActive:!1,isConversationScrolledFromTop:!1,sharingModalThreadId:void 0,deepResearchShareTaskId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null,noAuthMadlibsModalOpen:!1,onboardingConvoState:null,autoHighlightNicknameInput:!1,shouldShowThreadModelPickerDot:!1,isSidebarAnimationDisabled:!1,showVoicePicker:!1,showVoiceNuxFullPage:!1},s_=ot(()=>zn()(()=>Q$e));function mC(e){"use no forget";const t=s_();return e?t(e):t()}function ree(){return s_().getState()}function Pt(e){s_().setState(e)}const Fnt={isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},hN={setBrowseMode:e=>{Pt(t=>P(S({},t),{browseMode:e}))},setIsConversationScrolledFromTop:e=>{Pt(t=>P(S({},t),{isConversationScrolledFromTop:e}))},enterGizmoEditor:()=>{Pt({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{Pt({browseMode:"conversation"})},setAutoHighlightNicknameInput:e=>{Pt({autoHighlightNicknameInput:e})},setSidebarOpen(e){Z$e()?hN.setPopoverSidebarOpen(e):hN.setSlideoverSidebarOpen(e)},setPopoverSidebarOpen:e=>{var t;Pt(({isPopoverSidebarOpen:n})=>({isPopoverSidebarOpen:e!=null?e:!n})),e||(t=yo())==null||t.closeSidebarOverlay()},setSlideoverSidebarOpen:e=>{Pt(({isSlideoverSidebarOpen:t})=>{const n=e!=null?e:!(t!=null?t:see());X$e({isOpen:n});const r=!n;return re.logEvent("Toggle Desktop Nav Collapsed",{isDesktopNavCollapsed:r}),On.logEvent("chatgpt_toggle_desktop_nav_collapsed",null,{isDesktopNavCollapsed:String(r),action:"button_click"}),{isSlideoverSidebarOpen:n}}),iee=!1},hideThreadHeader:()=>{Pt({isThreadHeaderVisible:!1})},showThreadHeader:()=>{Pt({isThreadHeaderVisible:!0})},openSharingModal(e,t){Pt({sharingModalThreadId:e}),re.logEvent("Share Conversation: Open Modal",{location:t})},closeSharingModal(){Pt({sharingModalThreadId:void 0})},openFeedbackModal(e){Pt({feedbackModalThreadId:e})},closeFeedbackModal(){Pt({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){Pt({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){Pt({purchaseWorkspaceData:e})},setThreadModelPickerAlertDot:e=>{Pt(({shouldShowThreadModelPickerDot:t})=>(t!==e&&re.logEvent("Notifications: Thread Model Picker Alert Dot",{shown:e}),{shouldShowThreadModelPickerDot:e}))},disableStageSidebarAnimation:()=>{Pt({isSidebarAnimationDisabled:!0})},enableStageSidebarAnimation:()=>{Pt({isSidebarAnimationDisabled:!1})},setActiveStageSidebar(e){Pt({activeStageSidebar:e})},toggleModal(e){Pt(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){Pt(t=>{if(t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){Pt(t=>{if(!t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},openDeepResearchShare(e){Pt(t=>P(S({},t),{deepResearchShareTaskId:e})),hN.openModal("deep-research-share")},closeAllActiveModals(){ree().activeModals.size>0&&Pt({activeModals:new Set})},hideLatencyDevTools:()=>{Pt({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{Pt({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e,t=!1){Pt(n=>n.displayAnnouncementTooltip&&!t?n:{displayAnnouncementTooltip:e})},setNoAuthMadlibsModalOpen:e=>{Pt({noAuthMadlibsModalOpen:e}),kn.setItem(un.NoAuthMadlibsModalState,"seen")},setOnboardingConvoState:e=>{Pt({onboardingConvoState:e})}};function Gnt(e){return mC(t=>t.activeModals.has(e))}function see(){if(iee)return!1;const e=Se.getCookie(pe.NavigationState);return e!=null?e==="1":!0}let iee=K$e(window.location.href);function Z$e(){var r;const e=ree().activeStageSidebar,t=lt(()=>wE()),n=(r=T6())!=null?r:!1;return e||!t||n}function e6e(){"use forget";const e=j.c(1),t=mC(t6e),n=Le(wE);let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=T6(),e[0]=r):r=e[0],t||!n||r}function t6e(e){return e.activeStageSidebar}function jnt(){"use forget";const e=j.c(3),t=e6e(),n=mC(n6e);let r;return e[0]!==t||e[1]!==n?(r=(at()||Y$e())&&!t&&(n!=null?n:see()),e[0]=t,e[1]=n,e[2]=r):r=e[2],r}function n6e(e){return e.isSlideoverSidebarOpen}function Bnt(){return mC(e=>e.activeModals.has("blocking-initial-component"))}function Hnt(){const[e,t]=T.useState(!1);return T.useEffect(()=>s_().subscribe(r=>{r.activeModals.has("blocking-initial-component")&&t(s=>s||r.activeModals.has("blocking-initial-component"))}),[]),e}const r6e={isActive:!1,query:"",activeIndex:void 0,mouseInteractionsDisabled:!1},eM=zn(xa(()=>S({},r6e))),pH=eM.getState,rm=eM.setState,$nt={getQuery:(e=pH())=>e.query,getMouseInteractionsDisabled:()=>pH().mouseInteractionsDisabled},s6e={setIsActive:e=>{rm({isActive:e})},setQuery:e=>{rm({query:e})},setActiveIndex:e=>{rm(t=>{t.activeIndex=e,t.mouseInteractionsDisabled=!0})},setMouseInteractionsDisabled:e=>{rm(t=>{t.mouseInteractionsDisabled=e})}};function oee(e,t){"use forget";const n=j.c(27),r=Kn(),s=vt(),[i,o]=al();let a;n[0]!==i?(a=i.get("inv_ws_name"),n[0]=i,n[1]=a):a=n[1];const c=a;let l;n[2]!==i?(l=i.get("accept_wId"),n[2]=i,n[3]=l):l=n[3];const u=l,d=t==="/"&&u&&c;let f;n[4]!==s||n[5]!==c||n[6]!==o||n[7]!==r?(f=()=>{o(i6e,{replace:!0}),r.success(s.formatMessage(sm.invitedMessage,{workspace_name:c}),{description:s.formatMessage(sm.separateWindow),hasCloseButton:!0,duration:600,id:"mini-workspace-invice"})},n[4]=s,n[5]=c,n[6]=o,n[7]=r,n[8]=f):f=n[8];const h=f,p=T.useRef(!1);let _;n[9]!==s||n[10]!==c||n[11]!==d||n[12]!==r?(_=()=>{p.current||!d||(p.current=!0,r.info(s.formatMessage(sm.addingToWorkspace,{workspace_name:c}),{description:s.formatMessage(sm.separateWindow),hasCloseButton:!0,duration:0,id:"mini-workspace-invice"}))},n[9]=s,n[10]=c,n[11]=d,n[12]=r,n[13]=_):_=n[13],T.useEffect(_);const m=T.useRef(!1);let v;n[14]!==h||n[15]!==e||n[16]!==u||n[17]!==d?(v=()=>{m.current||!d||!p.current||!e||(m.current=!0,_7({accessToken:ip(),eventPrefix:"miniObserver",acceptWorkspaceId:u}).then(()=>{e.onAcceptedWorkspaceInvite(u),h()}).catch(()=>{m.current=!1}))},n[14]=h,n[15]=e,n[16]=u,n[17]=d,n[18]=v):v=n[18];let E;n[19]!==h||n[20]!==e||n[21]!==s||n[22]!==u||n[23]!==c||n[24]!==d||n[25]!==r?(E=[h,e,s,u,c,d,r],n[19]=h,n[20]=e,n[21]=s,n[22]=u,n[23]=c,n[24]=d,n[25]=r,n[26]=E):E=n[26],T.useEffect(v,E)}function i6e(e){return e.delete("inv_ws_name"),e.delete("accept_wId"),e}const sm=Rt({addingToWorkspace:{id:"MiniObserver.addingToWorkspace",defaultMessage:"Adding you to the {workspace_name} workspace..."},invitedMessage:{id:"MiniObserver.invitedMessage",defaultMessage:"You have been added to the {workspace_name} workspace!"},separateWindow:{id:"MiniObserver.separateWindow",defaultMessage:"The workspace will be opened in a separate window"}});function aee(){const e=Le(Vt.wantsSetChatTheme$);T.useEffect(()=>{if(!e)return;Vt.wantsSetChatTheme$.set(!1);const t=Vt.chatTheme;Vt.chatTheme=void 0,t&&xEe(t)},[e])}function o6e(){"use forget";const e=j.c(16),t=dn(),n=bo(),[r]=al(),s=T.useRef(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=at(),e[0]=i):i=e[0];const o=i;let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=ze(),e[1]=a):a=e[1];const c=a;aee();const l=u7();oee(l,t.pathname),lt(l6e);let u;e[2]!==l?(u=()=>{l&&(o?l.recordAvailableSessionAuth(c==null?void 0:c.id):l.onMissingSessionAuth())},e[2]=l,e[3]=u):u=e[3];let d;e[4]!==l?(d=[l,o,c==null?void 0:c.id],e[4]=l,e[5]=d):d=e[5],T.useEffect(u,d);let f,h;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=()=>ga(c6e,E=>{if(!E)return;Vt.wantsAuthSessionContext$.set(!1);const b=Vt.authSessionContext;if(b)e:switch(b.behavior){case"justLoggedInAccessToken":{o&&Nv(b.authToken.accessToken);break e}case"reloadPageIfLoggedOut":{o||window.location.reload();break e}}}),h=[o],e[6]=f,e[7]=h):(f=e[6],h=e[7]),T.useEffect(f,h);let p,_;e[8]!==t||e[9]!==n||e[10]!==r?(p=()=>ga(a6e,E=>{var C;if(!ns())return;const b=d6e({currentWindowStyle:u6e(E),initialWindowStyle:E6(),windowStyleFromUrl:(C=r.get(hd))!=null?C:void 0,currentLocation:t,previousLocation:s.current,isAuthenticated:o});if(b!==E){No.set(b);return}f6e(b,{locationPathname:t.pathname,locationHash:t.hash,locationState:t.state,searchParams:r,navigate:n})},{fireImmediately:!0}),_=[t.pathname,t.search,t.hash,t.state,t,r,n,s,o],e[8]=t,e[9]=n,e[10]=r,e[11]=p,e[12]=_):(p=e[11],_=e[12]),T.useEffect(p,_);let m,v;return e[13]!==t?(m=()=>{s.current=t},v=[t,s],e[13]=t,e[14]=m,e[15]=v):(m=e[14],v=e[15]),T.useEffect(m,v),h6e(),null}function a6e(){return No()}function c6e(){return Vt.wantsAuthSessionContext$()}function l6e(){return Zx()}function u6e(e){if(e==="mainPage")return"new_page_view";if(e==="sidebar")return"sidebar_view";switch(e){case"new_page_overlay_view":return"new_page_overlay_view";case"new_page_view":return"new_page_view";case"sidebar_view":return"sidebar_view"}return"new_page_view"}function d6e({currentWindowStyle:e,initialWindowStyle:t,windowStyleFromUrl:n,currentLocation:r,previousLocation:s,isAuthenticated:i}){let o=r.pathname==="/",a=(s==null?void 0:s.pathname)==="/";return i||(o=o&&!new URLSearchParams(r.search).has(VI),a=a&&s!=null&&new URLSearchParams(s.search).get(hd)!==rh.value),o&&t==="sidebar_view"||n===sh.value&&e!=="new_page_view"?"sidebar_view":e==="new_page_view"&&o&&s!=null&&!a?"new_page_overlay_view":e==="new_page_overlay_view"&&!o?"new_page_view":e}function f6e(e,{locationPathname:t,locationHash:n,locationState:r,searchParams:s,navigate:i}){switch(e){case"new_page_overlay_view":pN(s,i,t,n,r,g6),Hie(),_N("new_page_overlay_view");break;case"new_page_view":pN(s,i,t,n,r,rh),Bie(),_N();break;case"sidebar_view":pN(s,i,t,n,r,sh),jie(),_N("sidebar_view");break}}function pN(e,t,n,r,s,{name:i,value:o}){if(e.get(i)===o)return;const a=new URLSearchParams(e);a.set(i,o),t({pathname:n,search:a.toString(),hash:r||void 0},{replace:!0,preventScrollReset:!0,state:s})}function _N(e){const t="data-window-style";e?document.body.setAttribute(t,e):document.body.removeAttribute(t)}function h6e(){"use forget";const e=j.c(4),t=eM(_6e),n=Le(p6e),r=T.useRef(t);let s,i;e[0]!==n||e[1]!==t?(s=()=>{var l;const o=r.current;if(r.current=t,!(o&&!t&&n))return;s6e.setIsActive(!1),s_().getState().isPopoverSidebarOpen||(l=yo())==null||l.closeSidebarOverlay()},i=[t,n],e[0]=n,e[1]=t,e[2]=s,e[3]=i):(s=e[2],i=e[3]),T.useEffect(s,i)}function p6e(){return v6()}function _6e(e){return e.isActive}function _H(e,t,n,r,{name:s,value:i}){const o=new URLSearchParams(e);o.get(s)!==i&&(o.set(s,i),r({pathname:t,search:o.toString(),hash:n},{replace:!0}))}function m6e(){"use forget";const e=j.c(16),t=dn(),n=bo(),[r,s]=Le(v6e);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=at(),e[0]=i):i=e[0];const o=i;let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=ze(),e[1]=a):a=e[1];const c=a;aee();const l=u7();oee(l,t.pathname);let u;e[2]!==l?(u=()=>{l&&(o?l.recordAvailableSessionAuth(c==null?void 0:c.id):l.onMissingSessionAuth())},e[2]=l,e[3]=u):u=e[3];let d;e[4]!==l?(d=[l,o,c==null?void 0:c.id],e[4]=l,e[5]=d):d=e[5],T.useEffect(u,d);let f,h;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=()=>ga(g6e,m=>{if(!m)return;Vt.wantsAuthSessionContext$.set(!1);const v=Vt.authSessionContext;if(v)e:switch(v.behavior){case"justLoggedInAccessToken":{o&&Nv(v.authToken.accessToken);break e}case"reloadPageIfLoggedOut":{o||window.location.reload();break e}}}),h=[o],e[6]=f,e[7]=h):(f=e[6],h=e[7]),T.useEffect(f,h);let p,_;return e[8]!==r||e[9]!==s||e[10]!==t.hash||e[11]!==t.pathname||e[12]!==t.search||e[13]!==n?(p=()=>{r&&_H(t.search,t.pathname,t.hash,n,Gie),s&&_H(t.search,t.pathname,t.hash,n,sh),s?document.body.setAttribute("data-window-style","sidebar_view"):document.body.removeAttribute("data-window-style")},_=[t.pathname,t.search,t.hash,n,r,s],e[8]=r,e[9]=s,e[10]=t.hash,e[11]=t.pathname,e[12]=t.search,e[13]=n,e[14]=p,e[15]=_):(p=e[14],_=e[15]),T.useEffect(p,_),null}function g6e(){return Vt.wantsAuthSessionContext$()}function v6e(){return[ap(),pl()]}const E6e=()=>(T.useEffect(()=>{const e=({shiftKey:r,metaKey:s,ctrlKey:i})=>{II.setState({shift:r,meta:s,ctrl:i})},t=()=>{II.setState(e8)},n={passive:!0,capture:!0};return document.addEventListener("keydown",e,n),document.addEventListener("keyup",e,n),document.addEventListener("visibilitychange",t,n),()=>{document.removeEventListener("keydown",e,n),document.removeEventListener("keyup",e,n),document.removeEventListener("visibilitychange",t,n)}},[]),null);class cee{constructor(){R(this,"cacheK1",new Map)}get(t,n){var r;return(r=this.cacheK1.get(t))==null?void 0:r.get(n)}set(t,n,r){let s=this.cacheK1.get(t);s||(s=new Map,this.cacheK1.set(t,s)),s.set(n,r)}delete(t,n){const r=this.cacheK1.get(t);r&&(r.delete(n),r.size===0&&this.cacheK1.delete(t))}}const mH=new cee,BP=new cee;function C6e(e,t){const n=BP.get(e,t);if(n==null){const r=nle(e,t).catch(()=>Lf);return BP.set(e,t,r),r}return n}function y6e(e,t){"use forget";const n=j.c(6);if(e===hp)return Lf;let r;n[0]!==e||n[1]!==t?(r=mH.get(e,t),n[0]=e,n[1]=t,n[2]=r):r=n[2];const s=r;if(s!=null)return s;let i;n[3]!==e||n[4]!==t?(i=C6e(e,t),n[3]=e,n[4]=t,n[5]=i):i=n[5];const o=i,a=T.use(o);return a===Lf?Lf:(mH.set(e,t,a),BP.delete(e,t),a)}function S6e(e){"use forget";const t=j.c(9),{children:n,locale:r}=e;let s;t[0]!==r?(s=lW(r)&&ut("2884982660").get("load-machine-translated",!1),t[0]=r,t[1]=s):s=t[1];const o=y6e(r,s),a=cW.has(r)?"rtl":"ltr";let c;t[2]!==n||t[3]!==a?(c=g.jsx(lge,{dir:a,children:n}),t[2]=n,t[3]=a,t[4]=c):c=t[4];let l;return t[5]!==r||t[6]!==o||t[7]!==c?(l=g.jsx(Lee,{defaultLocale:hp,locale:r,messages:o,children:c}),t[5]=r,t[6]=o,t[7]=c,t[8]=l):l=t[8],l}const T6e=({children:e})=>{const t=Kee().locale;return T.useEffect(()=>{var s;const n=(s=navigator.language)!=null?s:"",r=zv(n);re.logEvent("Locale Loaded",{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r}),On.logEvent("chatgpt_locale_loaded",t,{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r!=null?r:""})},[t]),g.jsx(S6e,{locale:t,children:e})},O6e={version:0,useLocation:!1,temperatureUnit:void 0},b6e=T.createContext({settings:O6e,setSettings:()=>{}}),A6e={suggestions:!0,showInlineFollowups:!1},N6e=T.createContext({settings:A6e,setSettings:()=>{}});function I6e(){const{settings:e,setSettings:t}=T.useContext(b6e);return[e,t]}function Wnt(){const{settings:e,setSettings:t}=T.useContext(N6e);return[e,t]}const tM="last_checked_loc",tv=600*1e3,P6e=Math.floor(tv/1e3),lee="1957563541";function uee(e){const t=localStorage.getItem(tM),n=t?Number(t):void 0;if(n==null||!Number.isFinite(n)||Date.now()-tv>=n)return Tc(),null;const r=Se.getCookie(pe.LastLocation);if(!r)return null;try{return JSON.parse(r)}catch(s){return Tc(),null}}function w6e(e){Se.setCookie(pe.LastLocation,JSON.stringify(e),{maxAge:P6e}),localStorage.setItem(tM,Date.now().toString())}async function dee({enabled:e,force_request:t=!1,onCurrentPermissionStatus:n}){if(!e)return Tc();const r=await fee();if(!t&&r){if(r.state==="denied")return n&&n(!1),Tc();if(r.state==="granted"){n&&n(!0);const s=uee();if(s)return s}}return await new Promise(s=>{if(!(navigator!=null&&navigator.geolocation)){s(Tc());return}navigator.geolocation.getCurrentPosition(i=>{const o={latitude:i.coords.latitude,longitude:i.coords.longitude,locationAccuracy:i.coords.accuracy};w6e(o),s(o),n&&n(!0)},()=>{n&&n(!1),s(Tc())},{enableHighAccuracy:!0,maximumAge:0})})}function qnt(e){const t=Pe(lee);return dee({enabled:t,force_request:!0,onCurrentPermissionStatus:e})}async function fee(){if(!(navigator!=null&&navigator.permissions))return null;try{return await navigator.permissions.query({name:"geolocation"})}catch(e){return null}}function Tc(){return Se.deleteCookie(pe.LastLocation),localStorage.removeItem(tM),null}const nM=T.createContext(null),R6e=e=>{"use forget";const t=j.c(30),{children:n}=e,[r,s]=I6e(),{data:i}=AL(Ii.PreciseLocationEnabledForDevice);let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=Pe(lee),t[0]=o):o=t[0];const a=o,{data:c}=AL(Ii.PreciseLocationEligible),[l,u]=T.useState(null),[d,f]=T.useState(null),h=T.useRef(null),p=jW();let _,m;t[1]!==i||t[2]!==s||t[3]!==r.useLocation?(_=()=>{typeof i=="boolean"&&r.useLocation!==i&&s(G=>P(S({},G),{useLocation:i}))},m=[i,s,r.useLocation,f],t[1]=i,t[2]=s,t[3]=r.useLocation,t[4]=_,t[5]=m):(_=t[4],m=t[5]),T.useEffect(_,m);let v,E;t[6]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{let G=!0,K=null;return fee().then(V=>{!V||!G||(K=V,u(V.state),V.onchange=()=>{u(V.state)})}),()=>{G=!1,K&&(K.onchange=null)}},E=[],t[6]=v,t[7]=E):(v=t[6],E=t[7]),T.useEffect(v,E);let b,C;t[8]!==l||t[9]!==i||t[10]!==s||t[11]!==p?(b=()=>{l&&l!=="granted"&&h.current!==l?(h.current=l,Tc(),f(null),s(x6e),i===!0&&p.mutate({setting:Ii.PreciseLocationEnabledForDevice,value:!1})):l==="granted"&&(h.current=l)},C=[l,i,s,p,f],t[8]=l,t[9]=i,t[10]=s,t[11]=p,t[12]=b,t[13]=C):(b=t[12],C=t[13]),T.useEffect(b,C);const y=a&&i===!0&&c===!0;let O;t[14]!==y?(O=["userLocation",y],t[14]=y,t[15]=O):O=t[15];let A;t[16]===Symbol.for("react.memo_cache_sentinel")?(A=G=>{const{queryKey:K}=G,[,V]=K;return dee({enabled:V}).then(Y=>(f(Y),Y))},t[16]=A):A=t[16];let N;t[17]!==y||t[18]!==O?(N={queryKey:O,queryFn:A,enabled:y,networkMode:"always",refetchOnMount:"always",refetchOnWindowFocus:"always",staleTime:tv,refetchInterval:tv},t[17]=y,t[18]=O,t[19]=N):N=t[19];const I=nn(N);let w;t[20]===Symbol.for("react.memo_cache_sentinel")?(w=()=>f(uee()),t[20]=w):w=t[20];let M;t[21]!==I?(M=async()=>{var G;return(G=(await I.refetch()).data)!=null?G:null},t[21]=I,t[22]=M):M=t[22];let k;t[23]!==l||t[24]!==M||t[25]!==d?(k={locationPermission:l,userLocation:d,syncUserLocationFromCookie:w,refetchLocation:M},t[23]=l,t[24]=M,t[25]=d,t[26]=k):k=t[26];const D=k;let L;return t[27]!==n||t[28]!==D?(L=g.jsx(nM.Provider,{value:D,children:n}),t[27]=n,t[28]=D,t[29]=L):L=t[29],L};function Vnt(){"use forget";var t;const e=T.useContext(nM);return(t=e==null?void 0:e.userLocation)!=null?t:null}function znt(){"use forget";const e=T.useContext(nM);return e==null?void 0:e.syncUserLocationFromCookie}function x6e(e){return e.useLocation?P(S({},e),{useLocation:!1}):e}var mN,gH;function M6e(){if(gH)return mN;gH=1;var e=_d(),t=rs(),n=ka(),r="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==r}return mN=s,mN}var k6e=M6e();const L6e=jt(k6e);var D6e=K7();const U6e=jt(D6e);function vu(e){return e+performance.timeOrigin}function Bm(e){return e===void 0?null:new Date(vu(e)).toISOString()}class F6e{constructor(){R(this,"startTime");R(this,"endTime");R(this,"failTime")}time(t){this.startTime=performance.now();try{const n=t();return this.endTime=performance.now(),n}catch(n){throw this.failTime=performance.now(),n}}async timeAsync(t){this.startTime=performance.now();try{const n=await t();return this.endTime=performance.now(),n}catch(n){throw this.failTime=performance.now(),n}}start(){this.isStarted()||(this.startTime=performance.now())}forceStart(){this.startTime=performance.now(),this.endTime=void 0,this.failTime=void 0}getStart(){return this.startTime}getStartAsTimestamp(){return this.startTime!==void 0?vu(this.startTime):void 0}getStartAsISO(){return Bm(this.startTime)}getEnd(){return this.endTime}getEndAsTimestamp(){return this.endTime!==void 0?vu(this.endTime):void 0}getEndAsDate(){return this.endTime!==void 0?new Date(vu(this.endTime)):void 0}getEndAsISO(){return Bm(this.endTime)}getFailedAsISO(){return Bm(this.failTime)}getFailedAsTimestamp(){return this.failTime!==void 0?vu(this.failTime):void 0}isStarted(){return this.startTime!==void 0}isEnded(){return this.endTime!==void 0||this.failTime!==void 0}setHighResStart(t){this.startTime=t}setHighResEnd(t){this.endTime=t}end(){this.failTime===void 0&&this.endTime===void 0&&(this.endTime=performance.now())}fail(){this.endTime===void 0&&this.failTime===void 0&&(this.failTime=performance.now())}reset(){this.startTime=void 0,this.endTime=void 0,this.failTime=void 0}getDuration(){if(this.startTime!==void 0){if(this.endTime!==void 0)return this.endTime-this.startTime;if(this.failTime!==void 0)return this.failTime-this.startTime}}}function bt(){return new F6e}class G6e{constructor(){R(this,"latency")}setLatency(t){this.latency=t}getLatency(){return this.latency}hasLatency(){return this.latency!==void 0}}function vH(){return new G6e}class j6e{constructor({startBase:t}){R(this,"timestamp");R(this,"startBase");this.startBase=t}mark(){this.isMarked()||(this.timestamp=performance.now())}setHighResMark(t){this.timestamp=t}isMarked(){return this.timestamp!==void 0}reset(){this.timestamp=void 0}getMarkAsTimestamp(){if(this.timestamp!==void 0)return vu(this.timestamp)}getMarkAsISO(){return Bm(this.timestamp)}getDuration(){if(!this.startBase)return;const t=this.startBase.getStart(),n=this.timestamp;if(t!==void 0&&n!=null)return n-t}}function cf(e){return new j6e({startBase:e})}const hee=()=>{const e=bt();return{session:e,getStatus:bt(),getStatusPrefetch:bt(),proofOfWork:bt(),getToken:bt(),conversationStart:bt(),livekitConnect:bt(),sessionConnected:cf(e),dataChannelOpen:cf(e),conversationLatency:vH(),_getToken:{domainLookup:bt(),connect:bt(),secureConnection:cf(void 0),request:bt(),response:bt(),latency:vH()},_peerConnection:{preConnectionSetup:bt(),audioInputAcquisition:bt(),audioTransceiverSetup:bt(),postConnectionSetup:bt(),qualityMonitorSetup:bt()},_preConnect:{getPeerConnection:bt(),dataChannel:bt(),eventHandlers:bt(),blankTransceiver:bt(),createOffer:bt(),createAbortSignal:bt(),setLocalDescription:bt()},_connect:{authHeaders:bt(),newForm:bt()},_postConnect:{setRemoteDescription:bt(),getResponseText:bt()},_microphonePermissions:{request:bt()},visuallyConnected:cf(e),clickLatency:cf(e),surfaceToStart:bt(),startToMicRequest:bt()}},pee=ot(()=>({timings:hee()})),Gd=()=>pee().timings,Ynt=()=>{const e=hee();return pee().timings=e,e};var B6e=(e=>(e.StateUpdate="state_update",e.ActionRequest="action_request",e.ConversationUpdate="conversation_update",e.RelayMessage="relay_message",e.Unknown="unknown",e.UsageUpdate="usage_update",e.ToolUpdate="tool_update",e.TurnContext="turn_context",e.Performance="performance",e.StartupTelemetry="startup_telemetry",e.TrackState="track_state",e.FullChatMessage="full_chat_message",e.LiveCaptioningText="live_captioning_text",e.UserTranscriptionText="user_transcription_text",e))(B6e||{}),_ee=(e=>(e.Retry="retry",e.LoggedOut="logged-out",e.Composer="composer",e.ModalNewChat="modal-new-chat",e.ModalSwitchToStandard="modal-switch-to-standard",e.DeepLink="deep-link",e.ModalVoicePicker="modal-voice-picker",e.Unknown="unknown",e))(_ee||{}),H6e=(e=>(e.StartListeningIntently="start_listening",e.StopListeningIntently="stop_listening",e.HaltAllActivity="stop_speaking",e.ResumeListening="resume_listening",e.RelayMessage="relay_message",e))(H6e||{}),$6e=(e=>(e.Connecting="connecting",e.Idle="idle",e.Connected="connected",e.Halted="halted",e.Listening="listening",e.ListeningIntently="listening_intently",e.Thinking="thinking",e.Speaking="speaking",e))($6e||{}),W6e=(e=>(e.Add="add",e.Remove="remove",e))(W6e||{});const q6e=X("unknown"),Knt=X(_ee.Unknown),mee=X(!1),Jnt=()=>{const e=Gd(),t=e._microphonePermissions.request.getStartAsISO(),n=e._microphonePermissions.request.getEndAsISO();return{microphone_permissions_start_time:t,microphone_permissions_end_time:n}},Xnt=()=>{const e=Gd(),t=e._peerConnection.preConnectionSetup,n=e._peerConnection.audioInputAcquisition,r=e._peerConnection.audioTransceiverSetup,s=e._peerConnection.postConnectionSetup,i=e._peerConnection.qualityMonitorSetup;return{pre_connection_setup_start_time:t.getStartAsISO(),pre_connection_setup_end_time:t.getEndAsISO(),audio_input_aquisition_start_time:n.getStartAsISO(),audio_input_aquisition_end_time:n.getEndAsISO(),audio_transceiver_setup_start_time:r.getStartAsISO(),audio_transceiver_setup_end_time:r.getEndAsISO(),post_connection_setup_start_time:s.getStartAsISO(),post_connection_setup_end_time:s.getEndAsISO(),quality_monitor_setup_start_time:i.getStartAsISO(),quality_monitor_setup_end_time:i.getEndAsISO()}},Qnt=()=>{const e=Gd(),t=e._preConnect.getPeerConnection,n=e._preConnect.dataChannel,r=e._preConnect.eventHandlers,s=e._preConnect.blankTransceiver,i=e._preConnect.createOffer,o=e._preConnect.createAbortSignal;return{pre_connect_get_peer_connection_start_time:t.getStartAsISO(),pre_connect_get_peer_connection_end_time:t.getEndAsISO(),pre_connect_data_channel_start_time:n.getStartAsISO(),pre_connect_data_channel_end_time:n.getEndAsISO(),pre_connect_event_handlers_start_time:r.getStartAsISO(),pre_connect_event_handlers_end_time:r.getEndAsISO(),pre_connect_blank_transceiver_start_time:s.getStartAsISO(),pre_connect_blank_transceiver_end_time:s.getEndAsISO(),pre_connect_create_offer_start_time:i.getStartAsISO(),pre_connect_create_offer_end_time:i.getEndAsISO(),pre_connect_create_abort_signal_start_time:o.getStartAsISO(),pre_connect_create_abort_signal_end_time:o.getEndAsISO()}},Znt=()=>{const e=Gd(),t=e._postConnect.setRemoteDescription,n=e._postConnect.getResponseText;return{post_connect_set_remote_description_start_time:t.getStartAsISO(),post_connect_set_remote_description_end_time:t.getEndAsISO(),post_connect_get_response_text_start_time:n.getStartAsISO(),post_connect_get_response_text_end_time:n.getEndAsISO()}},ert=()=>{const e=Gd(),t=e._getToken.domainLookup,n=e._getToken.connect,r=e._getToken.secureConnection,s=e._getToken.request,i=e._getToken.response,o=e._getToken.latency;return{get_token_domain_lookup_start_time:t.getStartAsISO(),get_token_domain_lookup_end_time:t.getEndAsISO(),get_token_connect_start_time:n.getStartAsISO(),get_token_connect_end_time:n.getEndAsISO(),get_token_secure_connection_start_time:r.getMarkAsISO(),get_token_request_start_time:s.getStartAsISO(),get_token_response_start_time:i.getStartAsISO(),get_token_response_end_time:i.getEndAsISO(),get_token_latency_ms:o.getLatency()}},trt=()=>{const e=Gd(),t=e._connect.authHeaders,n=e._connect.newForm;return{connect_auth_headers_start_time:t.getStartAsISO(),connect_auth_headers_end_time:t.getEndAsISO(),connect_new_form_start_time:n.getStartAsISO(),connect_new_form_end_time:n.getEndAsISO()}},nrt=()=>{q6e.set("unknown"),mee.set(!1)},gC=X("livekit"),rrt=()=>Le(()=>gC()),vC=X(""),srt=()=>{vC.set("")};function rM(){return lt(()=>!j7()&&B7())}function ve(e,t,n){return r=>{var c;const s=lt(()=>gC()),i=(c=r==null?void 0:r.voice_session_id)!=null?c:lt(()=>vC()),o=lt(()=>mee()),a=P(S({},r),{message:t,protocol:s,voice_session_id:i,integrated_mode:rM(),microphone_cache_hit:o});q.addAction(e,a),n&&SN(n,void 0,U6e(a,l=>L6e(l)))}}function zl(e,t){return(n,r)=>{var a;const s=lt(()=>gC()),i=(a=r==null?void 0:r.voice_session_id)!=null?a:lt(()=>vC()),o=P(S(S({},r),t?{message:t}:{}),{protocol:s,voice_session_id:i,integrated_mode:rM()});try{const c=n.name,l=n.message;o.error=c,o.errMessage=l}catch(c){o.error=String(n)}q.addAction(e,o)}}function tc(e){return(t,n)=>{var i;const r=lt(()=>gC()),s=(i=n==null?void 0:n.voice_session_id)!=null?i:lt(()=>vC());t instanceof Mt||q.addError(t,P(S({},n),{status:"error",name:e,protocol:r,voice_session_id:s,integrated_mode:rM()}))}}const EH={audioPlayer:{error:tc("audio-player")},readAloud:{click:ve("read-aloud","click"),error:tc("read-aloud")},messagePlayback:{click:ve("message-playback","click")},toggleVideoButton:{click:ve("toggle-video-button","click")},toggleMuteButton:{click:ve("toggle-mute-button","click"),error:tc("toggle-mute-button")},toggleScreenShareButton:{click:ve("toggle-screenshare-button","click")},composerSpeechButton:{hover:ve("composer-speech-button","hover")},voiceSessionEndedByUser:{click:ve("voice-session-ended-by-user","click")},voiceSessionStarted:{click:ve("voice-session-started","click")},voiceSessionDuration:{duration:ve("voice-session-duration","duration")},voiceSessionListening:{stateChange:ve("voice-session-listening","stateChange")},voiceSessionListeningIntently:{stateChange:ve("voice-session-listening-intently","stateChange")},voiceSessionThinking:{stateChange:ve("voice-session-thinking","stateChange")},voiceSessionSpeaking:{stateChange:ve("voice-session-speaking","stateChange")},voiceSessionHalted:{stateChange:ve("voice-session-halted","stateChange")},voiceSessionDisconnected:{stateChange:ve("voice-session-disconnected","stateChange")},voiceMode:{connect:ve("voice-mode","connect"),error:ve("voice-mode","error"),loggingError:ve("voice-mode","logging-error"),duplicateSessionId:ve("voice-mode","duplicate-session-id"),emptySessionId:ve("voice-mode","empty-session-id"),clickLatency:ve("voice-mode","click-latency"),microphoneLatency:ve("voice-mode","microphone-latency"),microphoneCacheHit:ve("voice-mode","microphone-cache-hit"),microphoneStatusAvailable:ve("voice-mode","microphone-status-available"),microphoneStatusUnavailable:zl("voice-mode","microphone-status-unavailable")},previews:{click:ve("previews","click"),error:tc("previews")},getToken:{request:ve("get-token","request"),success:ve("get-token","success"),failure:ve("get-token","failure")},getVoiceStatus:{request:ve("get-voice-status","request"),success:ve("get-voice-status","success"),failure:ve("get-voice-status","failure")},livekit:{connectCalled:ve("livekit","connectCalled"),success:ve("livekit","success"),failure:tc("livekit")},bloop:{performance:ve("bloop","performance")},voiceSelectionShown:{click:ve("voice-selection-shown","click","voice_selection_shown")},voiceSelected:{click:ve("voice-selected","click")},voiceAdvancedDisclosureShown:{success:ve("voice-advanced-disclosure-shown","success")},voiceAdvancedDisclosureAccepted:{click:ve("voice-advanced-disclosure-accepted","click")},rateLimitReached:{success:ve("rate-limit-reached","success"),modalShown:ve("rate-limit-reached","modalShown")},upsell:{upgradeToPlus:ve("upsell","upgradeToPlus"),upgradeToPro:ve("upsell","upgradeToPro"),upgradeToApp:ve("upsell","upgradeToApp"),appUpsellShown:ve("upsell","appUpsellShown"),appUpsellDismissed:ve("upsell","appUpsellDismissed")},feedbackShown:{success:ve("feedback-shown","success")},feedbackThumbsUp:{success:ve("feedback-thumbs-up","success")},feedbackThumbsDown:{success:ve("feedback-thumbs-down","success")},feedbackDetails:{audio_issues:ve("feedback-details","audio_issues"),response_quality:ve("feedback-details","response_quality"),interruptions:ve("feedback-details","interruptions"),transcription_issues:ve("feedback-details","transcription_issues"),inaudible_issues:ve("feedback-details","inaudible_issues"),other:ve("feedback-details","other"),inputText:ve("feedback-details","inputText")},connectionLatency:{success:ve("connection-latency","success"),failure:tc("connection-latency")},firstListeningLatency:{success:ve("first-listening-latency","success")},permissions:{denied:ve("permissions-denied")},voiceSessionFirstListening:{stateChange:ve("voice-session-first-listening","stateChange")},voiceSessionFirstSpeaking:{stateChange:ve("voice-session-first-speaking","stateChange")},defaultMediaDeviceChanged:{success:ve("default-media-device-changed","success"),failure:tc("default-media-device-changed")},voiceStatusCache:{hit:ve("voice-status-cache","hit"),failed:ve("voice-status-cache","failed"),ineligible:ve("voice-status-cache","ineligible"),skipped:ve("voice-status-cache","skipped"),error:zl("voice-status-cache","error")},certificateCache:{hit:ve("certificate-cache","hit"),miss:ve("certificate-cache","miss"),expired:ve("certificate-cache","expired"),disabled:ve("certificate-cache","disabled"),unsupported:zl("certificate-cache","unsupported")},peerConnectionCache:{hit:ve("peer-connection-cache","hit"),miss:ve("peer-connection-cache","miss"),unsupported:zl("peer-connection-cache","unsupported")},certificateLocalDb:{hit:ve("certificate-local-db","hit"),generated:ve("certificate-local-db","generated"),saveFailed:zl("certificate-local-db","saveFailed"),loadFailed:zl("certificate-local-db","loadFailed")},settings:{separateModeChanged:ve("separate-mode-changed")},conversationStart:{latency:ve("conversation-startup-latency")},dataChannel:{parseError:ve("data-channel")},visuallyConnected:{timing:ve("visually-connected","timing"),loggingError:ve("visually-connected","logging-error")}},Tr=zn(gve(xa(()=>({playerNode:null,playerApi:null,playerState:{sourceUrl:null,isPlaying:!1}}))));function irt(){return Tr(e=>e.playerApi)}function ort(e){return Tr(t=>e(t.playerState))}function art(){return Tr.getState().playerApi}function crt(){return Tr.getState().playerState}const V6e=T.memo(function(){const t=T.useRef(null),n=Tr(r=>r.playerNode);return T.useEffect(()=>{const r=t.current;r&&!n&&(r.onplay=()=>{Tr.setState(s=>{s.playerState.isPlaying=!0})},r.onpause=()=>{Tr.setState(s=>{s.playerState.isPlaying=!1})},r.ontimeupdate=()=>{Tr.setState(s=>{s.playerState.currentTime=r.currentTime})},r.ondurationchange=()=>{Tr.setState(s=>{s.playerState.duration=r.duration})},r.onerror=s=>{typeof s=="string"?EH.audioPlayer.error(new Error(s)):s.target&&"error"in s.target&&EH.audioPlayer.error(s.target.error)},Tr.setState({playerNode:r,playerApi:new z6e(r)}))},[n]),g.jsx("audio",{className:"fixed start-0 bottom-0 hidden h-0 w-0",autoPlay:!0,crossOrigin:"anonymous",ref:t})});class z6e{constructor(t){this.player=t}get state(){return Tr.getState().playerState}changeSource(t){this.player.src&&this.player.src!==t&&this.stop(),this.player.src=t,Tr.setState(n=>{n.playerState.sourceUrl=t})}async play(){this.state.isPlaying||await this.player.play()}pause(){this.state.isPlaying&&this.player.pause()}stop(){this.pause(),this.player.removeAttribute("src"),Tr.setState(t=>{t.playerState.sourceUrl=null,t.playerState.currentTime=void 0,t.playerState.duration=void 0})}setCurrentTime(t){this.player.currentTime=t}setSpeed(t){this.player.playbackRate=t,this.player.defaultPlaybackRate=t}}function lrt(e){const t=Tr.getState().playerNode;if(!t)return!1;const n=t.canPlayType(e);return n==="probably"||n==="maybe"}function Y6e(e){"use forget";const t=j.c(4),{children:n}=e;let r;return t[2]!==n?(r=g.jsx(R6e,{children:n}),t[2]=n,t[3]=r):r=t[3],r}const K6e=e=>{"use forget";const t=j.c(8),{children:n}=e;let r;t[0]!==n?(r=g.jsx(VBe,{children:n}),t[0]=n,t[1]=r):r=t[1];let s,i,o,a;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=g.jsx(V6e,{}),i=g.jsx(E6e,{}),o=_n()?cp()?g.jsx(o6e,{}):g.jsx(m6e,{}):null,a=g.jsx(zue,{}),t[2]=s,t[3]=i,t[4]=o,t[5]=a):(s=t[2],i=t[3],o=t[4],a=t[5]);let c;return t[6]!==r?(c=g.jsx(mme,{children:g.jsx(T6e,{children:g.jsxs(Y6e,{children:[r,s,i,o,a]})})}),t[6]=r,t[7]=c):c=t[7],c},J6e=({resetError:e,componentStack:t,error:n})=>{"use no forget";return T.useEffect(()=>{q.addError(n),it==null||it.publish(Ea.ERROR_THROWN,{error:n})},[n]),g.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[g.jsx("h2",{children:"Content failed to load"}),!1,g.jsx(li,{color:"secondary",onClick:e,children:"Try again"}),!1]})},sM=X(!1),urt=sM;function X6e(e){const t=va(e.document,{keydown:Z6e,keyup:Hm,visibilitychange:Hm}),n=va(e,{blur:Hm});return()=>{t(),n()}}const Q6e=500;let Eu;function Z6e(e){eWe(e)?Eu!=null||(Eu=setTimeout(()=>{sM.set(!0)},Q6e)):Eu&&Hm()}function eWe(e){return!uE(e)&&e.key===(zP()?"Meta":"Control")&&R9(e)===tpe()}function Hm(){clearTimeout(Eu),Eu=void 0,sM.set(!1)}var ks={},CH;function tWe(){if(CH)return ks;CH=1,Object.defineProperty(ks,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)r["f"+s]=111+s;function i(f,h,p){h&&!("byKey"in h)&&(p=h,h=null),Array.isArray(f)||(f=[f]);var _=f.map(function(E){return c(E,h)}),m=function(b){return _.some(function(C){return l(C,b)})},v=p==null?m:m(p);return v}function o(f,h){return i(f,h)}function a(f,h){return i(f,{byKey:!0},h)}function c(f,h){var p=h&&h.byKey,_={};f=f.replace("++","+add");var m=f.split("+"),v=m.length;for(var E in t)_[t[E]]=!1;var b=!0,C=!1,y=void 0;try{for(var O=m[Symbol.iterator](),A;!(b=(A=O.next()).done);b=!0){var N=A.value,I=N.endsWith("?")&&N.length>1;I&&(N=N.slice(0,-1));var w=d(N),M=t[w];if(N.length>1&&!M&&!n[N]&&!r[w])throw new TypeError('Unknown modifier: "'+N+'"');(v===1||!M)&&(p?_.key=w:_.which=u(N)),M&&(_[M]=I?null:!0)}}catch(k){C=!0,y=k}finally{try{!b&&O.return&&O.return()}finally{if(C)throw y}}return _}function l(f,h){for(var p in f){var _=f[p],m=void 0;if(_!=null&&(p==="key"&&h.key!=null?m=h.key.toLowerCase():p==="which"?m=_===91&&h.which===93?91:h.which:m=h[p],!(m==null&&_===!1)&&m!==_))return!1}return!0}function u(f){f=d(f);var h=r[f]||f.toUpperCase().charCodeAt(0);return h}function d(f){return f=f.toLowerCase(),f=n[f]||f,f}return ks.default=i,ks.isHotkey=i,ks.isCodeHotkey=o,ks.isKeyHotkey=a,ks.parseHotkey=c,ks.compareHotkey=l,ks.toKeyCode=u,ks.toKeyName=d,ks}var nWe=tWe();const rWe=jt(nWe),sWe=ot(()=>{const e=X([]),t=X(void 0),n=ie(()=>{const a=t();return e().filter(c=>SH(c,a))});function r(...a){return e.set(c=>[...a,...c]),()=>{e.set(c=>c.filter(l=>!a.includes(l)))}}function s(a){const c=lt(t);return t.set(a),()=>t.set(c)}function i(a){return va(a.document,{keydown:o})}function o(a){if(a.key===void 0||a.repeat||uE(a)||a.defaultPrevented)return;const l=lt(e),u=lt(t);for(const d of l)if(iWe(d,a)&&SH(d,u)&&d.action(a)!==!1){re.logEventWithStatsig("Keyboard Shortcut","keyboard_shortcut",{keyboardActionKey:d.key}),q.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:d.key}),a.preventDefault();return}}return{actions$:n,addAction:r,limitActionGroups:s,registerEventListener:i}}),yH=new WeakMap;function iWe(e,t){let n=yH.get(e);if(!n){const{keyboardBinding:r,altKeyboardBindings:s}=e,i=[r,...s!=null?s:[]].map(o=>o.join("+"));n=rWe(i,{byKey:!0}),yH.set(e,n)}return n(t)}function SH(e,t){return!(e.enabled===!1||t!=null&&!t.includes(e.group))}function oWe(){const[e,t]=al(),n=vt(),r=Kn(),s=e.get(BC),i=e.get(HC),o=Ga();T.useEffect(()=>{var l;let a=!1;if(o&&s==="true"){let u;o.isWorkspacePlan()?u=(l=o.name)!=null?l:"Workspace":u="Personal",r.info(n.formatMessage({id:"S4JoJY",defaultMessage:"Switched to {name}"},{name:u})),a=!0}let c=!1;if(typeof i=="string"&&aWe(i)){const u=gee[i];r.danger(n.formatMessage(u),{toastId:"error_query_param",loggingTitle:i,loggingDescription:u.defaultMessage?String(u.defaultMessage):""}),c=!0}(e.has(BC)||e.has(HC))&&t(u=>(a&&u.delete(BC),c&&u.delete(HC),u),{replace:!0})},[s,o,i,n,e,t,r])}function aWe(e){return e in gee}const gee=Rt({invalidToken:{id:"UAhT32",defaultMessage:"The token is invalid"},continueFromApiGeneric:{id:"FHUH8C",defaultMessage:"Unable to continue your conversation"}});class iM{constructor(t){R(this,"subscribers");this.subscribers=iM.createTypedEmitterAllEventSubscribers(t)||{}}publish(t,n){const r=this.subscribers[t]||{};for(const s of Object.values(r))s(n)}subscribe(t,n){const r=nr();this.subscribers[t]||(this.subscribers[t]={});const s=this.subscribers[t];return s[r]=n,()=>{delete s[r]}}static createTypedEmitterAllEventSubscribers(t){return t.reduce((n,r)=>(n[r]={},n),{})}}class cWe extends iM{constructor(){super(Object.values(Gw))}getVersion(){return 1}}const lWe=new cWe;function uWe({enabled:e=!0}={}){const t=si().getContext().user,n=Pa(),r=ze();T.useEffect(()=>{var s;!it||!e||(n!=null&&n.accessToken&&((s=n==null?void 0:n.user)!=null&&s.id)?it.publish(Ea.LOGIN_CHANGED,{userId:n.user.id,accountId:r==null?void 0:r.id,authToken:n.accessToken,statsigUser:t,email:n.user.email}):it.publish(Ea.LOGOUT,{statsigUser:t}))},[r==null?void 0:r.id,n==null?void 0:n.accessToken,n==null?void 0:n.user,r,t,e])}function drt(e){const t=pt().windowStyle;T.useEffect(()=>{if(it)return lWe.subscribe(Gw.WINDOW_VISIBILITY_STATE_CHANGED,n=>{n.windowType===t&&n.state==="hidden"&&e()})},[e,t])}function frt(){return it?it.takePhoto():Promise.resolve(void 0)}function hrt(){return it?it.requestSystemPermission(RW.MICROPHONE):Promise.resolve(!0)}function prt(){return it?it.takeScreenshot():Promise.resolve(void 0)}const _rt=()=>vee().current,vee=ot(()=>({current:null}));function dWe(e){"use forget";const t=j.c(8),{children:n}=e;oWe();const r=vt();let s,i;t[0]!==r?(s=()=>{vee().current=r},i=[r],t[0]=r,t[1]=s,t[2]=i):(s=t[1],i=t[2]),T.useEffect(s,i);let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o={enabled:KH},t[3]=o):o=t[3],uWe(o);let a;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[4]=a):a=t[4],T.useEffect(hWe,a);let c;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[5]=c):c=t[5],T.useEffect(fWe,c);let l;return t[6]!==n?(l=g.jsx(g.Fragment,{children:n}),t[6]=n,t[7]=l):l=t[7],l}function fWe(){return X6e(window)}function hWe(){return sWe().registerEventListener(window)}const TH="pioneer-script-ouia2h4";function pWe(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function _We(){const e=window.gtag,t=window.dataLayer,n=Array.isArray(t)&&t.some(r=>Array.isArray(r)&&r[0]==="js");return typeof e=="function"&&n}function mWe(e,t){if(!document.getElementById(TH))try{const s=document.createElement("script");s.id=TH,s.src="https://www.googletagmanager.com/gtag/js?id=".concat(t),s.nonce=e,s.async=!0,document.body.appendChild(s)}catch(s){On.logEvent("chatgpt_pioneer_cookie_error")}const r=pWe();return _We()||r("js",new Date),r}const gWe=14400*1e3,vWe=ot(()=>({current:!1}));function EWe(e){return e?e.is_consent_required?!!e.consent_analytics:!0:!1}async function CWe(){const e=en();try{return await e.fetchQuery(P(S({},dC),{staleTime:gWe}))}catch(t){return}}async function yWe(e,{path:t,title:n,location:r}={}){if(typeof window>"u")return;const{cspScriptNonce:s}=pt();if(!s)return;const i=await CWe();if(!EWe(i))return;const o=mWe(s,e),a=vWe();a.current||(o("config",e,{send_page_view:!1}),a.current=!0);const c=n!=null?n:document.title,l=r!=null?r:window.location.href,u=t!=null?t:window.location.pathname+window.location.search+window.location.hash;o("event","page_view",{send_to:e,page_title:c,page_location:l,page_path:u})}const SWe=(e,t)=>{re.logEvent("Auth: Login",e),On.logEvent("chatgpt_auth_log_in",null,e),NE(),re.logStructuredEvent(_p,{authSessionLoggingId:Po(),actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN,entryPoint:t})},mrt=(e,t)=>{re.logEvent("Auth: Signup",e),On.logEvent("chatgpt_auth_sign_up",null,e),NE(),re.logStructuredEvent(_p,{authSessionLoggingId:Po(),actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP,entryPoint:t})},grt=(e,t)=>{re.logEvent("Auth: Login or Signup",e),On.logEvent("chatgpt_auth_log_in_or_sign_up",null,e),NE(),re.logStructuredEvent(_p,{authSessionLoggingId:Po(),actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP,entryPoint:t})},vrt=(e,t,n,r)=>{re.logStructuredEvent(IW,{authSessionLoggingId:e,actionType:t,page:n,field:r})},Ert=(e,t)=>{re.logEvent("Auth: Logout",e),On.logEvent("chatgpt_auth_log_out",null,e),re.logStructuredEvent(zle,{location:t,logoutType:NW.ACCESS_LOGOUT_TYPE_USER_INITIATED})},Crt=e=>{re.logEventWithStatsig("Auth Modal Switch to Generic Login or Signup","chatgpt_auth_modal_switch_to_generic_login_or_signup",e),re.logStructuredEvent(IW,{authSessionLoggingId:Po(),actionType:bW.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_GENERIC_LOGIN_CLICKED,page:AW.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL})};var TWe=UY();const OWe=jt(TWe),bWe=e=>{"use forget";const t=j.c(19),{isOpen:n,onLogInClick:r}=e,s=vt();let i,o;t[0]!==n?(i=()=>{n&&re.logStructuredEvent(_p,{authSessionLoggingId:Po(),actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_EXPIRED_SESSION_MODAL_SHOWN,entryPoint:ug.ACCESS_FLOW_ENTRY_POINT_AUTH_EXPIRED_SESSION_MODAL,cta:"auto-triggerred"})},o=[n],t[0]=n,t[1]=i,t[2]=o):(i=t[1],o=t[2]),T.useEffect(i,o);let a;t[3]!==s?(a=s.formatMessage(gN.forceLogInModalTitle),t[3]=s,t[4]=a):a=t[4];let c;t[5]!==s?(c=s.formatMessage(gN.forceLogInModalDescription),t[5]=s,t[6]=c):c=t[6];let l;t[7]!==r?(l=async()=>{var p;if(_n()){(p=yo())==null||p.onMissingSessionAuth();return}SWe({provider:"unknown",location:"Expired session modal"},ug.ACCESS_FLOW_ENTRY_POINT_EXPIRED_SESSION_MODAL);const h=await jH.signOut({redirect:!1,callbackUrl:"/auth/login?next=".concat(encodeURIComponent(location.pathname+location.search+location.hash))});location.href=h.url,r()},t[7]=r,t[8]=l):l=t[8];let u;t[9]!==s?(u=s.formatMessage(gN.forceLogInModalButton),t[9]=s,t[10]=u):u=t[10];let d;t[11]!==l||t[12]!==u?(d=g.jsx(gu.Button,{onClick:l,title:u}),t[11]=l,t[12]=u,t[13]=d):d=t[13];let f;return t[14]!==n||t[15]!==a||t[16]!==c||t[17]!==d?(f=g.jsx(Sl,{testId:"modal-expired-session",isOpen:n,icon:dh,title:a,description:c,type:"warning",headerClassName:"pt-4 pb-2.5 px-4",onClose:OWe,primaryButton:d}),t[14]=n,t[15]=a,t[16]=c,t[17]=d,t[18]=f):f=t[18],f},gN=Rt({forceLogInModalTitle:{id:"App.forceLogInModalTitle",defaultMessage:"Your session has expired"},forceLogInModalDescription:{id:"App.forceLogInModalDescription",defaultMessage:"Please log in again to continue using the app."},forceLogInModalButton:{id:"App.forceLogInModalButton",defaultMessage:"Log in"}}),AWe=Yn(()=>ne(()=>import("./eac2baa9-c76nsuozyll50a0n.js"),__vite__mapDeps([47,1,2,3,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,6,7,8,82,83,84,85,86,87,88,89,13,14,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,37,38,39,40,41,42,107,108,109,110,111,112,24,113,45,25,114,115,116,117,118,119,120,31,121,122,123,124,125,12,15,126,127,128,129,130])).then(e=>e.GlobalModalsComponent)),NWe=3600*24*30*3;vce();function IWe(){return iIe(),null}KH&&ne(()=>import("./13566e24-o171otureokvu516.js"),__vite__mapDeps([131,2,1,3])).then(e=>e.initDesktop()),_n()&&ne(()=>import("./dd464bfa-d2tlt8ni783lkgao.js"),__vite__mapDeps([132,1,2,3])).then(e=>e.initHost());dr("https://chatgpt.com","import.meta.env.VITE_APP_URL");function PWe(e){var t;try{const n=e.match(/^\/share\/(.+)$/);let r=Se.getCookie(pe.SharedConversationId);if(!r&&n&&(r=n[1],Se.setCookie(pe.SharedConversationId,r,{maxAge:NWe})),typeof r=="string"&&r&&(t=On.getUser())!=null&&t.customIDs){const s=On.getUser();s!=null&&s.customIDs&&(s.customIDs.shared_conversation_id=r)}}catch(n){n instanceof Error?fo.error("Error in shared conversation cookie code:",{message:n.message,stack:n.stack}):fo.error("Unknown error in shared conversation cookie code:",{error:n})}}function wWe(e){"use forget";const t=j.c(19),{children:n}=e,[r,s]=T.useState(!1),i=dn();let o,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{window._oaiHandleSessionExpired=function(b,C){var y;window.location.href.includes("/auth/login")||(_n()&&((y=yo())==null||y.onMissingSessionAuth()),s(!0),re.logEvent("Account: Force Login Modal Shown",{content:"".concat(b,": ").concat(C)}))}},a=[],t[0]=o,t[1]=a):(o=t[0],a=t[1]),T.useEffect(o,a);let c,l;t[2]!==i.hash||t[3]!==i.pathname||t[4]!==i.search?(c=()=>{PWe(i.pathname),re.logPageView(),On.logEvent("chatgpt_page_view",null,wW()),yWe("G-9SHBSK2D9J",{path:i.pathname+i.search+i.hash,title:document.title,location:window.location.href}),uZ("openaicom-did")},l=[i.pathname,i.search,i.hash],t[2]=i.hash,t[3]=i.pathname,t[4]=i.search,t[5]=c,t[6]=l):(c=t[5],l=t[6]),T.useEffect(c,l);let u,d;t[7]===Symbol.for("react.memo_cache_sentinel")?(u=null,d=g.jsx(IWe,{}),t[7]=u,t[8]=d):(u=t[7],d=t[8]);let f;t[9]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{s(!1)},t[9]=f):f=t[9];let h;t[10]!==r?(h=g.jsx(bWe,{isOpen:r,onLogInClick:f}),t[10]=r,t[11]=h):h=t[11];let p,_,m,v;t[12]===Symbol.for("react.memo_cache_sentinel")?(v=g.jsx(AWe,{}),p=g.jsx(Xoe,{}),_=g.jsx(fCe,{}),m=!1,t[12]=p,t[13]=_,t[14]=m,t[15]=v):(p=t[12],_=t[13],m=t[14],v=t[15]);let E;return t[16]!==n||t[17]!==h?(E=g.jsx(g.Fragment,{children:g.jsx(pp,{name:"ui_boundary_error",fallback:RWe,logRequestErrors:!0,children:g.jsx(K6e,{children:g.jsxs(dWe,{children:[n,u,d,h,v,p,_,m]})})})}),t[16]=n,t[17]=h,t[18]=E):E=t[18],E}function RWe(e){const{resetError:t,componentStack:n,error:r}=e;return g.jsx(J6e,{resetError:t,componentStack:n,error:r})}const xWe=300*1e3;function Eee(e){return Math.min(Math.max(e,0),xWe)}function OH(e){return{entryType:e.entryType,duration:e.duration,name:e.name,startTime:e.startTime,target:e.target instanceof Element?qH(e.target,void 0):void 0}}async function MWe(){var O,A;const e=await ne(()=>import("./ae144ef6-gtzzcebfbasf2ow3.js"),[]);if(!e)return;const{onCLS:t,onFCP:n,onLCP:r,onINP:s,onTTFB:i}=e,o=new Promise(N=>i(N)),a=new Promise(N=>t(N)),c=new Promise(N=>n(N)),l=new Promise(N=>r(N));s(N=>{const I=Eee(N.value);try{q.addAction("web-vitals.inp-long",{id:N.id,delta:N.delta,rating:N.rating,attribution:{interactionTarget:N.attribution.interactionTarget,nextPaintTime:N.attribution.nextPaintTime,interactionTime:N.attribution.interactionTime,interactionType:N.attribution.interactionType,processedEventEntries:N.attribution.processedEventEntries.map(OH),inputDelay:N.attribution.inputDelay,processingDuration:N.attribution.processingDuration,presentationDelay:N.attribution.presentationDelay,loadState:N.attribution.loadState},navigationType:N.navigationType,name:N.name,value:N.value,entries:N.entries.map(OH)})}catch(w){}re.logStructuredEvent(S_,{eventName:mf.CHATGPT_PERFORMANCE_EVENT_NAME_LONG_INTERACTION_TO_NEXT_PAINT,durationMs:N.value,durationTrimmedMs:I}),On.logEvent("chatgpt_long_web_inp",I,{value:String(N.value),value_trimmed:String(I)})},{durationThreshold:500});const u=pt(),d={country:(O=u.userCountry)!=null?O:"unknown",continent:(A=u.userContinent)!=null?A:"unknown",device:ll()?"mobile":"desktop",track:"stable",cluster:u.cluster},f=N=>I=>mt.hist(ft.DEFAULT,"web.vitals.".concat(N),d,I.value);a.then(f("cls")),c.then(f("fcp")),l.then(f("lcp"));const[h,p,_,m]=await Promise.all([a,c,l,o]),v=N=>Math.min(Math.max(N,0),300*1e3),E=v(h.value),b=v(p.value),C=v(_.value),y=v(m.value);re.logStructuredEvent(S_,{eventName:mf.CHATGPT_PERFORMANCE_EVENT_NAME_TIME_TO_FIRST_BYTE,durationMs:m.value,durationTrimmedMs:y}),re.logStructuredEvent(S_,{eventName:mf.CHATGPT_PERFORMANCE_EVENT_NAME_FIRST_CONTENTFUL_PAINT,durationMs:p.value,durationTrimmedMs:b}),re.logStructuredEvent(S_,{eventName:mf.CHATGPT_PERFORMANCE_EVENT_NAME_LARGEST_CONTENTFUL_PAINT,durationMs:_.value,durationTrimmedMs:C}),re.logStructuredEvent(Iue,{value:h.value,valueTrimmed:E}),On.logEvent("chatgpt_web_vitals",C,{cls:String(h.value),fcp:String(p.value),lcp:String(_.value),cls_trimmed:String(E),fcp_trimmed:String(b),lcp_trimmed:String(C)})}function kWe(e){const t=window.__reactRouterManifest,n=new Set([t.entry].concat(e.map(s=>t.routes[s])).flatMap(s=>[s.module,...s.imports].map(i=>new URL(i,location.origin).toString()))),r=performance.getEntriesByType("resource").filter(s=>n.has(s.name));if(r.length===n.size){const s={transfer_size:r.reduce((o,a)=>o+a.transferSize,0),encoded_body_size:r.reduce((o,a)=>o+a.encodedBodySize,0),decoded_body_size:r.reduce((o,a)=>o+a.decodedBodySize,0)},i={max_encoded_body_size:Math.max(...r.map(o=>o.encodedBodySize)),max_decoded_body_size:Math.max(...r.map(o=>o.decodedBodySize)),max_transfer_size:Math.max(...r.map(o=>o.transferSize))};q.addAction("pageLoad.jsResourceSizes",P(S(S({},s),i),{count:r.length,route_id:e[e.length-1],route_ids:e}))}else q.addAction("pageLoad.jsResourceSizes.missing",{missing:n.difference?Array.from(n.difference(new Set(r.map(s=>s.name)))):null})}const LWe=30;function DWe(){const e=kn.getItem(un.LastPageLoadDate),t=new Date,n=typeof e=="string"?new Date(e):null,r=Math.min(n!=null?Math.floor((t.getTime()-n.getTime())/(1e3*60*60)):1/0,LWe*24),s=Math.floor(r/24);kn.setItem(un.LastPageLoadDate,t.toISOString()),q.addAction("time_since_last_page_load",{hoursSinceLastPageLoad:r,daysSinceLastPageLoad:s})}function UWe(){const e=window.document;let t,n;const r=i=>{t=i,cancelAnimationFrame(n),requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{t=void 0})})},s={capture:!0,passive:!0};e.addEventListener("pointerdown",i=>{r(i.pointerType==="touch"?"touch":"mouse")},s),e.addEventListener("keydown",()=>{r("keyboard")},s),e.addEventListener("focusin",()=>{P9(e.documentElement,"data-focus-mode",t)},s)}function FWe(){"use forget";const e=j.c(1);let t;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const n=pt();t=g.jsx("script",{type:"application/json",id:"client-bootstrap",nonce:n.cspScriptNonce,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0}),e[0]=t}else t=e[0];return t}function GWe(e,t){try{return e()}catch(n){return t(n)}}function Cee(e){return e instanceof Element?e:e.parentElement?Cee(e.parentElement):null}function $m(e){const t=Cee(e);if(t){const n=qH(t,void 0);if(n)return n}return e.nodeName}const jWe=e=>e.type==="childList"?e.addedNodes.length>0?"added ".concat($m(e.addedNodes[e.addedNodes.length-1])):e.removedNodes.length>0?"removed ".concat(e.removedNodes[e.removedNodes.length-1].nodeName," from ").concat($m(e.target)):"unknown ".concat(e.type):e.type==="characterData"?"characterData in ".concat($m(e.target)):"unknown ".concat(e.type),bH="checkVisibility"in Element.prototype?e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}):e=>!e.hasAttribute("aria-hidden")&&!e.classList.contains("hidden");function BWe(e){if(document.head.contains(e))return!1;if(e instanceof Element)return bH(e);if(e instanceof Text){const t=e.parentElement;if(t!=null)return bH(t)}return!0}function oM(e){const t=[],n=e(r=>t.push(r));return()=>(n(),t)}class HWe{constructor(){R(this,"timeouts",new Set)}add(t,n){const r=setTimeout(()=>{this.timeouts.delete(r),t()},n);this.timeouts.add(r)}clear(){for(const t of this.timeouts)clearTimeout(t);this.timeouts.clear()}}function vN(e,t){try{if(e.type&&!PerformanceObserver.supportedEntryTypes.includes(e.type))return()=>{};const n=new PerformanceObserver(r=>{for(const s of r.getEntries())t(s)});return n.observe(e),()=>n.disconnect()}catch(n){return()=>{}}}function $We({idleTimeout:e=5e3,minIdleGap:t=100,filter:n}={}){return new Promise((r,s)=>{let i=null;const o=()=>{i!=null&&clearTimeout(i),i=setTimeout(c,e)};o();const a=oM(l=>{function u(f){(!n||n(f))&&(l({start:f.startTime,end:f.startTime+f.duration}),o())}const d=[vN({type:"resource",buffered:!0},u),vN({type:"longtask",buffered:!0,durationThreshold:0},u),vN({type:"navigation",buffered:!0},u)];return()=>{for(const f of d)f()}});function c(){try{const l=a();r(WWe(l,t))}catch(l){s(l)}}})}function WWe(e,t){const n=[];for(const{start:s,end:i}of e)n.push({t:s,delta:1}),n.push({t:i,delta:-1});n.sort((s,i)=>s.t===i.t?s.delta-i.delta:s.t-i.t);let r=0;for(let s=0;s<n.length;s++)if(r+=n[s].delta,r===0){const i=n[s].t,o=n[s+1];if(!o||o.t-i>=t)return i}throw new Error("no idle gap found")}function qWe(e){return"".concat(e.type," ").concat(e.target instanceof Node?$m(e.target):"(unknown target ".concat(e.target,")"))}function VWe(e){return oM(t=>{const n=new HWe;function r(s){const i=performance.now();n.add(()=>{t({start:i,end:performance.now(),label:qWe(s)})})}for(const s of e)window.addEventListener(s,r,{capture:!0});return()=>{for(const s of e)window.removeEventListener(s,r,{capture:!0});n.clear()}})}function zWe(e){return oM(t=>{const n=new MutationObserver(r=>{const s=Ef(r,e);s&&t({time:performance.now(),label:GWe(()=>jWe(s),i=>"error describing mutation: ".concat(i))})});return n.observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!1}),()=>n.disconnect()})}const YWe=["pointerdown","touchend","input","keydown","mouseleave","mouseenter","drop","beforeinput","pointerenter","dragend","pointercancel","compositionupdate","mousedown","dragleave","dragover","mouseup","pointerover","lostpointercapture","mouseover","gotpointercapture","dblclick","keyup","keypress","pointerup","compositionstart","auxclick","dragstart","touchstart","compositionend","pointerout","dragenter","touchcancel","click","contextmenu","mouseout","pointerleave"];function KWe(e){return e instanceof Element&&e.hasAttribute("data-ignore-for-page-load")}function yee(e){return BWe(e)&&!KWe(e)}function JWe(e){for(const t of e)if(yee(t))return!0;return!1}async function XWe(){if(typeof PerformanceObserver!="function")return{label:"no performance observer"};const e=YWe.filter(l=>!/(enter|leave|over|out)$/.test(l)),t=VWe(e),n=zWe(l=>l.type==="childList"&&JWe(l.addedNodes)||l.type==="characterData"&&yee(l.target)),r=await $We({filter:l=>l.duration!==0&&!(l.entryType==="resource"&&Dee(t$,l.name))}),s=t(),i=n(),o=s.find(l=>i.some(u=>l.start<u.time&&u.time<=l.end));if(o!=null&&o.start<r)return{label:"mutating input before page loaded",firstMutatingInput:o,pageIdle:r};const a=i.filter(l=>l.time<r+200),c=a.at(-1);return c?P(S({},c),{mutationsBeforeIdle:a.length,mutationsBeforeIdleList:a,pageIdle:r,firstMutatingInput:o}):{label:"no mutations before page idle",pageIdle:r,firstMutatingInput:o}}function QWe(){XWe().then(e=>{if("pageIdle"in e&&q.addFirstTiming("pageLoad.pageIdle",{time:performance.timeOrigin+e.pageIdle}),"time"in e&&e.time!=null){const t=e.time,n=Eee(t);q.addFirstTiming("pageLoad.lastMutation",{time:performance.timeOrigin+t}),q.addAction("pageLoad.lastMutation",e),On.logEvent("chatgpt_web_last_mutation_time",void 0,{raw_duration_ms:String(t),trimmed_duration_ms:String(n)})}else q.addAction("pageLoad.withoutTiming",e);if("mutationsBeforeIdleList"in e)for(const t of e.mutationsBeforeIdleList)q.addAction("pageLoad.mutation",t)})}const ZWe=T.createContext(null);function im({queryOptions:e}){"use no forget";const t=en();T.use(ZWe);const n=lv(e.queryKey);S({},e);const r=e,s="getNextPageParam"in r;return s?t.prefetchInfiniteQuery(r):t.prefetchQuery(r),g.jsx(pp,{name:"AwaitQuery: "+n,children:g.jsx(T.Suspense,{fallback:null,children:s?g.jsx(t9e,{queryOptions:r}):g.jsx(e9e,{queryOptions:r})})})}function e9e(e){"use forget";const{queryOptions:t}=e;return HH(t),null}function t9e(e){"use forget";const{queryOptions:t}=e;return Uee(t),null}function n9e(e){"use forget";const t=j.c(10),{shouldPrefetchAccount:n,shouldPrefetchUser:r,shouldPrefetchSystemHints:s}=e;let i;t[0]!==n?(i=n&&g.jsx(im,{queryOptions:E7()}),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==r?(o=r&&g.jsx(im,{queryOptions:X8}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==s?(a=s&&g.jsxs(g.Fragment,{children:[g.jsx(im,{queryOptions:Wu("basic")}),g.jsx(im,{queryOptions:Wu("connectors")})]}),t[4]=s,t[5]=a):a=t[5];let c;return t[6]!==i||t[7]!==o||t[8]!==a?(c=g.jsxs(g.Fragment,{children:[i,o,a]}),t[6]=i,t[7]=o,t[8]=a,t[9]=c):c=t[9],c}t$e(),UWe();const yrt=()=>!1,Srt=()=>[{title:"ChatGPT"},...uCe];function r9e(e){"use forget";const t=j.c(44),{children:n,isSearchPage:r,isOrlaWindowStyle:s,isOrlaUserAgent:i,isElectron:o,isIos:a,isAndroidChrome:c,windowStyle:l,ddTraceMetadata:u,jsp:d,lang:f,shouldUseScrollRestoration:h}=e,p=(f&&cW.has(f),"ltr");let _;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=pt(),t[0]=_):_=t[0];const m=_,v=o===!0||!1;let E;t[1]!==i||t[2]!==s||t[3]!==r||t[4]!==v?(E=oe({"snc-root":r,"mini-root":s,"mini-ua-root":i,"sdtrn-root":v}),t[1]=i,t[2]=s,t[3]=r,t[4]=v,t[5]=E):E=t[5];let b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=g.jsx("meta",{charSet:"UTF-8"}),t[6]=b):b=t[6];const C="width=device-width, initial-scale=1".concat(a?", maximum-scale=1":"",", viewport-fit=cover");let y;t[7]!==C?(y=g.jsx("meta",{name:"viewport",content:C}),t[7]=C,t[8]=y):y=t[8];let O;t[9]===Symbol.for("react.memo_cache_sentinel")?(O=g.jsx(Wee,{}),t[9]=O):O=t[9];let A;t[10]!==c?(A=c?g.jsx(hCe,{}):null,t[10]=c,t[11]=A):A=t[11];let N,I,w,M;t[12]===Symbol.for("react.memo_cache_sentinel")?(M=g.jsx(gCe,{}),N=g.jsx(pCe,{}),I=g.jsx(_Ce,{}),w=g.jsx(mCe,{}),t[12]=N,t[13]=I,t[14]=w,t[15]=M):(N=t[12],I=t[13],w=t[14],M=t[15]);let k;t[16]!==u?(k=u?g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"dd-trace-id",content:u.traceId}),g.jsx("meta",{name:"dd-trace-time",content:"".concat(u.traceTime)})]}):null,t[16]=u,t[17]=k):k=t[17];let D,L,G;t[18]===Symbol.for("react.memo_cache_sentinel")?(D=g.jsx(vCe,{}),L=g.jsx(qee,{}),G=g.jsx("script",{nonce:m.cspScriptNonce,suppressHydrationWarning:!0,children:'!function initScrollTimelineInline(){try{if(CSS.supports("animation-timeline: --works"))return;var t=new Map;document.addEventListener("animationstart",(n=>{if(!(n.target instanceof HTMLElement))return;const e=n.target.getAnimations().filter((t=>t.animationName===n.animationName));t.set(n.target,e)})),document.addEventListener("scrolltimelineload",(n=>{t.forEach(((t,e)=>{t.forEach((t=>{n.detail.upgradeAnimation(t,e)}))})),t.clear()}),{once:!0})}catch{}}();'}),t[18]=D,t[19]=L,t[20]=G):(D=t[18],L=t[19],G=t[20]);let K;t[21]!==k||t[22]!==y||t[23]!==A?(K=g.jsxs("head",{children:[b,y,O,A,M,N,I,w,k,D,L,G]}),t[21]=k,t[22]=y,t[23]=A,t[24]=K):K=t[24];let V;t[25]!==s||t[26]!==r?(V=oe({snc:r,mini:s}),t[25]=s,t[26]=r,t[27]=V):V=t[27];let Y;t[28]!==h?(Y=h?g.jsx(Hee,{nonce:m.cspScriptNonce}):null,t[28]=h,t[29]=Y):Y=t[29];let Q,z;t[30]===Symbol.for("react.memo_cache_sentinel")?(Q=g.jsx(FWe,{}),z=g.jsx($ee,{nonce:m.cspScriptNonce}),t[30]=Q,t[31]=z):(Q=t[30],z=t[31]);let F;t[32]!==n||t[33]!==V||t[34]!==Y||t[35]!==l?(F=g.jsxs("body",{className:V,"data-window-style":l,children:[n,Y,Q,z]}),t[32]=n,t[33]=V,t[34]=Y,t[35]=l,t[36]=F):F=t[36];let Te;return t[37]!==p||t[38]!==d||t[39]!==f||t[40]!==K||t[41]!==F||t[42]!==E?(Te=g.jsxs("html",{lang:f,"data-build":fd,"data-seq":tp,dir:p,"data-jsp":d,className:E,suppressHydrationWarning:!0,children:[K,F]}),t[37]=p,t[38]=d,t[39]=f,t[40]=K,t[41]=F,t[42]=E,t[43]=Te):Te=t[43],Te}const Trt=Fee(function(t){"use forget";var J,Z;const n=j.c(43),{disablePrefetch:r,shouldPrefetchAccount:s,shouldPrefetchUser:i,shouldPrefetchSystemHints:o,dd:a,jsp:c,statsigGateEvaluationsPromise:l,promoteCss:u,disableSSR:d,stripModulepreloadImports:f}=Gee(),h=s===void 0?!1:s,p=i===void 0?!1:i,_=o===void 0?!1:o;let m;if(n[0]!==r||n[1]!==d||n[2]!==u||n[3]!==f){m=pt();{q.addFeatureFlagEvaluation("disable_prefetch",r),q.addFeatureFlagEvaluation("promote_css",u),q.addFeatureFlagEvaluation("disable_ssr",!!d),q.addFeatureFlagEvaluation("strip_modulepreload_imports",f);for(const[ye,me]of Object.entries((Z=(J=m.session)==null?void 0:J.rumViewTags)!=null?Z:{}))Xn.setViewContextProperty(ye,me)}n[0]=r,n[1]=d,n[2]=u,n[3]=f,n[4]=m}else m=n[4];let v,E,b;n[5]===Symbol.for("react.memo_cache_sentinel")?(v=cl(),E=en(v),b=si(v),n[5]=v,n[6]=E,n[7]=b):(v=n[5],E=n[6],b=n[7]);const C=b;let y;n[8]===Symbol.for("react.memo_cache_sentinel")?(y=[],n[8]=y):y=n[8],T.useEffect(c9e,y),Dse();let O;n[9]===Symbol.for("react.memo_cache_sentinel")?(O=[],n[9]=O):O=n[9],T.useEffect(a9e,O);const A=BH();let N;n[10]!==A?(N=A.map(o9e),n[10]=A,n[11]=N):N=n[11];const I=N;let w;n[12]!==A?(w=A.some(i9e),n[12]=A,n[13]=w):w=n[13];const M=w;let k;n[14]!==m||n[15]!==I||n[16]!==l?(k=()=>{{z5e(E),B5e(m,E,C),l.then(s9e);try{kWe(I)}catch(ye){const me=ye;q.addError(me)}}return!0},n[14]=m,n[15]=I,n[16]=l,n[17]=k):k=n[17],T.useState(k);const{pathname:D}=dn();let L;n[18]!==D?(L=D.startsWith("/search"),n[18]=D,n[19]=L):L=n[19];const G=L;let K;n[20]===Symbol.for("react.memo_cache_sentinel")?(K=ns(),n[20]=K):K=n[20];const V=K;let Y;n[21]===Symbol.for("react.memo_cache_sentinel")?(Y=_n(),n[21]=Y):Y=n[21];const Q=Y,z=!!d;let F;n[22]===Symbol.for("react.memo_cache_sentinel")?(F=g.jsx(MRe,{}),n[22]=F):F=n[22];let Te;n[23]===Symbol.for("react.memo_cache_sentinel")?(Te=g.jsx(MEe,{}),n[23]=Te):Te=n[23];let fe;n[24]===Symbol.for("react.memo_cache_sentinel")?(fe=g.jsx(jee,{}),n[24]=fe):fe=n[24];let $;n[25]!==h||n[26]!==_||n[27]!==p?($=g.jsxs(Bee,{client:E,children:[Te,g.jsxs(wWe,{children:[fe,g.jsx(n9e,{shouldPrefetchAccount:h,shouldPrefetchUser:p,shouldPrefetchSystemHints:_})]})]}),n[25]=h,n[26]=_,n[27]=p,n[28]=$):$=n[28];let W;n[29]!==z||n[30]!==$?(W=g.jsxs(u5e,{children:[F,g.jsx(i$e,{attribute:"class",children:g.jsx(l9e,{disableSSR:z,children:$})})]}),n[29]=z,n[30]=$,n[31]=W):W=n[31];let ee;return n[32]!==m.isAndroidChrome||n[33]!==m.isElectron||n[34]!==m.isIos||n[35]!==m.locale||n[36]!==m.windowStyle||n[37]!==a||n[38]!==G||n[39]!==c||n[40]!==M||n[41]!==W?(ee=g.jsx(ete,{sessionContext:v,children:g.jsx(r9e,{lang:m.locale,isIos:m.isIos,isAndroidChrome:m.isAndroidChrome,isElectron:m.isElectron,isOrlaWindowStyle:V,isOrlaUserAgent:Q,isSearchPage:G,ddTraceMetadata:a,jsp:c,windowStyle:m.windowStyle,shouldUseScrollRestoration:M,children:W})}),n[32]=m.isAndroidChrome,n[33]=m.isElectron,n[34]=m.isIos,n[35]=m.locale,n[36]=m.windowStyle,n[37]=a,n[38]=G,n[39]=c,n[40]=M,n[41]=W,n[42]=ee):ee=n[42],ee});function s9e(e){for(const[t,n]of Object.entries(e))q.addFeatureFlagEvaluation(t,n)}function i9e(e){const t=e.handle;return t==null?void 0:t.useScrollRestoration}function o9e(e){return e.id}function a9e(){DWe(),MWe(),QWe(),u9e()}function c9e(){V$e()}function l9e(e){"use forget";const t=j.c(4),{children:n,disableSSR:r}=e;if(!r){let i;return t[0]!==n?(i=g.jsx(g.Fragment,{children:n}),t[0]=n,t[1]=i):i=t[1],i}let s;return t[2]!==n?(s=g.jsx(p5e,{fallback:null,children:n}),t[2]=n,t[3]=s):s=t[3],s}function u9e(){BEe().composer.autofocusDisabled$()&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{var n;const t=(n=document.querySelector("h1"))!=null?n:H5e({root:document.body});t instanceof HTMLElement&&typeof t.focus=="function"&&t.focus()})})}export{bje as $,cn as A,MKe as A$,itt as A0,SJe as A1,Yet as A2,dKe as A3,uKe as A4,HYe as A5,Cnt as A6,qV as A7,Bqe as A8,B8 as A9,Kje as AA,T4 as AB,$je as AC,Hje as AD,MP as AE,Ix as AF,Uet as AG,x2e as AH,M2e as AI,I4 as AJ,L2e as AK,K7e as AL,J7e as AM,lCe as AN,yQe as AO,SQe as AP,Y7e as AQ,n7e as AR,hfe as AS,Qqe as AT,so as AU,KP as AV,iQe as AW,XQe as AX,wKe as AY,$qe as AZ,Ad as A_,pze as Aa,d2e as Ab,u2e as Ac,l2e as Ad,O4 as Ae,c2e as Af,a2e as Ag,Det as Ah,o2e as Ai,Let as Aj,ket as Ak,i2e as Al,s2e as Am,r2e as An,n2e as Ao,t2e as Ap,e2e as Aq,Zje as Ar,Qje as As,Xje as At,Jje as Au,Yje as Av,zje as Aw,Vje as Ax,qje as Ay,Wje as Az,N1e as B,sue as B$,QQe as B0,zPe as B1,cPe as B2,oj as B3,bQe as B4,_Ve as B5,Rue as B6,gVe as B7,mVe as B8,yVe as B9,hZe as BA,uye as BB,y6 as BC,yYe as BD,pKe as BE,bqe as BF,lze as BG,kYe as BH,Wve as BI,VXe as BJ,ntt as BK,U2e as BL,mXe as BM,pXe as BN,J8e as BO,_z as BP,qce as BQ,dYe as BR,srt as BS,H6e as BT,ert as BU,Xnt as BV,Qnt as BW,trt as BX,Znt as BY,Jnt as BZ,iue as B_,CVe as Ba,EVe as Bb,vVe as Bc,SVe as Bd,xue as Be,bVe as Bf,OVe as Bg,TVe as Bh,$nt as Bi,xse as Bj,Aqe as Bk,Pet as Bl,EYe as Bm,zae as Bn,cze as Bo,ZN as Bp,the as Bq,c8e as Br,xtt as Bs,VV as Bt,e7e as Bu,Zqe as Bv,t7e as Bw,spe as Bx,cue as By,M7e as Bz,iwe as C,Ntt as C$,ICe as C0,P7e as C1,I7e as C2,iZe as C3,bZe as C4,$1e as C5,_Ze as C6,OZe as C7,TZe as C8,jg as C9,het as CA,lXe as CB,vqe as CC,Eqe as CD,Wnt as CE,A6e as CF,Pp as CG,DEe as CH,vhe as CI,oa as CJ,Oi as CK,Ze as CL,Jr as CM,kV as CN,ISe as CO,DYe as CP,vh as CQ,zN as CR,Kqe as CS,vg as CT,t8e as CU,o8e as CV,r8e as CW,sqe as CX,Itt as CY,aJe as CZ,V8e as C_,oZe as Ca,vwe as Cb,dZe as Cc,sZe as Cd,b1e as Ce,rZe as Cf,_9 as Cg,pZe as Ch,pFe as Ci,Fnt as Cj,UYe as Ck,DSe as Cl,KSe as Cm,GYe as Cn,qYe as Co,i8e as Cp,v7e as Cq,g7e as Cr,m7e as Cs,cte as Ct,_7e as Cu,_Ye as Cv,uYe as Cw,RCe as Cx,hYe as Cy,fYe as Cz,ioe as D,jet as D$,oBe as D0,aa as D1,Qu as D2,S7e as D3,T7e as D4,lpe as D5,tpe as D6,tet as D7,E7e as D8,C7e as D9,Xtt as DA,ktt as DB,ptt as DC,t4e as DD,n4e as DE,tBe as DF,bet as DG,z8e as DH,Gtt as DI,Htt as DJ,ott as DK,Btt as DL,H4e as DM,$tt as DN,Wtt as DO,qtt as DP,Vtt as DQ,ztt as DR,uBe as DS,utt as DT,rnt as DU,rBe as DV,So as DW,Dtt as DX,int as DY,Net as DZ,nXe as D_,y7e as Da,O7e as Db,b7e as Dc,Zet as Dd,XG as De,oi as Df,ige as Dg,Q8 as Dh,Yqe as Di,FT as Dj,bue as Dk,sVe as Dl,fVe as Dm,dVe as Dn,iVe as Do,oVe as Dp,rVe as Dq,aVe as Dr,D$e as Ds,knt as Dt,Lnt as Du,O$e as Dv,Aze as Dw,sg as Dx,URe as Dy,KQ as Dz,y1e as E,tne as E$,KJe as E0,EPe as E1,j8e as E2,LVe as E3,E9e as E4,nYe as E5,rYe as E6,U8e as E7,dtt as E8,ftt as E9,L6e as EA,vp as EB,ude as EC,yhe as ED,QAe as EE,Gz as EF,k9e as EG,M9e as EH,K$ as EI,j$ as EJ,Dre as EK,zs as EL,Sn as EM,Jm as EN,Xh as EO,vv as EP,Cu as EQ,Ue as ER,hv as ES,iw as ET,Vn as EU,qn as EV,Rr as EW,Vr as EX,T8e as EY,TJe as EZ,im as E_,htt as Ea,ltt as Eb,B8e as Ec,P7 as Ed,Oge as Ee,H8e as Ef,znt as Eg,Tc as Eh,zqe as Ei,qqe as Ej,Vqe as Ek,wf as El,Q9e as Em,_oe as En,poe as Eo,GQe as Ep,efe as Eq,nRe as Er,r4e as Es,n8e as Et,XIe as Eu,mR as Ev,I6e as Ew,AIe as Ex,Lqe as Ey,s8e as Ez,Da as F,Xqe as F0,vXe as F1,fQe as F2,hQe as F3,pQe as F4,_Qe as F5,mQe as F6,AUe as F7,St as G,ut as H,O1e as I,Sl as J,kn as K,un as L,Qf as M,Ret as N,yje as O,re as P,Sje as Q,H as R,Tje as S,Ua as T,Un as U,xet as V,fJe as W,Cd as X,Oje as Y,Ye as Z,M9 as _,ro as a,TE as a$,Aje as a0,Nje as a1,Met as a2,Rq as a3,gl as a4,ui as a5,vo as a6,M8e as a7,Ht as a8,x8e as a9,ov as aA,$ze as aB,$Ue as aC,rC as aD,Int as aE,Ant as aF,bge as aG,F8e as aH,G8e as aI,wie as aJ,yE as aK,S4 as aL,AL as aM,Ii as aN,ie as aO,b7 as aP,QNe as aQ,f$e as aR,mt as aS,ft as aT,w7e as aU,oue as aV,UJ as aW,Fa as aX,x as aY,FVe as aZ,rr as a_,m1 as aa,Op as ab,Epe as ac,Kc as ad,$5e as ae,x9e as af,Se as ag,pe as ah,DC as ai,B4 as aj,TEe as ak,q as al,li as am,On as an,hN as ao,J$e as ap,iZ as aq,pt as ar,Mn as as,dC as at,Dze as au,bnt as av,Nge as aw,w9 as ax,$8e as ay,dr as az,Le as b,btt as b$,SE as b0,OE as b1,cl as b2,gz as b3,Ut as b4,CE as b5,C1 as b6,Fq as b7,Gq as b8,ppe as b9,sR as bA,xP as bB,fo as bC,zu as bD,rl as bE,R2e as bF,ln as bG,yoe as bH,Eoe as bI,_E as bJ,_1 as bK,wi as bL,pq as bM,fje as bN,JJ as bO,ix as bP,Yu as bQ,sx as bR,Sp as bS,_q as bT,mq as bU,hFe as bV,KJ as bW,zJ as bX,GAe as bY,Xv as bZ,Ott as b_,x9 as ba,oXe as bb,eje as bc,VE as bd,ri as be,fnt as bf,wet as bg,ce as bh,jM as bi,kt as bj,sNe as bk,Gp as bl,CXe as bm,Cs as bn,F9 as bo,Yn as bp,Ett as bq,Z4e as br,snt as bs,oNe as bt,iR as bu,nje as bv,vtt as bw,gtt as bx,aje as by,J4e as bz,Ee as c,OWe as c$,Q4e as c0,Att as c1,Aet as c2,Tet as c3,Oet as c4,Cet as c5,yet as c6,met as c7,Eet as c8,vet as c9,tVe as cA,Os as cB,Ez as cC,nVe as cD,ije as cE,GG as cF,jG as cG,HE as cH,Cm as cI,eQ as cJ,cC as cK,jW as cL,_d as cM,ka as cN,at as cO,B6 as cP,bae as cQ,kze as cR,fqe as cS,g7 as cT,mrt as cU,ug as cV,SWe as cW,Ape as cX,aae as cY,cae as cZ,Sae as c_,get as ca,wd as cb,Ud as cc,Ctt as cd,_tt as ce,Ttt as cf,mtt as cg,sXe as ch,wtt as ci,Rtt as cj,rXe as ck,lNe as cl,ytt as cm,Stt as cn,att as co,Y4e as cp,K4e as cq,CW as cr,Y8e as cs,sQ as ct,gu as cu,OQ as cv,fR as cw,B2e as cx,lFe as cy,To as cz,pl as d,Iye as d$,Tae as d0,vae as d1,W6 as d2,hae as d3,pae as d4,$6 as d5,Cae as d6,yae as d7,Jqe as d8,ju as d9,sa as dA,SYe as dB,Sye as dC,$he as dD,kv as dE,yo as dF,oE as dG,Qw as dH,S9 as dI,VT as dJ,Ffe as dK,Hfe as dL,Lfe as dM,Bfe as dN,U6e as dO,O4e as dP,Np as dQ,ove as dR,eQe as dS,VI as dT,HJe as dU,UKe as dV,we as dW,Nye as dX,bye as dY,je as dZ,Pye as d_,zn as da,xa as db,B9e as dc,F0e as dd,A7 as de,MUe as df,WIe as dg,cje as dh,CIe as di,TIe as dj,_n as dk,rE as dl,xE as dm,KNe as dn,YNe as dp,Oe as dq,Q7 as dr,Ip as ds,T1 as dt,Su as du,E8e as dv,aE as dw,Mde as dx,Xi as dy,Tfe as dz,ns as e,she as e$,ao as e0,IYe as e1,Lze as e2,Wae as e3,ia as e4,As as e5,l7 as e6,I6 as e7,Ys as e8,ir as e9,ale as eA,jde as eB,Ste as eC,C9e as eD,Kv as eE,uW as eF,mnt as eG,ni as eH,ahe as eI,tt as eJ,fg as eK,pR as eL,kPe as eM,Dde as eN,Lce as eO,Dnt as eP,Unt as eQ,G9e as eR,kae as eS,a8e as eT,l8e as eU,Jet as eV,Od as eW,Qe as eX,st as eY,Q8e as eZ,Gv as e_,RYe as ea,xp as eb,DJe as ec,Y0e as ed,Sve as ee,lt as ef,ap as eg,ww as eh,na as ei,Nc as ej,Cte as ek,JH as el,hs as em,sIe as en,tZe as eo,vte as ep,f8e as eq,yte as er,y9e as es,VVe as et,AE as eu,SN as ev,Xue as ew,Sr as ex,T9e as ey,ole as ez,X as f,G8 as f$,X8 as f0,Xie as f1,tqe as f2,zie as f3,pqe as f4,av as f5,lRe as f6,Eee as f7,fF as f8,C_ as f9,ih as fA,yp as fB,NYe as fC,CYe as fD,qu as fE,XVe as fF,h9e as fG,DXe as fH,kZe as fI,UXe as fJ,Vz as fK,cR as fL,js as fM,cu as fN,Cn as fO,cv as fP,pp as fQ,y9 as fR,e9 as fS,lwe as fT,WGe as fU,fet as fV,Oa as fW,wo as fX,pnt as fY,nl as fZ,m6 as f_,rf as fa,ope as fb,xr as fc,jqe as fd,JE as fe,Dx as ff,iz as fg,nz as fh,LYe as fi,KBe as fj,d7e as fk,tue as fl,eue as fm,afe as fn,_fe as fo,oqe as fp,Soe as fq,Coe as fr,va as fs,bIe as ft,KVe as fu,f9 as fv,SPe as fw,AQe as fx,rPe as fy,sPe as fz,en as g,EZe as g$,jZe as g0,$Y as g1,cNe as g2,SXe as g3,bi as g4,RRe as g5,sr as g6,WZe as g7,Hz as g8,IAe as g9,tz as gA,p5e as gB,V8 as gC,TQe as gD,Sc as gE,jE as gF,zNe as gG,H_ as gH,B_ as gI,JI as gJ,wE as gK,GEe as gL,FEe as gM,bE as gN,ote as gO,VP as gP,LZe as gQ,ERe as gR,sWe as gS,_Re as gT,wVe as gU,RVe as gV,xVe as gW,OJe as gX,JG as gY,Fae as gZ,vZe as g_,bRe as ga,_nt as gb,KY as gc,BZe as gd,X6 as ge,_Xe as gf,$Ze as gg,bw as gh,kge as gi,nze as gj,Qq as gk,J1 as gl,zee as gm,sze as gn,Ef as go,ize as gp,FJe as gq,Dv as gr,Qv as gs,bd as gt,QKe as gu,Pd as gv,Zt as gw,sQe as gx,KI as gy,jp as gz,oe as h,bv as h$,Uae as h0,whe as h1,UJe as h2,Dqe as h3,Dae as h4,Be as h5,ig as h6,MVe as h7,tXe as h8,hle as h9,E9 as hA,nde as hB,C7 as hC,Io as hD,urt as hE,epe as hF,ape as hG,gve as hH,mC as hI,Bnt as hJ,Hnt as hK,sF as hL,Tle as hM,kVe as hN,Q1 as hO,eZe as hP,YGe as hQ,Mue as hR,NVe as hS,B9 as hT,Ale as hU,mL as hV,JZe as hW,Ts as hX,ci as hY,Qt as hZ,ot as h_,Pn as ha,oz as hb,q6 as hc,HAe as hd,Xae as he,Tze as hf,pJe as hg,OEe as hh,LRe as hi,Dhe as hj,S0e as hk,e8e as hl,JVe as hm,YVe as hn,JIe as ho,Vv as hp,xce as hq,uJe as hr,Pze as hs,NY as ht,QG as hu,qKe as hv,vRe as hw,zP as hx,Sfe as hy,TBe as hz,v6 as i,qE as i$,ctt as i0,ep as i1,Tw as i2,uqe as i3,ga as i4,yu as i5,tl as i6,rqe as i7,yue as i8,Kse as i9,rs as iA,qw as iB,x6 as iC,ai as iD,KW as iE,jw as iF,ofe as iG,vfe as iH,Efe as iI,h8e as iJ,Tqe as iK,GN as iL,Gi as iM,UN as iN,et as iO,Tz as iP,jje as iQ,Fz as iR,Uz as iS,wz as iT,Pz as iU,bz as iV,Sz as iW,yz as iX,Cz as iY,kz as iZ,JAe as i_,M1 as ia,GE as ib,$Ye as ic,zYe as id,WYe as ie,Y$e as ig,Sue as ih,k7e as ii,lue as ij,Ize as ik,cp as il,n6 as im,Sv as io,I1 as ip,wv as iq,vd as ir,V7 as is,RE as it,w1 as iu,$Ce as iv,XCe as iw,WCe as ix,eye as iy,Ww as iz,Kn as j,m9 as j$,Rz as j0,Oz as j1,Az as j2,zI as j3,Ec as j4,Iz as j5,yTe as j6,STe as j7,CTe as j8,BG as j9,I8e as jA,dhe as jB,Yge as jC,SIe as jD,Zoe as jE,Y6 as jF,g9e as jG,vYe as jH,gYe as jI,iY as jJ,VZe as jK,Uve as jL,cE as jM,qae as jN,hTe as jO,Xz as jP,dR as jQ,aqe as jR,iqe as jS,cqe as jT,w6 as jU,JV as jV,kF as jW,pg as jX,Ks as jY,he as jZ,pde as j_,zGe as ja,vs as jb,r7 as jc,Nde as jd,HQe as je,Yoe as jf,XH as jg,la as jh,A4e as ji,yn as jj,YE as jk,qet as jl,lPe as jm,UQe as jn,Bet as jo,$Qe as jp,jQe as jq,FQe as jr,XYe as js,Ete as jt,Cp as ju,wAe as jv,hl as jw,sp as jx,Oae as jy,zZe as jz,B0e as k,lqe as k$,K2e as k0,J2e as k1,Y2e as k2,eze as k3,Df as k4,S8e as k5,nI as k6,Nze as k7,Fze as k8,Ace as k9,Ap as kA,wqe as kB,A9 as kC,Vt as kD,t1 as kE,Lc as kF,Tce as kG,Pnt as kH,dc as kI,mWe as kJ,j9 as kK,uet as kL,CKe as kM,cZe as kN,HQ as kO,xn as kP,stt as kQ,xQe as kR,LQe as kS,NQe as kT,WQ as kU,_rt as kV,Ket as kW,hR as kX,Ao as kY,Vae as kZ,P6 as k_,QVe as ka,wYe as kb,Jz as kc,Mx as kd,Qet as ke,Xet as kf,F7e as kg,Gt as kh,Wze as ki,wnt as kj,Xu as kk,VZ as kl,n$e as km,moe as kn,Kee as ko,lrt as kp,irt as kq,ort as kr,EH as ks,art as kt,crt as ku,iJe as kv,fl as kw,lte as kx,RZe as ky,Y8 as kz,Pe as l,BTe as l$,PYe as l0,Lse as l1,nh as l2,pVe as l3,R0e as l4,Pue as l5,p8e as l6,wue as l7,jv as l8,it as l9,sh as lA,No as lB,Ne as lC,o0 as lD,oh as lE,Ktt as lF,Jtt as lG,XV as lH,zet as lI,Wet as lJ,z2e as lK,WE as lL,$E as lM,e4e as lN,JYe as lO,qQ as lP,B4e as lQ,l4e as lR,Vet as lS,DRe as lT,$U as lU,net as lV,VH as lW,wze as lX,BYe as lY,VYe as lZ,VQ as l_,_8e as la,m8e as lb,Qve as lc,gKe as ld,Br as le,qbe as lf,gnt as lg,vnt as lh,hnt as li,tKe as lj,Ou as lk,Nqe as ll,Ib as lm,bm as ln,H8 as lo,EG as lp,Oqe as lq,rKe as lr,sKe as ls,nKe as lt,Z8e as lu,Tv as lv,jYe as lw,Bie as lx,jie as ly,Gie as lz,Mt as m,B6e as m$,M7 as m0,npe as m1,jae as m2,Q7e as m3,Tue as m4,j7 as m5,B7 as m6,pI as m7,ll as m8,Zue as m9,Kw as mA,Ed as mB,qze as mC,Z1 as mD,qv as mE,Iqe as mF,Uqe as mG,Pqe as mH,q9e as mI,r9 as mJ,jVe as mK,HVe as mL,wx as mM,V9 as mN,$9 as mO,x_e as mP,k_e as mQ,L_e as mR,U_e as mS,F_e as mT,j_e as mU,G_e as mV,D_e as mW,O_e as mX,i1 as mY,Gs as mZ,Gd as m_,aze as ma,Dg as mb,Dce as mc,dqe as md,Hae as me,eVe as mf,Bae as mg,QBe as mh,iYe as mi,sce as mj,Si as mk,gR as ml,Rnt as mm,_0e as mn,$ae as mo,o0e as mp,Gae as mq,Oce as mr,Nr as ms,qo as mt,Rqe as mu,AZe as mv,PE as mw,voe as mx,oKe as my,p0e as mz,ip as n,ZVe as n$,W6e as n0,gC as n1,Zr as n2,oae as n3,oYe as n4,VJ as n5,gBe as n6,uRe as n7,NZe as n8,IZe as n9,dh as nA,Nd as nB,ph as nC,qXe as nD,Uge as nE,rpe as nF,uE as nG,_et as nH,vKe as nI,EKe as nJ,aC as nK,Ynt as nL,nrt as nM,q6e as nN,Knt as nO,vC as nP,rrt as nQ,_ee as nR,bve as nS,Pt as nT,v9e as nU,sve as nV,xx as nW,cYe as nX,md as nY,rtt as nZ,H9e as n_,Mr as na,w8e as nb,grt as nc,m0e as nd,Fge as ne,hze as nf,Eue as ng,vue as nh,q7e as ni,V7e as nj,z7e as nk,Cue as nl,Het as nm,$et as nn,F9e as no,BVe as np,prt as nq,frt as nr,Sqe as ns,fze as nt,OAe as nu,qN as nv,Aw as nw,Gr as nx,_I as ny,cet as nz,Qse as o,cRe as o$,f0e as o0,Zi as o1,BEe as o2,ht as o3,h0e as o4,aKe as o5,mee as o6,CN as o7,m9e as o8,hrt as o9,Xt as oA,sY as oB,ib as oC,Gnt as oD,xYe as oE,Jle as oF,nP as oG,aYe as oH,pYe as oI,wZe as oJ,eR as oK,x7 as oL,eKe as oM,KG as oN,ice as oO,XAe as oP,YI as oQ,$p as oR,eXe as oS,OKe as oT,PJe as oU,UZe as oV,gp as oW,Qfe as oX,d8e as oY,TYe as oZ,Ci as o_,Mze as oa,fKe as ob,hKe as oc,$I as od,A8e as oe,Xhe as of,ant as og,cnt as oh,MYe as oi,wye as oj,xye as ok,O0e as ol,foe as om,Ent as on,mme as oo,mM as op,R9 as oq,GVe as or,hd as os,rh as ot,_ze as ou,UEe as ov,Gze as ow,ZQ as ox,_x as oy,Ytt as oz,Mf as p,ml as p$,Vu as p0,b8e as p1,mue as p2,W7e as p3,gue as p4,$7e as p5,_ue as p6,H7e as p7,pue as p8,OIe as p9,kje as pA,RAe as pB,nhe as pC,eCe as pD,EXe as pE,lKe as pF,g9 as pG,Yae as pH,wa as pI,sAe as pJ,t9 as pK,Uze as pL,p7e as pM,u8e as pN,l7e as pO,Qle as pP,o7e as pQ,Yle as pR,Kle as pS,$ie as pT,E6 as pU,c7e as pV,Xle as pW,xUe as pX,cXe as pY,Lle as pZ,c9 as p_,XZe as pa,rR as pb,aXe as pc,dz as pd,Gse as pe,C0e as pf,tze as pg,xhe as ph,vQe as pi,Bje as pj,Dz as pk,Lz as pl,xz as pm,Nz as pn,Gje as po,Mz as pp,Hp as pq,y0e as pr,K6 as ps,$Ke as pt,MAe as pu,Kae as pv,v8e as pw,CZe as px,mZe as py,gZe as pz,fp as q,Pa as q$,pet as q0,W9e as q1,j9e as q2,a7e as q3,V1e as q4,P0e as q5,DKe as q6,WKe as q7,vR as q8,GY as q9,xJe as qA,GNe as qB,oQe as qC,_Ie as qD,mIe as qE,gIe as qF,bXe as qG,au as qH,aQe as qI,cQe as qJ,ewe as qK,LJe as qL,OXe as qM,gNe as qN,q8 as qO,kJe as qP,QXe as qQ,pwe as qR,aZe as qS,zG as qT,fFe as qU,Oye as qV,ttt as qW,mKe as qX,u7 as qY,Ra as qZ,kRe as q_,LKe as qa,zv as qb,D5e as qc,y_ as qd,gY as qe,TPe as qf,BIe as qg,GKe as qh,jnt as qi,cpe as qj,jKe as qk,DAe as ql,$9e as qm,OQe as qn,WPe as qo,f7e as qp,nue as qq,P8e as qr,ra as qs,zVe as qt,Fg as qu,Pve as qv,fZe as qw,I9 as qx,Eye as qy,Fqe as qz,E7 as r,lfe as r$,cCe as r0,Wqe as r1,kce as r2,ite as r3,uZ as r4,b9 as r5,i7e as r6,Uie as r7,Vle as r8,OW as r9,EF as rA,S9e as rB,XXe as rC,Yc as rD,g8e as rE,ZXe as rF,AYe as rG,O_ as rH,_L as rI,nqe as rJ,Fje as rK,Snt as rL,Gqe as rM,Mce as rN,q0e as rO,V0e as rP,gQe as rQ,xqe as rR,DZe as rS,tYe as rT,Xr as rU,noe as rV,aY as rW,d0e as rX,XGe as rY,Zze as rZ,v9 as r_,Lie as ra,OYe as rb,lv as rc,yrt as rd,Srt as re,Trt as rf,O8e as rg,K8e as rh,L7 as ri,N8e as rj,Fet as rk,RQ as rl,eYe as rm,hp as rn,Lf as ro,Zx as rp,u7e as rq,Zle as rr,vJe as rs,mJe as rt,EJe as ru,HKe as rv,TKe as rw,AJe as rx,h$e as ry,bYe as rz,_t as s,Ztt as s$,uCe as s0,F7 as s1,Sze as s2,Dw as s3,yze as s4,goe as s5,gze as s6,cEe as s7,mh as s8,doe as s9,EI as sA,kie as sB,Ice as sC,YYe as sD,uoe as sE,loe as sF,coe as sG,Re as sH,de as sI,BJe as sJ,L8e as sK,D8e as sL,Sge as sM,wr as sN,h7e as sO,rue as sP,FKe as sQ,uQe as sR,RQe as sS,Jae as sT,QN as sU,L9e as sV,CPe as sW,set as sX,Rce as sY,sW as sZ,vl as s_,hoe as sa,zXe as sb,Rze as sc,REe as sd,TXe as se,C8e as sf,oet as sg,PQe as sh,Zce as si,k$e as sj,BU as sk,Xc as sl,Qze as sm,U7e as sn,J6e as so,jo as sp,Nhe as sq,Ea as sr,lWe as ss,Gw as st,qVe as su,D9e as sv,HW as sw,Ert as sx,qle as sy,Nce as sz,Ga as t,X7e as t$,H7 as t0,xCe as t1,MCe as t2,L7e as t3,QI as t4,cY as t5,uze as t6,v2e as t7,HZe as t8,xQ as t9,uVe as tA,EN as tB,Cqe as tC,Nnt as tD,mze as tE,s_ as tF,iae as tG,eI as tH,rze as tI,kKe as tJ,mYe as tK,nwe as tL,oze as tM,Lhe as tN,EQe as tO,dJe as tP,bze as tQ,Oze as tR,lJe as tS,e6e as tT,f1 as tU,d$e as tV,IVe as tW,MJe as tX,tme as tY,aet as tZ,UQ as t_,lQe as ta,fz as tb,Yze as tc,WVe as td,NJe as te,JJe as tf,QJe as tg,MXe as th,yNe as ti,PZe as tj,AKe as tk,$8 as tl,mRe as tm,aoe as tn,Tnt as to,hJe as tp,YP as tq,Oue as tr,ooe as ts,Tge as tt,Aue as tu,hVe as tv,Nue as tw,cVe as tx,lVe as ty,uFe as tz,Kue as u,mqe as u$,GZe as u0,Hge as u1,oR as u2,Ve as u3,FZe as u4,$4e as u5,CRe as u6,Get as u7,G2e as u8,j2e as u9,ZZe as uA,Z7e as uB,TW as uC,NKe as uD,IKe as uE,PKe as uF,Mie as uG,tY as uH,fXe as uI,uXe as uJ,dXe as uK,iXe as uL,Ptt as uM,eM as uN,s6e as uO,C$e as uP,E$e as uQ,qGe as uR,xnt as uS,Mnt as uT,Cze as uU,C5e as uV,Ont as uW,dae as uX,IW as uY,AW as uZ,Po as u_,$z as ua,qZe as ub,UVe as uc,YBe as ud,Ede as ue,tE as uf,Yw as ug,tp as uh,fd as ui,KYe as uj,rWe as uk,Qde as ul,vze as um,U9e as un,s9 as uo,v5e as up,oY as uq,Pi as ur,PVe as us,Gge as ut,Lge as uu,YJe as uv,ent as uw,bJe as ux,$De as uy,eet as uz,ze as v,DVe as v$,ng as v0,Crt as v1,Eze as v2,bW as v3,NE as v4,_p as v5,gd as v6,r7e as v7,IQe as v8,Z9e as v9,sb as vA,TG as vB,oZ as vC,iKe as vD,cKe as vE,zze as vF,Xze as vG,yI as vH,W8e as vI,q8e as vJ,Age as vK,jXe as vL,wQe as vM,QPe as vN,ZPe as vO,ZQe as vP,IY as vQ,JQe as vR,gRe as vS,TQ as vT,jze as vU,Uje as vV,oje as vW,yqe as vX,bKe as vY,CQe as vZ,DUe as v_,nQe as va,_Ne as vb,GXe as vc,yKe as vd,SKe as ve,rQe as vf,xKe as vg,wXe as vh,FXe as vi,JPe as vj,g0e as vk,YPe as vl,er as vm,fIe as vn,PXe as vo,ZYe as vp,VQe as vq,eqe as vr,E0e as vs,f4e as vt,_Ke as vu,RJe as vv,wJe as vw,tQe as vx,r0e as vy,iTe as vz,Yde as w,xge as w$,lY as w0,jIe as w1,GJe as w2,XJe as w3,Lae as w4,K8 as w5,jJ as w6,tnt as w7,Jhe as w8,mz as w9,DTe as wA,ETe as wB,QYe as wC,kQe as wD,DQe as wE,aPe as wF,WQe as wG,qQe as wH,Jze as wI,Kze as wJ,yZe as wK,_qe as wL,Nie as wM,gqe as wN,F6 as wO,Iae as wP,uwe as wQ,PY as wR,SZe as wS,lZe as wT,uZe as wU,nZe as wV,NUe as wW,Vze as wX,j7e as wY,G7e as wZ,WI as w_,Ltt as wa,Bze as wb,B7e as wc,Sg as wd,zH as we,Z2e as wf,WTe as wg,Ta as wh,wg as wi,z9e as wj,KGe as wk,$W as wl,X1e as wm,eE as wn,WW as wo,Q1e as wp,uhe as wq,u5e as wr,e1 as ws,vrt as wt,y8e as wu,hhe as wv,S6e as ww,k8e as wx,oJe as wy,Mqe as wz,uR as x,vI as x$,wge as x0,yx as x1,Sx as x2,gx as x3,rQ as x4,Ex as x5,Zhe as x6,nnt as x7,Mtt as x8,sJe as x9,fr as xA,w0e as xB,gJe as xC,CJe as xD,$Je as xE,WJe as xF,qJe as xG,YZe as xH,IJe as xI,X9e as xJ,eoe as xK,ynt as xL,Rw as xM,Qtt as xN,Dp as xO,YKe as xP,zKe as xQ,KKe as xR,JKe as xS,ZKe as xT,eJe as xU,tJe as xV,nJe as xW,D0e as xX,rJe as xY,cJe as xZ,VKe as x_,Iet as xa,soe as xb,xZe as xc,XKe as xd,J9e as xe,N6 as xf,roe as xg,iet as xh,ZGe as xi,hXe as xj,zt as xk,Ftt as xl,X8e as xm,ei as xn,R8e as xo,_Je as xp,aue as xq,D7e as xr,x7e as xs,R7e as xt,CCe as xu,_9e as xv,Zn as xw,ss as xx,bs as xy,Dt as xz,se as y,N7e as y$,wle as y0,sae as y1,zw as y2,nfe as y3,zde as y4,kUe as y5,Jfe as y6,Kfe as y7,dze as y8,Lye as y9,Y9e as yA,Ck as yB,$le as yC,Ew as yD,K9e as yE,s7e as yF,Wle as yG,uo as yH,hBe as yI,wBe as yJ,lIe as yK,xo as yL,RKe as yM,FNe as yN,MZe as yO,hNe as yP,qf as yQ,Utt as yR,jtt as yS,Pge as yT,Vnt as yU,KZe as yV,hde as yW,p9e as yX,qK as yY,ret as yZ,rce as y_,_Se as ya,NV as yb,Kr as yc,ct as yd,mm as ye,jye as yf,L1 as yg,FYe as yh,YQe as yi,KQe as yj,Mle as yk,ZIe as yl,bbe as ym,ou as yn,$be as yo,e0e as yp,t0e as yq,Wbe as yr,YTe as ys,wbe as yt,Pg as yu,VO as yv,jI as yw,F8 as yx,rTe as yy,A6 as yz,KE as z,ZJe as z$,A7e as z0,YJ as z1,Ofe as z2,$6e as z3,lYe as z4,LE as z5,Zye as z6,Au as z7,Ln as z8,j4e as z9,xze as zA,HXe as zB,$Xe as zC,WXe as zD,uIe as zE,BXe as zF,dQe as zG,vIe as zH,det as zI,Hqe as zJ,$Ve as zK,n9 as zL,Ov as zM,nee as zN,mI as zO,V9e as zP,ZI as zQ,rwe as zR,AVe as zS,qnt as zT,unt as zU,lnt as zV,rNe as zW,kqe as zX,gXe as zY,ont as zZ,kTe as z_,hqe as za,BKe as zb,xXe as zc,BQe as zd,ett as ze,MQe as zf,ta as zg,LXe as zh,yXe as zi,NXe as zj,pNe as zk,IXe as zl,AXe as zm,yJe as zn,jJe as zo,VJe as zp,zJe as zq,RXe as zr,kXe as zs,W8 as zt,JXe as zu,drt as zv,sYe as zw,YXe as zx,KXe as zy,Toe as zz};
//# sourceMappingURL=4813494d-di0bpg5zidu9s57f.js.map
