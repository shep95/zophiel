const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/880deb74-b2j09xngu0ub98zx.js","assets/2340486e-n0khdanno9uzbccp.js","assets/4813494d-di0bpg5zidu9s57f.js","assets/root-jvstnck2.css","assets/1a7ebd5f-ihenykhpblfwilpu.js","assets/conversation-small-dnpfu486.css","assets/1bc04b52-xt98zj1xgahnmc03.js","assets/ac5dd3e8-pe3gotr981ye4uf4.js","assets/1bc04b52-emja6bpoehwcct3m.js","assets/e19d9367-hjerg984x6xr8atp.js","assets/4aabbe5f-g82hkab64h2oy6ri.js","assets/ae95bd74-o4n6we8hc7o9bvjn.js","assets/966a52d3-jhcp4mbjn6utnb5l.js","assets/d0a1b430-n3sfad8zfi3v2xaz.js","assets/35bafb1c-m9gxlv5gkju1kfu1.js","assets/e14a92db-fmn1m43tx0vv55up.js","assets/78b1627b-t98elwdgu7r434xk.js","assets/97f2f6d8-d6bu20m5yeb3cn34.js","assets/80aa9bec-mr24hlixvs86lnux.js","assets/273e0e30-l8rvtrdkuptehr30.js","assets/e93bb9a8-fzyxlqp64tkla9fu.js","assets/b9c7efd0-fm9cyteiaj1kmofx.js","assets/c60851bc-kol2dtp32h6sskpp.js","assets/2a253352-pfprthnol1iyrkd6.js","assets/fb8ee25e-bwp0mhev5mvav418.js","assets/f3cf3a1c-bwdwd74zmegtec6r.js","assets/74c10991-h4plwmvb95mk8bgy.js","assets/10c70c5b-hzrd94403u94qs84.js","assets/22bcb108-fdwwrv8tl3p7qrb2.js","assets/b2d95b3c-k1ny2082tzu3yn9l.js"])))=>i.map(i=>d[i]);
var Ao=Object.defineProperty,Do=Object.defineProperties;var xo=Object.getOwnPropertyDescriptors;var eo=Object.getOwnPropertySymbols;var No=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable;var oo=(o,e,t)=>e in o?Ao(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,L=(o,e)=>{for(var t in e||(e={}))No.call(e,t)&&oo(o,t,e[t]);if(eo)for(var t of eo(e))Po.call(e,t)&&oo(o,t,e[t]);return o},$=(o,e)=>Do(o,xo(e));import{c as ue,h as Lo,r as M,j as r,M as q,d as lo,_ as u,n as Io,m as Eo,b as Wo}from"./2340486e-n0khdanno9uzbccp.js";import{di as Ro,dj as To,w as Bo,gI as Uo,gJ as jo,gK as Vo,f_ as Fo,gL as Go,gM as Ho,cQ as $o,gN as qo,gO as zo,gP as Ko,gQ as Qo,dC as Jo,dB as Xo,gR as Yo,gS as Zo,dF as et,gT as ot,gU as tt,gV as st,dA as at,gW as nt,gX as it,gY as rt,gZ as lt,g_ as ct,g$ as dt,h0 as ut,h1 as mt,h2 as pt,h3 as ht,h4 as _t,h5 as gt,h6 as ft,h7 as Mt,h8 as bt,h9 as St,ha as kt,hb as yt,hc as vt,hd as Ct,he as wt,hf as Ot,hg as At,hh as Dt,hi as xt,aX as Nt,cL as to,dE as Pt,dD as so}from"./1a7ebd5f-ihenykhpblfwilpu.js";import{W as Lt}from"./ff3e4ba2-c0xq100jmjeb1o5i.js";import{u as It}from"./ac5dd3e8-pe3gotr981ye4uf4.js";import{t as Et,k as oe,K as le,L as ce,l as de,de as co,v as Wt,ev as K,am as ne,J as uo,bp as m,H as ee,W as mo,sC as Rt,sz as Tt,ej as Bt,hf as Ut,hC as jt,be as Vt,dd as Ft,m as Gt,sZ as Ht,tC as $t,b as qt,aF as zt,tD as Kt,tE as Qt,tF as Jt,ap as ie,ao,P as Xt,aU as Yt,aV as Zt,tG as re,c$ as es}from"./4813494d-di0bpg5zidu9s57f.js";import{a as no,f as os,e as ts,g as ss}from"./84e8f385-egf9uxe7ipj6bm36.js";const z=lo({title:{id:"workspaceDiscovery.renamePromptModal.title",defaultMessage:"Update your workspace display name"},laterCta:{id:"workspaceDiscovery.renamePromptModal.laterCta",defaultMessage:"Update later"},setToWorkspaceNameCta:{id:"workspaceDiscovery.renamePromptModal.setToWorkspaceNameCta",defaultMessage:"Set to {name}"},setCustomDisplayNameCta:{id:"workspaceDiscovery.renamePromptModal.setCustomDisplayNameCta",defaultMessage:"Set a custom display name"},description:{id:"workspaceDiscovery.renamePromptModal.description",defaultMessage:"To help teammates find your workspace, set the display name to {recommendedName} (or set a custom one in settings). The current display name is <b>{currentName}</b>."}}),io={dismissedAt:0,shownCount:0},po=o=>{if(!o)return io;try{const e=JSON.parse(o);return{dismissedAt:Number(e.dismissedAt)||0,shownCount:Number(e.shownCount)||0}}catch(e){return io}},as=5,ho=()=>{"use forget";var N;const o=ue.c(5),e=Et();let t;o[0]!==e?(t=e==null?void 0:e.getWorkspaceId(),o[0]=e,o[1]=t):t=o[1];const h=t,n=oe(is),p=n!=null?Ro(n.role)||To(n.role):void 0,_=po(le.getItem(ce.WorkspaceDiscoveryRenamePromptInfo)),S=Date.now()>_.dismissedAt+864e5,l=_.shownCount<as,c=de("1053331630"),D=p&&c&&S&&l&&!!h,{data:i,isLoading:g}=co(D?h:void 0),k=!!(i!=null&&i.support_workspace_discovery),G=!!(i!=null&&i.workspace_discoverable),x=(i==null?void 0:i.use_workspace_name_for_discovery)===!0,B=(x?"":(N=i==null?void 0:i.public_display_name)!=null?N:"").includes("Workspace #");if(!(k&&D&&!g&&G&&!x&&B)){let w;return o[2]!==g?(w={isOpen:!1,isLoading:g},o[2]=g,o[3]=w):w=o[3],w}let b;return o[4]===Symbol.for("react.memo_cache_sentinel")?(b={isOpen:!0,isLoading:!1},o[4]=b):b=o[4],b},ns=o=>{"use forget";const e=ue.c(5),{onClose:t}=o;let h;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const c=Wt();h=c==null?void 0:c.getWorkspaceId(),e[0]=h}else h=e[0];const n=h,p=It(),{data:_,isPending:S}=co(n);if(!n||S||!_)return null;let l;return e[1]!==t||e[2]!==_||e[3]!==p?(l=r.jsx(_o,{onClose:t,workspaceId:n,settings:_,workspaceName:p}),e[1]=t,e[2]=_,e[3]=p,e[4]=l):l=e[4],l},_o=o=>{"use forget";var Q;const e=ue.c(39),{onClose:t,workspaceId:h,settings:n,workspaceName:p}=o,_=Lo();let S;e[0]!==t?(S=()=>{K("chatgpt_workspace_discovery_rename_prompt_modal_closed"),t()},e[0]=t,e[1]=S):S=e[1];const l=S;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=po(le.getItem(ce.WorkspaceDiscoveryRenamePromptInfo)),e[2]=c):c=e[2];const D=c,{mutateAsync:i,isPending:g}=Bo(h),k=!!(n!=null&&n.workspace_discoverable),x=(n==null?void 0:n.use_workspace_name_for_discovery)===!0?"":(Q=n==null?void 0:n.public_display_name)!=null?Q:"";let I;e[3]===Symbol.for("react.memo_cache_sentinel")?(I=()=>{le.setItem(ce.WorkspaceDiscoveryRenamePromptInfo,JSON.stringify({dismissedAt:Date.now(),shownCount:D.shownCount+1}))},e[3]=I):I=e[3];const B=I;let E;e[4]!==l?(E=()=>{K("chatgpt_workspace_discovery_rename_prompt_modal_dismiss_clicked"),B(),l()},e[4]=l,e[5]=E):E=e[5];const b=E;let N;e[6]!==l||e[7]!==g||e[8]!==i||e[9]!==k?(N=async()=>{g||(K("chatgpt_workspace_discovery_rename_prompt_modal_save_clicked"),await i({value:k,public_display_name:null,use_workspace_name_for_discovery:!0,action:"name"}),l())},e[6]=l,e[7]=g,e[8]=i,e[9]=k,e[10]=N):N=e[10];const w=N;let P;e[11]!==l||e[12]!==_?(P=()=>{K("chatgpt_workspace_discovery_rename_prompt_modal_dismiss_clicked"),B(),l(),_("/admin/identity#".concat(Lt))},e[11]=l,e[12]=_,e[13]=P):P=e[13];const W=P;let U;e[14]===Symbol.for("react.memo_cache_sentinel")?(U=[],e[14]=U):U=e[14],M.useEffect(rs,U);let O;e[15]!==p?(O=r.jsx(q,$(L({},z.setToWorkspaceNameCta),{values:{name:p}})),e[15]=p,e[16]=O):O=e[16];let A;e[17]!==w||e[18]!==g||e[19]!==O?(A=r.jsx(ne,{className:"py-4",type:"button",fullWidth:!0,onClick:w,loading:g,children:O}),e[17]=w,e[18]=g,e[19]=O,e[20]=A):A=e[20];let a;e[21]===Symbol.for("react.memo_cache_sentinel")?(a=r.jsx(q,L({},z.setCustomDisplayNameCta)),e[21]=a):a=e[21];let y;e[22]!==W?(y=r.jsx(ne,{className:"py-4",type:"button",color:"secondary",fullWidth:!0,onClick:W,children:a}),e[22]=W,e[23]=y):y=e[23];let R;e[24]===Symbol.for("react.memo_cache_sentinel")?(R=r.jsx("span",{className:"underline underline-offset-2",children:r.jsx(q,L({},z.laterCta))}),e[24]=R):R=e[24];let d;e[25]!==b?(d=r.jsx(ne,{className:"py-4",type:"button",color:"ghost",fullWidth:!0,onClick:b,children:R}),e[25]=b,e[26]=d):d=e[26];let f;e[27]!==y||e[28]!==d||e[29]!==A?(f=r.jsxs("div",{className:"mt-8 flex w-full flex-col gap-3",children:[A,y,d]}),e[27]=y,e[28]=d,e[29]=A,e[30]=f):f=e[30];let T;e[31]===Symbol.for("react.memo_cache_sentinel")?(T=r.jsx("div",{className:"mb-4 w-full text-center text-xl",children:r.jsx(q,L({},z.title))}),e[31]=T):T=e[31];let v;e[32]!==x||e[33]!==p?(v=r.jsx("div",{className:"text-token-text-secondary text-center",children:r.jsx(q,$(L({},z.description),{values:{b:ls,currentName:x,recommendedName:p}}))}),e[32]=x,e[33]=p,e[34]=v):v=e[34];let j;return e[35]!==b||e[36]!==f||e[37]!==v?(j=r.jsxs(uo,{isOpen:!0,onClose:b,contentClassName:"px-10 py-8",shouldIgnoreClickOutside:!0,size:"custom",className:"max-w-lg",testId:"modal-workspace-discovery-rename-prompt",textCenter:!0,footerContent:f,children:[T,v]}),e[35]=b,e[36]=f,e[37]=v,e[38]=j):j=e[38],j};function is(o){return o.currentWorkspace}function rs(){K("chatgpt_workspace_discovery_rename_prompt_modal_shown")}function ls(o){return r.jsx("b",{children:o})}const cs=Object.freeze(Object.defineProperty({__proto__:null,WorkspaceDiscoveryRenamePromptModal:ns,WorkspaceDiscoveryRenamePromptModalImpl:_o,useWorkspaceDiscoveryRenamePromptModal:ho},Symbol.toStringTag,{value:"Module"})),ds=m(()=>u(()=>Promise.resolve().then(()=>cs),void 0).then(o=>o.WorkspaceDiscoveryRenamePromptModal)),us=m(()=>u(()=>import("./880deb74-b2j09xngu0ub98zx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(o=>o.default)),go=m(()=>u(()=>import("./e19d9367-hjerg984x6xr8atp.js"),__vite__mapDeps([9,1,10,2,3,4,5,11,7,8])).then(o=>o.default)),ms=m(()=>u(()=>import("./966a52d3-jhcp4mbjn6utnb5l.js"),__vite__mapDeps([12,1,2,3,4,5])).then(o=>o.InvalidAccountsModal)),ps=m(()=>u(()=>import("./d0a1b430-n3sfad8zfi3v2xaz.js"),__vite__mapDeps([13,1,2,3,4,5,14,15]))),hs=m(()=>u(()=>import("./78b1627b-t98elwdgu7r434xk.js"),__vite__mapDeps([16,1,2,3,4,5,14,15]))),_s=m(()=>u(()=>import("./97f2f6d8-d6bu20m5yeb3cn34.js"),__vite__mapDeps([17,1,2,3,4,5])).then(o=>o.RequestWorkspaceAccessModal)),gs=m(()=>u(()=>import("./1a7ebd5f-ihenykhpblfwilpu.js").then(o=>o.FU),__vite__mapDeps([4,1,2,3,5])).then(o=>o.ConnectorsReconnectModal)),fs=m(()=>u(()=>import("./80aa9bec-mr24hlixvs86lnux.js"),__vite__mapDeps([18,1,2,3,4,5])).then(o=>o.MeetChatGptModal)),Ms=m(()=>u(()=>import("./1a7ebd5f-ihenykhpblfwilpu.js").then(o=>o.FX),__vite__mapDeps([4,1,2,3,5])).then(o=>o.NoAuthSoftRateLimitModal)),bs=m(()=>u(()=>import("./273e0e30-l8rvtrdkuptehr30.js"),__vite__mapDeps([19,1,2,3,4,5])).then(o=>o.PunchOutAnonToAuthedModal)),Ss=m(()=>u(()=>import("./e93bb9a8-fzyxlqp64tkla9fu.js"),__vite__mapDeps([20,1,2,3,4,5])).then(o=>o.PunchOutSignInAsModal)),ks=m(()=>u(()=>import("./b9c7efd0-fm9cyteiaj1kmofx.js"),__vite__mapDeps([21,1,4,2,3,5,22,7,8])).then(o=>o.default)),ys=m(()=>u(()=>import("./2a253352-pfprthnol1iyrkd6.js"),__vite__mapDeps([23,1,7,2,3,4,5,8,24])).then(o=>o.DesktopBlockingModal)),vs=m(()=>u(()=>import("./f3cf3a1c-bwdwd74zmegtec6r.js"),__vite__mapDeps([25,1,2,3,4,5])).then(o=>o.DesktopOnboardingModal)),Cs=m(()=>u(()=>import("./74c10991-h4plwmvb95mk8bgy.js"),__vite__mapDeps([26,1,2,3,4,5,27,28])).then(o=>o.CodexArticFoxModal)),ws=m(()=>u(()=>import("./b2d95b3c-k1ny2082tzu3yn9l.js"),__vite__mapDeps([29,1,2,3,4,5,27])).then(o=>o.CodexOnboardingModal)),Os=({onClose:o})=>{const e=Wo(),t=oe(mo.isBusinessWorkspace),h=oe(p=>p.currentWorkspace),n=t?e.formatMessage(ro.workspaceWelcome,{workspaceName:h==null?void 0:h.name}):"ChatGPT";return r.jsx(uo,{testId:"modal-onboarding",isOpen:!0,onClose:es,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:e.formatMessage(ro.personalOnboardingSubheading),children:r.jsx(Pt,{onClose:o,scope:t?so.Workspace:so.Personal})})};function As(o){return r.jsx(go,$(L({},o),{mode:"blocking",section:"both",source:"first_login"}))}function Ds(o){return r.jsx(go,$(L({},o),{mode:"blocking",section:"existing",source:"should_select_workspace"}))}function Rs({clientThreadId:o,page:e,isIosDirectPurchaseFlow:t}){const h=Vt(),[n]=Io(),p=t!=null?t:n.get("from_webview")==="ios",[_,S]=M.useState(0),l=ee("109457"),{hasSeenOnboardingDate:c}=Uo(),D=c===!1&&l.get("is_new_user_banner_disclaimer_enabled",!1),{hasSeenWorkspaceDiscoveryFirstLoginDate:i}=jo(),{hasSeenTeamOwnerOnboardingDate:g}=Vo(),k=oe(mo.isBusinessWorkspace);M.useEffect(()=>{ee("2128165686").get("noop_expose")},[]);const{isOpen:G,isLoading:x}=no(),[I,B]=M.useState(!1),{data:E,isPending:b,isEnabled:N}=Fo(),w=Go(E,b&&N),P=Rt(),W=Tt(),[U,O]=Bt(o,s=>[!s||s.isLoading,s==null?void 0:s.conversationOrigin]),A=U&&!!o,{data:a,isError:y,error:R}=Ut(),d=jt(a),f=a!=null,T=Ho(15),[v,j]=M.useState(!1);M.useEffect(()=>{T&&!v&&j(!0)},[T,v]);const{shouldShowModal:Q,isLoading:fo}=$o(h),me=fo?"loading":Q?"show":"hide",pe=qo(),he=zo(),te=Ft(),_e=(te==null?void 0:te.email_domain_type)==="professional",Mo=!!(a!=null&&a.accountItems.some(s=>s.isEnterprisey())),J=_e&&!Mo&&ee("3217430380").get("enable_workspace_discovery",!1),bo=!!(_e&&i===!1&&J&&v),{data:X,isLoading:ge}=Ko(bo),fe=!!(a&&(a==null?void 0:a.accountItems.length)>1&&a.currentAccountId==null),Me=a==null?void 0:a.accountItems.some(s=>s.isPersonalAccount()),se=!!(a!=null&&a.accountItems)&&a.accountItems.length>0&&a.accountItems.every(({canAccessWithCurrentSession:s})=>!s),be=R instanceof Gt&&R.code===Ht.RequireSSOLogin,Se=de("1850822377"),{eligible:ke,isLoading:ye}=Qo(),ve=de("1542198993"),{punchOutRequireLoginInfo:Ce}=Jo(),{state:we}=Xo(),{isOpen:Oe}=Yo(),{isOpen:Ae,isLoading:De}=ho(),{isOpen:xe}=Zo(),So=et(),{isOpen:Ne,isLoading:Pe}=So,{isOpen:Le,isLoading:Ie}=ot(),{isOpen:Ee,isLoading:We}=tt(),{isOpen:Re}=st(),{isOpen:Te}=$t(),{state:Be}=at(),Ue=nt(),je=it(),Ve=rt(),Fe=lt(),Ge=ct(),He=dt(),$e=ut(),{isOpen:qe}=mt(),{isOpen:ko}=no(),{isOpen:yo}=os(),{isOpen:vo}=ts(),{isOpen:ze,open:Ke}=ss(),[Qe,Je]=qt(()=>[zt(),Kt()]);M.useEffect(()=>{D&&!k&&!ze&&Ke()},[D,k,ze,Ke]);const H=M.useMemo(()=>[{Component:Ss,visibility:["chat","codex"],getModalState:()=>Ce?"show":"hide",isDeferrable:!1,id:"punch_out_sign_in_as_modal"},{Component:bs,visibility:["chat","codex"],getModalState:()=>we,isDeferrable:!1,id:"punch_out_anon_to_authed_modal"},{Component:fs,visibility:["chat"],getModalState:()=>Be,isDeferrable:!1,id:"meet_chatgpt_modal"},{Component:pt,visibility:["chat","codex"],getModalState:()=>$e,isDeferrable:!1,id:"subscription_failure_modal"},{Component:ds,visibility:["chat","codex"],getModalState:()=>De?"loading":Ae?"show":"hide",isDeferrable:!1,id:"workspace_discovery_rename_prompt_modal"},{Component:As,visibility:["chat","codex"],getModalState:()=>{var C,F;return!J||P!=null||i||y?"hide":i==null||ge?"loading":((F=(C=X==null?void 0:X.workspaces)==null?void 0:C.length)!=null?F:0)>0&&v?"show":"hide"},isDeferrable:!1,id:"fullscreen_switcher_both"},{Component:J?Ds:us,visibility:["chat","codex"],getModalState:()=>P!=null||y?"hide":f?fe?"show":"hide":"loading",isDeferrable:!1,id:"workspace_switcher_modal"},{Component:gs,visibility:["chat"],getModalState:()=>me,isDeferrable:!1,id:"connector_reconnect_modal"},{Component:ws,visibility:["codex"],getModalState:()=>pe,isDeferrable:!1,id:"codex_onboarding_modal"},{Component:Cs,visibility:["codex"],getModalState:()=>he,isDeferrable:!1,id:"codex_articFox_modal"},{Component:ht,visibility:["chat"],getModalState:()=>qe?"show":"hide",isDeferrable:!1,id:"noauth_promo_redemption_modal"},{Component:_t,visibility:["chat"],getModalState:()=>Oe?"show":"hide",isDeferrable:!1,id:"noauth_plan_upsell_modal"},{Component:gt,visibility:["chat"],getModalState:()=>Ue,isDeferrable:!0,id:"noauth_imagegen_nux_modal"},{Component:Ms,visibility:["chat"],getModalState:()=>A?"loading":O===re.APPLE?"hide":xe&&ee("2118136551").get("is_soft_rate_limit_modal_enabled",!0)?"show":"hide",isDeferrable:!0,id:"noauth_soft_rate_limit_modal"},{Component:Qt,visibility:["chat"],getModalState:()=>A?"loading":O===re.APPLE?"hide":Te?"show":"hide",isDeferrable:!0,id:"noauth_login_modal"},{Component:ft,visibility:["chat"],getModalState:()=>A?"loading":O===re.APPLE?"hide":Re?"show":"hide",isDeferrable:!0,id:"noauth_welcome_back_modal"},{Component:Mt,visibility:["chat","codex"],getModalState:()=>Je?"loading":Qe?"show":"hide",isDeferrable:!1,id:"cookie_consent_banner_tracker"},{Component:Os,visibility:["chat"],getModalState:()=>k||D?"hide":c===null?"loading":c===!1?"show":"hide",isDeferrable:!0,id:"onboarding_modal"},{Component:_s,visibility:["chat","codex"],getModalState:()=>P!==null?"show":y||f?"hide":"loading",isDeferrable:!1,id:"request_workspace_access_modal"},{Component:ps,visibility:["chat","codex"],getModalState:()=>W!=null?"show":y||f?"hide":"loading",isDeferrable:!1,id:"account_transfer_modal"},{Component:ms,visibility:["chat","codex"],getModalState:()=>Se&&be?"show":f?se?"show":"hide":"loading",isDeferrable:!1,id:"invalid_accounts_modal"},{Component:ys,visibility:["chat","codex"],getModalState:()=>Pe?"loading":Ne?"show":"hide",isDeferrable:!1,id:"desktop_blocking_modal"},{Component:vs,visibility:["chat","codex"],getModalState:()=>Ie?"loading":Le?"show":"hide",isDeferrable:!1,id:"desktop_onboarding_modal"},{Component:bt,visibility:["chat","codex"],getModalState:()=>"hide",isDeferrable:!1,id:"authed_cookie_consent_banner"},{Component:hs,visibility:["chat","codex"],getModalState:()=>!(d!=null&&d.isSelfServeBusiness())||!(d!=null&&d.isOwnerOfAccount())||!Me||d!=null&&d.startedAsFreeWorkspace?"hide":!f||g===null?"loading":g===!1?"show":"hide",isDeferrable:!1,id:"team_account_transfer_modal"},{Component:St,visibility:["chat"],getModalState:()=>k?We?"loading":Ee?"show":"hide":"hide",isDeferrable:!1,id:"workspace_policy_modal"},{Component:ks,visibility:["chat","codex"],getModalState:()=>!k||!x&&G?"hide":c===null?"loading":c===!1?"show":"hide",isDeferrable:!0,id:"workspace_onboarding_modal"},{Component:kt,visibility:["chat"],getModalState:()=>ye?"loading":ke&&ve?"show":"hide",isDeferrable:!1,id:"memory_onboarding_modal"},{Component:yt,visibility:["chat","codex"],getModalState:()=>w,isDeferrable:!1,id:"age_verification_interstitial"},{Component:vt,visibility:["chat"],getModalState:()=>Ve,isDeferrable:!1,id:"hubspot_app_migration_nux_modal"},{Component:Ct,visibility:["chat"],getModalState:()=>je,isDeferrable:!1,id:"google_connectors_nux_modal"},{Component:wt,visibility:["chat"],getModalState:()=>Ge,isDeferrable:!0,id:"golden_hour_nux_modal"},{Component:Ot,visibility:["chat"],getModalState:()=>Fe,isDeferrable:!0,id:"moonshine_nux_v2_modal"},{Component:At,visibility:["chat"],getModalState:()=>He,isDeferrable:!0,id:"no_auth_modal"}].filter(C=>C.visibility.includes(e)),[e,Ce,we,Be,qe,Ue,De,Ae,A,O,xe,Oe,Re,Je,Qe,k,D,c,i,y,X,ge,fe,f,P,W,se,Pe,Ne,Ie,Le,d,Me,g,We,Ee,ye,ke,ve,J,w,Ve,je,Fe,pe,he,v,Te,Ge,x,G,He,$e,me,be,Se]),Co=I,wo=M.useMemo(()=>H.findIndex(s=>s.id==="account_transfer_modal"),[H]);M.useEffect(()=>{},[W,wo,_]);function Xe(s){if(s!=null)return s.isDeferrable&&Co?"hide":s.Component?s.getModalState():"hide"}const V=H[_],Y=Xe(V);Y==="hide"&&S((()=>{let C=_+1;for(;C<H.length;C++)if(Xe(H[C])!=="hide")return C;return C})());const{pathname:Z}=Eo(),Ye=M.useRef(Z);M.useEffect(()=>{Ye.current!==Z&&(Ye.current=Z,S(0))},[Z]),M.useEffect(()=>{const s=Y==="show",F=Jt().getState().activeModals.has(ie.BlockingInitialComponent);s!==F&&(s?ao.openModal(ie.BlockingInitialComponent):ao.closeModal(ie.BlockingInitialComponent))},[Y]);const ae=Y!=="show"||ko||yo||vo||p,Ze=Dt(()=>{Xt.logUpsellOrModalEvent(Yt,{eventId:V.id,type:Zt.UPSELL_OR_MODAL_TYPE_BLOCKING_INITIAL_MODAL})});if(M.useEffect(()=>{if(V==null){xt.set(!0);return}ae||(Ze(),Nt.dismiss())},[V,ae,Ze]),V==null)return to.trackNamespace(to.NS_COMPOSER),r.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});if(ae)return null;const Oo=V.Component;return r.jsx(Oo,{onClose:()=>{B(!0),S(s=>s+1)}})}const ro=lo({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});export{Rs as B};
//# sourceMappingURL=52022a5f-b0b6hj37g1isfnav.js.map
