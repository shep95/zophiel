const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/6b630373-2jzwiexvfug90jgv.js","assets/2340486e-n0khdanno9uzbccp.js","assets/4813494d-di0bpg5zidu9s57f.js","assets/root-jvstnck2.css","assets/1a7ebd5f-ihenykhpblfwilpu.js","assets/conversation-small-dnpfu486.css","assets/1de975ca-opfq6f6nav5b4m2m.js","assets/3d954627-i5m9aq5l5oa0dgq7.js","assets/e53d9171-ghyc9p1q3iids0iy.js","assets/17a4a3eb-kwqy8y9l1juxuewg.js","assets/89648772-euq7ybw4dhrsufo2.js","assets/1bc04b52-k87pnixdylp2ksh8.js","assets/5ff8b827-h7ls1sehi3phydxz.js","assets/bc18f706-ggmfm6vsm8xfjh2h.js","assets/1bc04b52-b4wr9duki6wfcq7j.js","assets/e6465fe8-b55uck95t0ahph2h.js","assets/1bc04b52-kjqi8i9f3vubqnfc.js","assets/1bc04b52-hu1bt0oauegdhua6.js","assets/1bc04b52-h1em0bjkpkjv8ykw.js","assets/1bc04b52-ejh0m4idynv2xgp8.js","assets/1bc04b52-hylmuees1tuxf0o2.js","assets/1bc04b52-fhkffvy342us9wxq.js","assets/1bc04b52-e722cq7x70uf2ela.js","assets/1bc04b52-gl5z8d62n822jb7m.js","assets/1bc04b52-c7rotu5a6tp3ci80.js","assets/1bc04b52-lv4tv9an6ktv3l0s.js"])))=>i.map(i=>d[i]);
var $a=Object.defineProperty,Oa=Object.defineProperties;var Ha=Object.getOwnPropertyDescriptors;var Xn=Object.getOwnPropertySymbols;var Fa=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable;var Zn=(s,e,t)=>e in s?$a(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,fe=(s,e)=>{for(var t in e||(e={}))Fa.call(e,t)&&Zn(s,t,e[t]);if(Xn)for(var t of Xn(e))La.call(e,t)&&Zn(s,t,e[t]);return s},Ye=(s,e)=>Oa(s,Ha(e));import{v as Qt,r as b,c as be,h as Js,j as n,e as In,m as Pn,d as En,M as St,b as zt,n as xo,_ as Xs,H as Ba}from"./2340486e-n0khdanno9uzbccp.js";import{mI as jn,b as P,kD as Be,or as bo,eH as Gs,ff as Nn,v as Es,lc as _o,mj as Zs,i6 as ys,lw as Da,eG as vo,d as xs,nt as Wa,dm as en,cB as ks,BC as Co,mJ as To,cX as wo,aO as za,lv as Ao,H as yt,az as ko,ef as Us,eS as eo,l as nt,oj as Ga,cO as Pt,du as to,ej as jt,oG as Ua,dA as hs,dJ as ps,dy as qt,fv as Mo,ia as Io,BD as Va,al as yn,fD as so,dz as qa,qv as Ya,e7 as Ka,gn as Qa,f as Rn,aS as ws,aT as As,P as Kt,eK as Ja,dq as Ke,rR as $n,bf as _s,h as Re,mn as vs,hW as Xt,aW as Et,ds as Po,bh as It,lY as Xa,e$ as Za,ao as tn,rM as ei,ge as ti,cw as Eo,aM as Ws,aN as Cs,fd as si,t as jo,aL as ni,aK as No,fe as oi,ag as gs,ah as Ss,l1 as Ro,oK as ai,A_ as ii,AZ as ri,T as $o,nZ as li,mz as Oo,fs as no,j8 as ci,j7 as di,j6 as ui,bE as mi,bu as fi,bd as pi,be as On,L as hi,i4 as xn,o0 as oo,jO as gi,lo as Si,au as Hn,R as Ms,A as bn,dd as yi,qV as Ho,B2 as xi,wF as bi,qW as Fn,J as _i,am as ln,lP as Fo,jw as vi,kU as Ci,kQ as Ti,od as wi,gr as zs,kT as Ai,e9 as ki,nB as Mi,dW as Ii,jH as Pi,dI as Ei,aC as Jt,hT as Lo,w6 as ao,uy as io,gM as ji,BE as Ni,yZ as cn,qz as Ri,dR as $i,C as Bo,aD as Oi,bp as sn,BF as Hi,f6 as Do,j as Fi,cL as Li,no as Bi,ga as Di,gf as Wi,cQ as Ln,n4 as zi,Bo as Gi,BG as Ui,bo as Vi,by as qi,hp as Vs,gK as qs,oR as Bn,gB as nn,BH as Yi,Aa as Ki,e_ as _n,bj as Qi,gj as Ji,bC as Xi,nf as Zi,bG as er,wB as tr,pa as sr,BI as nr,h1 as Wo,e as zo,kA as vn,e8 as Go,hk as Uo,li as Vo,cR as qo,ox as Yo,g4 as Ys,dk as dn,ik as or,n6 as Ko,g9 as Qo,rS as Jo,oL as Xo,bi as Zo,gg as ea,ev as ar,ak as ir,gp as rr,BJ as lr,BK as cr,qX as dr,i as ur,qU as ro,tG as mr,lq as fr,g as pr,en as hr}from"./4813494d-di0bpg5zidu9s57f.js";import{zu as gr,bW as on,zv as Sr,zw as yr,wd as Dn,P as Ne,zx as xr,zy as br,lG as _r,dd as vr,zz as Cr,lI as Tr,zA as wr,zB as Ar,zC as kr,zD as Mr,b3 as Ir,zE as Pr,zF as Er,l3 as jr,i as lo,aW as Nr,aY as co,zG as Rr,a$ as $r,g as Or,zH as Hr,zI as Fr,zJ as Lr,l as ta,A as Cn,zK as Br,jz as sa,t as uo,zL as Dr,dx as Wr,zM as zr,zN as Gr,yw as Ur,ju as Wn,d1 as Vr,jv as na,jx as qr,jy as Ds,zO as Yr,zP as Kr,zQ as Ae,zR as Qr,zS as Jr,jB as Xr,zT as Zr,jw as el,zU as mo,d5 as tl,wy as zn,zV as sl,kc as nl,pG as ol,tz as al,wE as il,wA as rl,o_ as ll,wF as oa,wx as cl,zW as dl,zX as ul,jg as fo,pN as ml,zY as aa,au as bs,yE as ia,zZ as fl,yu as pl,eK as Is,yv as hl,oY as gl,z_ as Sl,dK as yl,z$ as Ks,la as xl,gl as Yt,A0 as js,A1 as bl,A2 as _l,A3 as vl,lv as ra,A4 as Cl,vC as Gn,a5 as Un,A5 as Tl,xO as wl,va as Vn,A6 as Al,A7 as kl,at as Tn,eM as wn,np as la,e5 as Ps,tN as ca,vr as Qs,tL as da,tM as Ml,A8 as Il,uM as Pl,A9 as ua,zb as ma,z9 as fa,Aa as El,Ab as jl,yQ as Nl,Ac as Rl,Ad as $l,Ae as pa,Af as Ol,Ag as Hl,Ah as Fl,js as Ll,qf as Bl,eI as Dl,o as Wl,jr as zl,Ai as Gl,Aj as Ul,f2 as ha,Ak as ga,jW as Sa,aQ as An,pJ as Vl,Al as ql,Am as Yl,An as Kl,Ao as Ql,Ap as Jl,Aq as Xl,Ar as Zl,As as ec,At as ya,wS as tc,Au as sc,Av as nc,hZ as qn,e8 as xa,fA as ba,j2 as oc,Aw as ac,Ax as ic,Ay as rc,Az as lc,AA as cc,AB as dc,AC as uc,AD as mc,iS as fc,dP as pc,xJ as hc,nI as gc,AE as Sc,AF as yc,AG as xc,AH as bc,AI as _c,wD as vc,kn as Cc,AJ as Tc,a3 as wc,AK as Ac,AL as kc,AM as Mc,jp as Ic,AN as Pc,AO as Ec,AP as jc,xM as Nc,AQ as Rc,AR as $c,AS as Oc,e6 as Hc,xa as Fc,cC as Lc,AT as Bc,AU as Dc,AV as Wc,AW as zc,e7 as Gc}from"./1a7ebd5f-ihenykhpblfwilpu.js";import{u as an}from"./4b9386ba-i47pf4ceaol018kk.js";import{a as Uc,b as Vc,r as Yn}from"./b81d67c1-g85xaexv7seu9n1r.js";import{d as qc}from"./9bee0952-fxdbwwdrjo8v2f2i.js";import{a as Yc}from"./5ff05818-e7r3fm69vd2e8mby.js";import{a as _a}from"./84e8f385-egf9uxe7ipj6bm36.js";import{m as Kc,c as Qc,a as Jc,b as Xc}from"./8a0ea239-k5nzxb1mwtc1km4s.js";import{p as Zc}from"./52878ea3-ioe7kiws6mdf258w.js";import{c as va,d as ed,e as td,N as kn,a as Ca,t as sd}from"./2c05f96f-jzs5r5qu5ml7dypp.js";import{S as nd,M as od,c as Ta,b as wa,p as ad,P as id,d as rd,D as ld}from"./e21b3b3f-20f2eud26zbq9d5f.js";import{P as Aa}from"./97587f90-ob9hx1q3ilf6g3xt.js";import{u as cd}from"./1bc04b52-h3moqxxwumotj8ui.js";import{a as dd}from"./db62250d-eyec17b70eqxu45z.js";import{C as ud,a as md,T as fd}from"./dbb95ee5-knopp20nqsg0pkxa.js";const po="default_agent_suggestion",pd=[{reason:"Default suggestion",action_type:"chat",id:Qt(),title:"Summarize",message:"Summarize this content"},{reason:"Default suggestion",action_type:"chat",id:Qt(),title:"Learn more",message:"Find related information and links to this content",system_hint:"search"},{reason:"Default suggestion",action_type:"chat",id:Qt(),title:"What can I do here?",message:"Suggest useful actions for this content"}],hd=new Set(["search","reason","research","hippo","picture_v2","canvas","agent","tatertot"]);function gd(s){var e,t,o,i;if("chat"in s.payload){const a=(e=s.payload.chat.systemHints)==null?void 0:e[0],r=a?Zs(String(a)):void 0,c=r&&hd.has(r)?r:void 0;return fe({reason:"Client-provided suggestion",action_type:"chat",id:s.identifier,run_id:(t=s.runIdentifier)!=null?t:void 0,title:s.title,message:s.payload.chat.prompt},c?{system_hint:c}:{})}return{reason:"Client-provided suggestion",action_type:"navigation",id:s.identifier,run_id:(o=s.runIdentifier)!=null?o:void 0,title:s.title,url:s.payload.navigation.url,subtitle:(i=s.payload.navigation.subtitle)!=null?i:""}}function Sd(s){var o,i;let e="";switch(s.action_type){case"chat":e=s.message;break;case"navigation":e=s.title;break}const t=s.action_type==="chat"&&s.system_hint?Zs(String(s.system_hint)):void 0;return{type:Ne.Starter,title:(o=s.title)!=null?o:"",body:"",prompt:String(e!=null?e:""),id:(i=s.id)!=null?i:void 0,data:fe({},t?{system_hint:t}:{})}}function yd({hiddenOrBlockedArg:s}){"use no forget";var se,V,re;const e=jn(),t=P(Be.contextCollection$),o=P(Be.activeTabContextItemIds$),i=P(Be.context$),a=e?bo(t,o):i,r=P(Be.suggestedActionsEnvelope$),c=a==null?void 0:a.url,g=a==null?void 0:a.title,l=b.useMemo(()=>s==="hidden"?{kind:"hidden"}:s==="blocked"?{kind:"blocked"}:r!=null?{kind:"client"}:{kind:"server"},[s,r]),{data:m,isLoading:u}=gr({url:c,title:g,isBlocked:l.kind!=="server"}),f=an(),p=Gs.useStore(),{activeSystemHintType:h,activeConnectorSystemTypes:d}=Gs.useState($=>({activeSystemHintType:$.activeSystemHintType,activeConnectorSystemTypes:$.activeConnectorSystemTypes})),{store:S}=on(),_=b.useRef(void 0),v=b.useRef(void 0),[C,y]=b.useState(null);b.useEffect(()=>{let $=!1;async function H(){if(a&&a.url&&a.title){const D=await _o(a,Dn,"user");$||y(D)}}return H(),()=>{$=!0}},[a]),b.useEffect(()=>{if(l.kind!=="server"){_.current=void 0;return}m&&(_.current=m)},[m,l.kind]),b.useEffect(()=>{if(l.kind!=="client"){v.current=void 0;return}(r==null?void 0:r.actions)!=null&&(v.current=r.actions)},[l.kind,r]);const x=!a||!a.url||!a.title,T=l.kind==="server"?m!=null?m:_.current:void 0,w=T!==void 0,M=l.kind==="client"?(se=r==null?void 0:r.actions)!=null?se:v.current:void 0,j=M!=null,E=l.kind==="server"?!w&&(u||x)||!C:l.kind==="client"?!C||!j:!1,A=b.useMemo(()=>{var R;const $=new Set;h&&$.add(h);for(const B of d)$.add(B);const H=$.size>0,D=B=>{if(!H)return!0;if(B.action_type!=="chat"||!B.system_hint)return!1;const Q=Zs(B.system_hint);return Q?$.has(Q):!1},K=3,F=B=>{if(H)return B.filter(ae=>ae.id===po?!1:D(ae)).slice(0,K);const Q=B.slice(0,K);return Q.length>0?Q:pd.slice(0,K)};switch(l.kind){case"hidden":case"blocked":return[];case"client":{const B=Array.isArray(M)?M.map(gd):[];return F(B)}case"server":return F((R=T==null?void 0:T.actions)!=null?R:[])}},[d,h,l.kind,T==null?void 0:T.actions,M]),k=b.useMemo(()=>A.map($=>{var K;const H=Sd($),D=fe(fe({},(K=H.data)!=null?K:{}),C!=null&&C.kaur1br5?{kaur1br5:C.kaur1br5}:{});return Ye(fe({},H),{data:D})}),[A,C]),U=b.useMemo(()=>A.map(($,H)=>{var D,K;return"".concat((K=(D=$.id)!=null?D:$.title)!=null?K:"","-").concat(H)}).join("|"),[A]),z=b.useRef(Qt());b.useEffect(()=>{z.current=Qt()},[U]);const N=(V=T==null?void 0:T.id)!=null?V:z.current,O=b.useMemo(()=>{var $,H;return{location:"sidebar",impression_id:N,page_classification_domain:($=T==null?void 0:T.page_classification)==null?void 0:$.domain,page_classification_type:(H=T==null?void 0:T.page_classification)==null?void 0:H.page_type}},[T,N]),Y=b.useRef(null);b.useEffect(()=>{E||A.length===0||Y.current!==N&&(Y.current=N!=null?N:null,Sr(A.length,O),A.forEach(($,H)=>{yr($,H,O)}))},[O,N,E,A]);const I=P(()=>Nn()),oe=(re=Es())==null?void 0:re.isWorkspaceAccount(),X=($,H,D,K)=>{var F;if(A[D]&&(xr(A[D],D,O),br(A[D],D,O)),p.setActiveSystemHint(K,I,{locked:!1},oe),((F=H.data)==null?void 0:F.system_hint)==="agent"){const R=S.getSharedProps();if(R!=null&&R.composerController){const B=ys(R.composerController);if(H.id===po)return;Da(B,H.prompt)}return}f($,H,k,D)};return{shouldShowSuggestedActions:l.kind!=="hidden"&&l.kind!=="blocked"&&!E&&A.length>0,isSuggestedActionsLoading:E,suggestedActions:A,suggestionStarters:k,handleItemClick:X}}const xd=3,bd=s=>{"use forget";var U;const e=be.c(24),{enabled:t}=s,o=Js(),{store:i}=on(),a=vo(),r=_r(),c=an(),g=P(Be.context$);let l;e:{if(!(g!=null&&g.url)||!(g!=null&&g.title)){l=null;break e}let z;e[0]!==g.title||e[1]!==g.url?(z={url:g.url,title:g.title},e[0]=g.title,e[1]=g.url,e[2]=z):z=e[2],l=z}const m=l;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=vr(),e[3]=u):u=e[3];const f=u,p=t&&f;let h;e[4]!==m||e[5]!==p?(h={enabled:p,currentPage:m},e[4]=m,e[5]=p,e[6]=h):h=e[6];const{data:d,isLoading:S}=Cr(h);let _;e[7]!==(d==null?void 0:d.prompts)?(_=(U=d==null?void 0:d.prompts)!=null?U:[],e[7]=d==null?void 0:d.prompts,e[8]=_):_=e[8];const v=_;let C;e[9]!==v?(C=v.slice(0,xd),e[9]=v,e[10]=C):C=e[10];const y=C;let x;e[11]!==o?(x=z=>{var Y;const N="/bookmarked-prompts?referer=".concat(z);if(xs()){const I="".concat(window.location.origin).concat(N);(Y=Wa())==null||Y.handleLink(I,"_blank")}else o(N)},e[11]=o,e[12]=x):x=e[12];const T=x,w=_d;let M;e[13]!==c||e[14]!==a||e[15]!==i||e[16]!==r?(M=(z,N)=>{var L,se,V;const O=i.getSharedProps();if(!O)return;const{clientThreadId:Y,composerController:I}=O,oe=en(Y);Tr({prompt:z,conversation:oe,composerController:I,clientThreadId:Y,setActiveSystemHintType:a,referer:N,trackPromptInvocation:r});const X={type:Ne.Templated,id:(L=z.id)!=null?L:void 0,title:(se=z.name)!=null?se:"",prompt:(V=z.prompt)!=null?V:"",body:"",data:z.system_hint?{system_hint:z.system_hint}:void 0};c(new CustomEvent("aura-bookmarked-prompt"),X,[X],0)},e[13]=c,e[14]=a,e[15]=i,e[16]=r,e[17]=M):M=e[17];const j=M,E=t&&f&&!S&&y.length>0,A=f&&S;let k;return e[18]!==j||e[19]!==T||e[20]!==E||e[21]!==A||e[22]!==y?(k={shouldShowBookmarkedPrompts:E,isBookmarkedPromptsLoading:A,bookmarkedPrompts:y,onBookmarkedPromptSelected:j,openPromptLibrary:T,onBookmarkedPromptEdit:w},e[18]=j,e[19]=T,e[20]=E,e[21]=A,e[22]=y,e[23]=k):k=e[23],k};function _d(s,e){ks(wr,{prompt:s,referer:e})}const vd="sidechat_ipc";function Cd(s,e){const t=s.trim(),o=t.length>0?t.slice(0,80):"Atlas On Page Suggestion";return{type:Ne.Starter,title:o,body:"",prompt:s,id:"".concat(vd,"-").concat(Qt()),data:fe({},e?{system_hint:e}:{})}}function ho(s){var i,a,r;if(!s||!s.url)return null;const e=(i=s.selection)!=null?i:"",t=s.blocked?"blocked":"unblocked",o=(a=s.base64favicon)!=null?a:"";return[(r=s.id)!=null?r:"unknown",s.url,e,t,o].join("|")}function Td(s){return s!==void 0}function wd(){"use forget";var x,T;const s=be.c(18),e=P(Md),t=P(Be.context$),o=(x=t==null?void 0:t.blocked)!=null?x:!1,i=e||o,a=!i,[r,c]=b.useState(null);let g,l;s[0]!==a||s[1]!==t?(g=()=>{if(!a){c(null);return}const w=ho(t);if(!t||!w){c(null);return}const M=w;let j=!1;return async function(){const k=await _o(t,Dn,"user");j||c({signature:M,metadata:k})}(),()=>{j=!0}},l=[a,t],s[0]=a,s[1]=t,s[2]=g,s[3]=l):(g=s[2],l=s[3]),b.useEffect(g,l);const m=P(Be.wantsSideChatCompletion$),{store:u}=on(),f=an(),p=Gs.useStore(),h=P(kd);let d;s[4]===Symbol.for("react.memo_cache_sentinel")?(d=(T=Es())==null?void 0:T.isWorkspaceAccount(),s[4]=d):d=s[4];const S=d;let _;s[5]!==t?(_=ho(t),s[5]=t,s[6]=_):_=s[6];const v=_;let C,y;s[7]!==r||s[8]!==a||s[9]!==i||s[10]!==p||s[11]!==f||s[12]!==h||s[13]!==v||s[14]!==u||s[15]!==m?(C=()=>{var U,z,N;if(!a||!m)return;const w=u.getSharedProps();if(i||!w){Be.wantsSideChatCompletion$.set(!1),Be.sideChatCompletionDetails=void 0;return}if(!v||!r||r.signature!==v)return;Be.wantsSideChatCompletion$.set(!1);const M=Be.sideChatCompletionDetails;if(Be.sideChatCompletionDetails=void 0,!M)return;const j=M.prompt,E=(z=((U=M.systemHints)!=null?U:[]).map(Ad).filter(Td))==null?void 0:z[0];E&&p.setActiveSystemHint(E,h,{locked:!1},S);const A=Cd(j,E),k=r.metadata.kaur1br5?Ye(fe({},A),{data:Ye(fe({},(N=A.data)!=null?N:{}),{kaur1br5:r.metadata.kaur1br5})}):A;f(new CustomEvent("aura-on-page-suggestion"),k,[k],0)},y=[a,m,u,r,i,f,p,h,S,v],s[7]=r,s[8]=a,s[9]=i,s[10]=p,s[11]=f,s[12]=h,s[13]=v,s[14]=u,s[15]=m,s[16]=C,s[17]=y):(C=s[16],y=s[17]),b.useEffect(C,y)}function Ad(s){return Zs(s)}function kd(){return Nn()}function Md(){return Co()}function Id(s){"use forget";var K;const e=be.c(32),{showEmptyState:t}=s;wd();const o=P(Be.context$),i=P(Be.sidebarUrlTrayOpen$),a=P(Rd),r=jn(),c=P(Be.contextCollection$),g=P(Be.activeTabContextItemIds$),l=To(c,g),m=r?l.length>0:!!o,u=((K=o==null?void 0:o.blocked)!=null?K:!1)||a;let f;e:{if(!i||!m){f="hidden";break e}if(u){f="blocked";break e}f=null}const p=f,h=p==null;let d;e[0]!==p?(d={hiddenOrBlockedArg:p},e[0]=p,e[1]=d):d=e[1];const{isSuggestedActionsLoading:S,suggestedActions:_,suggestionStarters:v,handleItemClick:C}=yd(d),y=p==null;let x;e[2]!==y?(x={enabled:y},e[2]=y,e[3]=x):x=e[3];const{isBookmarkedPromptsLoading:T,bookmarkedPrompts:w,onBookmarkedPromptSelected:M,openPromptLibrary:j,onBookmarkedPromptEdit:E}=bd(x),[A,k]=b.useState(0),[U,z]=b.useState(!1),N=b.useRef(null),O=b.useRef(null),Y=Nd;let I,oe;e[4]!==w.length||e[5]!==_.length?(I=()=>{const F=w.length>0&&_.length>0,R=N.current;if(!F||!R){k(0);return}const B=()=>{const te=Y(R);if(!te){k(0);return}const ae=Array.from(te.children).filter(jd).slice(0,4),W=getComputedStyle(te),Se=Number.parseFloat(W.rowGap||"0"),he=ae.slice(0,3),Te=ae[3],ye=Te?he.reduce(Ed,0)+Se*3+Te.getBoundingClientRect().height*.75:ae.reduce(Pd,0)+Se*Math.max(ae.length-1,0),ee=te.scrollHeight,xe=Math.max(0,Math.round(ee-ye));k(xe)};B();const Q=requestAnimationFrame(B);return()=>{cancelAnimationFrame(Q)}},oe=[w.length,_.length],e[4]=w.length,e[5]=_.length,e[6]=I,e[7]=oe):(I=e[6],oe=e[7]),wo(I,oe);let X;e[8]===Symbol.for("react.memo_cache_sentinel")?(X=()=>{const F=O.current;if(!F)return;const R=()=>{const Q=Y(F),te=Q==null?void 0:Q.lastElementChild;if(!(te instanceof HTMLElement)){z(!1);return}const ae=F.getBoundingClientRect(),W=te.getBoundingClientRect();z(W.bottom>ae.bottom+1)};R();const B=requestAnimationFrame(R);return F.addEventListener("scroll",R,{passive:!0}),()=>{cancelAnimationFrame(B),F.removeEventListener("scroll",R)}},e[8]=X):X=e[8];let L;if(e[9]!==w.length||e[10]!==_.length||e[11]!==A?(L=[w.length,_.length,A],e[9]=w.length,e[10]=_.length,e[11]=A,e[12]=L):L=e[12],b.useEffect(X,L),!t)return null;if(!h||S||T){let F;return e[13]===Symbol.for("react.memo_cache_sentinel")?(F=n.jsx("div",{className:"flex flex-1 items-center justify-center",children:n.jsx(Ar,{})}),e[13]=F):F=e[13],F}const se="translateY(".concat(A,"px)");let V;e[14]!==se?(V={transform:se},e[14]=se,e[15]=V):V=e[15];let re;e[16]!==w||e[17]!==C||e[18]!==E||e[19]!==M||e[20]!==j||e[21]!==_||e[22]!==v?(re=n.jsx("div",{ref:N,children:n.jsx(kr,{bookmarkedPrompts:w,onBookmarkedPromptClick:M,onBookmarkedPromptEdit:E,onManagePrompts:j,suggestedActions:_,suggestedStarters:v,onSuggestedActionClick:C})}),e[16]=w,e[17]=C,e[18]=E,e[19]=M,e[20]=j,e[21]=_,e[22]=v,e[23]=re):re=e[23];let $;e[24]!==V||e[25]!==re?($=n.jsx("div",{ref:O,className:"no-scrollbar flex min-h-0 flex-1 flex-col overflow-y-auto",children:n.jsx("div",{className:"mt-auto flex flex-col gap-7",style:V,children:re})}),e[24]=V,e[25]=re,e[26]=$):$=e[26];let H;e[27]!==U?(H=U?n.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-6",style:{background:"linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)"}}):null,e[27]=U,e[28]=H):H=e[28];let D;return e[29]!==$||e[30]!==H?(D=n.jsx("div",{className:"mt-auto flex min-h-0 w-full flex-1 flex-col ps-2.5 pe-3 pt-4 pb-3",children:n.jsx("div",{className:"flex min-h-0 flex-1 flex-col gap-7",children:n.jsxs("div",{className:"relative flex min-h-0 flex-1 flex-col",children:[$,H]})})}),e[29]=$,e[30]=H,e[31]=D):D=e[31],D}function Pd(s,e){return s+e.getBoundingClientRect().height}function Ed(s,e){return s+e.getBoundingClientRect().height}function jd(s){return s instanceof HTMLElement}function Nd(s){var e;return(e=s==null?void 0:s.querySelector("[data-suggested-prompts-list]"))!=null?e:null}function Rd(){return Co()}function $d(s){const e=za(()=>{const t=s.serverId$();return t==null?null:Mr(t)()});return Ao(()=>{var a;const t=Ga(s),o=e();return!(s.serverId$()==null||t||((a=o==null?void 0:o.data)==null?void 0:a.status)!=="IS_STREAMING")},()=>{if(!yt("2489999880").get("is_resume_over_reloads_enabled",!1))return;const t=ko(Us(s.serverId$)),o=Ir.get(t);if(o!=null){const{token:i,turnTraceId:a}=o;Uc({conversation:s,completionType:eo.Continue,serverThreadId:t,token:i,turnTraceId:a!=null?a:void 0})}else nt("1377659296")&&Vc({conversation:s,completionType:eo.Continue,serverThreadId:t})})}function Od(s){const e=[Pr(s),$d(s)];return Pt()&&nt("507173417")&&e.push(Er()),()=>{e.forEach(t=>t==null?void 0:t())}}function Zm(){b.useEffect(()=>{const s=e=>{var c,g,l,m,u,f,p,h;const t=e.payload.conversation_id,o=e.payload.update_content,i=e.payload.update_type;if(i==="refetch-conversation"){const d=!!(o!=null&&o.use_server_current_leaf);lo(t,{skipIfExisting:!1,source:"mbcss_refetch_conversation_ws",preferServerCurrentLeaf:d});return}if(i==="async-task-update-message"){const d=o.message;if(!d)return;hs(t,S=>{ps.updateTree(S,_=>{_.updateNodeMessage(d.id,d)})}),(c=d.metadata)!=null&&c.async_task_id&&((g=d.metadata)!=null&&g.async_task_title)&&qt.setTaskTitle(d.metadata.async_task_id,d.metadata.async_task_title),((l=d.metadata)==null?void 0:l.async_task_type)===Mo.IMAGE_GEN&&((m=d.metadata)!=null&&m.async_task_id)&&(qt.setTaskImageGenMessage(d.metadata.async_task_id,d),d.status==="finished_successfully"&&(qt.setTaskCompleted(d.metadata.async_task_id,d),Kc(d,t)))}if(i==="async-task-insert-message"){const d=o.message,S=o.insert_before_message_id;if(!d)return;hs(t,_=>{ps.updateTree(_,v=>{v.prependNode(S,d)})})}const a=en(t);if(Ma(a).set(Date.now()),i==="add-messages"){let d=o.messages;if(!(d!=null&&d.length))return;const S=d.map(y=>{var x,T,w,M,j,E,A;return{id:y.id,author_role:(T=(x=y.author)==null?void 0:x.role)!=null?T:null,author_name:(M=(w=y.author)==null?void 0:w.name)!=null?M:null,status:(j=y.status)!=null?j:null,content_type:(A=(E=y.content)==null?void 0:E.content_type)!=null?A:null}}),_={conversation_id:t,message_count:d.length,messages:S};Va({eventName:"websocket.conversation_update.add_messages",conversationId:t,data:_}),yn.addAction("websocket.conversation_update.add_messages",_);const v=d.filter(y=>{var x;return(x=y.metadata)==null?void 0:x.async_completion_id});if(v.length>0){for(const y of v)(u=y.metadata)!=null&&u.async_completion_id&&qt.setTaskCompleted((f=y.metadata)==null?void 0:f.async_completion_id,y);so()&&(hs(t,y=>{ps.setShouldRefetchConvoOnFinalize(y,!0)}),d=d.filter(y=>{var x;return!((x=y.metadata)!=null&&x.async_completion_id)}))}ka(a).set(y=>{if(!d.length)return y;const x=new Map(y.map(E=>[E.id,E]));for(const E of d)x.set(E.id,E);const T=y.map(E=>E.id),w=T.map(E=>x.get(E)).filter(Boolean),M=d.filter(E=>!T.includes(E.id));return[...w,...M]})}if(i==="async-task-start"&&qt.setTask(o.async_task_id,{originalConversationId:t,taskId:o.async_task_id,title:o.title,prompt:o.prompt,status:qa.CREATED,createdAt:o.created_at,updatedAt:o.created_at,originalConversationUserMessageId:o.original_conversation_user_message_id}),i==="async-task-title"&&qt.setTaskTitle(o.async_task_id,o.title),i==="async-task-completed"){const d=o.message;if(!d)return;(p=d.metadata)!=null&&p.async_completion_id&&qt.setTaskCompleted((h=d.metadata)==null?void 0:h.async_completion_id,d),hs(t,S=>{so()?ps.setShouldRefetchConvoOnFinalize(S,!0):ps.updateTree(S,(_,v)=>{if(_.getNodeIfExists(d.id))_.updateNodeMessage(d.id,d);else return _.addMessageNode(v,d),d.id})})}if(i==="title-update"){const d=o.title;if(!d)return;Nr(t,d,Ya.Server)}if(i==="set-conversation-async-status"&&"conversation_async_status"in o){const d=o.conversation_async_status,S=d?{value:d,source:Ka.SERVER}:null;co(t,S);const _=Qa(t);_!==t&&co(_,S),o.is_async_correction&&lo(t,{skipIfExisting:!1,source:"mbcss_async_correction"})}if(i==="moderation-response")try{const d=o.moderation_event,S=Rr(d);if((S==null?void 0:S.type)!=="moderation")throw new Error("Expected moderation type but got ".concat(S==null?void 0:S.type));$r(S,t)}catch(d){}};return Ua.on("conversation-update",s)},[])}const Hd=Object.freeze([]),un=10*1e3,Fd=200*1e3,ka=Io(()=>Rn([])),Ma=Io(()=>Rn(null));function Ld(s){"use forget";var D;const e=be.c(50),t=P(s.serverId$),o=(D=jr(t))==null?void 0:D.value;let i;e[0]!==o?(i=o&&[to.REALTIME,to.REALTIME_BUSY].includes(o),e[0]=o,e[1]=i):i=e[1];const a=i,[r,c,g,l,m,u,f,p]=jt(t,Wd);let h;e[2]!==s?(h=()=>s?Ma(s)():null,e[2]=s,e[3]=h):h=e[3];const d=P(h),S=g!=null?g*60*1e3:Fd,[_,v]=b.useState(!1),[C,y]=b.useState(!1),[x,T]=b.useState(!1),w=b.useRef(null);let M;e[4]!==t?(M=()=>{if(v(!1),!t)return;const K=setTimeout(()=>{y(!0)},un);return()=>{clearTimeout(K),y(!1)}},e[4]=t,e[5]=M):M=e[5];let j;e[6]!==f||e[7]!==t?(j=[t,f],e[6]=f,e[7]=t,e[8]=j):j=e[8],b.useEffect(M,j);let E;e[9]!==p||e[10]!==a||e[11]!==S||e[12]!==r||e[13]!==t?(E=()=>{if(t==null||!(a||p)||!r){T(!1);return}T(!1);let K=null;const F=window.setTimeout(()=>{T(!0),ws.count(As.DEFAULT,"chatgpt_web_websocket_timeout_reached"),K=window.setTimeout(()=>{T(!1),ws.count(As.DEFAULT,"chatgpt_web_websocket_timeout_max_duration")},S)},r);return()=>{window.clearTimeout(F),K&&window.clearTimeout(K)}},e[9]=p,e[10]=a,e[11]=S,e[12]=r,e[13]=t,e[14]=E):E=e[14];let A;e[15]!==p||e[16]!==a||e[17]!==d||e[18]!==S||e[19]!==r||e[20]!==t?(A=[t,a,p,r,d,S],e[15]=p,e[16]=a,e[17]=d,e[18]=S,e[19]=r,e[20]=t,e[21]=A):A=e[21],b.useEffect(E,A);const k=t!==void 0&&t!=null&&(a||p)&&(_&&C||x);let U;e[22]!==s?(U=()=>s?ka(s)():Hd,e[22]=s,e[23]=U):U=e[23];const z=P(U),N=c&&c>0?c:un,O=x?N:un,Y=t!=null?t:"missing";let I;e[24]!==Y?(I=Or({clientThreadId:Y,alwaysForceUpdate:!0,source:"mbcss_fallback_poll"}),e[24]=Y,e[25]=I):I=e[25];let oe;e[26]!==k||e[27]!==O||e[28]!==I?(oe=Ye(fe({},I),{enabled:k,refetchInterval:O,staleTime:O}),e[26]=k,e[27]=O,e[28]=I,e[29]=oe):oe=e[29];const{data:X}=In(oe);let L,se;e[30]!==X?(L=()=>{X&&v(!1)},se=[X],e[30]=X,e[31]=L,e[32]=se):(L=e[31],se=e[32]),b.useEffect(L,se);let V;e[33]!==m||e[34]!==u||e[35]!==l||e[36]!==t||e[37]!==x?(V=()=>{if(!t){w.current=null;return}x&&m==="assistant"&&u==="final"&&l&&l!==w.current&&(Kt.logEventWithStatsig("chatgpt_web_polled_for_final_assistant_message","chatgpt_web_polled_for_final_assistant_message",{conversationId:t}),ws.count(As.DEFAULT,"chatgpt_web_polled_for_final_assistant_message")),w.current=l},e[33]=m,e[34]=u,e[35]=l,e[36]=t,e[37]=x,e[38]=V):V=e[38];let re;e[39]!==N||e[40]!==m||e[41]!==u||e[42]!==l||e[43]!==t||e[44]!==x?(re=[l,m,u,x,t,N],e[39]=N,e[40]=m,e[41]=u,e[42]=l,e[43]=t,e[44]=x,e[45]=re):re=e[45],b.useEffect(V,re);let $,H;e[46]!==z||e[47]!==t?($=()=>{if(!z.length||!t)return;const K=z;K.length&&hs(t,F=>{ps.updateTree(F,(R,B)=>{let Q=B;const te=ae=>{var W;if(ae.id!==B){if((W=ae.metadata)!=null&&W.append_to_end&&R.getNodeIfExists(B)){Q=R.addMessageNode(B,ae);return}v(!0)}};if(K.forEach(ae=>{var Te,ye;const W=Ja(ae),Se=R.getNodeIfExists(W.id);let he=(Te=W.metadata)==null?void 0:Te.parent_id;if(Se&&Se.id===B&&Se.parentId&&(he=Se.parentId),he)if(R.getNodeIfExists(W.id)){const ee=R.getNodeByIdOrMessageId(W.id);if(ee.message.create_time&&W.create_time&&ee.message.create_time>W.create_time)return;if(ee.parentId!==he){if(!R.getNodeIfExists(he)){v(!0);return}R.moveNode(he,ee.id),Q=R.getLeafFromNodeAvoidingPlaceholders(ee.id).id;const ce=R.getNodeByIdOrMessageId(he).children.map(ie=>R.getNodeIfExists(ie)).filter(ie=>(ie==null?void 0:ie.id)!==ee.id).find(Dd);ce&&(R.moveNode(Q,ce.id),Q=R.getLeafFromNodeAvoidingPlaceholders(ce.id).id)}R.updateNodeMessage(W.id,W)}else if(R.getNodeIfExists(he)){const ee=R.getNodeByIdOrMessageId(he);(ye=ee.message.clientMetadata)!=null&&ye.isOptimistic&&ee.children.forEach(ce=>{var Oe;const ie=R.getNodeIfExists(ce);(Oe=ie==null?void 0:ie.message.clientMetadata)!=null&&Oe.isPlaceholder&&R.deleteNode(ie.id)}),Q=R.addMessageNode(he,W);const xe=ee.children.map(ce=>R.getNodeIfExists(ce)).find(Bd);xe&&(R.moveNode(Q,xe.id),Q=R.getLeafFromNodeAvoidingPlaceholders(xe.id).id)}else te(W);else{te(W);return}}),Q!==B)return Q})})},H=[z,t],e[46]=z,e[47]=t,e[48]=$,e[49]=H):($=e[48],H=e[49]),b.useEffect($,H)}function Bd(s){var e;return(e=s==null?void 0:s.message.clientMetadata)==null?void 0:e.isOptimistic}function Dd(s){var e;return(e=s==null?void 0:s.message.clientMetadata)==null?void 0:e.isOptimistic}function Wd(s){var t,o,i,a;const e=(t=Ke.getCurrentNode(s))==null?void 0:t.message;return[e!=null?Hr(e):0,e!=null?Fr(e):0,e!=null?Lr(e):null,e!=null?"".concat(e.id,":").concat(e.create_time):null,e!=null?(o=e.author)==null?void 0:o.role:null,e!=null?e.channel:null,(i=Ke.lastUserMessage(s))==null?void 0:i.id,e!=null?((a=e.metadata)==null?void 0:a.async_task_type)===Mo.PRO_MODE:!1]}function zd(s){"use forget";const e=be.c(10),{conversation:t}=s,{hash:o}=Pn(),i=o==="#personality-onboarding";let a;e[0]!==t?(a=()=>t.serverId$(),e[0]=t,e[1]=a):a=e[1];const r=P(a),c=jt(t.id,Gd),{eligible:g}=ta(Cn.hasSeenExistingUserPersonalityOnboarding);let l,m;e[2]!==g||e[3]!==i?(l=()=>{!g&&!i&&Zc()},m=[g,i],e[2]=g,e[3]=i,e[4]=l,e[5]=m):(l=e[4],m=e[5]),b.useEffect(l,m);const u=r!=null?r:null,f=c!=null?c:null;let p;return e[6]!==i||e[7]!==u||e[8]!==f?(p=n.jsx(Br,{conversationId:u,messageId:f,isPersonalityOnboardingRoute:i}),e[6]=i,e[7]=u,e[8]=f,e[9]=p):p=e[9],p}function Gd(s){var e;return(e=Ke.getLastAssistantMessage(s))==null?void 0:e.id}const Ia=s=>{"use forget";var p,h,d;const e=be.c(14),{className:t,clientThreadId:o,currentModelId:i}=s;let a;e[0]!==i?(a=sa(4,i),e[0]=i,e[1]=a):a=e[1];let r;e[2]!==a?(r=Ye(fe({},a),{enabled:!0}),e[2]=a,e[3]=r):r=e[3];const{data:c,isSuccess:g}=In(r);if(!g||!((p=c==null?void 0:c.items)!=null&&p.length))return null;const l=(h=c==null?void 0:c.ui_style)!=null?h:"";let m;e[4]!==(c==null?void 0:c.items)?(m=(d=c==null?void 0:c.items)==null?void 0:d.map(Kd),e[4]=c==null?void 0:c.items,e[5]=m):m=e[5];const u=m;if(u.length>0&&l==="chip"){let S;return e[6]!==t||e[7]!==o||e[8]!==u?(S=n.jsx(Ud,{clientThreadId:o,className:t,chipPrompts:u}),e[6]=t,e[7]=o,e[8]=u,e[9]=S):S=e[9],S}let f;return e[10]!==t||e[11]!==o||e[12]!==u?(f=n.jsx(qd,{clientThreadId:o,className:t,tilePrompts:u}),e[10]=t,e[11]=o,e[12]=u,e[13]=f):f=e[13],f};function Ud(s){"use forget";const e=be.c(14),{clientThreadId:t,className:o,chipPrompts:i}=s,a=$n(),r=_s();let c;e[0]!==t?(c={clientThreadId:t},e[0]=t,e[1]=c):c=e[1];const g=Pa(c);if(i.length===0||r!=null)return null;let l;e[2]!==o?(l=Re("mt-[24.5px] grid grid-cols-1 justify-items-center gap-3 sm:flex sm:flex-wrap sm:justify-center",o),e[2]=o,e[3]=l):l=e[3];let m;if(e[4]!==i||e[5]!==g||e[6]!==a){let f;e[8]!==g||e[9]!==a?(f=(p,h)=>{var d;return n.jsx(Vd,{disabled:a,onClick:S=>g(S,p,h),iconImageUrl:p.iconImageUrl,label:p.title},(d=p.id)!=null?d:p.prompt)},e[8]=g,e[9]=a,e[10]=f):f=e[10],m=i.map(f),e[4]=i,e[5]=g,e[6]=a,e[7]=m}else m=e[7];let u;return e[11]!==l||e[12]!==m?(u=n.jsx("div",{className:l,children:m}),e[11]=l,e[12]=m,e[13]=u):u=e[13],u}function Vd(s){"use forget";const e=be.c(10),{label:t,onClick:o,disabled:i,iconImageUrl:a}=s,r=i===void 0?!1:i;let c;e[0]!==a||e[1]!==t?(c=a&&n.jsx("img",{src:a,alt:t,className:"size-4"}),e[0]=a,e[1]=t,e[2]=c):c=e[2];let g;e[3]!==t?(g=n.jsx("span",{className:"group-hover:text-token-text-primary max-w-full overflow-hidden text-[14px] leading-[20px] tracking-[-0.3px] text-ellipsis whitespace-nowrap text-[color:var(--text-secondary,#5D5D5D)] transition select-none",children:t}),e[3]=t,e[4]=g):g=e[4];let l;return e[5]!==r||e[6]!==o||e[7]!==c||e[8]!==g?(l=n.jsxs("button",{className:"group border-token-border-default enabled:hover:bg-token-bg-tertiary relative flex h-[42px] max-w-[200px] items-center gap-2 rounded-full border py-[10px] ps-[14px] pe-[16px] text-start text-[13px] transition disabled:cursor-not-allowed sm:max-w-none xl:text-[14px]",disabled:r,onClick:o,children:[c,g]}),e[5]=r,e[6]=o,e[7]=c,e[8]=g,e[9]=l):l=e[9],l}function Pa(s){"use forget";const e=be.c(5),{clientThreadId:t}=s,o=vo(),i=vs(),{store:a}=on();let r;return e[0]!==t||e[1]!==i||e[2]!==o||e[3]!==a?(r=(c,g,l)=>{var C,y;c.preventDefault(),c.stopPropagation();const m=Po(t),u=(C=g.id)!=null?C:g.prompt;if(u.startsWith("use-case-create-image")){o(It.PictureV2,{analyticsMetadata:{clientThreadId:t}}),i&&Xa(ys(i)),uo(g,l,t,void 0);return}const f=Za("",{starter_prompt_id:u}),p=a.getSharedProps();if(!p)return;const{clientThreadId:h,onResetState:d,conversationMode:S}=p,_=en(h);tn.hideThreadHeader(),Yn({sourceEvent:c,conversation:_,promptMessage:f,completionMetadata:S?{conversationMode:S}:void 0});const v=(y=Ke.getCurrentNode(m))==null?void 0:y.message.id;uo(g,l,t,v),d()},e[0]=t,e[1]=i,e[2]=o,e[3]=a,e[4]=r):r=e[4],r}function qd(s){"use forget";const e=be.c(17),{clientThreadId:t,className:o,tilePrompts:i}=s,a=$n();let r;e[0]!==t?(r={clientThreadId:t},e[0]=t,e[1]=r):r=e[1];const c=Pa(r),g=_s();let l,m,u,f;if(e[2]!==g||e[3]!==o||e[4]!==c||e[5]!==a||e[6]!==i){f=Symbol.for("react.early_return_sentinel");e:{const h=i.map(Yd);if(g!=null){f=null;break e}l="use-case-prompt-tiles",e[11]!==o?(m=Re("grid w-full auto-rows-fr grid-cols-2 gap-3 md:grid-cols-4",o),e[11]=o,e[12]=m):m=e[12],u=h.map((d,S)=>n.jsx(Xt,{initial:!1,mode:"wait",children:n.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeOut"},className:"h-full w-full",children:n.jsx(nd,{source:"use-case",starterPrompt:d,allPrompts:h,index:S,disabled:a,onClickOverride:_=>c(_,d,S),className:"h-full w-full p-4"})},d.id)},d.id))}e[2]=g,e[3]=o,e[4]=c,e[5]=a,e[6]=i,e[7]=l,e[8]=m,e[9]=u,e[10]=f}else l=e[7],m=e[8],u=e[9],f=e[10];if(f!==Symbol.for("react.early_return_sentinel"))return f;let p;return e[13]!==l||e[14]!==m||e[15]!==u?(p=n.jsx("div",{"data-testid":l,className:m,children:u}),e[13]=l,e[14]=m,e[15]=u,e[16]=p):p=e[16],p}function Yd(s){var e;return{id:s.id,title:s.title,description:s.description,prompt:s.prompt,oneliner:s.oneliner,category:s.category,type:Ne.Starter,body:s.title,iconImageUrl:s.iconImageUrl,icon:s.icon,source:(e=s.source)!=null?e:"CURATED"}}function Kd(s,e){var t,o,i,a,r,c,g,l,m;return{id:(t=s.id)!=null?t:e.toString(),title:(o=s.title)!=null?o:"",description:(i=s.description)!=null?i:"",body:(a=s.title)!=null?a:"",prompt:(r=s.prompt)!=null?r:"",oneliner:(c=s.oneliner)!=null?c:"",category:(g=s.category)!=null?g:"",iconImageUrl:(m=(l=s.icon_url)==null?void 0:l["64_1x"])!=null?m:"",type:Ne.Starter,source:"USE_CASE"}}function Qd(s){"use forget";const e=be.c(21),{clientThreadId:t,headlineOption:o,starterPromptStyle:i,currentModelId:a,overrideMessage:r}=s,c=Ur(),g=vs();let l;e[0]!==g?(l=Wn(g),e[0]=g,e[1]=l):l=e[1];const m=P(l.shouldShowAutocomplete$);let u;e[2]!==t?(u={shouldBeEnabledForDefaultAssistant:!0,clientThreadId:t},e[2]=t,e[3]=u):u=e[3];const f=ed(u),p=c?"keyboard-open:h-[calc(100%-var(--screen-keyboard-height,0px)-var(--composer-height,100px))] h-full motion-safe:[transition:height_0.3s_var(--easing-common)]":"h-full",h=m?"pointer-events-none opacity-0":"opacity-100";let d;e[4]!==p||e[5]!==h?(d=Re("text-token-text-primary mt-[var(--screen-optical-compact-offset-amount)] [display:var(--display-hidden-until-loaded,flex)] w-full shrink flex-col items-center justify-center px-4 transition-opacity sm:hidden",p,h),e[4]=p,e[5]=h,e[6]=d):d=e[6];let S;e[7]!==t||e[8]!==o||e[9]!==r||e[10]!==i?(S=o==="CHATGPT_LOGO"?n.jsx(Eo,{className:"inline-block h-12 w-12"}):i!=="tiles"?n.jsx(Ea,{clientThreadId:t,headlineOption:o,overrideMessage:r}):null,e[7]=t,e[8]=o,e[9]=r,e[10]=i,e[11]=S):S=e[11];let _;e[12]!==t||e[13]!==a||e[14]!==f||e[15]!==i?(_=i==="chips"||!f?a&&n.jsx(od,{currentModelId:a,clientThreadId:t}):i==="tiles"?a&&t?n.jsx(Ta,{clientThreadId:t,currentModelId:a}):null:i==="use-case-styles"&&a&&t?n.jsx("div",{className:"margin-top-auto mt-auto h-full w-full flex-shrink-0",children:n.jsx(Ia,{clientThreadId:t,currentModelId:a})}):null,e[12]=t,e[13]=a,e[14]=f,e[15]=i,e[16]=_):_=e[16];let v;return e[17]!==d||e[18]!==S||e[19]!==_?(v=n.jsxs("div",{className:d,children:[S,_]}),e[17]=d,e[18]=S,e[19]=_,e[20]=v):v=e[20],v}function Jd({activeSystemHintType:s,isAnonModeEnabled:e,currentModelId:t}){if(s===It.Research)return pe.deepResearchPlaceholder;const i=ti(s);if(t==="n7jupd"||i)return pe.whatCanIDo}function Xd(s){"use forget";const e=be.c(20),{clientThreadId:t,currentModelId:o}=s;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=Pt(),e[0]=i):i=e[0];const a=!i,r=P(Zd);let c;if(e[1]===Symbol.for("react.memo_cache_sentinel")){const C=yt("4031588851"),y=yt("3533083032",{disableExposureLog:!0});c=(a?y:C).get("headline_option","HELP_WITH"),e[1]=c}else c=e[1];const g=c;let l;e[2]!==t?(l={shouldBeEnabledForDefaultAssistant:!0,clientThreadId:t},e[2]=t,e[3]=l):l=e[3];const m=va(l),u=Dr(),f=_s();let p;e[4]!==f||e[5]!==o||e[6]!==r?(p=Jd({activeSystemHintType:f,isAnonModeEnabled:r,currentModelId:o}),e[4]=f,e[5]=o,e[6]=r,e[7]=p):p=e[7];const h=p;let d;e[8]!==t||e[9]!==h||e[10]!==u?(d=n.jsx("div",{className:"mb-7 hidden text-center sm:block",children:g==="CHATGPT_LOGO"?n.jsx(Eo,{className:"inline-block h-12 w-12"}):n.jsx(Ea,{clientThreadId:t,headlineOption:g,overrideMessage:u||h})}),e[8]=t,e[9]=h,e[10]=u,e[11]=d):d=e[11];const S=m;let _;e[12]!==t||e[13]!==o||e[14]!==h||e[15]!==S?(_=n.jsx(Qd,{headlineOption:g,starterPromptStyle:S,clientThreadId:t,currentModelId:o,overrideMessage:h}),e[12]=t,e[13]=o,e[14]=h,e[15]=S,e[16]=_):_=e[16];let v;return e[17]!==d||e[18]!==_?(v=n.jsxs("div",{className:"flex justify-center",children:[d,_]}),e[17]=d,e[18]=_,e[19]=v):v=e[19],v}function Zd(){return ei()}function eu({name:s}){const e=zt(),t=Js();return n.jsx($o,{label:e.formatMessage(pe.editNicknameTooltip),delayDuration:300,side:"top",children:n.jsx("button",{onClick:()=>{tn.setAutoHighlightNicknameInput(!0),t("#settings/".concat(No.Personalization))},style:{textDecoration:"none",transition:"color 0.2s"},onMouseEnter:o=>{o.currentTarget.className="text-token-text-secondary"},onMouseLeave:o=>{o.currentTarget.className="text-inherit"},children:s})})}function tu(){const s=[],e=[];s.push("READY_WHEN_YOU_ARE","ON_YOUR_MIND","WHAT_ARE_YOU_WORKING_ON","AGENDA_TODAY","SHOULD_WE_BEGIN"),e.push("GOOD_TO_SEE_YOU","DIVE_IN","HOW_CAN_I_HELP",...s);const t=e[Math.floor(Math.random()*e.length)],o=s[Math.floor(Math.random()*s.length)],i="".concat(o," | ").concat(t);gs.setCookie(Ss.headlineMessage,i)}function go(s){var r,c;const e=gs.getCookie(Ss.GreetingName),t=gs.getCookie(Ss.headlineMessage),o=t==null?void 0:t.split("|"),i=(r=o==null?void 0:o[0])==null?void 0:r.trim(),a=(c=o==null?void 0:o[1])==null?void 0:c.trim();return{cookieName:e,isReadyForPersonalized:!!e&&e.length<=s,headline:i,namedHeadline:a}}function su(s){"use forget";var v,C;const e=be.c(28),{headlineOption:t,overrideMessage:o}=s,i=zt(),a=yt("1704793646"),r=a.get("name_char_limit",20),[c,g]=b.useState(()=>go(r)),l=Vr(),m=a.get("greeting_web",!1),u=a.get("full_name_llm",!1);let f,p;e[0]!==u||e[1]!==l||e[2]!==m?(f=()=>Ro(()=>{if(m&&l){const y=ai().data,x=ii().data;if(y&&x){const T=ri(x,y,u);gs.setCookie(Ss.GreetingName,T),ws.count(As.MOONSHINE,"splashScreenV2.greeting_cookie_name_set_web")}tu()}else gs.deleteCookie(Ss.GreetingName),gs.deleteCookie(Ss.headlineMessage)}),p=[m,u,l],e[0]=u,e[1]=l,e[2]=m,e[3]=f,e[4]=p):(f=e[3],p=e[4]),b.useEffect(f,p);let h;e[5]!==l||e[6]!==m||e[7]!==r||e[8]!==g?(h=()=>{const y=()=>{if(m&&l){const{cookieName:x,isReadyForPersonalized:T}=go(r);g(w=>Ye(fe({},w),{cookieName:x,isReadyForPersonalized:T}))}};return window.addEventListener("refreshGreeting",y),()=>window.removeEventListener("refreshGreeting",y)},e[5]=l,e[6]=m,e[7]=r,e[8]=g,e[9]=h):h=e[9],b.useEffect(h);let d,S;e[10]!==l||e[11]!==m?(d=()=>{m&&l&&ws.count(As.MOONSHINE,"splashScreenV2.greeting_shown_web")},S=[m,l],e[10]=l,e[11]=m,e[12]=d,e[13]=S):(d=e[12],S=e[13]),b.useEffect(d,S);let _;if(o){let y;e[14]!==i||e[15]!==o?(y=i.formatMessage(o),e[14]=i,e[15]=o,e[16]=y):y=e[16],_=y}else if(c.isReadyForPersonalized&&m){const y=mn[(v=c.namedHeadline)!=null?v:t],x=(C=c.cookieName)!=null?C:"";let T;e[17]!==x?(T={name:n.jsx(eu,{name:x},"name")},e[17]=x,e[18]=T):T=e[18];let w;e[19]!==y.withName||e[20]!==T?(w=n.jsx(n.Fragment,{children:n.jsx(St,Ye(fe({},y.withName),{values:T}))}),e[19]=y.withName,e[20]=T,e[21]=w):w=e[21],_=w}else if(m&&c.headline){let y;e[22]!==c.headline||e[23]!==i?(y=i.formatMessage(mn[c.headline].original),e[22]=c.headline,e[23]=i,e[24]=y):y=e[24],_=y}else{let y;e[25]!==t||e[26]!==i?(y=i.formatMessage(mn[t].original),e[25]=t,e[26]=i,e[27]=y):y=e[27],_=y}return _}function Ea(s){"use forget";var T;const e=be.c(15),{clientThreadId:t,headlineOption:o,overrideMessage:i}=s,{data:a}=Ws(Cs.Sunshine),[r]=jt(t,ou),c=si();let g;e[0]!==c?(g={isTempChatVisible:c},e[0]=c,e[1]=g):g=e[1];const[l,m]=b.useState(g);let u,f;e[2]!==c?(u=()=>{m({isTempChatVisible:c})},f=[c],e[2]=c,e[3]=u,e[4]=f):(u=e[3],f=e[4]),wo(u,f);const p=P(nu);let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=nt("4262905012"),e[5]=h):h=e[5];const d=h,{openSettings:S}=Wr(),_=_s(),v=((T=jo())==null?void 0:T.isHipaaCompliantWorkspace)&&_===It.Agent,C=!1;let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y={viewTransitionName:"var(--vt-splash-screen-headline)"},e[6]=y):y=e[6];let x;return e[7]!==o||e[8]!==p||e[9]!==S||e[10]!==i||e[11]!==l.isTempChatVisible||e[12]!==C||e[13]!==v?(x=n.jsx("div",{className:"relative inline-flex justify-center text-center text-2xl leading-9 font-semibold",children:n.jsx("div",{children:n.jsx("div",{className:"grid-cols-1 items-center justify-end",style:y,children:n.jsx(Xt,{initial:!1,mode:"wait",children:l.isTempChatVisible?n.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"bottom-0","aria-hidden":!l.isTempChatVisible,style:{willChange:"opacity"},children:n.jsx(Et.div,{initial:{y:24},animate:{y:0},exit:{y:24},transition:{duration:.2,ease:"easeInOut"},style:{willChange:"transform"},children:n.jsx(zr,{})})},"temporary-chat-content"):n.jsxs(Et.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4,transition:{duration:0}},transition:{duration:.2,ease:"easeInOut"},children:[p?n.jsxs("div",{className:"text-page-header flex flex-col items-center gap-2",children:[n.jsx("h1",{className:"text-[28px] leading-[34px] font-normal tracking-[0.38px]",children:n.jsx(St,fe({},pe.developerModeTitle))}),n.jsx("p",{className:"text-token-text-secondary dark:text-token-text-tertiary max-w-md text-center text-base leading-[24px] font-normal tracking-[-0.32px] text-balance",children:n.jsx(St,Ye(fe({},d?pe.developerModeSubtitleV2:pe.developerModeSubtitle),{values:{settings:n.jsx(ni,{onClick:()=>S(No.ConnectorsAdvanced),children:n.jsx(St,fe({},pe.settingsLink))})}}))})]}):n.jsx("h1",{className:"text-page-header inline-flex min-h-10.5 items-baseline whitespace-pre-wrap",children:n.jsx("div",{className:"px-1 text-pretty whitespace-pre-wrap",children:n.jsx(su,{headlineOption:o,overrideMessage:i})})}),n.jsx(Xt,{initial:!1,children:C}),v?n.jsx(Gr,{className:"mt-4 max-w-3xl",message:n.jsx(St,fe({},pe.hipaaAgentWarning))}):null]},"splash-headline")})})})}),e[7]=o,e[8]=p,e[9]=S,e[10]=i,e[11]=l.isTempChatVisible,e[12]=C,e[13]=v,e[14]=x):x=e[14],x}function nu(){return oi()}function ou(s){return[!!(s!=null&&s.is_do_not_remember)]}const pe=En({developerModeTitle:{id:"SplashScreenV2.developerModeTitle",defaultMessage:"Developer mode"},developerModeSubtitle:{id:"SplashScreenV2.developerModeSubtitle",defaultMessage:"Memory is not used for this chat. {settings}"},developerModeSubtitleV2:{id:"SplashScreenV2.developerModeSubtitleV2",defaultMessage:"You can update developer mode settings anytime in {settings}."},settingsLink:{id:"SplashScreenV2.settingsLink",defaultMessage:"Settings"},doNotRememberSubtitle:{id:"SplashScreenV2.doNotRememberSubtitle",defaultMessage:"ChatGPT won't reference past memories or create new memories from this chat."},hipaaAgentWarning:{id:"SplashScreenV2.hipaaAgentWarning",defaultMessage:"Do not enter Protected Health Information (PHI) into Agent."},whatCanIHelpWith:{id:"SplashScreenV2.whatCanIHelpWith",defaultMessage:"What can I help with?"},whatCanIHelpWithWithName:{id:"SplashScreenV2.whatCanIHelpWith.withName",defaultMessage:"What can I help with, {name}?"},whereShouldWeStart:{id:"SplashScreenV2.whereShouldWeStart",defaultMessage:"Where should we start?"},whereShouldWeStartWithName:{id:"SplashScreenV2.whereShouldWeStart.withName",defaultMessage:"Where should we start, {name}?"},askChatgptAnything:{id:"SplashScreenV2.askChatgptAnything",defaultMessage:"Ask ChatGPT anything"},askChatgptAnythingWithName:{id:"SplashScreenV2.askChatgptAnything.withName",defaultMessage:"Ask ChatGPT anything, {name}"},shouldWeBegin:{id:"SplashScreenV2.shouldWeBegin",defaultMessage:"Where should we begin?"},goodToSeeYouWithName:{id:"SplashScreenV2.goodToSeeYou.withName",defaultMessage:"Good to see you, {name}."},diveInWithName:{id:"SplashScreenV2.diveInWithName",defaultMessage:"Hey, {name}. Ready to dive in?"},readyWhenYouAre:{id:"SplashScreenV2.readyWhenYouAre",defaultMessage:"Ready when you are."},onYourMind:{id:"SplashScreenV2.onYourMind",defaultMessage:"What’s on your mind today?"},whatAreYouWorkingOn:{id:"SplashScreenV2.whatAreYouWorkingOn",defaultMessage:"What are you working on?"},agendaToday:{id:"SplashScreenV2.agendaToday",defaultMessage:"What’s on the agenda today?"},deepResearchPlaceholder:{id:"G1v9do",defaultMessage:"What are you researching?"},editNicknameTooltip:{id:"SplashScreenV2.editNicknameTooltip",defaultMessage:"Edit nickname"},howCanIHelp:{id:"SplashScreenV2.howCanIHelp",defaultMessage:"How can I help?"},howCanIHelpWithName:{id:"SplashScreenV2.howCanIHelp.withName",defaultMessage:"How can I help, {name}?"},chatgpt:{id:"SplashScreenV2.chatgpt",defaultMessage:"ChatGPT"},whatCanIDo:{id:"SplashScreenV2.whatCanIDo",defaultMessage:"What can I do for you?"}}),mn={HELP_WITH:{original:pe.whatCanIHelpWith,withName:pe.whatCanIHelpWithWithName},WHERE_TO_START:{original:pe.whereShouldWeStart,withName:pe.whereShouldWeStartWithName},ASK_CHATGPT:{original:pe.askChatgptAnything,withName:pe.askChatgptAnythingWithName},HOW_CAN_I_HELP:{original:pe.howCanIHelp,withName:pe.howCanIHelpWithName},GOOD_TO_SEE_YOU:{original:pe.goodToSeeYouWithName,withName:pe.goodToSeeYouWithName},DIVE_IN:{original:pe.diveInWithName,withName:pe.diveInWithName},READY_WHEN_YOU_ARE:{original:pe.readyWhenYouAre,withName:pe.readyWhenYouAre},ON_YOUR_MIND:{original:pe.onYourMind,withName:pe.onYourMind},WHAT_ARE_YOU_WORKING_ON:{original:pe.whatAreYouWorkingOn,withName:pe.whatAreYouWorkingOn},AGENDA_TODAY:{original:pe.agendaToday,withName:pe.agendaToday},SHOULD_WE_BEGIN:{original:pe.shouldWeBegin,withName:pe.shouldWeBegin},WHAT_CAN_I_DO:{original:pe.whatCanIDo,withName:pe.whatCanIDo}},au=7,iu=5,ru=3600*1e3,lu=async({text:s,numCompletions:e,isUnauthenticated:t,isThreadUsingSearchMode:o=!1,autocompleteMode:i,activeSystemHintType:a})=>{try{return(t?await Ms.safePost("/conversation/experimental/generate_autocompletions_anon",{requestBody:{input_text:s,num_completions:e,in_search_mode:o,system_hint:a!=null?a:void 0},authOption:bn.Anonymous}):await Ms.safePost("/conversation/experimental/generate_autocompletions",{requestBody:{input_text:s,num_completions:e,in_search_mode:o,system_hint:a!=null?a:void 0}})).completions.map(c=>({id:Qt(),type:Ne.Autocomplete,title:c.slice(0,s.length),body:c.slice(s.length),oneliner:c,prompt:c,source:i}))}catch(r){return[]}},Mn=(s=!1)=>yt(Pt()?"4093727931":"312855442",{disableExposureLog:!s}),cu=({clientThreadId:s,composerController:e,isGizmoThread:t,isNewThread:o,isProjectThread:i})=>{const[a,r]=xo(),c=a.get("forceShowNuxCASuggestion")==="true",g=On(),l=!Pt(),m=_s(),{autocompletions$:u,personalizedAutocompletePool$:f}=Wn(e),p=na(),h=3,d=m===It.Search,{bingTrendingSuggestions:S,chatgptTrendingSuggestions:_,imageGenTrendingSuggestions:v,fetchBingTrendingSuggestions:C,fetchChatgptTrendingSuggestions:y}=uu(),x=b.useRef({bing:0,chatgpt:{time:0,imageGen:!1}}),T=b.useRef(!1),[w,M]=b.useState(!1),j=li(J=>J.files),E=j.length>0,A=b.useMemo(()=>j.some(J=>{var q,G,ke,_e;return((_e=(ke=(q=J.fileSpec)==null?void 0:q.mimeType)!=null?ke:(G=J.file)==null?void 0:G.type)!=null?_e:"").toLowerCase().startsWith("image/")}),[j]),k=td(),U=P(()=>Oo(e)),z=o&&!t&&!i&&k()&&(yt("4031588851",{disableExposureLog:!0}).get("personalized_prompts_enabled",!1)||nt("2926342731")),{data:N}=In(Ye(fe({},sa(kn*3,null)),{enabled:z})),O=b.useMemo(()=>{var q;return((q=N==null?void 0:N.items)!=null?q:[]).filter(G=>G.category==="personalized").map(G=>({type:Ne.Starter,id:G.id,title:G.title,body:G.description,prompt:G.prompt,oneliner:G.oneliner,category:G.category,theme:G.theme,emoji:G.emoji}))},[N]),Y=b.useMemo(()=>qr(O),[O]);b.useEffect(()=>{f.set(Y)},[Y,f]),b.useEffect(()=>no(ys(e).dom,{click:()=>M(!0)}),[e]);const I=b.useCallback(J=>{const ne=Ds(e);return ne&&fn(J).startsWith(ne.toLocaleLowerCase())},[e]),oe=b.useCallback(J=>{const ne=Ds(e),q=J.title+J.body;return I(J)?Ye(fe({},J),{title:ne,body:q.slice(ne.length)}):Ye(fe({},J),{title:q,body:""})},[e,I]),X=b.useCallback((J=!1)=>{u.set(ne=>!ne.some(I)&&ne.length>0?[]:J?ne:ne.map(oe))},[I,oe,u]),L=zt(),se=Yr(),{data:V}=Kr(4,se),re=b.useMemo(()=>({[Ae.Canvas]:[{type:Ne.Starter,title:L.formatMessage({id:"GMvniX",defaultMessage:"Help me write a birthday message for a friend"}),prompt:L.formatMessage({id:"JInqHw",defaultMessage:"Help me write a birthday message for a friend"}),body:"",theme:Ae.Canvas},{type:Ne.Starter,title:L.formatMessage({id:"Xwp6O+",defaultMessage:"Help me write a short story"}),prompt:L.formatMessage({id:"e2j3PL",defaultMessage:"Help me write a short story set in a post-apocalyptic Tokyo, focused on a character who’s discovering a long-lost secret"}),body:"",theme:Ae.Canvas},{type:Ne.Starter,title:L.formatMessage({id:"ARQf7p",defaultMessage:"Help me write a basic outline for an essay"}),prompt:L.formatMessage({id:"K0WcGA",defaultMessage:"Help me write a basic outline for an essay"}),body:"",theme:Ae.Canvas},{type:Ne.Starter,title:L.formatMessage({id:"z+JwEj",defaultMessage:"Create a business plan outline"}),prompt:L.formatMessage({id:"4c/Ux5",defaultMessage:"Create a detailed outline for a business plan for a new app that connects local artists with buyers. Include sections for market analysis, monetization, and user acquisition"}),body:"",theme:Ae.Canvas}],[Ae.Image]:[{type:Ne.Starter,title:L.formatMessage({id:"noA7wB",defaultMessage:"Design a modern logo"}),prompt:L.formatMessage({id:"k53BuX",defaultMessage:"Create a modern, minimalist logo for a tech startup called ‘Nexora’. It should use bold typography and a sleek geometric icon, suitable for both light and dark backgrounds"}),body:"",theme:Ae.Image},{type:Ne.Starter,title:L.formatMessage({id:"akHy6z",defaultMessage:"Create an invite for my birthday"}),prompt:L.formatMessage({id:"BXf15G",defaultMessage:"Please create an invite for my birthday to send to my friends. It’ll be an outdoor barbeque with music and delicious food with my closest friends and family"}),body:"",theme:Ae.Image},{type:Ne.Starter,title:L.formatMessage({id:"57SKj2",defaultMessage:"Create a cartoon illustration of my pet"}),prompt:L.formatMessage({id:"EtCE7V",defaultMessage:"Please create an illustration of my pet in 2D animation style. It’s taking a nap in its favorite spot by the fire"}),body:"",theme:Ae.Image},{type:Ne.Starter,title:L.formatMessage({id:"s5iqKS",defaultMessage:"Create a Renaissance-style painting"}),prompt:L.formatMessage({id:"mEPKGA",defaultMessage:"Please create a Renaissance-style painting of a Mars rover. Use techniques like chiaroscuro and a warm color palette"}),body:"",theme:Ae.Image}],[Ae.ContextualAnswers]:[{type:Ne.Starter,title:L.formatMessage({id:"VJy602",defaultMessage:"Summarize my top projects this quarter and key outcomes across all of them."}),prompt:L.formatMessage({id:"BADBWZ",defaultMessage:"Summarize my top projects this quarter and key outcomes across all of them."}),icon:n.jsx(ci,{className:"h-full w-full"}),body:"",theme:Ae.ContextualAnswers},{type:Ne.Starter,title:L.formatMessage({id:"CXhrsc",defaultMessage:"Get me up to speed on the past 2 weeks of project updates."}),prompt:L.formatMessage({id:"WPQR3a",defaultMessage:"Get me up to speed on the past 2 weeks of project updates."}),icon:n.jsx(di,{className:"h-full w-full"}),body:"",theme:Ae.ContextualAnswers},{type:Ne.Starter,title:L.formatMessage({id:"7QVCTa",defaultMessage:"Find the revenue projection for Q3 and the most profitable projects."}),prompt:L.formatMessage({id:"tvB7JD",defaultMessage:"Find the revenue projection for Q3 and the most profitable projects."}),icon:n.jsx(ui,{className:"h-full w-full"}),body:"",theme:Ae.ContextualAnswers},{type:Ne.Starter,title:L.formatMessage({id:"Rny+bg",defaultMessage:"What is our company's current policy on work from home?"}),prompt:L.formatMessage({id:"P0W1ks",defaultMessage:"What is our company's current policy on work from home?"}),icon:n.jsx(mi,{className:"h-full w-full"}),body:"",theme:Ae.ContextualAnswers}]}),[L]),$=jo(),D=fi().connectorLinks.size>0,K=P(()=>pi(g)),F=!K,{prompts:R,isLoading:B}=Qr(),Q=K&&K.length>0&&!D,te=Pt(),ae=Q?yt("1704943789").get("onboarding_state","control")==="suggested_prompts":!1,W=b.useMemo(()=>new Jr({localStorageKey:hi.CARecommendedPromptsUpsell,schedule:{intervalMs:1440*60*1e3,maxShowsPerInterval:3},termination:{maxShows:9}}),[]);b.useEffect(()=>{if((!Q||!ae||m!=null||!W.shouldShow())&&!c||F||B||$==null)return;const J=[...R];u.set(ne=>ne.length>0?ne:(T.current||(W.recordShown(),Kt.logEventWithStatsig("chatgpt_contextual_answers_recommended_prompt_shown","chatgpt_contextual_answers_recommended_prompt_shown",{prompts:J.map(q=>{var G;return(G=q.data)==null?void 0:G.id}).join(","),shown_times:W.getShownTimes().toString()}),T.current=!0),J))},[R,F,B,Q,ae,m,W,c,$,u]);const Se=Mn(!1),he=Mn(!0),Te=Ca(!0),ye=wa();b.useEffect(()=>xn(()=>oo(e),J=>{const ne=()=>{u.set(q=>q.filter(G=>G.theme!==Ae.Search&&G.theme!==Ae.ChatGPTTrending&&G.theme!==Ae.ImageGenTrending&&G.theme!==Ae.Image&&G.theme!==Ae.Slurm&&G.theme!==Ae.Tatertot&&G.theme!==Ae.ContextualAnswersNUX&&G.theme!==Ae.Glaux))};if(J&&o&&!t&&!i||c)if(d)u.set(S.length>0?S:[]),x.current.bing===0&&(x.current.bing=Date.now(),C());else if(!m&&(U||w)&&k()&&Te.get("homepage_prompt_style","chips")==="autocomplete"){if((Te.get("personalized_prompts_enabled",!1)||nt("2926342731"))&&O.length>0){const q=Y.slice(0,kn).map(G=>sd(G,e,p)).filter(Boolean);u.set(q)}else if(w&&!z){const q=ad(ye,u(),4,3);u.set(q.map(G=>Ye(fe({},G),{body:""})))}}else if(!m&&Se.get("enable_data",!1)){u.set(()=>w&&A&&v.length>0&&he.get("enable_image_gen_trending",!1)?v:w&&!A&&_.length>0&&he.get("enable_chatgpt_trending",!1)?_:[]);const q=Date.now(),G=x.current.chatgpt;(G.time===0||q-G.time>ru||G.imageGen!==A)&&(x.current.chatgpt={time:q,imageGen:A},y(A))}else if(se&&V&&V.length>0)u.set(V);else if(m===It.PictureV2){const q=Xr(L);u.set(q)}else if(m===It.Tatertot)u.set(Zr(L,te));else if(m===It.Slurm)yt("1704943789").get("post_connection_connector_button",!1)&&R.length>0&&!B&&u.set(R);else{if(u().length>0&&u()[0].theme===Ae.ContextualAnswersNUX)return;if(u().length===0)return;ne()}else ne()},{fireImmediately:!0}),[e,C,y,Se,he,d,u,S,_,v,m,w,L,s,o,t,i,re,a,r,c,E,A,te,ye,O,Te,R,B,k,U,$,z,V,se,p,Y]),b.useEffect(()=>Ro(()=>{if(oo(e)){const J=u().filter(ne=>ne.type!==Ne.Autocomplete);J.length>0&&el(J,s)}}),[e,u,s]);const ee=fu(d),xe=yt("4031588851"),ce=xe.get("autocomplete_min_char",4),ie=xe.get("autocomplete_fetch_interval",200),Oe=b.useRef(null),Xe=b.useCallback(gi(async J=>{if(!du(e,ce)){u.set([]);return}const ne=Ds(e);if(!(Oe.current&&Oe.current.length>ce&&ne.startsWith(Oe.current)))try{const q=(await lu({text:ne,numCompletions:J,isUnauthenticated:l,isThreadUsingSearchMode:d,autocompleteMode:ee,activeSystemHintType:m})).filter(I).map(oe);u.set(G=>{const ke=G.filter(I),_e=q.filter(De=>{const ve=fn(De);return!ke.some(Ee=>{const Ie=fn(Ee);if(ve===Ie)return!0;const le=new RegExp("[\\p{P}\\p{S}]$","u"),Fe=ve.replace(le,""),Ve=Ie.replace(le,"");return Fe===Ie||ve===Ve||Fe===Ve})}).slice(0,h-ke.length);return[...ke,..._e]})}catch(q){}},ee==="BING"?150:ie),[e,ee,oe,ie,m]),He=b.useCallback(()=>{X();const J=h-u().filter(I).length;J>0&&Xe(J)},[Xe,X,u,I]),ue=b.useMemo(()=>ee==="HARDCODED"?X:He,[ee,He,X]),Pe=b.useCallback(()=>{ue()},[ue]),Ue=b.useCallback(()=>{X(!0),Ds(e).indexOf("\n")>0&&u.set([])},[e,u,X]);b.useEffect(()=>no(ys(e).dom,{input:Pe}),[e,Pe]),b.useEffect(()=>xn(()=>Si(e),Ue),[e,Ue])};function du(s,e){var o;const t=ys(s).state.doc;return t.childCount===1&&((o=t.firstChild)==null?void 0:o.isTextblock)===!0&&t.content.size>=e&&t.content.size<=80}const uu=()=>{const[s,e]=b.useState([]),[t,o]=b.useState([]),[i,a]=b.useState([]),r=Hn(),c=Mn(!1),g=c.get("num_mobile_results",iu),l=c.get("num_desktop_results",au),m=c.get("item_label","PROMPT"),u=b.useCallback(async()=>{const h=(await Ms.safePost("/conversation/experimental/generate_trending_suggestions",{requestBody:{num_items:kn},authOption:bn.SendIfAvailable})).suggestions.map((d,S)=>({type:Ne.Trending,title:So(d),body:"",icon:n.jsx(mo,{className:"h-full w-full"}),prompt:So(d),id:"search-trending-".concat(S),theme:Ae.Search}));return e(h),h},[]),f=b.useCallback(async p=>{const d=((await Ms.safeGet("/trending/chatgpt",{parameters:{query:fe({num_items:r?l:g},p?{tags:["image_gen"]}:{})},authOption:bn.SendIfAvailable})).topics||[]).map((S,_)=>{var w,M,j,E,A;const v=(w=S.suggested_prompts)!=null?w:[],C=v.length>0?v[Math.floor(Math.random()*v.length)]:void 0,y=(M=C==null?void 0:C.short_prompt)!=null?M:"",x=(E=(j=S.short_title)!=null?j:S.title)!=null?E:"",T=(A=C==null?void 0:C.prompt)!=null?A:Array.isArray(S.prompts)&&S.prompts.length>0?S.prompts[Math.floor(Math.random()*S.prompts.length)]:x;return{type:Ne.Trending,title:m==="TITLE"?x:y,body:"",icon:n.jsx(mo,{className:"h-full w-full"}),prompt:T,id:"chatgpt-trending-".concat(_),theme:p?Ae.ImageGenTrending:Ae.ChatGPTTrending}});return p?a(d):o(d),d},[r,g,l,m]);return{bingTrendingSuggestions:s,chatgptTrendingSuggestions:t,imageGenTrendingSuggestions:i,fetchBingTrendingSuggestions:u,fetchChatgptTrendingSuggestions:f}};function So(s){return s.split(" ").map(tl).join(" ")}const fn=s=>"".concat(s.title).concat(s.body).toLocaleLowerCase();function mu(){const e=yt("4031588851",{disableExposureLog:!0}).get("autocomplete_qualified_start_date","2099-09-13T00:00:00Z"),t=yi();return!!t&&t.created*1e3>=new Date(e).getTime()}function fu(s){const e=!Pt(),t=nt("1468311859"),o=nt("2053937752"),i=nt("3664702598"),a=nt("471233253"),r=yt("4031588851"),c=yt("3533083032"),g=mu(),l=!e&&t||e&&o,m=(!e&&i||e&&a)&&g;let u="HARDCODED";{const f=e?c:r;if(s){const p=f.get("search_autocomplete_mode","");l&&p&&(u=p)}else m&&(u=f.get("autocomplete_mode","HARDCODED"))}return u}const pu=({clientThreadId:s,isGizmoThread:e,isNewThread:t,isProjectThread:o})=>{const i=vs();return cu({clientThreadId:s,composerController:i,isGizmoThread:e,isNewThread:t,isProjectThread:o}),null};function hu(s){"use forget";const e=be.c(27),{children:t,className:o,conversation:i,inline:a,onDropAccepted:r}=s,c=zt(),g=i!=null?i:ko(b.use(Ho));let l;e[0]!==g||e[1]!==r?(l=M=>{b.startTransition(()=>{const{tempIds:j}=zn()({files:M,type:"drag",conversation:g});r==null||r(j)})},e[0]=g,e[1]=r,e[2]=l):l=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=xi(bi),e[3]=m):m=e[3];let u;e[4]!==l?(u={disabled:!1,noClick:!0,noKeyboard:!0,onDropAccepted:l,multiple:!0,accept:m},e[4]=l,e[5]=u):u=e[5];const{getRootProps:f,getInputProps:p,isDragActive:h,isDragReject:d}=cd(u);let S;e[6]!==f?(S=f(),e[6]=f,e[7]=S):S=e[7];const _=h?"visible":"hidden";let v;e[8]!==a||e[9]!==d?(v=n.jsx(sl,{isRejected:d,inline:a}),e[8]=a,e[9]=d,e[10]=v):v=e[10];let C;e[11]!==_||e[12]!==v?(C=n.jsx(b.Activity,{mode:_,children:v}),e[11]=_,e[12]=v,e[13]=C):C=e[13];let y;e[14]!==c?(y=c.formatMessage({id:"imagesApp.dropTarget.fileInputLabel",defaultMessage:"Attach images"}),e[14]=c,e[15]=y):y=e[15];let x;e[16]!==p?(x=p(),e[16]=p,e[17]=x):x=e[17];let T;e[18]!==y||e[19]!==x?(T=n.jsx("input",fe({name:"images-app-drop-container-input","arial-label":y},x)),e[18]=y,e[19]=x,e[20]=T):T=e[20];let w;return e[21]!==t||e[22]!==o||e[23]!==T||e[24]!==S||e[25]!==C?(w=n.jsxs("div",Ye(fe({className:o},S),{children:[C,T,t]})),e[21]=t,e[22]=o,e[23]=T,e[24]=S,e[25]=C,e[26]=w):w=e[26],w}function gu(s){return s.download_url}function Su(s){"use forget";var a;const e=be.c(2),{prompt:t}=s,o=(a=t.title)!=null?a:"";let i;return e[0]!==o?(i=n.jsx("div",{className:"text-heading-app box-trim-0.5 mb-3 tracking-tight text-balance",children:o}),e[0]=o,e[1]=i):i=e[1],i}function yu(s){"use forget";const e=be.c(2),{title:t}=s;let o;return e[0]!==t?(o=n.jsx("div",{className:"text-token-text-secondary text-body-regular box-trim-0.5",children:t}),e[0]=t,e[1]=o):o=e[1],o}function xu(s){"use forget";const e=be.c(18),{onChooseNewPhoto:t,onTakePhoto:o,onClose:i,showTakePhoto:a}=s,r=a===void 0?!0:a;let c;e[0]!==o||e[1]!==r?(c=r&&n.jsx(ln,{color:"primary",size:"large",fullWidth:!0,className:"rounded-full",onClick:o,children:n.jsx(St,{id:"53bkCD",defaultMessage:"Take a photo"})}),e[0]=o,e[1]=r,e[2]=c):c=e[2];const g=r?"secondary":"primary";let l;e[3]!==t?(l=()=>t==null?void 0:t(),e[3]=t,e[4]=l):l=e[4];let m;e[5]!==r?(m=r?n.jsx(St,{id:"eFyfxp",defaultMessage:"Upload a photo"}):n.jsx(St,{id:"RNN2hq",defaultMessage:"Choose a new photo"}),e[5]=r,e[6]=m):m=e[6];let u;e[7]!==g||e[8]!==l||e[9]!==m?(u=n.jsx(ln,{color:g,size:"large",fullWidth:!0,className:"rounded-full",onClick:l,children:m}),e[7]=g,e[8]=l,e[9]=m,e[10]=u):u=e[10];let f;e[11]===Symbol.for("react.memo_cache_sentinel")?(f=n.jsx(St,{id:"pUi2k3",defaultMessage:"Cancel"}),e[11]=f):f=e[11];let p;e[12]!==i?(p=n.jsx(ln,{type:"button",color:"ghost",size:"large",className:"text-token-text-secondary text-sm font-semibold underline decoration-solid underline-offset-2",onClick:i,children:f}),e[12]=i,e[13]=p):p=e[13];let h;return e[14]!==c||e[15]!==u||e[16]!==p?(h=n.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[c,u,p]}),e[14]=c,e[15]=u,e[16]=p,e[17]=h):h=e[17],h}function bu(s){"use forget";const e=be.c(5),{recents:t,onSelectRecent:o}=s;let i;e[0]!==o||e[1]!==t?(i=t.length>0&&n.jsxs("section",{className:"mt-5 flex flex-col gap-3",children:[n.jsx("h3",{className:"text-token-text-tertiary text-body-regular text-trim font-medium",children:n.jsx(St,{id:"ZT3BhG",defaultMessage:"Recents"})}),n.jsx("div",{className:"flex w-full gap-2 max-sm:[&>*:nth-child(4)]:hidden",children:t.map(r=>n.jsx("button",{type:"button",onClick:()=>o==null?void 0:o(r),className:Re("corner-superellipse/1.1 rounded-xl ring-offset-2 transition outline-none","focus-visible:ring-token-focus focus-visible:ring","h-[72px] w-[72px] overflow-hidden","ease-spring-elegant motion-safe:transition-[scale,filter] motion-safe:hover:brightness-120 motion-safe:active:scale-98"),children:n.jsx("img",{src:gu(r),alt:"",className:"h-full w-full object-cover",loading:"lazy"})},r.file_id))})]}),e[0]=o,e[1]=t,e[2]=i):i=e[2];let a;return e[3]!==i?(a=n.jsx(n.Fragment,{children:i}),e[3]=i,e[4]=a):a=e[4],a}function Ts(s){"use forget";const e=be.c(27),{conversation:t,group:o,onClose:i,onSelectFiles:a,onSelectRecent:r,onChooseNewPhoto:c,onTakePhoto:g,prompt:l,recents:m}=s,u=P(Tu),f=P(Cu);let p,h;e[0]!==t||e[1]!==a?(p=()=>il({conversation:t,onFilesUploaded:a,isFocusTarget:vu}),h=[t,a],e[0]=t,e[1]=a,e[2]=p,e[3]=h):(p=e[2],h=e[3]),b.useEffect(p,h);const d=m!=null?m:f;let S;e[4]===Symbol.for("react.memo_cache_sentinel")?(S=nl(),e[4]=S):S=e[4];const _=S,v=i!=null?i:_u;let C;e[5]!==l?(C=n.jsx(Su,{prompt:l}),e[5]=l,e[6]=C):C=e[6];let y;e[7]!==o.title?(y=n.jsx(yu,{title:o.title}),e[7]=o.title,e[8]=y):y=e[8];let x;e[9]!==r||e[10]!==d?(x=n.jsx(bu,{recents:d,onSelectRecent:r}),e[9]=r,e[10]=d,e[11]=x):x=e[11];let T;e[12]!==u||e[13]!==c||e[14]!==i||e[15]!==g?(T=n.jsx(xu,{onChooseNewPhoto:c,onTakePhoto:g,onClose:i,showTakePhoto:u}),e[12]=u,e[13]=c,e[14]=i,e[15]=g,e[16]=T):T=e[16];let w;e[17]!==t||e[18]!==a||e[19]!==x||e[20]!==T?(w=n.jsx(Fn,{store:_,children:n.jsxs(hu,{inline:!0,conversation:t,onDropAccepted:a,children:[x,T]})}),e[17]=t,e[18]=a,e[19]=x,e[20]=T,e[21]=w):w=e[21];let M;return e[22]!==v||e[23]!==C||e[24]!==y||e[25]!==w?(M=n.jsx(_i,{testId:"modal-style-recents",isOpen:!0,onClose:v,title:C,description:y,headerClassName:"p-0! min-h-0!",textCenter:!0,className:"@container/style-recents-modal p-10",modalActionsClassName:"w-full",size:"normal",children:w}),e[22]=v,e[23]=C,e[24]=y,e[25]=w,e[26]=M):M=e[26],M}function _u(){}function vu(s){return s!==document.body}function Cu(){var s,e;return(e=(s=al().data)==null?void 0:s.slice(0,4))!=null?e:[]}function Tu(){return nt("416156854")&&ol()}function ja(s){"use forget";const e=be.c(11),{conversation:t}=s,o=vs(),i=Fo(),[a]=b.useState(wu);let r;e[0]!==t||e[1]!==a?(r=n.jsx(rl,{onUploadFiles:l=>{const{files:m,type:u}=l;t&&zn()({files:m,type:u,conversation:t,filePickerStore:a})}}),e[0]=t,e[1]=a,e[2]=r):r=e[2];let c;e[3]!==o||e[4]!==i||e[5]!==t?(c=n.jsx(ku,{conversation:t,composerController:o,composerFilePickerStore:i}),e[3]=o,e[4]=i,e[5]=t,e[6]=c):c=e[6];let g;return e[7]!==a||e[8]!==r||e[9]!==c?(g=n.jsxs(Fn,{store:a,children:[r,c]}),e[7]=a,e[8]=r,e[9]=c,e[10]=g):g=e[10],g}function wu(){return vi(Au)}function Au(){return Ci}function ku(s){"use forget";const e=be.c(19),{conversation:t,composerController:o,composerFilePickerStore:i}=s,a=Fo(),{items:r}=P(Eu),c=ll.useStore();let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=Qc(),e[0]=g):g=e[0];const l=g;let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=Jc(),e[1]=m):m=e[1];const u=m;let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=Xc(),e[2]=f):f=e[2];const p=f;let h;e[3]!==t||e[4]!==a?(h=y=>{zn()({files:[y],type:"camera",conversation:t,filePickerStore:a})},e[3]=t,e[4]=a,e[5]=h):h=e[5];const d=h;let S,_;e[6]!==t||e[7]!==a||e[8]!==c?(S=()=>xn(()=>cl(t)(),x=>p({conversation:t,tempIds:x,filePickerStore:a,persistedFileStore:c}),{fireImmediately:!0}),_=[t,p,c,a],e[6]=t,e[7]=a,e[8]=c,e[9]=S,e[10]=_):(S=e[9],_=e[10]),b.useEffect(S,_);let v;e[11]!==o||e[12]!==i||e[13]!==t||e[14]!==d?(v=y=>{const x=Us(Pu);if(Ti.getFilesCount(i.getState())>0){const w=dl(y);ul(o).setImageStyle$({style:w});const M=wi(o);M.current&&M.current.requestSubmit();return}fo.set(t,{promptItem:y,group:x[y.id]}),ks(Ts,{conversation:t,prompt:y,group:x[y.id],onClose:Iu,onSelectRecent:w=>{const M=Ai(w.file_id);M&&(u({conversation:t,prompt:y.prompt_text,images:[{asset_pointer:M,width:1,height:1}]}),zs(Ts))},onChooseNewPhoto:()=>{Us(()=>l({source:"photos"})),zs(Ts)},onTakePhoto:()=>{fo.set(t,{promptItem:y,group:x[y.id]}),zs(Ts),ks(ml,{onPhotoSave:d})}})},e[11]=o,e[12]=i,e[13]=t,e[14]=d,e[15]=v):v=e[15];let C;return e[16]!==r||e[17]!==v?(C=n.jsx(aa,{items:r,onSelectPromptItem:v,onEditPhoto:Mu,hideControls:!1}),e[16]=r,e[17]=v,e[18]=C):C=e[18],C}function Mu(){const s=document.getElementById("upload-photos");s&&s.click()}function Iu(){zs(Ts)}function Pu(){return oa().itemToGroup}function Eu(){return oa()}const Na=s=>{var e,t;return(t=(e=Ke.getBranch(s))==null?void 0:e.findLast(({message:o})=>o.author.role===Ii.Assistant&&o.recipient==="all"))==null?void 0:t.message},pn=ki(s=>{const e=Us(()=>Mi(s)),t=e?Na(e):null;return Rn(new Set(t?[t.id]:[]))}),ju=s=>{"use forget";const e=be.c(37),{conversation:t,zIndex:o,onClick:i,onReveal:a}=s,r=zt();let c;e[0]!==t?(c=()=>pn(t),e[0]=t,e[1]=c):c=e[1];const g=P(c),[l,m]=jt(t.id,Nu),u=Pi(m);let f;e[2]!==l?(f=l&&!!Ei(l),e[2]=l,e[3]=f):f=e[3];const p=f,h=l==null?void 0:l.id;let d;e[4]!==g||e[5]!==h?(d=h&&g.has(h),e[4]=g,e[5]=h,e[6]=d):d=e[6];const S=d;let _;e[7]!==t||e[8]!==h?(_=()=>{h&&pn.set(t,new Set(pn(t).add(h)))},e[7]=t,e[8]=h,e[9]=_):_=e[9];const v=Jt(_);let C;e[10]!==i||e[11]!==v?(C=()=>{v(),i()},e[10]=i,e[11]=v,e[12]=C):C=e[12];const y=Jt(C),x=Jt(a);let T,w;e[13]!==S||e[14]!==p||e[15]!==x?(T=()=>{p&&!S&&x()},w=[p,S,x],e[13]=S,e[14]=p,e[15]=x,e[16]=T,e[17]=w):(T=e[16],w=e[17]),b.useEffect(T,w);let M,j;e[18]!==S||e[19]!==u||e[20]!==p||e[21]!==v?(M=()=>{if(p&&!S&&!u){const U=setTimeout(()=>v(),5e3);return()=>{clearTimeout(U),v()}}},j=[p,S,u,v],e[18]=S,e[19]=u,e[20]=p,e[21]=v,e[22]=M,e[23]=j):(M=e[22],j=e[23]),b.useEffect(M,j);let E,A;e[24]!==v?(E=()=>()=>v(),A=[v],e[24]=v,e[25]=E,e[26]=A):(E=e[25],A=e[26]),b.useEffect(E,A);let k;return e[27]!==t||e[28]!==y||e[29]!==S||e[30]!==r||e[31]!==u||e[32]!==p||e[33]!==l||e[34]!==v||e[35]!==o?(k=p&&!S&&n.jsx(bs,{className:"relative",style:{zIndex:o},children:n.jsxs(Et.div,{className:Re(fl.main,"group bg-token-bg-primary/80 shadow-long pointer-events-auto absolute -top-2 mx-0 mb-4 h-32 w-full cursor-pointer overflow-hidden rounded-3xl px-5 py-3 backdrop-blur-2xl select-none"),initial:{opacity:0,translateY:"-50%"},animate:{opacity:1,translateY:"-100%"},exit:{opacity:0,scale:.925,filter:"blur(12px)"},transition:{duration:.6,type:"spring",bounce:.12},onClick:y,children:[n.jsx("button",{"aria-label":r.formatMessage({id:"rbCAqY",defaultMessage:"Dismiss"}),className:"dark:bg-token-bg-secondary dark:hover:bg-token-bg-tertiary text-token-text-primary absolute end-2.5 top-2.5 z-50 flex h-6 w-6 items-center justify-center rounded-full bg-black/5 opacity-0 transition-opacity group-hover:opacity-100 hover:bg-black/10",onClick:U=>{U.stopPropagation(),v()},type:"button",children:n.jsx(Lo,{className:"icon icon-sm"})}),l&&n.jsx(ia,{maxHeight:128,renderExtent:"preview",surface:"tooltip",children:n.jsx(dd,{message:l,conversation:t,isFeedbackEnabled:!1,isCompletionInProgress:u,hasActiveRequest:u,isUserTurn:!1,isFinalUserTurn:!1,turnIndex:0})})]})}),e[27]=t,e[28]=y,e[29]=S,e[30]=r,e[31]=u,e[32]=p,e[33]=l,e[34]=v,e[35]=o,e[36]=k):k=e[36],k};function Nu(s){return[Na(s),Ke.getRequestId(s)]}const hn={duration:.4,type:"spring",bounce:.1},Ru=50,$u=.5,Ou=.25,gn=js["fullscreen-widget-composer-transition"],Hu=js["fullscreen-popover-thread-opening-transition"],yo=js["fullscreen-popover-thread-closing-transition"],Fu=s=>s?{enableAnimations:!1,openButtonSize:"large",showOnlyLatestTurn:!0,showCloseButton:!0,showPreviewBanner:!1,minRelativeHeight:Ou,preserveScrollPosition:!0}:{enableAnimations:!0,openButtonSize:"small",showOnlyLatestTurn:!1,showCloseButton:!1,showPreviewBanner:!0,minRelativeHeight:$u,preserveScrollPosition:!1},Lu=s=>{"use forget";var Ve;const e=be.c(108),{clientThreadId:t,onRequestCompletion:o,composerController:i}=s;let a;e[0]!==t?(a=en(t),e[0]=t,e[1]=a):a=e[1];const r=a,c=zt(),g=b.useRef(null),l=b.useRef(null);let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=new Map,e[2]=m):m=e[2];const u=b.useRef(m),[f,p]=b.useState(!1),[h,d]=b.useState(!1),[S,_]=jt(r.id,zu);let v;e[3]!==S?(v=S.at(-1),e[3]=S,e[4]=v):v=e[4];const C=v,y=Math.max(S.length-1,0),x=pl(r.id),T=P(Gu);let w;e[5]!==r?(w=()=>Ks(r).height$(),e[5]=r,e[6]=w):w=e[6];const M=P(w);let j;e[7]!==r?(j=()=>Ks(r).marginBottom$(),e[7]=r,e[8]=j):j=e[8];const E=P(j);let A;e[9]!==r?(A=Is(r),e[9]=r,e[10]=A):A=e[10];const k=A;let U;e[11]!==r?(U=()=>xl(r).isOpen$(),e[11]=r,e[12]=U):U=e[12];const z=P(U);let N;e[13]!==k?(N=()=>k.pinnedWidgetType$(),e[13]=k,e[14]=N):N=e[14];const O=P(N);let Y;e[15]!==z?(Y=Fu(z),e[15]=z,e[16]=Y):Y=e[16];const I=Y,{enableAnimations:oe,openButtonSize:X,showOnlyLatestTurn:L,showCloseButton:se,showPreviewBanner:V,minRelativeHeight:re,preserveScrollPosition:$}=I,H=(Ve=_==null?void 0:_.hasDisplayableMessages)!=null?Ve:!1;let D;e[17]!==k?(D=()=>k.showLoadingBar$(),e[17]=k,e[18]=D):D=e[18];const K=P(D),F=T*re,R=T-Ru-(E!=null?E:0),B=ao(0),Q=ao(re);let te;e[19]!==B||e[20]!==Q?(te=[Q,B],e[19]=B,e[20]=Q,e[21]=te):te=e[21];let ae;e[22]!==R||e[23]!==F||e[24]!==T?(ae=we=>{const[je,Qe]=we;return Math.min(Math.max(je*T-Qe,F),R)},e[22]=R,e[23]=F,e[24]=T,e[25]=ae):ae=e[25];const W=io(te,ae);let Se;e[26]!==k.showLoadingBar$||e[27]!==H?(Se=()=>{H&&k.showLoadingBar$.set(!1)},e[26]=k.showLoadingBar$,e[27]=H,e[28]=Se):Se=e[28];let he;e[29]!==k||e[30]!==H?(he=[H,k],e[29]=k,e[30]=H,e[31]=he):he=e[31],b.useEffect(Se,he);const Te=hl(r.id);let ye;e[32]!==k.showLoadingBar$?(ye=()=>Ri($i,{requestCompletion:()=>{Yt({forceFlushSync:!0,className:[gn,yo],update:()=>{p(!1),k.showLoadingBar$.set(!0)}})},completionFinished:()=>{Yt({forceFlushSync:!0,className:gn,update:()=>{k.showLoadingBar$.set(!1)}})}}),e[32]=k.showLoadingBar$,e[33]=ye):ye=e[33];let ee;e[34]!==k?(ee=[k],e[34]=k,e[35]=ee):ee=e[35],b.useEffect(ye,ee);let xe;e[36]!==i||e[37]!==oe?(xe=()=>{oe?Yt({forceFlushSync:!0,className:Hu,update:()=>p(!0)}):p(!0);try{ys(i).focus()}catch(we){requestAnimationFrame(()=>{var je;(je=g.current)==null||je.focus()})}},e[36]=i,e[37]=oe,e[38]=xe):xe=e[38];const ce=xe,ie=P(()=>!f&&(ji()&&Oo(i)||Ni(i)))||!V&&!f&&!K;let Oe;e[39]===Symbol.for("react.memo_cache_sentinel")?(Oe=()=>{p(!0)},e[39]=Oe):Oe=e[39];const Xe=Oe;let He;e[40]!==H||e[41]!==C||e[42]!==V?(He={latestTurnId:C,latestTurnHasDisplayableMessages:H,showPreviewBanner:V,onAutoOpen:Xe},e[40]=H,e[41]=C,e[42]=V,e[43]=He):He=e[43],Bu(He);let ue;e[44]!==C||e[45]!==$?(ue=()=>{if(!$||!C)return;const we=l.current;if(!we)return;const je=u.current.get(C);if(je===void 0){we.scrollTop=0,u.current.set(C,0);return}we.scrollTop=je},e[44]=C,e[45]=$,e[46]=ue):ue=e[46];let Pe;e[47]!==f||e[48]!==C||e[49]!==$?(Pe=[f,C,$],e[47]=f,e[48]=C,e[49]=$,e[50]=Pe):Pe=e[50],b.useEffect(ue,Pe);let Ue;e[51]!==oe?(Ue=()=>{oe?Yt({forceFlushSync:!0,className:yo,update:()=>{d(!0),p(!1)}}).finished.then(()=>{d(!1)}):p(!1)},e[51]=oe,e[52]=Ue):Ue=e[52];const J=Ue;let ne;e[53]!==R||e[54]!==F?(ne=[F,R],e[53]=R,e[54]=F,e[55]=ne):ne=e[55];let q;e[56]===Symbol.for("react.memo_cache_sentinel")?(q=[0,1],e[56]=q):q=e[56];const G=io(W,ne,q);let ke;e[57]===Symbol.for("react.memo_cache_sentinel")?(ke=n.jsx(bl,{},"blur"),e[57]=ke):ke=e[57];let _e;e[58]!==t||e[59]!==E||e[60]!==ce||e[61]!==O||e[62]!==K?(_e=K&&n.jsx(_l,{clientThreadId:t,bottom:E!=null?E:0,onClick:ce,pinnedWidgetType:O},"loading-bar"),e[58]=t,e[59]=E,e[60]=ce,e[61]=O,e[62]=K,e[63]=_e):_e=e[63];let De;e[64]!==G||e[65]!==J||e[66]!==f?(De=f&&n.jsx(Et.div,{initial:{opacity:0},animate:{opacity:G.get()},style:{opacity:G},exit:{opacity:0},className:"bg-token-bg-primary/50 pointer-events-auto fixed inset-0 top-(--header-height) opacity-0 backdrop-blur-xs",onClick:J},"drag-overlay"),e[64]=G,e[65]=J,e[66]=f,e[67]=De):De=e[67];let ve;e[68]!==r||e[69]!==ce||e[70]!==f||e[71]!==k.showLoadingBar$||e[72]!==V?(ve=!f&&V&&n.jsx(ju,{zIndex:1,conversation:r,onClick:ce,onReveal:()=>{Yt({forceFlushSync:!0,className:gn,update:()=>{k.showLoadingBar$.set(!1)}})}},"last-message-banner"),e[68]=r,e[69]=ce,e[70]=f,e[71]=k.showLoadingBar$,e[72]=V,e[73]=ve):ve=e[73];let Ee;e[74]!==De||e[75]!==ve?(Ee=n.jsxs(Xt,{children:[De,ve]}),e[74]=De,e[75]=ve,e[76]=Ee):Ee=e[76];let Ie;e[77]!==ce||e[78]!==f||e[79]!==ie||e[80]!==X?(Ie=!f&&n.jsx(bs,{className:Re("pointer-events-auto absolute start-0 end-0 top-0 z-[100] flex -translate-y-full justify-center pb-2 opacity-0 transition-opacity hover:opacity-100",ie&&"opacity-100"),children:n.jsx("button",{onClick:ce,className:Re("text-token-text-secondary border-token-border-default bg-token-bg-primary/50 relative z-30 flex cursor-pointer items-center justify-center rounded-full border bg-clip-padding backdrop-blur-md after:absolute after:-inset-2 after:content-['']",X==="large"?"h-8 w-8":"h-6 w-6"),children:n.jsx(gl,{className:"icon-sm text-token-text-primary"})})},"open-button"),e[77]=ce,e[78]=f,e[79]=ie,e[80]=X,e[81]=Ie):Ie=e[81];let le;e[82]!==W||e[83]!==M||e[84]!==r||e[85]!==B||e[86]!==x||e[87]!==J||e[88]!==Te||e[89]!==c||e[90]!==h||e[91]!==f||e[92]!==C||e[93]!==y||e[94]!==R||e[95]!==F||e[96]!==o||e[97]!==$||e[98]!==Q||e[99]!==se||e[100]!==L||e[101]!==T?(le=(f||h)&&n.jsx("div",{tabIndex:-1,ref:g,className:Re(h?"invisible":"[view-transition-name:fullscreen-popover-thread]","pointer-events-none absolute inset-x-0 bottom-0 mx-auto flex items-center justify-center rounded-3xl focus:ring-0 focus:outline-hidden focus-visible:ring-0 focus-visible:outline-hidden md:bottom-6"),role:"dialog","aria-modal":"true",onClick:Uu,children:n.jsx(bs,{children:n.jsxs("div",{className:"relative overflow-visible",children:[n.jsx(Du,{onDoubleClick:()=>{cn(Q,(W.get()===R?F:R)/T,hn)},onDragStart:()=>B.set(0),onDragEnd:we=>{const{velocity:je}=we,{y:Qe}=je,it=Wu(-Qe,F,R,W.get());cn(Q,(it===R?R:F)/T,hn),cn(B,0,hn)},onDrag:we=>{const{delta:je}=we,{y:Qe}=je;return B.set(B.get()+Qe)}}),n.jsxs("div",{className:"bg-token-bg-primary shadow-long pointer-events-auto mx-0 flex overflow-hidden rounded-t-3xl backdrop-blur-2xl md:-mx-2! md:rounded-[34px]",children:[se&&n.jsx("button",{"aria-label":c.formatMessage({id:"wJKLgG",defaultMessage:"Close"}),className:"dark:bg-token-bg-secondary dark:hover:bg-token-bg-tertiary text-token-text-primary absolute end-4 top-4 z-30 flex h-8 w-8 items-center justify-center rounded-full bg-black/5 transition-opacity hover:bg-black/10",onClick:we=>{we.stopPropagation(),J()},type:"button",children:n.jsx(Lo,{className:"icon"})}),n.jsx(Et.div,{ref:l,className:Re("relative flex w-full overflow-y-auto",$?"flex-col":"flex-col-reverse"),style:{height:W,paddingBottom:M!=null?M:0,WebkitMaskImage:"linear-gradient(to bottom, black 0, black calc(100% - 64px), transparent calc(100% - 40px), transparent 100%)",maskImage:"linear-gradient(to bottom, black 0, black calc(100% - 64px), transparent calc(100% - 40px), transparent 100%)"},onScroll:()=>{$&&(!C||!l.current||u.current.set(C,l.current.scrollTop))},children:n.jsx("div",{onCopy:Te,className:"flex flex-col ps-7 pe-12 pt-4 text-sm",children:n.jsx(Sl,{children:n.jsx(ia,{surface:"popover",children:L?C&&n.jsx(ud,{isFinalTurn:!0,turnIndex:y,conversation:r,onRequestCompletion:o,dateHeaderType:x(y),hideUserActions:!0,disableHorizontalPadding:!0},C):n.jsx(md,{conversation:r,onRequestCompletion:o,disableScrollToMessage:!0,hideUserActions:!0,disableHorizontalPadding:!0})})})})})]})]})})},"popover-thread"),e[82]=W,e[83]=M,e[84]=r,e[85]=B,e[86]=x,e[87]=J,e[88]=Te,e[89]=c,e[90]=h,e[91]=f,e[92]=C,e[93]=y,e[94]=R,e[95]=F,e[96]=o,e[97]=$,e[98]=Q,e[99]=se,e[100]=L,e[101]=T,e[102]=le):le=e[102];let Fe;return e[103]!==_e||e[104]!==Ee||e[105]!==Ie||e[106]!==le?(Fe=n.jsxs(n.Fragment,{children:[ke,_e,Ee,Ie,le]}),e[103]=_e,e[104]=Ee,e[105]=Ie,e[106]=le,e[107]=Fe):Fe=e[107],Fe},Bu=({latestTurnId:s,latestTurnHasDisplayableMessages:e,showPreviewBanner:t,onAutoOpen:o})=>{const i=b.useRef(null),a=b.useRef(null),r=b.useRef(null);b.useEffect(()=>{const c=r.current;if(r.current=t,!s){i.current=null,a.current=null;return}if(c===null||c&&!t){i.current=s,a.current=null;return}s!==i.current&&(i.current=s,a.current=t?null:s),!t&&a.current===s&&e&&(a.current=null,o())},[e,s,o,t])},Du=s=>{"use forget";const e=be.c(17),{onDrag:t,onDragEnd:o,onDoubleClick:i,onDragStart:a,onPointerUp:r}=s;let c,g,l,m;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={opacity:1},g={opacity:1},l={type:"tween",duration:.1},m={x:0,y:0,transform:"translateY(0px)"},e[0]=c,e[1]=g,e[2]=l,e[3]=m):(c=e[0],g=e[1],l=e[2],m=e[3]);let u;e[4]!==a?(u=()=>{a==null||a()},e[4]=a,e[5]=u):u=e[5];let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f={left:0,right:0,top:0,bottom:0},e[6]=f):f=e[6];let p;e[7]!==t?(p=(S,_)=>{t==null||t(_)},e[7]=t,e[8]=p):p=e[8];let h;e[9]!==o?(h=(S,_)=>o==null?void 0:o(_),e[9]=o,e[10]=h):h=e[10];let d;return e[11]!==i||e[12]!==r||e[13]!==u||e[14]!==p||e[15]!==h?(d=n.jsx(Et.div,{drag:"y",tabIndex:-1,className:"bg-token-border-default pointer-events-auto absolute start-10 end-10 top-0 z-10 h-[4px] cursor-ns-resize rounded-b-full opacity-0 after:absolute after:inset-0 after:top-[-18px] after:h-[28px] after:bg-transparent after:content-['']",whileHover:c,whileDrag:g,transition:l,style:m,onPointerDown:u,dragMomentum:!1,dragSnapToOrigin:!1,dragElastic:!1,dragConstraints:f,onDrag:p,onPointerUp:r,onDragEnd:h,onDoubleClick:i}),e[11]=i,e[12]=r,e[13]=u,e[14]=p,e[15]=h,e[16]=d):d=e[16],d};function Wu(s,e,t,o){if(!(e<=t))throw new Error("min must be <= max");const i=.25,a=8,r=24,c=1200,g=Math.abs(o-e)<=Math.abs(o-t)?e:t,l=o+s*i,m=Math.abs(l-e)<=Math.abs(l-t)?e:t;if(m===g)return g;const u=(g+m)/2,f=Math.sign(m-g)||1,p=u+f*a;if(!(f>0?l>=p:l<=p))return g;const d=Math.abs(s),S=Math.min(d/c,1),_=r*(1-S*S);return Math.abs(l-g)-Math.abs(l-m)<_?g:m}function zu(s){return[Ke.getConversationTurnIds(s),Ke.getConversationLastTurn(s)]}function Gu(){return yl().height}function Uu(s){return s.stopPropagation()}const Vu=En({subtitle:{id:"starter-prompt-banner.subtitle",defaultMessage:"Just add a picture — ChatGPT will do the rest. <tryNow>Try now</tryNow>"}});function qu(){"use forget";const[s]=Bo("oai/apps/hasDismissedStarterPromptBanner",!1,Yu);return!s}function Yu(s){return typeof s=="boolean"}function Ku(s){"use forget";var oe;const e=be.c(35),{className:t}=s,o=an(),i=na(),[a,r]=Bo("oai/apps/hasDismissedStarterPromptBanner",!1,Xu),c=wa(),g=vl(),u=Ca(!1).get("image_gen_prompts_type","evergreen")==="trending"?g:c;let f;e[0]!==u?(f=u.filter(Ju),e[0]=u,e[1]=f):f=e[1];const p=f,h=p[Math.floor(Math.random()*p.length)];let d,S;e[2]!==h?(d=()=>{var X;h&&Kt.logEventWithStatsig("Show Image Gen Prompt","chatgpt_prompt_show_suggestion",{type:h.type,id:h.id,index:0,theme:(X=h.theme)!=null?X:""})},S=[h],e[2]=h,e[3]=d,e[4]=S):(d=e[3],S=e[4]),b.useEffect(d,S);const _=$n();if(!h)return null;let v;e[5]!==h?(v=[h],e[5]=h,e[6]=v):v=e[6];const C=v,y=_,x=h.title,T=(oe=h.coverImageUrl)!=null?oe:h.coverThumbnailImageUrl;let w;e[7]!==C||e[8]!==o||e[9]!==y||e[10]!==i||e[11]!==h?(w=X=>{var se;if(y){X.preventDefault();return}if(X.stopPropagation(),h.requires_file_upload===!0&&((se=h.systemHints)==null?void 0:se.includes(It.PictureV2))){i(X,h,C,0);return}o(X,h,C,0)},e[7]=C,e[8]=o,e[9]=y,e[10]=i,e[11]=h,e[12]=w):w=e[12];const M=w;if(a)return null;let j;e[13]!==t?(j=Re("relative",t),e[13]=t,e[14]=j):j=e[14];const E=y?"opacity-60":"";let A;e[15]!==E?(A=Re("border-token-border-default bg-tertiary flex w-full items-center gap-3 rounded-2xl border shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)]",E),e[15]=E,e[16]=A):A=e[16];let k;e[17]!==T?(k=T?n.jsx("div",{className:"py-3 ps-3",children:n.jsx("div",{className:"border-token-border-default borde h-14 w-14 -rotate-2 overflow-hidden rounded-xl p-0.5 shadow-lg",children:n.jsx("img",{src:T,alt:"","aria-hidden":"true",className:"h-full w-full rounded-lg object-cover"})})}):null,e[17]=T,e[18]=k):k=e[18];let U;e[19]!==x?(U=n.jsx("div",{className:"text-token-text-primary truncate text-sm leading-5 font-medium sm:text-base",children:x}),e[19]=x,e[20]=U):U=e[20];let z;e[21]===Symbol.for("react.memo_cache_sentinel")?(z=n.jsx("div",{className:"text-token-text-secondary mt-1 text-xs leading-5 sm:text-sm",children:n.jsx(St,Ye(fe({},Vu.subtitle),{values:{tryNow:Qu}}))}),e[21]=z):z=e[21];let N;e[22]!==U?(N=n.jsxs("div",{className:"min-w-0 flex-1 py-3 text-start",children:[U,z]}),e[22]=U,e[23]=N):N=e[23];let O;e[24]!==r?(O=n.jsx(Oi,{className:"me-1 mt-1 self-start",iconSize:"md",onClick:X=>{X.stopPropagation(),r(!0)}}),e[24]=r,e[25]=O):O=e[25];let Y;e[26]!==M||e[27]!==N||e[28]!==O||e[29]!==A||e[30]!==k?(Y=n.jsxs("div",{role:"button",tabIndex:0,className:A,onClick:M,children:[k,N,O]}),e[26]=M,e[27]=N,e[28]=O,e[29]=A,e[30]=k,e[31]=Y):Y=e[31];let I;return e[32]!==Y||e[33]!==j?(I=n.jsx("div",{className:j,children:Y}),e[32]=Y,e[33]=j,e[34]=I):I=e[34],I}function Qu(s){return n.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-500 sm:text-sm dark:text-blue-400",children:n.jsx("span",{children:s})})}function Ju(s){var e;return(e=s.systemHints)==null?void 0:e.includes(It.PictureV2)}function Xu(s){return typeof s=="boolean"}const Zu=sn(()=>Xs(()=>import("./6b630373-2jzwiexvfug90jgv.js"),__vite__mapDeps([0,1,2,3,4,5])).then(s=>s.AgentConnectorsSafetyModal)),Ra=200,Sn=En({personalizeReplies:{id:"TemporaryChat.personalizeReplies",defaultMessage:"Personalize replies"},personalizeRepliesTooltip:{id:"TemporaryChat.personalizeReplies.tooltip",defaultMessage:"Memory, chat history, and style & tone preferences will be used to personalize your replies."}}),em=s=>{"use forget";const e=be.c(152),{conversation:t,isNewThread:o,isGizmoThread:i,isProjectThread:a,currentModelId:r,onRequestCompletion:c,shouldUseUnifiedComposer:g,onlyAllowImageUploads:l,isWidgetFullScreen:m,layoutMode:u,shouldShowDeepResearchDesktopContent:f,pulseOnboardingEntrypoint:p,cocoonEntrypointResponse:h}=s,d=m===void 0?!1:m,S=f===void 0?!1:f,_=P(sm),{height$:v}=Ks(t),C=P(xs),y=vs(),x=Pn().pathname,T=x!=null?x:void 0;let w;e[0]!==T?(w=Hi(T),e[0]=T,e[1]=w):w=e[1];const M=w,j=ra(t.id).isOdysseyMode,E=Do(),A=Hn(),k=Fi(),U=zt();let z;e[2]===Symbol.for("react.memo_cache_sentinel")?(z=Es(),e[2]=z):z=e[2];const N=z,O=P(nm);let Y;e[3]===Symbol.for("react.memo_cache_sentinel")?(Y=nt("2322626856"),e[3]=Y):Y=e[3];const I=Y,{data:oe}=Ws(Cs.Sunshine),{data:X}=Ws(Cs.Moonshine),{data:L,isLoading:se}=Ws(Cs.IsMemoryEnabledForTempChat),V=Li(!0);Cl(y);const re=Bi(xs);let $;e[4]===Symbol.for("react.memo_cache_sentinel")?($=jn(),e[4]=$):$=e[4];const H=$,D=P(Be.contextCollection$),K=P(Be.activeTabContextItemIds$),F=P(Be.sidebarUrlTrayOpen$),R=P(Be.context$);let B;e[5]!==K||e[6]!==D?(B=To(D,K),e[5]=K,e[6]=D,e[7]=B):B=e[7];const Q=B,te=!!D;let ae;e[8]!==K||e[9]!==D||e[10]!==R||e[11]!==te?(ae=H&&te?bo(D,K):R,e[8]=K,e[9]=D,e[10]=R,e[11]=te,e[12]=ae):ae=e[12];const W=ae,Se=_s();let he;e[13]!==r?(he=r!=null&&Di({id:r}),e[13]=r,e[14]=he):he=e[14];const Te=he,ye=re?H&&te?Q.length>0:F&&!!W:!1,ee=Gn();let xe;e[15]===Symbol.for("react.memo_cache_sentinel")?(xe=yt("1925940714"),e[15]=xe):xe=e[15];const ce=xe,ie=P(om),{platformConnectors:Oe}=Wi(),Xe=ta(Cn.hasSeenOdysseyConnectorsModal),He=jt(t.id,rm);let ue;e[16]!==t?(ue=()=>Yi(t),e[16]=t,e[17]=ue):ue=e[17];const Pe=P(ue),Ue=Un(),J=Ln(),ne=jt(t.id,Ke.hasUserMessage);let q;e[18]!==t?(q=()=>Is(t).showLoadingBar$(),e[18]=t,e[19]=q):q=e[19];const G=P(q);let ke;e[20]!==He||e[21]!==Pe||e[22]!==J||e[23]!==Ue||e[24]!==d||e[25]!==G?(ke=(Ue||J)&&He||d&&G||!Pt()&&Pe,e[20]=He,e[21]=Pe,e[22]=J,e[23]=Ue,e[24]=d,e[25]=G,e[26]=ke):ke=e[26];const _e=ke,De=L!=null?L:!1,ve=V.isPending;let Ee;e[27]!==ne||e[28]!==X||e[29]!==oe||e[30]!==O?(Ee=O&&I&&Pt()&&!ne&&(X===!0||oe===!0),e[27]=ne,e[28]=X,e[29]=oe,e[30]=O,e[31]=Ee):Ee=e[31];const Ie=Ee,[le,Fe]=b.useState(!1);let Ve,we;e[32]!==Ie?(Ve=()=>{if(!Ie){Fe(!1);return}const de=window.setTimeout(()=>{Fe(!0)},Ra);return()=>window.clearTimeout(de)},we=[Ie],e[32]=Ie,e[33]=Ve,e[34]=we):(Ve=e[33],we=e[34]),b.useEffect(Ve,we);const je=Ie&&le;let Qe;e[35]!==Se||e[36]!==t.id||e[37]!==W||e[38]!==ye?(Qe=async()=>{if(!ye)return;const de=Se?[Se]:[];if(de.includes(It.Agent))return;const Ce=typeof performance<"u"?lm:cm,Me=Ce();try{const ge=await Ki(W,Dn,de,t.id),me=Math.round(Ce()-Me);if(ge!=null){let Z=1;Array.isArray(ge)&&(Z=ge.length),Kt.logEventWithStatsig("kaur1br5: Sidebar context collected","chatgpt_sidebar_context_collected",{duration_ms:me,count:Z})}else Kt.logEventWithStatsig("kaur1br5: Sidebar context collection failure","chatgpt_sidebar_context_collection_failure",{duration_ms:me,failure_reason:"null"});return ge}catch(ge){const me=ge,Z=Math.round(Ce()-Me),Le=me instanceof nr;Kt.logEventWithStatsig("kaur1br5: Sidebar context collection failure","chatgpt_sidebar_context_collection_failure",fe({duration_ms:Z,failure_reason:Le?"timeout":"error"},me instanceof Error?{error_message:me.message}:me?{error_message:String(me)}:{}));return}},e[35]=Se,e[36]=t.id,e[37]=W,e[38]=ye,e[39]=Qe):Qe=e[39];let it;e[40]!==ye?(it=()=>ye||!ce.get("completion_request_blocking_promise_optimization",!1),e[40]=ye,e[41]=it):it=e[41],Tl(Qe,it);const vt=zi();let rt;if(e[42]!==Se||e[43]!==Xe||e[44]!==t.id||e[45]!==W||e[46]!==Te||e[47]!==te||e[48]!==U||e[49]!==re||e[50]!==vt||e[51]!==j||e[52]!==c||e[53]!==F||e[54]!==Oe||e[55]!==ye||e[56]!==k||e[57]!==Q){rt=async Me=>{var Dt,Gt,Ut,Ns,Wt,Zt,es,ts;if(((Dt=Po(t.id))==null?void 0:Dt.isLoading)!==!1)return;const ge=new Set(Me.systemHints);Te&&ge.add(It.Glaux);const me=await Ll(Ye(fe({},Me),{systemHints:[...ge]})),Z=Ce((Ut=(Gt=me.promptMessage.metadata)==null?void 0:Gt.attachments)!=null?Ut:[]);if(vt&&Z){const{promptMessage:kt,parentMessageId:Mt}=me;return Bl.debug("Relaying message to voice participant"),Dl({type:"RELAY",message:kt,parentMessageId:Mt})}const Le=(Wt=(Ns=me.completionMetadata)==null?void 0:Ns.systemHints)==null?void 0:Wt.includes(_n),Ot=Array.from((Zt=Me.selectedSources)!=null?Zt:[]).filter(dm)[0];if(Le&&Ot&&Xe.eligible){const kt=(es=Qi[Ot])!=null?es:Ot,Mt=Oe.get(kt);if(Mt){ks(Zu,{connector:Mt,onConfirm:()=>{Wl(Cn.hasSeenOdysseyConnectorsModal),c(me)},onTurnOffConnectors:()=>{hs(t.id,gt=>{gt.selectedSources==null&&(gt.selectedSources=new Map),gt.selectedSources.set(Se,new Set(["web"])),gt.selectedMCPSources==null&&(gt.selectedMCPSources=new Map),gt.selectedMCPSources.set(Se,new Set),gt.mentionedSources=new Set,Ji({selectedSourcesMap:gt.selectedSources,selectedMCPSourcesMap:gt.selectedMCPSources,scope:{userId:N==null?void 0:N.authUserId,workspaceId:N==null?void 0:N.id}})})}});return}}if(re){const kt=!!W,Mt=H&&te?Q.length>0:F;ye&&(!kt||!Mt)&&Xi.error("Missing context chip on message send",{clientThreadId:t.id,hasSidebarContext:kt,isContextChipOpen:Mt,isBridgedDesktopSidebar:re,shouldCollectSidebarContext:ye}),(ts=Zi())==null||ts.triggerProductEvent("messageSent")}Z&&c(me)};let de;e[59]!==U||e[60]!==j||e[61]!==k?(de=Me=>{let ge=tr;const me=Me.reduce(um,0);j&&(ge=er("1504865540").get("max_file_size_mb",25));const Z=me<=ge*1024*1024;return Z||k.danger(U.formatMessage({id:"odyssey.fileTooLarge",defaultMessage:"The attached files are too large. The maximum size is {maxFileSizeMB}MB."},{maxFileSizeMB:ge})),Z},e[59]=U,e[60]=j,e[61]=k,e[62]=de):de=e[62];const Ce=de;e[42]=Se,e[43]=Xe,e[44]=t.id,e[45]=W,e[46]=Te,e[47]=te,e[48]=U,e[49]=re,e[50]=vt,e[51]=j,e[52]=c,e[53]=F,e[54]=Oe,e[55]=ye,e[56]=k,e[57]=Q,e[58]=rt}else rt=e[58];let lt;e[63]!==c?(lt=de=>{Kt.logEvent("Continue Completion"),c(zl(de))},e[63]=c,e[64]=lt):lt=e[64];const We=lt,qe=wl.useState(mm);let ct;e[65]!==t.id?(ct={clientThreadId:t.id},e[65]=t.id,e[66]=ct):ct=e[66];const Ft=Gi(ct);let ot;e[67]!==t.id?(ot={clientThreadId:t.id},e[67]=t.id,e[68]=ot):ot=e[68];const Ct=Ui(ot),ze=Vn();let Tt;e[69]!==ze||e[70]!==o?(Tt=()=>Qs()&&ze.visible$()&&!qs()&&o,e[69]=ze,e[70]=o,e[71]=Tt):Tt=e[71];const Lt=P(Tt),Nt=P(fm);if(Ft){let de;return e[72]!==Ct?(de=n.jsx(Gl,{safetyLimited:Ct}),e[72]=Ct,e[73]=de):de=e[73],de}const Ge=o&&!i,Rt=S?"70px":void 0;let Bt;e[74]!==Rt?(Bt={"--deep-research-composer-extra-height":Rt},e[74]=Rt,e[75]=Bt):Bt=e[75];const wt=Bt;let dt;e[76]!==t.id?(dt=n.jsx(Al,{clientThreadId:t.id}),e[76]=t.id,e[77]=dt):dt=e[77];const At=Tn,xt=wn({axis:"height",onChange:de=>{const{height:Ce}=de;return v.set(Ce)}}),Ze=re?"none":"standard";let ut;e[78]!==y||e[79]!==t.id||e[80]!==d||e[81]!==c?(ut=d&&n.jsx(Lu,{clientThreadId:t.id,composerController:y,onRequestCompletion:c}),e[78]=y,e[79]=t.id,e[80]=d,e[81]=c,e[82]=ut):ut=e[82];const $t=C?"w-full max-w-full":"mb-4";let mt;e[83]!==$t?(mt=Re($t),e[83]=$t,e[84]=mt):mt=e[84];let ft;e[85]!==_||e[86]!==ie?(ft=_&&n.jsx(Xt,{mode:"popLayout",children:ie&&n.jsx(Ul,{taskId:ie},ie)}),e[85]=_,e[86]=ie,e[87]=ft):ft=e[87];let bt;e[88]!==Nt?(bt=Nt&&n.jsx(nn,{children:n.jsx("div",{className:"mb-4 sm:hidden",children:n.jsx(pa,{})})}),e[88]=Nt,e[89]=bt):bt=e[89];let pt;e[90]!==h||e[91]!==t||e[92]!==r||e[93]!==We||e[94]!==rt||e[95]!==o||e[96]!==a||e[97]!==qe||e[98]!==u||e[99]!==l||e[100]!==p||e[101]!==_e||e[102]!==Ge?(pt=qe?n.jsx(kl,{clientThreadId:t.id},t.id):_e?n.jsx("div",{className:"pointer-events-none h-14"}):n.jsx(id,{conversation:t,currentModelId:r,isNewThread:o,isProjectThread:a,hideHeader:Ge,onRequestCompletion:rt,onContinueGenerating:We,onlyAllowImageUploads:l,layoutMode:u,pulseOnboardingEntrypoint:p,cocoonEntrypointResponse:h}),e[90]=h,e[91]=t,e[92]=r,e[93]=We,e[94]=rt,e[95]=o,e[96]=a,e[97]=qe,e[98]=u,e[99]=l,e[100]=p,e[101]=_e,e[102]=Ge,e[103]=pt):pt=e[103];let et;e[104]!==U||e[105]!==De||e[106]!==se||e[107]!==ve||e[108]!==_e||e[109]!==je||e[110]!==V?(et=!_e&&n.jsx(Xt,{initial:!1,children:je&&n.jsx(Et.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2,ease:"easeInOut"},className:"mt-8 flex justify-center",children:n.jsxs("div",{className:"text-token-text-secondary flex items-center gap-2 text-sm",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx(Vi,{withinLabel:!0,size:"normal",checked:De,disabled:se||ve,onCheckedChange:de=>{V.mutate({setting:Cs.IsMemoryEnabledForTempChat,value:de})},"data-testid":"temp-chat-personalize-replies-toggle"}),n.jsx(St,fe({},Sn.personalizeReplies))]}),n.jsx($o,{triggerAs:null,side:"bottom",sideOffset:8,label:n.jsx(St,fe({},Sn.personalizeRepliesTooltip)),children:n.jsx("button",{type:"button","aria-label":U.formatMessage(Sn.personalizeRepliesTooltip),className:"text-token-text-secondary focus-visible:ring-token-text-primary rounded-full focus-visible:ring-2 focus-visible:ring-offset-2",children:n.jsx(qi,{className:"h-4 w-4","aria-hidden":!0})})})]})},"temp-chat-personalize-replies-toggle")}),e[104]=U,e[105]=De,e[106]=se,e[107]=ve,e[108]=_e,e[109]=je,e[110]=V,e[111]=et):et=e[111];let _t;e[112]!==wt||e[113]!==mt||e[114]!==ft||e[115]!==bt||e[116]!==pt||e[117]!==et?(_t=n.jsxs(bs,{className:mt,style:wt,children:[ft,bt,pt,et]}),e[112]=wt,e[113]=mt,e[114]=ft,e[115]=bt,e[116]=pt,e[117]=et,e[118]=_t):_t=e[118];let at;e[119]!==At||e[120]!==xt||e[121]!==Ze||e[122]!==ut||e[123]!==_t?(at=n.jsxs(At,{ref:xt,verticalMargin:"none",verticalPadding:E?"last-standard":"none",horizontalPadding:Ze,children:[ut,_t]}),e[119]=At,e[120]=xt,e[121]=Ze,e[122]=ut,e[123]=_t,e[124]=at):at=e[124];let tt;e[125]!==dt||e[126]!==at?(tt=n.jsxs(n.Fragment,{children:[dt,at]}),e[125]=dt,e[126]=at,e[127]=tt):tt=e[127];const ht=tt;let st;e[128]!==t||e[129]!==C||e[130]!==Ge||e[131]!==Lt?(st=Ge&&n.jsx("div",{className:Re("[display:var(--display-hidden-until-loaded,block)] md:absolute md:start-0 md:bottom-8 md:w-full"),children:n.jsx(Tn,{verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard",children:n.jsx(bs,{className:Re(C&&"w-full max-w-full"),children:n.jsx(rd,{className:"block flex-1",suggestedContent:Lt?n.jsx(ja,{conversation:t}):void 0})})})}),e[128]=t,e[129]=C,e[130]=Ge,e[131]=Lt,e[132]=st):st=e[132];const Je=st;if(g){const de=!A&&Je;let Ce;e[133]!==ht?(Ce=n.jsx("div",{id:"thread-bottom",children:ht}),e[133]=ht,e[134]=Ce):Ce=e[134];let Me;e[135]!==t||e[136]!==r||e[137]!==ee||e[138]!==i||e[139]!==o||e[140]!==j||e[141]!==M||e[142]!==a||e[143]!==S?(Me=o&&!i&&!M&&!j&&!ee&&!a&&!S&&n.jsx(tm,{conversation:t,clientThreadId:t.id,currentModelId:r}),e[135]=t,e[136]=r,e[137]=ee,e[138]=i,e[139]=o,e[140]=j,e[141]=M,e[142]=a,e[143]=S,e[144]=Me):Me=e[144];let ge;e[145]!==Ce||e[146]!==Me?(ge=n.jsxs(sr,{children:[Ce,Me]}),e[145]=Ce,e[146]=Me,e[147]=ge):ge=e[147];const me=A&&Je;let Z;return e[148]!==de||e[149]!==ge||e[150]!==me?(Z=n.jsxs(n.Fragment,{children:[de,ge,me]}),e[148]=de,e[149]=ge,e[150]=me,e[151]=Z):Z=e[151],Z}return ht},tm=({clientThreadId:s,currentModelId:e,conversation:t})=>{const o=On(),i=vs(),a=Vn(),r=P(()=>Qs()&&a.visible$()&&qs()),c=P(()=>Wn(i).shouldShowAutocomplete$()&&!a.visible$()),g=da(),l=va({shouldBeEnabledForDefaultAssistant:!0,clientThreadId:s}),m=qu(),u=P(()=>Vs()),[f,p]=b.useState(()=>!u);b.useEffect(()=>{if(u){p(!1);return}const x=window.setTimeout(()=>{p(!0)},Ra);return()=>window.clearTimeout(x)},[u]),b.useEffect(()=>{Qs()&&aa.prefetch()},[]);const{shouldShow:h}=Ml({clientThreadId:s,canShowBanner:!1}),{shouldShow:d}=Il({canShowBanner:!h}),S=P(()=>!h&&!d&&ca()),_=Pl({clientThreadId:t.id,isNewThread:!0}),v=nt("4087025484"),C=P(()=>{if(Vs()||Bn()||!ua()||_)return;const{data:x}=ma(o,{useCache:!v});if(x&&x.is_fresh)return v&&x.onboarding_status!==fa.FINISHED_WITH_FEED?void 0:x;if(x&&x.is_nux)return x}),y=Js();return n.jsxs("div",{className:Re(c&&"hidden"),children:[n.jsx(Tn,{verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard",children:n.jsxs(bs,{children:[!g&&n.jsxs(n.Fragment,{children:[n.jsx(Et.div,{initial:!1,animate:{opacity:f?1:0},transition:{duration:.2,ease:"easeInOut"},className:Re(!f&&"pointer-events-none"),"aria-hidden":!f,inert:!f,children:n.jsx(El,{clientThreadId:s})},"connector-pill"),C&&n.jsx(jl,{pulseId:C.id,caption:C.caption,previewImages:C.preview_items.map(x=>Nl(x.image_url)),onClick:()=>y("/pulse")})]}),r&&n.jsx(ja,{conversation:t}),l==="tiles"||l==="hscroll"?e&&s?n.jsx(Ta,{className:"mt-[24.5px] max-sm:hidden",layout:"carousel",clientThreadId:s,currentModelId:e}):null:l==="image_gen_banner"&&m?n.jsx("div",{className:"mt-16 flex justify-center max-sm:hidden",children:n.jsx(Ku,{})}):l==="chips"?e&&n.jsx(ld,{clientThreadId:s,currentModelId:e}):l==="use-case-styles"?n.jsx(Ia,{className:"mt-[24.5px] max-sm:hidden",clientThreadId:s,currentModelId:e}):null,h&&n.jsx("div",{className:"hidden justify-center pt-8 sm:flex",children:n.jsx(Rl,{})}),!h&&d&&n.jsx("div",{className:"hidden justify-center pt-8 sm:flex",children:n.jsx($l,{})}),S&&n.jsx(nn,{children:n.jsx("div",{className:"hidden sm:block",children:n.jsx(pa,{})})})]})}),g&&n.jsxs("div",{className:"@w-sm/main:flex mt-5 hidden flex-col gap-2",children:[n.jsx(Ol,{}),n.jsx(Hl,{}),n.jsx(Fl,{})]})]})};function sm(){return la()}function nm(){return Vs()}function om(){if(la()===!0)return Ps().selectedTaskReplyId$()}function am(s){var e;return(e=s.metadata)==null?void 0:e.n7jupd_message}function im(s){return s.messages.some(am)}function rm(s){return Ke.getConversationTurns(s).some(im)}function lm(){return performance.now()}function cm(){return Date.now()}function dm(s){return s!=="web"}function um(s,e){var t;return s+((t=e.size)!=null?t:0)}function mm(s){return s.isReplayEnabled}function fm(){return ca()}function pm(s){"use forget";const e=be.c(137),{conversation:t,withCustomCompletionParams:o,hideDisclaimer:i,renderEmptyState:a,renderEmptyFooter:r,scrollContainerRef:c,isScrolledFromBottom$:g,footerRootContainerElementRef:l,onDeepResearchLandingPageContentHeightChange:m}=s,u=On(),f=ha(),p=ga(f),h=Gn(),d=Hn(),S=Wo(),_=Sa(t.id);let v;e[0]!==S?(v=Z=>[Ke.hasUserMessage(Z),Ke.getConversationTurns(Z).length,Ke.isArchived(Z),Z?Ke.getGizmoId(Z):S],e[0]=S,e[1]=v):v=e[1];const[C,y,x,T]=jt(t.id,v),w=b.use(Aa),M=P(bm),j=y>=2;let E;e[2]===Symbol.for("react.memo_cache_sentinel")?(E=zo(),e[2]=E):E=e[2];const A=E,k=P(xm),U=Un(),z=Ln(),{isOpen:N}=_a(),O=!!T;let Y;e[3]!==t.id||e[4]!==j||e[5]!==_||e[6]!==z||e[7]!==O||e[8]!==U||e[9]!==w?(Y=vn(t.id)&&!j&&(An(_)||(_==null?void 0:_.kind)===Go.GizmoTest)&&!U&&!z&&w==null&&(!A||O),e[3]=t.id,e[4]=j,e[5]=_,e[6]=z,e[7]=O,e[8]=U,e[9]=w,e[10]=Y):Y=e[10];const I=Y,oe=I&&!C&&w==null&&(!A||O||h);let X;e[11]!==t?(X=()=>Qo(t),e[11]=t,e[12]=X):X=e[12];const se=P(X).id;let V;e[13]!==t||e[14]!==se||e[15]!==o?(V=Z=>{var Ot,Dt,Gt;const Le=fe({conversation:t},o?o(Z):Z);if((Dt=(Ot=Le.completionMetadata)==null?void 0:Ot.systemHints)!=null&&Dt.some(ym)&&Bn()){const Ut=Jo((Gt=Le.requestedModelId)!=null?Gt:se);Ut&&(Le.requestedModelId=Ut)}Yn(Le)},e[13]=t,e[14]=se,e[15]=o,e[16]=V):V=e[16];const re=Jt(V);let $;e[17]!==I||e[18]!==re?($=Z=>{I&&!Xo()&&!A&&Zo("3253785454").get("should_animate_composer",!1)?Yt({className:js["composer-slide"],update:()=>re(Z)}):re(Z)},e[17]=I,e[18]=re,e[19]=$):$=e[19];const H=Jt($),D=Uo(T),K=oe&&!a&&D;let F;e[20]===Symbol.for("react.memo_cache_sentinel")?(F=Do(),e[20]=F):F=e[20];const R=F,B=Es(),Q=jt(t.id,Sm),te=D&&(Q==null?void 0:Q.id)!=null&&Q.id!==(B==null?void 0:B.normalizedAccountUserId);let ae;e[21]!==t?(ae=()=>ba(t).length>0,e[21]=t,e[22]=ae):ae=e[22];const W=P(ae),Se=B&&!B.isSelfServeBusiness()&&!B.isEnterprisey(),he=P(gm),[Te,ye]=b.useState(!1);let ee,xe;e[23]===Symbol.for("react.memo_cache_sentinel")?(xe=()=>{ye(!0)},ee=[],e[23]=ee,e[24]=xe):(ee=e[23],xe=e[24]),b.useEffect(xe,ee);const ce=!i&&!R&&!k&&!K&&!(A&&!d)&&!(I&&Se&&!he)&&An(_),ie=ra(t.id).isOdysseyMode,Oe=Vo(),Xe=b.useRef(null),He=l!=null?l:Xe,ue=!D,Pe=I,{isSingleLine:Ue}=P(hm),{file_uploads:J,image_uploads:ne}=Vl(),q=!qo(),G=Yo(),ke=Ys!=null&&Oe.has(Ys)&&G,_e=I&&ke&&d&&G,De=_e;let ve;e[25]!==m?(ve=wn({axis:"height",onChange:Z=>{const{height:Le}=Z;return m==null?void 0:m(Le)}}),e[25]=m,e[26]=ve):ve=e[26];const Ee=ve;let Ie;e[27]!==t?(Ie=()=>oc(t),e[27]=t,e[28]=Ie):Ie=e[28];const le=P(Ie);let Fe;e[29]!==t?(Fe=()=>{var Le;const Z=Is(t).pinnedChatSDK$();return!!((Le=Z==null?void 0:Z.metadata)!=null&&Le.hide_composer)},e[29]=t,e[30]=Fe):Fe=e[30];const Ve=P(Fe);let we;e[31]!==t?(we=()=>Is(t).pinnedWidgetType$(),e[31]=t,e[32]=we):we=e[32];const je=P(we),it=le&&(je==="deep-research"||!1||ke||Ve),vt=I&&!O&&!h&&!q?"center":"bottom",rt=!I||h;let lt;e[33]!==rt?(lt={skip:rt},e[33]=rt,e[34]=lt):lt=e[34];const{shouldShow:We,isLoading:qe}=ql(lt),ct=We&&!qe;let Ft;e[35]!==h||e[36]!==O||e[37]!==qe||e[38]!==I||e[39]!==ie||e[40]!==N||e[41]!==q||e[42]!==le||e[43]!==We?(Ft=Pt()&&I&&!h&&!le&&!N&&!q&&!O&&!A&&!dn()&&!qe&&!We&&!ie,e[35]=h,e[36]=O,e[37]=qe,e[38]=I,e[39]=ie,e[40]=N,e[41]=q,e[42]=le,e[43]=We,e[44]=Ft):Ft=e[44];const ot=Ft;let Ct;e[45]!==ot?(Ct=ot&&Yl("is_atlas_launch_announcement_banner_migrated"),e[45]=ot,e[46]=Ct):Ct=e[46];const ze=Ct;let Tt;e[47]===Symbol.for("react.memo_cache_sentinel")?(Tt=Kl(),e[47]=Tt):Tt=e[47];const[Lt]=b.useState(Tt);let Nt;e[48]!==ot||e[49]!==ze||e[50]!==Lt?(Nt=!ze&&Ql()&&!Jl()&&!Lt&&ot,e[48]=ot,e[49]=ze,e[50]=Lt,e[51]=Nt):Nt=e[51];const Ge=Nt;let Rt;e[52]===Symbol.for("react.memo_cache_sentinel")?(Rt=nt("4087025484"),e[52]=Rt):Rt=e[52];const Bt=Rt;let wt;e[53]!==Ge||e[54]!==u||e[55]!==h||e[56]!==O||e[57]!==qe||e[58]!==I||e[59]!==ie||e[60]!==N||e[61]!==q||e[62]!==le||e[63]!==We?(wt=()=>{if(!Bt||Ge||!(Pt()&&I&&!h&&!le&&!N&&!q&&!O&&!A&&!dn()&&!qe&&!We&&!ie)||!ua())return;const{data:Z}=ma(u,{useCache:!Bt});if((Z==null?void 0:Z.onboarding_status)===fa.NOT_STARTED)return Z},e[53]=Ge,e[54]=u,e[55]=h,e[56]=O,e[57]=qe,e[58]=I,e[59]=ie,e[60]=N,e[61]=q,e[62]=le,e[63]=We,e[64]=wt):wt=e[64];const dt=P(wt),At=or("cocoon");let xt;e[65]!==u||e[66]!==At||e[67]!==h||e[68]!==O||e[69]!==qe||e[70]!==I||e[71]!==ie||e[72]!==N||e[73]!==q||e[74]!==le||e[75]!==We?(xt=()=>{var Z,Le;if(!(!Pt()||!At||!I||h||le||N||q||O||A||dn()||qe||We||ie))return(Le=(Z=ac(u))==null?void 0:Z.data)!=null?Le:void 0},e[65]=u,e[66]=At,e[67]=h,e[68]=O,e[69]=qe,e[70]=I,e[71]=ie,e[72]=N,e[73]=q,e[74]=le,e[75]=We,e[76]=xt):xt=e[76];const Ze=P(xt);let ut;e[77]===Symbol.for("react.memo_cache_sentinel")?(ut=Xl(),e[77]=ut):ut=e[77];const{auraAnnouncementBannerState$:$t,setAuraAnnouncementBannerState:mt}=ut;let ft;e[78]===Symbol.for("react.memo_cache_sentinel")?(ft=()=>$t(),e[78]=ft):ft=e[78];const bt=P(ft);let pt,et;e[79]!==ze||e[80]!==Ge?(pt=()=>{!Ge&&!ze&&mt("not-shown")},et=[ze,Ge,mt],e[79]=ze,e[80]=Ge,e[81]=pt,e[82]=et):(pt=e[81],et=e[82]),b.useEffect(pt,et);const _t="thread-bottom-container",at=Re(!De&&"sticky bottom-0","group/thread-bottom-container relative isolate z-10 w-full basis-auto has-data-has-thread-error:pt-2 has-data-has-thread-error:[box-shadow:var(--sharp-edge-bottom-shadow)] md:border-transparent md:pt-0 dark:border-white/20 md:dark:border-transparent print:hidden",le&&"pointer-events-none",!I&&!le&&"content-fade",Ue&&"single-line",te&&"[--content-fade-height:110px]",te&&"[--content-fade-top:-110px]",W&&"[--content-fade-height:130px]",W&&"[--content-fade-top:-130px]",I&&"min-h-0",oe&&r&&"grow",O||D||!I?"":ue&&I&&!h&&"sm:grow",ue&&"flex flex-col",le&&"z-60",it&&"hidden",p);let tt;e[83]!==k||e[84]!==I||e[85]!==M||e[86]!==g||e[87]!==le||e[88]!==c?(tt=!I&&!k&&!M&&!le&&n.jsx(_m,{isScrolledFromBottom$:g,scrollContainerRef:c}),e[83]=k,e[84]=I,e[85]=M,e[86]=g,e[87]=le,e[88]=c,e[89]=tt):tt=e[89];let ht;e[90]!==Ze||e[91]!==vt||e[92]!==t||e[93]!==se||e[94]!==Ee||e[95]!==J||e[96]!==ne||e[97]!==x||e[98]!==O||e[99]!==I||e[100]!==N||e[101]!==D||e[102]!==d||e[103]!==le||e[104]!==H||e[105]!==dt||e[106]!==_e||e[107]!==ue||e[108]!==Pe?(ht=x?n.jsx(Zl,{clientThreadId:t.id}):n.jsxs(n.Fragment,{children:[(!I||ue)&&!N&&n.jsxs(n.Fragment,{children:[n.jsx(em,{isGizmoThread:O,isProjectThread:D,conversation:t,isNewThread:I,currentModelId:se,onRequestCompletion:H,shouldUseUnifiedComposer:ue,layoutMode:vt,isWidgetFullScreen:le,onlyAllowImageUploads:ne==="allowed"&&J!=="allowed",shouldShowDeepResearchDesktopContent:_e,pulseOnboardingEntrypoint:dt,cocoonEntrypointResponse:Ze}),d&&I&&nt("537200474")&&n.jsx(ec,{clientThreadId:t.id}),_e&&n.jsx("div",{ref:Ee,children:n.jsx(ya,{})})]}),Pe&&n.jsx(pu,{clientThreadId:t.id,isGizmoThread:O,isNewThread:I,isProjectThread:D})]}),e[90]=Ze,e[91]=vt,e[92]=t,e[93]=se,e[94]=Ee,e[95]=J,e[96]=ne,e[97]=x,e[98]=O,e[99]=I,e[100]=N,e[101]=D,e[102]=d,e[103]=le,e[104]=H,e[105]=dt,e[106]=_e,e[107]=ue,e[108]=Pe,e[109]=ht):ht=e[109];let st;e[110]!==bt||e[111]!==t||e[112]!==I||e[113]!==Te||e[114]!==ce?(st=ce&&n.jsx(Et.div,{initial:Te?{height:0,opacity:0,y:8}:!1,animate:{height:"auto",opacity:bt!=="not-shown"?0:1,y:0},exit:{height:0,opacity:0,y:8},transition:Te?{duration:.2,ease:"easeInOut"}:{duration:0},ref:wn({axis:"height",onChange:Z=>{const{height:Le}=Z;return Ks(t).marginBottom$.set(Le)}}),className:Re(I?"mt-auto":"-mt-4","text-token-text-secondary relative w-full overflow-hidden text-center text-xs [view-transition-name:var(--vt-disclaimer)] md:px-[60px]"),children:n.jsx("div",{className:"flex min-h-8 w-full items-center justify-center p-2",children:n.jsx(tc,{clientThreadId:t.id})})},"thread-disclaimer"),e[110]=bt,e[111]=t,e[112]=I,e[113]=Te,e[114]=ce,e[115]=st):st=e[115];let Je;e[116]!==st?(Je=n.jsx(Xt,{children:st}),e[116]=st,e[117]=Je):Je=e[117];const de=oe&&r;let Ce;e[118]!==ct?(Ce=ct&&n.jsx(ic,{}),e[118]=ct,e[119]=Ce):Ce=e[119];let Me;e[120]!==ze||e[121]!==Ge||e[122]!==Ze||e[123]!==t.id||e[124]!==ce?(Me=Ze===void 0&&n.jsxs(n.Fragment,{children:[Ge&&n.jsx(sc,{shouldShowDisclaimer:ce,clientThreadId:t.id}),ze&&n.jsx(nc,{shouldShowDisclaimer:ce,clientThreadId:t.id})]}),e[120]=ze,e[121]=Ge,e[122]=Ze,e[123]=t.id,e[124]=ce,e[125]=Me):Me=e[125];let ge;e[126]!==Me?(ge=n.jsx(nn,{children:Me}),e[126]=Me,e[127]=ge):ge=e[127];let me;return e[128]!==He||e[129]!==at||e[130]!==tt||e[131]!==ht||e[132]!==Je||e[133]!==de||e[134]!==Ce||e[135]!==ge?(me=n.jsx(n.Fragment,{children:n.jsxs("div",{id:_t,className:at,ref:He,children:[tt,ht,Je,de,Ce,ge]})}),e[128]=He,e[129]=at,e[130]=tt,e[131]=ht,e[132]=Je,e[133]=de,e[134]=Ce,e[135]=ge,e[136]=me):me=e[136],me}function hm(){return Ko()}function gm(){return Vs()}function Sm(s){return s==null?void 0:s.sharedProjectConversationOwner}function ym(s){return ea(s)}function xm(){return xs()}function bm(){var s;return qn()&&Ps().isFeedbackViewOpen$()&&((s=Ps().feedbackViewState$())==null?void 0:s.type)!==xa.Conversation}function _m(s){"use forget";const e=be.c(10),{isScrolledFromBottom$:t,scrollContainerRef:o}=s,i=P(t),a=b.use(Ho);let r;e[0]!==a?(r=()=>{if(!a)return 0;const f=ba(a);return f?f.length:0},e[0]=a,e[1]=r):r=e[1];const g=P(r)===0?"bottom-[calc(100%+6*var(--spacing))]":"bottom-[calc(100%+14*var(--spacing))]";let l;e[2]!==g?(l=Re(g),e[2]=g,e[3]=l):l=e[3];let m;e[4]!==o?(m=()=>{var f;ar("chatgpt_thread_scroll_to_bottom"),(f=o.current)==null||f.scrollTo({behavior:"smooth",top:o.current.scrollHeight})},e[4]=o,e[5]=m):m=e[5];let u;return e[6]!==i||e[7]!==l||e[8]!==m?(u=n.jsx("div",{className:"relative h-0",children:n.jsx(rc,{show:i,className:l,onClick:m})}),e[6]=i,e[7]=l,e[8]=m,e[9]=u):u=e[9],u}const vm=sn(()=>Xs(()=>import("./1de975ca-opfq6f6nav5b4m2m.js"),__vite__mapDeps([6,1,2,3,4,5])).then(s=>s.ThreadReportConversationModal)),Cm=sn(()=>Xs(()=>import("./3d954627-i5m9aq5l5oa0dgq7.js"),__vite__mapDeps([7,1,2,3,8,9,4,5,10,11]))),Tm=sn(()=>Xs(()=>import("./5ff8b827-h7ls1sehi3phydxz.js"),__vite__mapDeps([12,1,2,3,13,4,5,14,15,16,17,18,19,20,21,22,23,24,25])).then(s=>s.TableOfContentsSidebar));function wm({conversation:s,isNewScrollEnabled:e,pageLoadSearchQuery:t,footerRootContainerElementRef:o,threadRootRef:i,isScrolledFromBottom$:a,scrollContainerRef:r,children:c}){"use no forget";const[g]=xo(),l=!!g.get("message"),m=P(()=>xs()),u=jt(s.id,p=>(p==null?void 0:p.conversationOrigin)===mr.APPLE);if(e)return n.jsx($c,{allowScrollToEnd:!m,allowScrollToTop:!m&&u,clientThreadId:s.id,initScrolledToEnd:t==null&&!l,threadFooterRef:o,threadRootRef:i,children:c});const f=n.jsxs(n.Fragment,{children:[n.jsx(ro,{className:"absolute top-0",setIsScrolledToEdge:p=>{tn.setIsConversationScrolledFromTop(p)},options:{root:r==null?void 0:r.current}}),c,n.jsx(ro,{className:"absolute bottom-0",setIsScrolledToEdge:p=>{a.set(p)},options:{root:r==null?void 0:r.current}})]});return t!=null?f:n.jsx(nn,{children:n.jsxs(b.Suspense,{fallback:null,children:[n.jsx(Oc,{}),f]})})}const ef=function(s){"use forget";var Kn;const e=be.c(169),{conversation:t,withCustomCompletionParams:o,hideDisclaimer:i,renderEmptyState:a,renderEmptyFooter:r,className:c}=s,g=zt(),l=ir(),m=ha(),u=ga(m),f=da(),p=Gn(),h=fc(),d=Wo(),S=Sa(t.id);let _;e[0]!==d?(_=$e=>[$e==null?void 0:$e.isLoading,Ke.hasUserMessage($e),Ke.getConversationTurns($e).length,$e?Ke.getGizmoId($e):d],e[0]=d,e[1]=_):_=e[1];const[v,C,y,x]=jt(t.id,_),T=rr(t.id),w=b.use(Aa);let M;e[2]!==t.id?(M=()=>{var Ht;const $e=Hc();return qn()&&Ps().isFeedbackViewOpen$()&&((Ht=Ps().feedbackViewState$())==null?void 0:Ht.type)!==xa.Conversation&&$e===t.id},e[2]=t.id,e[3]=M):M=e[3];const j=P(M);let E,A;e[4]!==t?(E=()=>Od(t),A=[t],e[4]=t,e[5]=E,e[6]=A):(E=e[5],A=e[6]),b.useEffect(E,A);const[k]=b.useState(w==null?void 0:w.query),[U,z]=b.useState(w==null?void 0:w.navlink);let N,O;e[7]!==t.id||e[8]!==v?(N=()=>{v||(vn(t.id)?yn.addTiming("chatgpt.web.chatPage.renderNewConversation"):yn.addTiming("chatgpt.web.chatPage.renderExistingConversation"))},O=[t.id,v],e[7]=t.id,e[8]=v,e[9]=N,e[10]=O):(N=e[9],O=e[10]),b.useEffect(N,O);const{setTargetedContent:Y}=pc();let I;e[11]!==l?(I=l==null?void 0:l.includes(lr),e[11]=l,e[12]=I):I=e[12];const oe=I,X=cr(),L=y>=2;let se;e[13]===Symbol.for("react.memo_cache_sentinel")?(se=zo(),e[13]=se):se=e[13];const V=se,[re,$]=P(Mm),H=Un(),{hash:D}=Pn(),K=Js(),F=Ln(),{isOpen:R}=_a();let B;e[14]!==t.id||e[15]!==t.sharedConversationId||e[16]!==D||e[17]!==H||e[18]!==K?(B=()=>{D==="#report"&&(ks(vm,Ye(fe({clientThreadId:t.id},H&&(t!=null&&t.sharedConversationId)?{serverThreadId:t.sharedConversationId,isSharedConversation:!0}:{}),{isStaticSharedThread:!1})),K({hash:""},{replace:!0}))},e[14]=t.id,e[15]=t.sharedConversationId,e[16]=D,e[17]=H,e[18]=K,e[19]=B):B=e[19];let Q;e[20]!==t||e[21]!==D||e[22]!==H||e[23]!==K?(Q=[t,D,H,K],e[20]=t,e[21]=D,e[22]=H,e[23]=K,e[24]=Q):Q=e[24],b.useEffect(B,Q);const te=!!x;let ae;e[25]!==t.id||e[26]!==L||e[27]!==S||e[28]!==F||e[29]!==V||e[30]!==te||e[31]!==H||e[32]!==w?(ae=vn(t.id)&&!L&&(An(S)||(S==null?void 0:S.kind)===Go.GizmoTest)&&!H&&!F&&w==null&&(!V||te),e[25]=t.id,e[26]=L,e[27]=S,e[28]=F,e[29]=V,e[30]=te,e[31]=H,e[32]=w,e[33]=ae):ae=e[33];const W=ae,Se=W&&!C&&w==null&&(!V||te||p),he=re&&!C&&!te;let Te;e[34]!==t?(Te=()=>Qo(t),e[34]=t,e[35]=Te):Te=e[35];const ye=P(Te),ee=ye.id,xe=Gs.useStore(),ce=P(Im);let ie;e[36]===Symbol.for("react.memo_cache_sentinel")?(ie=(Kn=Es())==null?void 0:Kn.isWorkspaceAccount(),e[36]=ie):ie=e[36];const Oe=ie;let Xe,He;e[37]!==t.id||e[38]!==ee||e[39]!==xe||e[40]!==ce?(Xe=()=>{if(ee===fr)return xe.setActiveSystemHint(_n,ce,{locked:!0,analyticsMetadata:{clientThreadId:t.id}}),()=>{xe.setActiveSystemHint(null,ce,{locked:!1,ifPrevSystemHint:_n,analyticsMetadata:{clientThreadId:t.id}},Oe)}},He=[ee,xe,t.id,ce,Oe],e[37]=t.id,e[38]=ee,e[39]=xe,e[40]=ce,e[41]=Xe,e[42]=He):(Xe=e[41],He=e[42]),b.useEffect(Xe,He);const ue=hc(t.id,S),Pe=gc();let Ue;e[43]!==Pe||e[44]!==Y?(Ue=()=>{Pe||Y(void 0)},e[43]=Pe,e[44]=Y,e[45]=Ue):Ue=e[45];let J;e[46]!==t.id||e[47]!==Pe||e[48]!==Y?(J=[t.id,Y,Pe],e[46]=t.id,e[47]=Pe,e[48]=Y,e[49]=J):J=e[49],b.useEffect(Ue,J);let ne;e[50]!==t.id?(ne=[t.id],e[50]=t.id,e[51]=ne):ne=e[51],b.useEffect(Pm,ne);let q,G;e[52]!==x||e[53]!==T?(q=()=>{const $e=new URLSearchParams(window.location.search),Ht=$e.get("src");if(Ht==="history_search"){$e.delete("src");const Vt=$e.toString(),Bs="".concat(window.location.pathname).concat(Vt?"?".concat(Vt):"").concat(window.location.hash);window.history.replaceState({},document.title,Bs)}T&&Ht==="history_search"&&Ms.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:T}},requestBody:{touch:!0}}).then(()=>{const Vt=pr();hr(Vt,x)})},G=[T,x],e[52]=x,e[53]=T,e[54]=q,e[55]=G):(q=e[54],G=e[55]),b.useEffect(q,G);let ke;e[56]!==t||e[57]!==ee||e[58]!==o?(ke=$e=>{var Vt,Bs,Qn;const Ht=fe({conversation:t},o?o($e):$e);if((Bs=(Vt=Ht.completionMetadata)==null?void 0:Vt.systemHints)!=null&&Bs.some(Em)&&Bn()){const Jn=Jo((Qn=Ht.requestedModelId)!=null?Qn:ee);Jn&&(Ht.requestedModelId=Jn)}Yn(Ht)},e[56]=t,e[57]=ee,e[58]=o,e[59]=ke):ke=e[59];const _e=Jt(ke);let De;e[60]!==V||e[61]!==W||e[62]!==_e?(De=$e=>{W&&!Xo()&&!V&&Zo("3253785454").get("should_animate_composer",!1)?Yt({className:js["composer-slide"],update:()=>_e($e)}):_e($e)},e[60]=V,e[61]=W,e[62]=_e,e[63]=De):De=e[63];const ve=Jt(De);Sc(t.id,ve),yc(),xc(t.id),bc(ve,t.id);let Ee;e[64]===Symbol.for("react.memo_cache_sentinel")?(Ee=[],e[64]=Ee):Ee=e[64],b.useEffect(Nm,Ee),_c(W);const Ie=vc({clientThreadId:t.id,handleRequestCompletion:ve,prefetchSearchThreadIdPromise:w==null?void 0:w.threadId})&&k==null,le=b.useRef(null),Fe=Cc(!1);let Ve,we;e[65]===Symbol.for("react.memo_cache_sentinel")?(Ve=()=>{le.current=ct.current&&Fc(ct.current)},we=[],e[65]=Ve,e[66]=we):(Ve=e[65],we=e[66]),b.useEffect(Ve,we);let je;e[67]!==F||e[68]!==f||e[69]!==ue?(je=()=>{!F&&!f&&(document.title=ue!=null?ue:"ChatGPT")},e[67]=F,e[68]=f,e[69]=ue,e[70]=je):je=e[70];let Qe;e[71]!==F||e[72]!==g||e[73]!==f||e[74]!==ue?(Qe=[ue,F,f,g],e[71]=F,e[72]=g,e[73]=f,e[74]=ue,e[75]=Qe):Qe=e[75],b.useEffect(je,Qe);let it;e[76]!==x?(it=Uo(x),e[76]=x,e[77]=it):it=e[77];const vt=it,rt=Se&&!a&&vt,lt=Vo();let We;e[78]!==lt?(We=Ys&&lt.has(Ys),e[78]=lt,e[79]=We):We=e[79];const qe=We,ct=b.useRef(null),Ft=b.useRef(null),ot=Tc(Rm),Ct=!W&&!R&&!re;let ze;e[80]===Symbol.for("react.memo_cache_sentinel")?(ze=()=>z(void 0),e[80]=ze):ze=e[80];const Tt=ze,{isSingleLine:Lt}=P($m),Nt=!qo(),Ge=Se&&W&&qe&&Nt,Rt=P(qs),Bt=Yo(),wt=W&&qe&&Rt&&Bt,[dt,At]=b.useState(null),xt=Vn();let Ze;e[81]!==xt?(Ze=()=>Qs()&&xt.visible$()&&qs(),e[81]=xt,e[82]=Ze):Ze=e[82];const ut=P(Ze);let $t;e[83]!==t?($t=()=>Is(t).pinnedWidgetHeight$(),e[83]=t,e[84]=$t):$t=e[84];const mt=P($t),ft=wc(),bt=function(){return n.jsx(Tm,{clientThreadId:t.id,scrollContainerRef:le})},pt=function(){return v||Ie?null:Ge?n.jsx(ya,{}):Se?rt?n.jsx(Rc,{clientThreadId:t.id,gizmoId:x,currentModelId:ee,onRequestCompletion:ve}):a!=null?a:n.jsx(n.Fragment,{children:te?n.jsx(Yc,{conversation:t,gizmoId:x,currentModelId:ee}):n.jsx(Xd,{clientThreadId:t.id,currentModelId:ee})}):L||k!=null?n.jsx(wm,{conversation:t,isNewScrollEnabled:h,pageLoadSearchQuery:k,footerRootContainerElementRef:Ft,threadRootRef:ct,isScrolledFromBottom$:Fe,scrollContainerRef:le,children:n.jsx(fd,{onRequestCompletion:ve,conversation:t,scrollContainerRef:le,pageLoadSearchQuery:k,prefetchNavlink:U,clearPrefetchNavlink:Tt},t.id)}):null},et=Nc,_t=U?"user-query-with-navlink":k?"user-query":null,at=jc,tt=Ec,ht=t.id,st=dr;let Je;e[85]!==t?(Je=n.jsx(km,{conversation:t}),e[85]=t,e[86]=Je):Je=e[86];let de;e[87]!==oe?(de=oe&&n.jsx(Cm,{}),e[87]=oe,e[88]=de):de=e[88];let Ce;e[89]!==F||e[90]!==f||e[91]!==ue?(Ce=!F&&!f&&n.jsx(Lc,{children:ue!=null&&n.jsx("title",{children:ue})}),e[89]=F,e[90]=f,e[91]=ue,e[92]=Ce):Ce=e[92];const Me=Pc,ge=Ic;let me;e[93]!==t?(me=n.jsx(zd,{conversation:t}),e[93]=t,e[94]=me):me=e[94];const Z="thread",Le=ct,Ot=Re("group/thread flex flex-col","min-h-full",h&&Ac.threadRoot,$&&"opacity-0",c),Dt=qc,Gt=!0,Ut=t.id,Ns="composer-parent flex flex-1 flex-col focus-visible:outline-0";let Wt;e[95]!==t.id?(Wt=nt("1909635392")&&n.jsx(kc,{clientThreadId:t.id}),e[95]=t.id,e[96]=Wt):Wt=e[96];const Zt=Re("relative basis-auto flex-col",Ct&&"-mb-(--composer-overlap-px)",Ct&&(Lt?"[--composer-overlap-px:28px]":"[--composer-overlap-px:55px]"),vt||te||!W||p?"grow":"shrink",rt?"grid":"flex",W&&f&&!p&&"sm:min-h-[21svh]!",W&&!p&&!vt&&!te&&(wt?"justify-start pt-[clamp(4rem,calc(30svh-(var(--deep-research-landing-page-content-height,0px)*0.40)),16rem)]":Re("flex-col justify-end max-sm:grow max-sm:justify-center",ut?"sm:min-h-[calc(38svh-var(--header-height))]":"sm:min-h-[calc(42svh-var(--header-height))]")),u,j&&"hidden"),es=ot?"".concat(ot,"px"):void 0,ts=wt&&dt!=null?"".concat(dt,"px"):void 0;let kt;e[97]!==mt||e[98]!==es||e[99]!==ts?(kt={"--composer-height":es,"--deep-research-landing-page-content-height":ts,marginTop:mt},e[97]=mt,e[98]=es,e[99]=ts,e[100]=kt):kt=e[100];const Mt=kt,gt=ft&&bt(),rn=pt();let ss;e[101]!==V||e[102]!==re||e[103]!==te||e[104]!==he?(ss=V&&re&&!te&&n.jsx(Id,{showEmptyState:he}),e[101]=V,e[102]=re,e[103]=te,e[104]=he,e[105]=ss):ss=e[105];let ns;e[106]!==Zt||e[107]!==Mt||e[108]!==gt||e[109]!==rn||e[110]!==ss?(ns=n.jsxs("div",{className:Zt,style:Mt,children:[gt,rn,ss]}),e[106]=Zt,e[107]=Mt,e[108]=gt,e[109]=rn,e[110]=ss,e[111]=ns):ns=e[111];let os;e[112]!==j?(os=j&&n.jsx(Bc,{}),e[112]=j,e[113]=os):os=e[113];let as;e[114]!==t||e[115]!==i||e[116]!==Fe||e[117]!==r||e[118]!==a||e[119]!==At||e[120]!==o?(as=n.jsx(pm,{conversation:t,withCustomCompletionParams:o,hideDisclaimer:i,renderEmptyState:a,renderEmptyFooter:r,scrollContainerRef:le,isScrolledFromBottom$:Fe,footerRootContainerElementRef:Ft,onDeepResearchLandingPageContentHeightChange:At}),e[114]=t,e[115]=i,e[116]=Fe,e[117]=r,e[118]=a,e[119]=At,e[120]=o,e[121]=as):as=e[121];let is;e[122]!==Dt||e[123]!==t.id||e[124]!==ye||e[125]!==Wt||e[126]!==ns||e[127]!==os||e[128]!==as?(is=n.jsxs(Dt,{noKeyboard:Gt,clientThreadId:Ut,currentModelConfig:ye,className:Ns,children:[Wt,ns,os,as]}),e[122]=Dt,e[123]=t.id,e[124]=ye,e[125]=Wt,e[126]=ns,e[127]=os,e[128]=as,e[129]=is):is=e[129];let rs;e[130]!==$||e[131]!==Ot||e[132]!==is?(rs=n.jsx("div",{id:Z,ref:Le,className:Ot,inert:$,children:is}),e[130]=$,e[131]=Ot,e[132]=is,e[133]=rs):rs=e[133];let Rs;e[134]===Symbol.for("react.memo_cache_sentinel")?(Rs=n.jsx(Dc,{}),e[134]=Rs):Rs=e[134];let ls;e[135]!==t.id?(ls=n.jsx(Mc,{conversationId:t.id}),e[135]=t.id,e[136]=ls):ls=e[136];let $s,Os;e[137]===Symbol.for("react.memo_cache_sentinel")?($s=n.jsx(Wc,{}),Os=n.jsx(zc,{}),e[137]=$s,e[138]=Os):($s=e[137],Os=e[138]);let cs;e[139]!==ge||e[140]!==me||e[141]!==rs||e[142]!==ls?(cs=n.jsxs(ge,{children:[me,rs,Rs,ls,$s,Os]}),e[139]=ge,e[140]=me,e[141]=rs,e[142]=ls,e[143]=cs):cs=e[143];let ds;e[144]!==ve||e[145]!==Me.Provider||e[146]!==cs?(ds=n.jsx(Me.Provider,{value:ve,children:cs}),e[144]=ve,e[145]=Me.Provider,e[146]=cs,e[147]=ds):ds=e[147];let us;e[148]!==st||e[149]!==t||e[150]!==Je||e[151]!==de||e[152]!==Ce||e[153]!==ds?(us=n.jsxs(st,{conversation:t,children:[Je,de,Ce,ds]}),e[148]=st,e[149]=t,e[150]=Je,e[151]=de,e[152]=Ce,e[153]=ds,e[154]=us):us=e[154];let ms;e[155]!==tt||e[156]!==t.id||e[157]!==us?(ms=n.jsx(tt,{clientThreadId:ht,children:us}),e[155]=tt,e[156]=t.id,e[157]=us,e[158]=ms):ms=e[158];let fs;e[159]!==at||e[160]!==T||e[161]!==ms?(fs=n.jsx(at,{serverThreadId:T,children:ms}),e[159]=at,e[160]=T,e[161]=ms,e[162]=fs):fs=e[162];let Hs;e[163]!==et.Provider||e[164]!==_t||e[165]!==fs?(Hs=n.jsx(et.Provider,{value:_t,children:fs}),e[163]=et.Provider,e[164]=_t,e[165]=fs,e[166]=Hs):Hs=e[166];const Fs=Hs;if(X)return Fs;let Ls;return e[167]!==Fs?(Ls=n.jsx(Fn,{children:Fs}),e[167]=Fs,e[168]=Ls):Ls=e[168],Ls};function Am({conversation:s}){return Ld(s),lc(),cc(),dc(s),uc(),mc(s),null}const km=Ba.memo(Am);function Mm(){return[xs(),ur()]}function Im(){return Nn()}function Pm(){tn.setIsConversationScrolledFromTop(!1)}function Em(s){return ea(s)}function jm(){Gc().logEventWithStatsig("Web: FYP: Eligible Feed User","chatgpt_web_fyp_dau_with_fyp_available")}function Nm(){return Ao(qn,jm)}function Rm(s){return s.composerHeight}function $m(){return Ko()}export{hu as I,Ts as S,ef as T,Zm as u};
//# sourceMappingURL=5373c7f8-l2w8wwucxovdtok0.js.map
