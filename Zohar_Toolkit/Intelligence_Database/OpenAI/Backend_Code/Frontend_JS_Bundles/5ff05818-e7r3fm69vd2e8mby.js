import{j as t,r as w,M as b,c as k}from"./2340486e-n0khdanno9uzbccp.js";import{h as f,rO as N,nd as G,rP as h,b as S,hb as P,hj as C,v as L,P as _,an as F,h8 as E,dm as M,rK as T,aB as A,rQ as R,h2 as $,rR as B}from"./4813494d-di0bpg5zidu9s57f.js";import{bT as D,bU as g,bV as Q}from"./1a7ebd5f-ihenykhpblfwilpu.js";import{u as U}from"./4b9386ba-i47pf4ceaol018kk.js";import{g as q}from"./2c05f96f-jzs5r5qu5ml7dypp.js";const ee=e=>{"use forget";const a=k.c(5),{conversation:n,currentModelId:o,gizmoId:i}=e,{data:s}=$(i),l=B();if(s==null)return null;let r;return a[0]!==n.id||a[1]!==o||a[2]!==s||a[3]!==l?(r=t.jsx(K,{gizmo:s,showStarterPrompts:!0,disableStarterPrompts:l,clientThreadId:n.id,currentModelId:o}),a[0]=n.id,a[1]=o,a[2]=s,a[3]=l,a[4]=r):r=a[4],r};function K({gizmo:e,hideOwner:a=!1,children:n,className:o,avatarClassName:i,showStarterPrompts:s=!1,disableStarterPrompts:l=!1,clientThreadId:r,currentModelId:c}){return e==null?null:t.jsx(t.Fragment,{children:t.jsxs("div",{className:f("text-token-text-primary flex h-full flex-col items-center justify-center","screen-arch:min-h-[calc(100dvh-var(--thread-leading-height)-var(--thread-trailing-height)-12px)]",o),children:[t.jsx(V,{gizmo:e,avatarClassName:i}),t.jsx(H,{gizmo:e,hideOwner:a,showStarterPrompts:s,disableStarterPrompts:l,clientThreadId:r,currentModelId:c}),n]})})}function V({gizmo:e,avatarClassName:a}){var o;const n=!!(e!=null&&N(e)&&((o=e==null?void 0:e.gizmo.tags)!=null&&o.includes(G.FirstParty)));return t.jsx("div",{className:"relative",children:t.jsx(D,{isFirstParty:n||!e,src:e!=null&&h(e)?e.profilePictureUrl:e==null?void 0:e.gizmo.display.profile_picture_url,className:f("mb-3 h-12 w-12",a)})})}function W({gizmo:e,disabled:a}){const n=q(e),o=U(),i=A();if(n==null||n.length===0)return null;const s=n.slice(0,i?2:4);return t.jsx(X,{starterPrompts:s,onSelectStarterPrompt:o,disabled:a})}function H({gizmo:e,hideOwner:a,showStarterPrompts:n,disableStarterPrompts:o,clientThreadId:i,currentModelId:s}){var j;const l=S(()=>P({isGizmo:!0})),{data:r,isLoading:c}=S(()=>C()),p=e!=null&&h(e)?e.name:e==null?void 0:e.gizmo.display.name,m=e!=null&&h(e)?e.description:e==null?void 0:e.gizmo.display.description,x=r==null?void 0:r.model_override,u=e!=null&&h(e)?e.defaultModel:e==null?void 0:e.gizmo.default_model,d=u?x!=null&&x[u]?l.models.get(x==null?void 0:x[u]):l.models.get(u):null,v=(j=L())==null?void 0:j.hasPaidFeatures(),y=w.useCallback(()=>{!i||!d||(_.logEvent("GPTs: Landing Preferred Model Switch",{from:s,to:d.id}),F.logEvent("chatgpt_gpts_landing_preferred_model_switch",d.id,{from:String(s!=null?s:""),to:d.id}),E(M(i),d.id))},[i,d,s]);return t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"text-center text-2xl font-semibold",children:p}),!a&&t.jsx("div",{className:"text-token-text-tertiary flex items-center gap-1",children:t.jsx(t.Fragment,{children:e&&h(e)?t.jsx(g,{gizmo:e}):t.jsx(g,{gizmo:e,socials:e.gizmo.author.display_socials})})}),!c&&v&&d&&(s&&s!==d.id?t.jsxs("button",{onClick:y,className:"btn btn-blue btn-small flex items-center gap-1",children:[t.jsx(T,{className:"icon-sm"}),t.jsx(b,{id:"6uu9eh",defaultMessage:"Switch to {modelTitle} (creator's recommended model)",values:{modelTitle:"".concat(d.title)}})]}):t.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 text-xs",children:[t.jsx(Q,{style:{color:"gray",width:16,height:16}}),t.jsx(b,{id:"mcxm8w",defaultMessage:"Using the creator's recommended model: {modelTitle}",values:{modelTitle:"".concat(d.title)}})]})),m&&t.jsx("div",{className:"text-token-text-primary max-w-md text-center text-sm font-normal",children:m}),n&&t.jsx(W,{gizmo:e,disabled:o})]})}const J=/\s/;function X({starterPrompts:e,onSelectStarterPrompt:a,disabled:n,cssMobileDisplayLimit:o,marginOverride:i}){let s=e.map((l,r)=>{var m,x;let c=(m=l.oneliner)!=null?m:l.title;c===""&&(c=l.body);const p=J.test(c);return t.jsxs("button",{className:f(o!==void 0&&r>=o&&"max-sm:hidden","border-token-border-default shadow-xxs enabled:hover:bg-token-main-surface-secondary relative flex w-40 flex-col gap-2 rounded-2xl border px-3 pt-3 pb-4 text-start align-top text-[15px] transition disabled:cursor-not-allowed"),disabled:n,onClick:u=>a(u,l,e,r),children:[t.jsx(R,{category:l.category}),t.jsx("div",{className:f("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",p?"break-word":"break-all"),children:c})]},(x=l.id)!=null?x:r)});if(s.length>2){const l=Math.floor(s.length/2);s=[s.slice(0,l),s.slice(l)].map((r,c)=>t.jsx("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:r},c))}return t.jsx("div",{className:f("mx-3 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",i!=null?i:"mt-12"),children:s})}export{K as G,ee as a};
//# sourceMappingURL=5ff05818-e7r3fm69vd2e8mby.js.map
