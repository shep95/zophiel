import{hf as f,hC as k,dd as P,p as l,k as T}from"./4813494d-di0bpg5zidu9s57f.js";import{V as A}from"./1a7ebd5f-ihenykhpblfwilpu.js";import{p as R}from"./1bc04b52-emja6bpoehwcct3m.js";import{d as E,b as c,r as h}from"./2340486e-n0khdanno9uzbccp.js";function L(){const a=c(),e=a.formatMessage(t.adminRoleName),s=a.formatMessage(t.ownerRoleName),n=a.formatMessage(t.analyticsViewerRoleName),r=a.formatMessage(t.standardRoleName);return h.useMemo(()=>({[l.OWNER]:s,[l.ADMIN]:e,[l.ANALYTICS_VIEWER]:n,[l.STANDARD]:r}),[s,e,n,r])}function S(a){const e=c();return a!=null&&a.isWorkspaceAccount()?a.isFreeWorkspace()?e.formatMessage(t.freeWorkspacePlanName):a.isSelfServeBusiness()?e.formatMessage(t.businessPlanName):a.isK12()?e.formatMessage(t.k12PlanName):a.isEdu()?e.formatMessage(t.eduPlanName):e.formatMessage(t.enterprisePlanName):e.formatMessage(t.personalPlanName)}function z(a){const e=c();return d(e,a)}function F(){const{data:a}=f(),e=k(a),s=c();return d(s,e)}function O(){const{data:a,isLoading:e}=f(),s=k(a),n=c();return{workspaceName:d(n,s),isLoading:e}}function d(a,e){var s;return e==null||e.isPersonalAccount()?a.formatMessage(t.personalWorkspaceTitle):(s=e.data.name)!=null?s:a.formatMessage(t.defaultWorkspaceTitle)}function I(a,e,s){var o;const n=(o=e==null?void 0:e.data.name)==null?void 0:o.trim();if(n)return n;const r=y(a,s!=null?s:null);if(r)return r;if(e==null||e.isPersonalAccount()){const i=p(a,s);return i||a.formatMessage(t.personalWorkspaceTitle)}return a.formatMessage(t.defaultWorkspaceTitle)}function B(a,e){const s=p(a,e);return s||I(a,null,e)}function y(a,e){var r,o;const s=(o=(r=e==null?void 0:e.email)==null?void 0:r.trim())!=null?o:null;if(!s||!A.test(s))return null;if((e==null?void 0:e.email_domain_type)==="social")return p(a,e);const n=C(s);return n||null}function p(a,e){var n;const s=(n=e==null?void 0:e.name)==null?void 0:n.trim();return s?a.formatMessage(t.personalDefaultWorkspaceTitle,{name:s}):null}function C(a){var i,N;const e=(i=a.split("@")[1])==null?void 0:i.toLowerCase();if(!e)return null;const s=R.parse(e);if(!("error"in s)||s.error==null){const{sld:u,domain:m}=s,W=(N=u!=null?u:m==null?void 0:m.split(".").filter(Boolean)[0])!=null?N:null;if(W)return g(W)}const n=e.split(".").filter(Boolean);if(n.length===0)return null;const r=n.length===1?0:n.length-2,o=n[r];return o?g(o):null}function g(a){const e=a.replace(/[^a-zA-Z0-9]+/g," ").trim();return e?e.split(/\s+/).map(s=>D(s.toLowerCase())).join(" "):null}function D(a){return a.charAt(0).toUpperCase()+a.slice(1)}function _(a,e,s){var n;return e==null||e.isPersonalAccount()?(n=s==null?void 0:s.name)!=null?n:a.formatMessage(t.personalWorkspaceTitle):e.data.name?e.data.name:a.formatMessage(t.defaultWorkspaceTitle)}function G(){var e;const a=P();return(e=a==null?void 0:a.email)!=null?e:null}function M(){return T(({workspaces:a})=>a)}function j(){var n;const{data:a,isFetching:e}=f();return{data:(n=a==null?void 0:a.accountItems.filter(r=>!r.isDeactivated()))!=null?n:[],isFetching:e}}function v(a){const s=M().find(n=>n.id===a);return(s==null?void 0:s.role)===l.OWNER}function w(a){const s=M().find(n=>n.id===a);return(s==null?void 0:s.role)===l.ADMIN}const t=E({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account"},personalDefaultWorkspaceTitle:{id:"useWorkspaces.personaldefaultWorkspaceTitle",defaultMessage:"{name}'s Workspace"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise"},k12PlanName:{id:"useWorkspaces.k12PlanName",defaultMessage:"ChatGPT for Teachers"},eduPlanName:{id:"useWorkspaces.eduPlanName",defaultMessage:"Edu"},businessPlanName:{id:"useWorkspaces.businessPlanName",defaultMessage:"Business"},freeWorkspacePlanName:{id:"useWorkspaces.freeWorkspacePlanName",defaultMessage:"Business Free"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member"},analyticsViewerRoleName:{id:"useWorkspaces.analyticsViewerRoleName",defaultMessage:"Analytics Viewer"}});export{G as a,_ as b,j as c,z as d,O as e,I as f,d as g,B as h,v as i,L as j,w as k,S as l,F as u};
//# sourceMappingURL=ac5dd3e8-pe3gotr981ye4uf4.js.map
