var K=Object.defineProperty,V=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var I=(r,e,t)=>e in r?K(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,E=(r,e)=>{for(var t in e||(e={}))Y.call(e,t)&&I(r,t,e[t]);if(D)for(var t of D(e))$.call(e,t)&&I(r,t,e[t]);return r},R=(r,e)=>V(r,X(e));import{c as q,r as T,b as F,j as o}from"./2340486e-n0khdanno9uzbccp.js";import G from"./5c44c0f7-mnje21y84gk2rvmp.js";import{h as c,rY as H}from"./4813494d-di0bpg5zidu9s57f.js";import{g as J,r as Q,d as U}from"./686b9e77-ljpjy2oz1eylpesp.js";import"./5fa5a869-eai3fnu5c3iwlvsm.js";import"./17789dc6-jd5cucmsuhn6sgz0.js";import"./1a7ebd5f-ihenykhpblfwilpu.js";import"./2686af9f-h4r8672poenhdgf0.js";const W=220;function le(r){"use forget";const e=q.c(15),{messages:t,containerSize:j,className:b,hideBg:P,scrollToLastMessage:m}=r,A=j===void 0?"full":j,N=T.useRef(null);let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],e[0]=p):p=e[0];const M=T.useRef(p),S=J(),C=F();let f,g;e[1]!==m?(f=()=>{const d=N.current,n=M.current.at(-1);!m||!d||!n||(d.scrollTop=n.offsetTop-d.offsetTop-W)},g=[m],e[1]=m,e[2]=f,e[3]=g):(f=e[2],g=e[3]),T.useEffect(f,g);const w=!P;let a;e[4]!==b||e[5]!==w?(a=c({"bg-token-bg-secondary/20 dark:bg-token-bg-secondary max-h-[28rem] w-full overflow-auto rounded-[20px] px-4 py-8 md:max-h-[40.625rem]":w},b),e[4]=b,e[5]=w,e[6]=a):a=e[6];const v=A==="small";let i;e[7]!==v?(i=c("mx-auto flex w-full max-w-[650px] flex-col",{"sm:w-[80%]":v}),e[7]=v,e[8]=i):i=e[8];const k=t.map((d,n)=>{var O,B;const{variant:s,message:z}=d,_=(O=t[n-1])==null?void 0:O.variant,y=(B=t[n+1])==null?void 0:B.variant,L=!!y&&s!==y;return o.jsxs("div",{className:c({"flex gap-3":s==="response",contents:s!=="response"}),children:[s==="response"&&o.jsx("div",{className:c("h-[33px] w-[33px] shrink-0",{"grid place-items-center rounded-full border border-gray-100 dark:border-gray-700":_!==s}),children:_!==s&&o.jsx(H,{alt:C.formatMessage({id:"login.openAiLogo",defaultMessage:"OpenAI Logo"}),height:"19",width:"19"})}),o.jsx("div",{ref:u=>{u&&(M.current[n]=u)},className:c("prose text-mkt-p1 max-w-112.5",{"bg-token-bg-secondary dark:bg-token-bg-tertiary self-end rounded-[18px] [:not(:has(img))]:px-4 [:not(:has(img))]:py-3":s==="input","w-0 flex-1":s==="response","mb-3.5":s===y,"mb-7":L&&s==="input","mb-12":L&&s==="response","ms-6 sm:ms-8":s==="input"}),children:Q.documentToReactComponents(z,R(E({},S),{renderNode:R(E({},S.renderNode),{[U.BLOCKS.EMBEDDED_ASSET]:u=>{const{data:h}=u;return o.jsx("div",{style:{aspectRatio:h.target.fields.file.details.image.width/h.target.fields.file.details.image.height},className:c("not-prose bg-token-bg-secondary dark:bg-token-bg-tertiary overflow-hidden rounded-[18px]",{"w-40 sm:w-80":s==="response","w-40 sm:w-60":s==="input"}),children:o.jsx(G,{altText:h.target.fields.description,asset:h.target.fields})})}})}))})]},n)});let l;e[9]!==k||e[10]!==i?(l=o.jsx("div",{className:i,children:k}),e[9]=k,e[10]=i,e[11]=l):l=e[11];let x;return e[12]!==l||e[13]!==a?(x=o.jsx("div",{ref:N,className:a,children:l}),e[12]=l,e[13]=a,e[14]=x):x=e[14],x}export{le as default};
//# sourceMappingURL=869c40ce-f15s7b5mgciehv44.js.map
