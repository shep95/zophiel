import requests
import json
import time

# CONFIGURATION
# You must obtain these values from your Browser DevTools (Network Tab)
# or by using the 'mj_console_dumper.js' exploit.
DISCORD_TOKEN = "YOUR_SALAI_TOKEN_HERE"
GUILD_ID = "YOUR_SERVER_ID"
CHANNEL_ID = "YOUR_CHANNEL_ID"
SESSION_ID = "YOUR_SESSION_ID"  # Often found in local storage or network logs

URL = "https://discord.com/api/v9/interactions"

HEADERS = {
    "Authorization": DISCORD_TOKEN,
    "Content-Type": "application/json",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
}

def generate_image(prompt):
    payload = {
        "type": 2,
        "application_id": "936929561302675456",
        "guild_id": GUILD_ID,
        "channel_id": CHANNEL_ID,
        "session_id": SESSION_ID,
        "data": {
            "version": "938956540159881230",
            "id": "938956540159881230",
            "name": "imagine",
            "type": 1,
            "options": [{"type": 3, "name": "prompt", "value": prompt}],
            "attachments": []
        }
    }
    
    print(f"[*] Sending /imagine command for: '{prompt}'")
    try:
        r = requests.post(URL, headers=HEADERS, json=payload)
        if r.status_code == 204:
            print("[+] Command sent successfully! Check Discord for result.")
        else:
            print(f"[-] Failed. Status: {r.status_code}")
            print(f"[-] Response: {r.text}")
    except Exception as e:
        print(f"[!] Error: {e}")

if __name__ == "__main__":
    if DISCORD_TOKEN == "YOUR_SALAI_TOKEN_HERE":
        print("[!] ERROR: You must configure the script with your tokens first.")
    else:
        generate_image("cyberpunk hacker using terminal, neon green, dark background --ar 16:9")
