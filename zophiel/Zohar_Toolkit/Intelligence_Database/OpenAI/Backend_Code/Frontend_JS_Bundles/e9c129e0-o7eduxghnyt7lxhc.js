const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/1a7ebd5f-ihenykhpblfwilpu.js","assets/2340486e-n0khdanno9uzbccp.js","assets/4813494d-di0bpg5zidu9s57f.js","assets/root-jvstnck2.css","assets/conversation-small-dnpfu486.css","assets/e19d9367-hjerg984x6xr8atp.js","assets/4aabbe5f-g82hkab64h2oy6ri.js","assets/ae95bd74-o4n6we8hc7o9bvjn.js","assets/ac5dd3e8-pe3gotr981ye4uf4.js","assets/1bc04b52-emja6bpoehwcct3m.js","assets/1de975ca-opfq6f6nav5b4m2m.js"])))=>i.map(i=>d[i]);
var be=Object.defineProperty,_e=Object.defineProperties;var ke=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var se=(t,e,n)=>e in t?be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z=(t,e)=>{for(var n in e||(e={}))ye.call(e,n)&&se(t,n,e[n]);if(ee)for(var n of ee(e))Ce.call(e,n)&&se(t,n,e[n]);return t},te=(t,e)=>_e(t,ke(e));import{a as oe,r as F,b as C,j as s,M as m,_ as Q,c as D,h as $,m as Pe}from"./2340486e-n0khdanno9uzbccp.js";import{hf as G,hC as We,dd as K,j as ie,jc as we,ao as N,fa as l,fb as Ee,bD as H,qr as q,fU as Le,nA as Oe,bX as Te,s2 as Ae,s3 as Ne,tO as W,bp as V,cO as J,fV as Fe,P as b,dk as re,dc as le,hD as De,T as Be,gT as Ue,t as Re,qo as ze,de as He,aS as Qe,aT as $e,aK as Ge,lT as Ke,sx as qe,sy as Ve,ap as Je,ev as Xe,cB as B,H as ce,gp as Ze,l as Ye,dm as es,ft as ss,v as ts,b as T,tP as ns,cS as ne,tQ as as,tR as os,oK as is,s_ as rs,tS as ls,g6 as cs}from"./4813494d-di0bpg5zidu9s57f.js";import{hz as ds,hA as us,Q as X,hB as ms,hC as ps,hD as gs,bf as hs,cM as de,hE as ue,hF as fs,hG as xs,hH as js,hI as Ms,hJ as Ss,hK as P,eR as me,hL as Is,hM as vs,hN as bs,hO as _s,dx as ks,hP as ys,hQ as Cs,dZ as Ps,hR as Ws,cc as pe,hS as ws,hT as ge,bb as Es,hU as Ls,a5 as Os,_ as Ts,hV as As,h9 as Ns,hW as Fs,hX as Ds,c8 as A,e4 as Bs}from"./1a7ebd5f-ihenykhpblfwilpu.js";import{g as Z}from"./ac5dd3e8-pe3gotr981ye4uf4.js";function Us({currentAccount:t}){return s.jsx(he,{workspace:t,isLoading:!1,currentWorkspaceId:t.id,showCheck:!1})}function Rs({accountSwitcherRedirectUrl:t}){const e=oe(),{data:n}=G(),a=We(n),[i,o]=F.useState(!1),r=K(),c=C(),d=ie();if(!a||!n)return null;const p=a.isWorkspaceAccount(),x=n.accountItems.length>1,S=n.accountItems,j=we([S.find(u=>u.isPersonalAccount()),...S.filter(u=>!u.isPersonalAccount())]);return j.sort((u,g)=>u.isPersonalAccount()?1:g.isPersonalAccount()?-1:0),x?j.map(u=>{const g=u.isDeactivated(),f=async()=>{if(g||u.id===(a==null?void 0:a.id))return;o(!0);const{willRedirect:h}=await Ae(e,u.id,c,d);h||Ne(t)};return u.isDeactivated()?s.jsx(zs,{workspace:u,isLoading:i},u.id):s.jsx(he,{workspace:u,isLoading:i,currentWorkspaceId:a==null?void 0:a.id,onSelect:f},u.id)}):p?s.jsx(Us,{currentAccount:a}):(r==null?void 0:r.email)&&s.jsx("div",{className:"text-token-text-secondary ms-3 me-2 py-2 text-sm",children:r.email})}function he({workspace:t,isLoading:e,currentWorkspaceId:n,showCheck:a=!0,onSelect:i}){const o=C(),r=t.canAccessWithCurrentSession,c=!e&&a&&t.id===n,p=t.data.ekmConfig!=null?s.jsxs("div",{className:"relative",children:[s.jsx(W,{iconSize:"small",workspace:t}),s.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:s.jsx(X,{className:"h-2 w-2","aria-hidden":"true"})})]}):s.jsx(W,{iconSize:"small",workspace:t});return s.jsxs(l.RadioItem,{value:t.id,onSelect:i,icon:p,secondary:!r&&(t.ssoConnectionName?s.jsx(m,{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"}):s.jsx(m,{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"})),trailingColor:c?"primary":"tertiary",trailing:c?s.jsx(Te,{className:"icon-sm"}):r?null:Oe,children:[s.jsx("div",{className:"line-clamp-1",children:Z(o,t)}),e&&s.jsx(H,{})]})}function zs({workspace:t,isLoading:e}){const n=C(),a=t.isOwnerOfAccount(),[i,o]=F.useState(!1),{count:r}=ds(t.id),c=us(),d=t.mustGetSubscriptionBillingCurrency("DeactivatedWorkspaceMenuItem");return F.useEffect(()=>{r!=null&&i&&(N.setPurchaseWorkspaceData({minimumSeats:Math.max(r,c),billingDetails:{currency:d},existingAccount:t}),o(!1))},[r,i,t,c,d]),s.jsxs(l.Item,{disabled:!0,icon:X,trailing:!e&&s.jsxs(l.Root,{children:[s.jsx(l.BasicTrigger,{asChild:!0,children:s.jsx(q,{"aria-label":n.formatMessage({id:"1Fk+46",defaultMessage:"Workspace options"}),icon:Le})}),s.jsx(l.Portal,{children:s.jsxs(l.Content,{alignOffset:2,sideOffset:-2,size:"auto",align:"end",children:[a&&s.jsx(s.Fragment,{children:s.jsx(l.Item,{onClick:()=>{r==null?o(!0):N.setPurchaseWorkspaceData({minimumSeats:Math.max(r,c),billingDetails:{currency:d},existingAccount:t})},children:i?s.jsx(H,{}):s.jsx(m,{id:"navigation.reactivateWorkspace",defaultMessage:"Reactivate workspace"})})}),s.jsx(l.Item,{color:"danger",onClick:()=>{N.setLeaveWorkspaceData(t)},children:s.jsx(m,{id:"navigation.leaveWorkspace",defaultMessage:"Leave workspace"})})]})})]}),children:[s.jsx("div",{className:"line-clamp-1",children:Z(n,t)}),s.jsx(Ee,{children:s.jsx(m,{id:"navigation.deactivedWorkspacePill",defaultMessage:"Deactivated"})}),e&&s.jsx(H,{})]})}function Hs(t){var n;return!(t!=null&&t.isWorkspaceAccount())||t.isQuorum()?!1:!((t==null?void 0:t.isEdu())&&!((n=t.isK12)!=null&&n.call(t))&&(t==null?void 0:t.isStandardUserOfAccount()))}const Mt=({clientThreadId:t})=>{const e=C();return J()?null:s.jsx(Fe,{contentAlign:"end",sideOffset:4,triggerButton:s.jsx("button",{onClick:()=>{b.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:"header"})},"aria-label":e.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),"data-testid":"profile-button",className:"group user-select-none ps-2 focus:outline-0",children:s.jsx("div",{className:"group-hover:bg-token-interactive-bg-secondary-selected touch:h-10 touch:w-10 group-keyboard-focused:focus-ring flex h-9 w-9 items-center justify-center rounded-full",children:s.jsx(Ks,{})})}),children:s.jsx(fe,{clientThreadId:t})})};function St(){"use forget";const t=D.c(8),e=P();let n;t[0]!==e?(n=c=>{c&&b.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:e})},t[0]=e,t[1]=n):n=t[1];const a=e==="tiny_bar";let i;t[2]!==a?(i=s.jsx(Qs,{isTinyBar:a}),t[2]=a,t[3]=i):i=t[3];let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(l.Portal,{children:s.jsx(l.Content,{side:"top",size:"auto",className:"min-w-[calc(var(--sidebar-width)-12px)]",children:s.jsx(fe,{})})}),t[4]=o):o=t[4];let r;return t[5]!==n||t[6]!==i?(r=s.jsxs(l.Root,{onOpenChange:n,children:[i,o]}),t[5]=n,t[6]=i,t[7]=r):r=t[7],r}function Qs(t){"use forget";var Y;const e=D.c(23),{isTinyBar:n}=t,a=ts(),i=T(ns),o=C(),{enableProfileUpgradePill:r}=ge(),c=a==null?void 0:a.isSelfServeBusiness(),d=(Y=a==null?void 0:a.isFreeWorkspace())!=null?Y:!1,p=$(),x=Fs(),S=Ds(),j=x||S,g=r&&!(!!c||d),f=j?ce("2133768194"):null,h=T(Gs),I=T($s);let M;e[0]!==a||e[1]!==o?(M=()=>{const xe=is().isLoading,je=rs().isLoading,Me=a!=null&&a.isWorkspaceAccount(),Se=ls();if(xe)return" ";if(Me||Se){const Ie=cs(),ve=Z(o,Ie);return je?null:ve}else{if(a!=null&&a.isFree())return o.formatMessage(A.free);if(a!=null&&a.isPlus())return o.formatMessage(A.plus);if(a!=null&&a.isGo())return o.formatMessage(A.go);if(a!=null&&a.isPro())return o.formatMessage(A.pro)}return null},e[0]=a,e[1]=o,e[2]=M):M=e[2];const _=T(M),v=F.useDeferredValue(_);if(!a)return null;let w;e[3]!==o?(w=o.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),e[3]=o,e[4]=w):w=e[4];const U=w;let E;e[5]!==h?(E=h?s.jsxs("div",{className:"relative",children:[s.jsx(W,{}),s.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:s.jsx(X,{className:"h-2 w-2","aria-hidden":"true"})})]}):s.jsx(W,{}),e[5]=h,e[6]=E):E=e[6];const R=E,L=j&&(f==null?void 0:f.get("show_upgrade_for_free_text",!1))?ne.upgradeForFree:ne.upgrade;let k;e[7]!==o||e[8]!==n||e[9]!==p||e[10]!==g||e[11]!==L?(k=!n&&g?s.jsx(s.Fragment,{children:s.jsx(q,{onClick:()=>{de(p,"sidebar profile")},"aria-label":o.formatMessage(L),className:"-my-1.5 -ms-2 -me-2.5 cursor-default py-1.5 ps-2 pe-2.5",children:s.jsx("span",{className:"btn-secondary btn btn-small my-0 me-0 cursor-default hover:cursor-pointer",children:s.jsx(m,z({},L))})})}):void 0,e[7]=o,e[8]=n,e[9]=p,e[10]=g,e[11]=L,e[12]=k):k=e[12];let y;e[13]!==I||e[14]!==v?(y=v&&s.jsxs("span",{className:"text-token-text-secondary inline-flex items-center gap-1 truncate text-xs font-normal",dir:"auto",children:[s.jsx("span",{children:v}),I&&s.jsx(m,{id:"profile.fedramp_badge",defaultMessage:"• FedRAMP"})]}),e[13]=I,e[14]=v,e[15]=y):y=e[15];let O;return e[16]!==U||e[17]!==R||e[18]!==n||e[19]!==k||e[20]!==y||e[21]!==i?(O=s.jsx(l.BasicTrigger,{asChild:!0,children:s.jsx(Bs,{"data-testid":"accounts-profile-button","aria-label":U,size:"large",icon:R,iconOnly:n,label:i,role:"button",trailing:k,secondary:y})}),e[16]=U,e[17]=R,e[18]=n,e[19]=k,e[20]=y,e[21]=i,e[22]=O):O=e[22],O}function $s(){return as()}function Gs(){return os()}const fe=t=>{"use forget";const e=D.c(17),{clientThreadId:n}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=J(),e[0]=a):a=e[0];const i=a;let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=re(),e[1]=o):o=e[1];const r=o,c=le(),d=r&&!c;let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=ms(),e[2]=p):p=e[2];const x=p;let S,j,u;e[3]===Symbol.for("react.memo_cache_sentinel")?(S=i?s.jsx(qs,{}):s.jsx(ct,{}),j=s.jsx(tt,{}),u=s.jsx(l.Separator,{}),e[3]=S,e[4]=j,e[5]=u):(S=e[3],j=e[4],u=e[5]);let g;e[6]!==n?(g=!i&&s.jsx(ut,{clientThreadId:n}),e[6]=n,e[7]=g):g=e[7];let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=i?s.jsx(Ys,{}):s.jsx(ue,{}),e[8]=f):f=e[8];let h;e[9]!==d?(h=i&&!d&&s.jsx(at,{}),e[9]=d,e[10]=h):h=e[10];let I,M,_;e[11]===Symbol.for("react.memo_cache_sentinel")?(I=(x||!1)&&s.jsx(l.Separator,{}),M=x&&s.jsx(fs,{}),_=!1,e[11]=I,e[12]=M,e[13]=_):(I=e[11],M=e[12],_=e[13]);let v;return e[14]!==g||e[15]!==h?(v=s.jsxs("div",{className:"flex flex-col",children:[S,j,u,g,f,h,I,M,_]}),e[14]=g,e[15]=h,e[16]=v):v=e[16],v},Ks=()=>J()?s.jsx(W,{showPlanTypeBadge:!0}):s.jsx(ps,{className:"icon-lg"}),qs=()=>{const t=Re(),{data:e}=G(),n=e&&e.accountItems.length>1,a=re(),i=le(),o=n&&(!a||i),r=Hs(t),c=xs(),d=Pe(),p=d.pathname+d.search+(d.search?"&":"?")+"refresh_account=true",x=ze();return s.jsxs(s.Fragment,{children:[x.hasAccess?s.jsxs(s.Fragment,{children:[s.jsx(js,{currentAccount:t}),s.jsx(l.Separator,{})]}):s.jsx(Js,{currentAccount:t}),o&&s.jsxs(s.Fragment,{children:[s.jsx(Rs,{accountSwitcherRedirectUrl:p}),s.jsx(ae,{shouldShowPlusIcon:r}),s.jsx(l.Separator,{})]}),!o&&s.jsx(ae,{shouldShowPlusIcon:r}),s.jsx(lt,{currentAccount:t}),s.jsx(dt,{}),r&&s.jsx(Xs,{}),s.jsx(Vs,{currentAccount:t}),!1,c&&s.jsx(Ms,{}),s.jsx(et,{}),st]})},Vs=t=>{"use forget";var f,h,I,M;const e=D.c(4),{currentAccount:n}=t,a=(f=n==null?void 0:n.isWorkspaceAccount())!=null?f:!1,i=n==null?void 0:n.id,{data:o,isLoading:r}=He(a?i:void 0),c=!!((h=o==null?void 0:o.beta_settings)!=null&&h.workspace_policy),d=c?i:void 0;let p;e[0]!==c||e[1]!==d?(p={workspaceId:d,enabled:c},e[0]=c,e[1]=d,e[2]=p):p=e[2];const{data:x,isLoading:S}=Ss(p),j=(M=(I=x==null?void 0:x.workspace_policy)==null?void 0:I.trim())!=null?M:"";if(!a||!c||(r||S)||!j)return null;let g;return e[3]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(l.Item,{icon:ss,onSelect:mt,children:s.jsx(m,{id:"p8SaJb",defaultMessage:"AI Policy"})}),e[3]=g):g=e[3],g};function Js({currentAccount:t}){var c;const e=C(),n=K(),a=$(),i=ie();if(!n)return null;const o=t&&t.isWorkspaceAccount()&&!t.isEnterprisey(),r=e.formatMessage({id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Business workspace"});return s.jsx(De,{as:"div",onClick:async d=>{await Ue(n.id,i,d),i.success("Copied your User ID to clipboard")},icon:gs,className:"text-token-text-tertiary bg-transparent!",trailing:o&&s.jsx(Be,{label:r,className:"leading-0",side:"right",children:s.jsx(q,{onClick:()=>{de(a,"profile menu")},"aria-label":r,children:s.jsx(hs,{className:"icon-sm"})})}),label:(c=n.email)!=null?c:n.name})}const Xs=()=>{const t=P();return s.jsx(l.LinkItem,{to:"/admin",icon:me,onClick:()=>{b.logEventWithStatsig("Account: Open Workspace Settings","chatgpt_account_open_workspace_settings",{location:t})},children:s.jsx(m,{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Workspace settings"})})},Zs=()=>s.jsx(l.LinkItem,{icon:As,external:!0,to:"https://openai.com/chatgpt/download",children:s.jsx(m,{id:"mDFGM/",defaultMessage:"Download apps"})}),Ys=()=>{const t=P();return s.jsxs(l.Sub,{onOpenChange:e=>{e&&(b.logEventWithStatsig("Account: Open Help Menu","chatgpt_account_help_menu_open",{location:t}),Qe.count($e.DEFAULT,"chatgpt_account_help_menu_open",{location:t}))},children:[s.jsx(l.SubMenuTrigger,{icon:Is,children:s.jsx(m,{defaultMessage:"Help",id:"navigation.helpMenu"})}),s.jsx(l.Portal,{children:s.jsxs(l.SubContent,{align:"end",children:[s.jsx(ue,{}),s.jsx(vs,{}),s.jsx(Zs,{}),s.jsx(nt,{})]})})]})},et=()=>{const t=P(),e=$(),n=oe();return s.jsx(l.Item,{onClick:()=>{e("#settings/".concat(Ge.Personalization)),b.logEventWithStatsig("Account: Click Customize ChatGPT","chatgpt_account_open_customize_chatgpt",{location:t})},icon:bs,onMouseOver:()=>{n.prefetchQuery(_s())},children:s.jsx(m,{id:"S0v338",defaultMessage:"Personalization"})})},st=null,tt=()=>{const{openSettings:t}=ks(),e=P();return s.jsx(l.Item,{icon:Ke,onClick:()=>{b.logEventWithStatsig("Account: Click Settings","chatgpt_account_open_settings",{location:e}),t()},"data-testid":"settings-menu-item",children:s.jsx(m,{defaultMessage:"Settings",id:"navigation.settings.0"})})},nt=()=>s.jsx(l.Item,{className:"touch:hidden",icon:ys,onSelect:()=>{Cs.set(!0)},children:s.jsx(m,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),at=()=>s.jsx(l.Item,{onSelect:()=>{b.logEvent("Account: Click Log Out",{eventSource:"mouse"}),qe({location:"profile_drop_down"},Ve.ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN),N.openModal(Je.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:Ps,children:s.jsx(m,{defaultMessage:"Log out",id:"navigation.logOut.0"})}),ot=V(()=>Q(()=>import("./1a7ebd5f-ihenykhpblfwilpu.js").then(t=>t.FV),__vite__mapDeps([0,1,2,3,4])).then(t=>t.AdminInviteModal)),it=V(()=>Q(()=>import("./e19d9367-hjerg984x6xr8atp.js"),__vite__mapDeps([5,1,6,2,3,0,4,7,8,9])).then(t=>t.default)),rt=V(()=>Q(()=>import("./1de975ca-opfq6f6nav5b4m2m.js"),__vite__mapDeps([10,1,2,3,0,4])).then(t=>t.ThreadReportConversationModal)),lt=({currentAccount:t})=>{var r,c,d;const e=(r=t==null?void 0:t.canInviteMembers())!=null?r:!1,n=(c=t==null?void 0:t.isSelfServeBusiness())!=null?c:!1,a=(d=t==null?void 0:t.isK12())!=null?d:!1,i=t==null?void 0:t.isFreeWorkspace(),o=n||a&&e||i;return!t||!o?null:s.jsx(l.Item,{"data-testid":"settings-menu-item-invite-teammates",onSelect:()=>{b.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"profile_drop_down"}),Xe("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"}),B(ot,{workspace:t})},icon:Ws,children:s.jsx(m,{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add teammates"})})},ct=()=>s.jsx(l.LinkItem,{icon:pe,external:!0,to:"https://openai.com/chatgpt/pricing/",children:s.jsx(m,{id:"J1y7uV",defaultMessage:"See plans and pricing"})}),dt=()=>{const{showUpgradePlan:t,onUpgradeClick:e}=ws("chatgpt_upgrade_in_settings_menu_clicked","Upgrade In Settings Menu Clicked"),{enableUpgradeMenuSparkleIcon:n}=ge();return t?s.jsx(l.Item,{icon:n?s.jsx(Es,{className:"icon-sm"}):pe,onSelect:()=>e("Upper right settings menu"),children:s.jsx(m,{id:"navigation.upgradePlan",defaultMessage:"Upgrade plan"})}):null},ae=({shouldShowPlusIcon:t})=>{const e=P(),n=K(),{data:a}=G(),i=!!(a!=null&&a.accountItems.some(c=>c.isEnterprisey())),o=(n==null?void 0:n.email_domain_type)==="professional";return!o||i||!(o&&!i&&ce("3217430380").get("enable_workspace_discovery",!1))?null:s.jsx(l.Item,{onSelect:()=>{b.logEventWithStatsig("Account: Open Workspace Discovery","chatgpt_workspace_discovery_modal_shown",{location:e}),B(it,{mode:"dismissible",section:"discoverable",source:"find_workspaces"})},icon:t?Ls:me,children:s.jsx(m,{defaultMessage:"Find workspaces",id:"navigation.findWorkspaces"})})},ut=({clientThreadId:t})=>{const e=Ze(t),n=Os();if(t&&Ye("3376455464")&&(e||n)){const a=es(t);return s.jsx(l.Item,{icon:Ts,onClick:()=>B(rt,te(z({clientThreadId:t},n&&(a!=null&&a.sharedConversationId)?{serverThreadId:a.sharedConversationId,isSharedConversation:!0}:{}),{isStaticSharedThread:!1})),children:s.jsx(m,{id:"profileMenu.reportConversation",defaultMessage:"Report conversation"})})}return null};function mt(){B(Ns)}export{Rs as A,Js as L,Mt as P,St as S};
//# sourceMappingURL=e9c129e0-o7eduxghnyt7lxhc.js.map
